jGo.sound=function($){$.sound_count=1;var m={fc_sound:function fc_sound(d){var e=$(this);var f=null;var g=function(a,b){if(b!=null){a.data("fc_sound.isPlaying",b)}if(f){return f}else{f=jGo.flash.getFlash(a.data("fc_sound.settings").id);return f}};var h={quality:'high',events:{createSound:function(a,b){var c=g($(this),true).createSound(b);$(this).data("fc_last_id",c)},play:function(a,b){g($(this),true).playit(b)},pause:function(a,b){g($(this),false).pauseit(b)},stop:function(a,b){g($(this),false).stopit(b)},volume:function(a,b,c){if(c>100){c=c-100}g($(this)).setVolume(b,c)},error:function(a,b){alert(b.msg)}}};if(e.data("fc_sound.settings")){h=e.data("fc_sound.settings")}h=$.extend(d,h);if(!e.data("fc_sound")){h.id='FCSoundPlayer'+$.sound_count;var i=jGo.flash.writeFlash('FCSoundPlayer',$.sound_count,'10px','10px',h.basedir,'#000000','transparent','id='+h.id);for(var j in h.events){var k="fc_sound."+j;e.unbind(k);e.bind(k,h.events[j])}e[0].innerHTML=i;e.data("fc_sound",true);$.sound_count++}e.data("fc_sound.settings",h);$(this).data("fc_sound.isPlaying",false);if(h.file){var l=function(){e.load(h.file)};setTimeout(l,250)}return e},fc_createSound:function(a){var b=$(this);if(b.data("fc_sound")){b.trigger("fc_sound.createSound",a)}},fc_getLastId:function(){var a=$(this);return a.data("fc_last_id")},fc_play:function(a){var b=$(this);if(b.data("fc_sound")){b.trigger("fc_sound.play",a)}},fc_pause:function(a){var b=$(this);if(b.data("fc_sound")){b.trigger("fc_sound.pause",a)}},fc_stop:function(a){var b=$(this);if(b.data("fc_sound")){b.trigger("fc_sound.stop",a)}},fc_volume:function(a){var b=$(this);if(b.data("fc_sound")){b.trigger("fc_sound.volume",id,a)}}};$.each(m,function(i){$.fn[i]=this})};