jGo.cookie={setCookie:function(a,b,c,f,d){document.cookie=a+"="+escape(b)+((c==null)?"":"; expires="+c.toGMTString())+((f==null)?"":"; path="+f)+((d==null)?"":"; domain="+d)},setCookiePath:function(a,b,c,f,d){document.cookie=a+"="+getCookie(a)+((c==null)?"":"; expires="+c.toGMTString())+((f==null)?"":"; path="+f)+((d==null)?"":"; domain="+d)},getCookie:function(a){var b=document.cookie;var c=a+"=";var f=b.length;var d=0;while(d<f){var g=d+c.length;if(b.substring(d,g)==c){var l=b.indexOf(";",g);if(l==-1)l=f;return unescape(b.substring(g,l))}d=b.indexOf(" ",d)+1;if(d==0)break}return null}};if(jGo.scripts)jGo.scripts.onLoad('jGo.cookie.min.js');jGo.MD5={};(function(){var o=0;var u="";jGo.MD5.hex_md5=function(a){return P(H(bb(a)))};jGo.MD5.b64_md5=function(a){return R(H(bb(a)))};jGo.MD5.any_md5=function(a,b){return F(H(bb(a)),b)};jGo.MD5.hex_hmac_md5=function(a,b){return P(S(bb(a),bb(b)))};jGo.MD5.b64_hmac_md5=function(a,b){return R(S(bb(a),bb(b)))};jGo.MD5.any_hmac_md5=function(a,b,c){return F(S(bb(a),bb(b)),c)};jGo.MD5.md5_vm_test=function(){return jGo.MD5.hex_md5("abc").toLowerCase()=="900150983cd24fb0d6963f7d28e17f72"};function H(a){return bk(bz(bv(a),a.length*8))};function S(a,b){var c=bv(a);if(c.length>16)c=bz(c,a.length*8);var f=Array(16),d=Array(16);for(var g=0;g<16;g++){f[g]=c[g]^0x36363636;d[g]=c[g]^0x5C5C5C5C}var l=bz(f.concat(bv(b)),512+b.length*8);return bk(bz(d.concat(l),512+128))};function P(a){try{o}catch(e){o=0}var b=o?"0123456789ABCDEF":"0123456789abcdef";var c="";var f;for(var d=0;d<a.length;d++){f=a.charCodeAt(d);c+=b.charAt((f>>>4)&0x0F)+b.charAt(f&0x0F)}return c};function R(a){try{u}catch(e){u=''}var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var c="";var f=a.length;for(var d=0;d<f;d+=3){var g=(a.charCodeAt(d)<<16)|(d+1<f?a.charCodeAt(d+1)<<8:0)|(d+2<f?a.charCodeAt(d+2):0);for(var l=0;l<4;l++){if(d*8+l*6>a.length*8)c+=u;else c+=b.charAt((g>>>6*(3-l))&0x3F)}}return c};function F(a,b){var c=b.length;var f,d,g,l,n;var r=Array(Math.ceil(a.length/2));for(f=0;f<r.length;f++){r[f]=(a.charCodeAt(f*2)<<8)|a.charCodeAt(f*2+1)};var t=Math.ceil(a.length*8/(Math.log(b.length)/Math.log(2)));var y=Array(t);for(d=0;d<t;d++){n=Array();l=0;for(f=0;f<r.length;f++){l=(l<<16)+r[f];g=Math.floor(l/c);l-=g*c;if(n.length>0||g>0)n[n.length]=g}y[d]=l;r=n}var x="";for(f=y.length-1;f>=0;f--)x+=b.charAt(y[f]);return x};function bb(a){var b="";var c=-1;var f,d;while(++c<a.length){f=a.charCodeAt(c);d=c+1<a.length?a.charCodeAt(c+1):0;if(0xD800<=f&&f<=0xDBFF&&0xDC00<=d&&d<=0xDFFF){f=0x10000+((f&0x03FF)<<10)+(d&0x03FF);c++}if(f<=0x7F)b+=String.fromCharCode(f);else if(f<=0x7FF)b+=String.fromCharCode(0xC0|((f>>>6)&0x1F),0x80|(f&0x3F));else if(f<=0xFFFF)b+=String.fromCharCode(0xE0|((f>>>12)&0x0F),0x80|((f>>>6)&0x3F),0x80|(f&0x3F));else if(f<=0x1FFFFF)b+=String.fromCharCode(0xF0|((f>>>18)&0x07),0x80|((f>>>12)&0x3F),0x80|((f>>>6)&0x3F),0x80|(f&0x3F))}return b};function bq(a){var b="";for(var c=0;c<a.length;c++)b+=String.fromCharCode(a.charCodeAt(c)&0xFF,(a.charCodeAt(c)>>>8)&0xFF);return b};function bo(a){var b="";for(var c=0;c<a.length;c++)b+=String.fromCharCode((a.charCodeAt(c)>>>8)&0xFF,a.charCodeAt(c)&0xFF);return b};function bv(a){var b=Array(a.length>>2);for(var c=0;c<b.length;c++)b[c]=0;for(var c=0;c<a.length*8;c+=8)b[c>>5]|=(a.charCodeAt(c/8)&0xFF)<<(c%32);return b};function bk(a){var b="";for(var c=0;c<a.length*32;c+=8)b+=String.fromCharCode((a[c>>5]>>>(c%32))&0xFF);return b};function bz(a,b){a[b>>5]|=0x80<<((b)%32);a[(((b+64)>>>9)<<4)+14]=b;var c=1732584193;var f=-271733879;var d=-1732584194;var g=271733878;for(var l=0;l<a.length;l+=16){var n=c;var r=f;var t=d;var y=g;c=bt(c,f,d,g,a[l+0],7,-680876936);g=bt(g,c,f,d,a[l+1],12,-389564586);d=bt(d,g,c,f,a[l+2],17,606105819);f=bt(f,d,g,c,a[l+3],22,-1044525330);c=bt(c,f,d,g,a[l+4],7,-176418897);g=bt(g,c,f,d,a[l+5],12,1200080426);d=bt(d,g,c,f,a[l+6],17,-1473231341);f=bt(f,d,g,c,a[l+7],22,-45705983);c=bt(c,f,d,g,a[l+8],7,1770035416);g=bt(g,c,f,d,a[l+9],12,-1958414417);d=bt(d,g,c,f,a[l+10],17,-42063);f=bt(f,d,g,c,a[l+11],22,-1990404162);c=bt(c,f,d,g,a[l+12],7,1804603682);g=bt(g,c,f,d,a[l+13],12,-40341101);d=bt(d,g,c,f,a[l+14],17,-1502002290);f=bt(f,d,g,c,a[l+15],22,1236535329);c=bA(c,f,d,g,a[l+1],5,-165796510);g=bA(g,c,f,d,a[l+6],9,-1069501632);d=bA(d,g,c,f,a[l+11],14,643717713);f=bA(f,d,g,c,a[l+0],20,-373897302);c=bA(c,f,d,g,a[l+5],5,-701558691);g=bA(g,c,f,d,a[l+10],9,38016083);d=bA(d,g,c,f,a[l+15],14,-660478335);f=bA(f,d,g,c,a[l+4],20,-405537848);c=bA(c,f,d,g,a[l+9],5,568446438);g=bA(g,c,f,d,a[l+14],9,-1019803690);d=bA(d,g,c,f,a[l+3],14,-187363961);f=bA(f,d,g,c,a[l+8],20,1163531501);c=bA(c,f,d,g,a[l+13],5,-1444681467);g=bA(g,c,f,d,a[l+2],9,-51403784);d=bA(d,g,c,f,a[l+7],14,1735328473);f=bA(f,d,g,c,a[l+12],20,-1926607734);c=bi(c,f,d,g,a[l+5],4,-378558);g=bi(g,c,f,d,a[l+8],11,-2022574463);d=bi(d,g,c,f,a[l+11],16,1839030562);f=bi(f,d,g,c,a[l+14],23,-35309556);c=bi(c,f,d,g,a[l+1],4,-1530992060);g=bi(g,c,f,d,a[l+4],11,1272893353);d=bi(d,g,c,f,a[l+7],16,-155497632);f=bi(f,d,g,c,a[l+10],23,-1094730640);c=bi(c,f,d,g,a[l+13],4,681279174);g=bi(g,c,f,d,a[l+0],11,-358537222);d=bi(d,g,c,f,a[l+3],16,-722521979);f=bi(f,d,g,c,a[l+6],23,76029189);c=bi(c,f,d,g,a[l+9],4,-640364487);g=bi(g,c,f,d,a[l+12],11,-421815835);d=bi(d,g,c,f,a[l+15],16,530742520);f=bi(f,d,g,c,a[l+2],23,-995338651);c=bu(c,f,d,g,a[l+0],6,-198630844);g=bu(g,c,f,d,a[l+7],10,1126891415);d=bu(d,g,c,f,a[l+14],15,-1416354905);f=bu(f,d,g,c,a[l+5],21,-57434055);c=bu(c,f,d,g,a[l+12],6,1700485571);g=bu(g,c,f,d,a[l+3],10,-1894986606);d=bu(d,g,c,f,a[l+10],15,-1051523);f=bu(f,d,g,c,a[l+1],21,-2054922799);c=bu(c,f,d,g,a[l+8],6,1873313359);g=bu(g,c,f,d,a[l+15],10,-30611744);d=bu(d,g,c,f,a[l+6],15,-1560198380);f=bu(f,d,g,c,a[l+13],21,1309151649);c=bu(c,f,d,g,a[l+4],6,-145523070);g=bu(g,c,f,d,a[l+11],10,-1120210379);d=bu(d,g,c,f,a[l+2],15,718787259);f=bu(f,d,g,c,a[l+9],21,-343485551);c=cD(c,n);f=cD(f,r);d=cD(d,t);g=cD(g,y)}return Array(c,f,d,g)};function cb(a,b,c,f,d,g){return cD(dF(cD(cD(b,a),cD(f,g)),d),c)};function bt(a,b,c,f,d,g,l){return cb((b&c)|((~b)&f),a,b,d,g,l)};function bA(a,b,c,f,d,g,l){return cb((b&f)|(c&(~f)),a,b,d,g,l)};function bi(a,b,c,f,d,g,l){return cb(b^c^f,a,b,d,g,l)};function bu(a,b,c,f,d,g,l){return cb(c^(b|(~f)),a,b,d,g,l)};function cD(a,b){var c=(a&0xFFFF)+(b&0xFFFF);var f=(a>>16)+(b>>16)+(c>>16);return(f<<16)|(c&0xFFFF)};function dF(a,b){return(a<<b)|(a>>>(32-b))}})();if(jGo.scripts)jGo.scripts.onLoad('jGo.MD5.min.js');function fcchat(){var m=FCChatConfig;m.chat_id=jGo.util.trim(m.chat_id);m.host=jGo.util.trim(m.host);var iC=m.chat_id.split('_');var i=jGo.$;var L=window['fcchat_domain']=='fullpage';var ht=0;var bw=m.dir;var jX=(window['fcchat_debug_main']?bw+"dev/":bw);var eM=(m.alt_dir!=''?m.alt_dir:bw+'html/');var k=this;var A=m.styles.widget;this.html_dir=eM;var ok=m.prof_subdir;var eN=(m.full_page_url!=""?m.full_page_url:bw+'html/chat/index.html');var iE=(m.small_logo!=''?m.small_logo:bw+"current_skin/"+m.styles.chat_window.frame.logo);if(m.avatars_dir=='')m.avatars_dir=(window["fc_chat_path"]||"/FCChat/")+"html/images/avatars/";if(m.images_dir=='')m.images_dir=(window["fc_chat_path"]||"/FCChat/")+"html/images/";if(m.smileys_dir=='')m.smileys_dir=(window["fc_chat_path"]||"/FCChat/")+"html/images/smileys/";var ml=m.images_dir;var ol;var om="";var on=0;var oo=false;var fB=false;var fC=0;var hu;this.firstUpdateProcessed=false;var br;var cv='fc_pauseChat';var dT='fc_tglChat';var dG=0;var dU=1;var bx;var fD=0;var cc=0;this.img6;this.img7;var hv;var dH=0;var er=1;this.img1C=0;this.img2C=0;var mm;var mn;var jY;var dV=0;var dW='display:inline';var fE=1;var D=[];var cW=[];var gp=0;var eO=0;var B=false;var iF=false;var iG=0;var fF=0;var fG=1;var di=false;var gq=false;var cp='0';this.m=0;var cK=window.top;var cL=window.self;var jZ="";if(window['fcchat_embed']=="true"){cK=cL;jZ="target=_blank"}var fH=(cK==cL?this:window.parent.fc_chat);var gr=(cK==cL?'fc_chat.':'window.parent.fc_chat.');var iH=(cK==cL?'document':'window.parent.fc_chat.getIFrameDoc()');var ds="' HREF='javascript:void(0)' onclick='return "+gr;var bc="href='javascript:fc_chat.";var es='<a href="javascript:fc_chat.';var gs=[];var fI=[];var ka=1;var iI=false;var fJ=new Date().getTime();var kb=new Date().getTime();var iJ=false;var hw=false;var dI=0;var dJ=0;var dK=0;var op=0;var hx=0;var hy=0;var eP=15;var oq='op2';var or='2';var by;var hz;var iK=false;var I;var h;var dX='';var eQ='0000';var mo='';var cw={};var cE=0;var gt=0;var cd={f:null,l:null};var bs={};var cX={};var eR=(m.chatbox.page_discussion.use_querystring_in_url?window.location.href.match(/^[^\#]+/)[0]:window.location.href.match(/^[^\#\?]+/)[0]);var iL=true;var fK=false;var iM;this.chat_params;var mp=function(a){return a.replace(/[\u201C|\u201D|\u201E]/g,"\"")};var mq=function(){var c=null;i("span.fc_chat_params").each(function(a){var b;if(i(this).html()==''){b={}}else{try{b=i.parseJSON(mp(i(this).html()))}catch(e){alert(e);return}}if(!c||(!c.all&&b.page&&(b.page.toLowerCase()==eR.toLowerCase()||b.page.toLowerCase()=="all"))){c=b;if(b.page&&b.page.toLowerCase()=="all"){c.all=true}}});var f=m.chatbox;var d=false;if(!c){if(f.require_tag&&!(f.sitewide.full_page&&(window['fcchat_domain']=="fullpage"||window['fcchat_domain']=="admin")))d=true;c={}}var g=(c.mode||f.mode);k.chat_params=(g==0?f.sitewide:f.page_discussion);i.extend(true,k.chat_params,c);if(c.id){eR=c.id}else if(g==0){eR="Sitewide Discussion"}iL=c.no_discussion||d;fK=jGo.fcchat_toolbar.config.items.toString().indexOf('chatbox')!=-1&&!iL;if(!fK){eR="0"}else{jGo.fcchat_toolbar.chatbox.style.menu_item.width=k.chat_params.button_width}iM=jGo.MD5.hex_md5(eR)};var dL='1';var cM='0';var iN;this.textSetter=function(a,b,c){if(c!=null&&m.txt[c]){return m.txt[c]}else if(m.txt['t'+a]!=null){return m.txt['t'+a]}else{if(b!=null){return b}}return"Undefined"};var j=this.textSetter;m.txt['t1000']="<a "+bc+"share_wb(";m.txt['t1001']=")'>";m.txt['t1002']="</a>.";m.txt['t1003']="<a "+bc+"share_doc(";m.txt['t1004']="<a "+bc+"subscribePriv(";m.txt['t1005']="<a "+bc+"play_game(";if(!m.txt.t260){m.txt.t260="has invited you to share a";m.txt.t261="whiteboard.";m.txt.t262="Click here to accept";m.txt.t263="has been invited to share a whiteboard";m.txt.t268=" is now viewing your whiteboard";m.txt.t270="This user is currently offline."}if(!m.txt.t312){m.txt.t312="document.";m.txt.t313=" is now viewing your document";m.txt.t317="has been invited to share a document"}if(!m.txt.t320){m.txt.t320="has invited you to a 1 on 1 video chat.",m.txt.t321="has been invited to a 1 on 1 video chat.",m.txt.t322="is now viewing your webcam"}if(!m.txt.t333){m.txt.t333="has invited you to play ",m.txt.t334="",m.txt.t335="has been invited to play a game.",m.txt.t336=" has accepted your invitation to play a game.",m.txt.t337="Click here to start the game."}var T=jGo.mobile;var et=false;var dY=0;var bd=0;var dt=0;var du=function(){return(bd==dY)};this.nlrm=du;if(L&&m.skip_roomlist){dt=m.default_room_index+5;et=true}if(window['fcchat_room_transfer']){dt=window['fcchat_room_transfer'];et=true}var bB;this.toolbar;var kc=1;var N=jGo.fcchat_toolbar;var dj=N.style;var cN=N.config.items;for(var be=0;be<cN.length;be++){if(cN[be].indexOf("custombutton:")>=0){var mr=cN[be].split(":")[1];N['custombutton'+be]=new N.custombutton(be,m.custom_buttons[mr]);cN[be]='custombutton'+be}}var ms=function(){for(var a=0;a<cN.length;a++){if(cN[a]!="friendscenter"){if(!N[cN[a]]||(iL&&cN[a]=="chatbox")){cN.splice(a,1);a--}}}};var C='block';var s='none';var eS=m.absolute_positioning||!m.control_visible;var kd=A.control.top;var iO=A.control.left;var G=m.styles.chat_window.main_panel;var Y=G.chat_panels;var bg=G.side_panels;var eu=jGo.fcchat_toolbar.style.dialog_box;var mt=G.options_panel;var cF=mt.selectors;var dZ=G.chatrooms_panel;var ev=A.chatrooms_box;var bC="background-color:transparent;";var eT=' style="'+bC+'display:inline;font-style:italic"';var iP=' style="display:none;'+bC+'"';var hA='color:'+Y.font.color.timestamp_color+';';var ke=dj.dialog_box.text.timestamp_css;var iQ='padding-top:4px;padding-bottom:0px;border-bottom:';var hB=iQ+bg.screen_name_dividers.border+';background-color:';var mu=iQ+bg.room_display_panel.divider_color+';';var gu=bg.private_group_panel.header;var mv=iQ+gu.divider_color+';';var mw=bg.room_display_panel.background_color;var iR=bg.room_display_panel.text_css;var mx=bg.screen_name_dividers.border;var iS=bg.background_color;var eU=bg.screen_name_dividers.background_color;var os=bg.screen_name_dividers.hover_color;var fL=bg.private_group_panel.selected_user.background_color;var kf=G.text.font.css+"font-family:"+G.text.font.family+";color:"+G.text.font.color+";font-weight:"+G.text.font.weight;var gv=kf+";font-size:"+G.text.font.size+"px";var iT="-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius:5px;";var iU="-moz-border-radius: 2px;-webkit-border-radius: 2px;border-radius:2px;";var my="-moz-border-radius: .167em;-webkit-border-radius: .167em;border-radius:.167em;";var eV="if (event && event.stopPropagation){event.stopPropagation()}else{event.cancelBubble=true}";var mz='href="javascript:void(0)" onclick="'+eV+'fc_chat.subscribe';var hC=bg.font.style.title_css+";";var gw='ico" style="margin-left:.417em;padding-top:.083em;padding-bottom:.25em">';var ot;this.vidAcc=(m.video_enabled?m.video_access_level:0);var eW=bw+"proxies/";var mA={"wordpress":eW+"fcchat_wordpress_proxy.php","wordpress2":eW+"fcchat_wordpress_proxy2.php","joomla":eW+"joomla.php","phpbb":eW+"fcchat_phpbb3_proxy.php","smf":eW+"fcchat_smf_proxy.php","mybb":eW+"mybb.php","drupal":eW+"drupal.php"};var gx=mA[m.user_integration_bridge]||m.user_integration_bridge;if(gx==''){gx=m.forum_proxy||''}var cx=(gx!='');var mB={};var iV=mB[m.import_profiles]||m.import_profiles;var kg=(iV!='');var kh=true;var ki=true;var kj=G.user_pop_up_panel.border;var iW=G.options_panel.outer_border;var mC=['6','7','8','9','A','B','C','D','E','F'];var bJ=false;var hD=0;var gy=0;var fM=false;var gz=false;var iX=false;var cq=false;var eX={u:"",p:"",fn:0};var gA=null;var eY=false;var hE=0;var mD=false;var ou=0;var gB=0;var iY="";var eZ=jGo.util.getSWidth;var ew=jGo.util.getSHeight;this.screen_width=eZ();var kk=653;if(window['fcchat_width']){m.window_width=window['fcchat_width'];kk=600}var W=m.chatcenter_layout;var dk=(T?535:Math.max(kk,m.window_width));this.d_c_window_width=dk;var fN=571;var bY=238+(j(0,170,'functions_bar_width')-170);var iZ=(L?1050:573);var gC=300;var fa=340-G.send_chat_panel.height;var bD=dk-243+(L?Math.max((this.screen_width-1)-dk,0):0);this.chat_container_width=(Math.max(dk-308,Math.floor(.8*bD)));var gD="display:block;"+bC+"width:"+this.chat_container_width+"px;z-Index:"+(Q+202)+";margin-left:5px;";var mE=dk-244+G.send_chat_panel.width_offset+(L?Math.max((this.screen_width-1)-dk,0):0);var ja=137;var kl=60;var mF=20;var km=(T?300:350);var mG=425;var mH=535-G.send_chat_panel.height;var fb=(T?300:320);var kn=36;var dv=(m.show_online_panel||W==1);var jb=(dv?C:s);if(window['fcchat_show_toolbar']=="false"){N.config.show=false;kn=0}var mI=35;var ko=(L?(ew()-36>gC?ew()-kn:gC)-fN:m.window_height_offset);this.window_height_offset=Math.min(iZ-fN,Math.max(gC-fN,ko));if(T&&!jGo.fcchat_toolbar.config.tablet&&L){ko=0;this.window_height_offset=0}this.chat_window_height=fN+k.window_height_offset;var jc=(L?Math.max(this.screen_width-1,dk):dk);this.chat_window_width=jc;var fO=m.chat_room_height_offset+Math.max(0,kl-fa-k.window_height_offset);fO=Math.min(ja-mF,Math.max(kl-fa-k.window_height_offset,fO));if(T&&L){fO=-20}var bT=k.window_height_offset+fO;this.smYOffset=mH+k.window_height_offset-G.tools_panel.smileys.height;this.optionsTop=Math.floor((this.chat_window_height-fN)/2)+20;var kp=364-G.send_chat_panel.height;var kq=400-G.send_chat_panel.height;this.bottom_section=543-G.send_chat_panel.height;var kr=20;this.upd=kr;var cO=fa-kr;this.upl=cO;var fP=221;var mJ=(L?Math.max((this.screen_width-1)-fP,dk-221):dk-221);var bU=211;var jd=175;var mK=206;var ks=(L?168:108);var mL=155;var mM=0;var kt=514;this.border_padding=4;var ku=1;var fc=0;var ea=0;var ex;var gE='0';var mN=new RegExp("[^A-Za-z0-9 _]");var kv=new RegExp("[^A-Za-z0-9_]");var bH='inline';var bN='display:inline';var eb;var kw;var cj=(W!=1?jGo.fcchat_toolbar.style.toolbar_item.chatcenter_layout:jGo.fcchat_toolbar.style.toolbar_item.msgcenter_layout);var je=(W==0?C:s);var gF=(W==1?s:C);var gG=(W==2?s:C);var mO=(W!=0?k.bottom_section+k.window_height_offset-22:kp+bT);var fQ=(W==1?3:20);var mP=(W!=0?kt+k.window_height_offset+26:kp+bT);var jf=(W!=0?18:kq+bT);var gH=ja-fO+(W!=0?22+fa+bT:0);var hF=(W==0?fa+bT:gH);var kx=(W==1?38+Math.floor((cO+bT)/2):kq+bT);var jg=ja-fO+mM+(W!=0?35+G.send_chat_panel.height+Math.floor((cO+bT)/2):24+G.send_chat_panel.height);var ky=(dv?+(W==0?cO+bT-Math.floor((cO+bT)/2):jg):hF+(W==0?0:31));var ov=(W!=0?2:19);var ow=(W!=0?125:161);var mQ=(W!=0?3:20);var jh=(W!=0?141:141);var mR=k.bottom_section+1+k.window_height_offset-(W==0?0:18);var mS=(W==1?19:28);var dM="style='"+(W==1?G.send_private_button.single_button_css:"")+"'";this.pblay=dM;var mT=(W==1?gH:hF);var gI=j(6);var hG=(W==1?s:bH);if(W==1){hE=1}this.obtxt=gI;var ec=j(161);var hH='<b>&nbsp;'+ec+'</b>';var z='innerHTML';var cG="<a href='javascript:void' ";var K;this.ww2;var fd=0;var hI=false;var kz;var Q=m.zindex_base;var dl=0;var gJ=false;var kA=document.all;var V=m.dir+"current_skin/";var fR="<p style='color:"+G.options_button.color+";position:absolute;top:1px;left:10px;font:12px arial;font-weight:bold'>&lsaquo;&nbsp;</p><img style='position:absolute;top:2px;left:15px' src='"+V+G.options_button.icon+"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";var U=0;this.tg_vid=0;var bK=0;var bE='0';var dm='0';var bj=[];var cP=[];var ce=[];var fe='0';var cY=0;var cf=0;var ey=0;var ff=0;var ck=0;var Z=[];var cl=[];var cQ=[];var cm=[];var E=[];var ez=[];var ba=[];var hJ=false;var J;var bL;var bm;var bl;var fg;var bO;var bp;var eA;var dw;var cZ;var gK;var dn;var da;var gL;var db;var cR;var gM;var bP;var bQ;var cg;this.sI=0;var ed;var bM;var ji=0;var cS;this.oD;var gN;var mU;this.tPC;var dN;var cy;var ox;var o0;var gO;this.odiv;var cr;var dc;this.tempIFrame;this.IFO;this.oIF;this.tPB;var bV;var M=false;var jj=false;var fh=false;var cH=false;var fi=false;var dx;this.tIF;var dp=[];var oy;var hK;var fS;var eB=null;var fT=null;var eC;var gP;var jk=null;var gQ;var oz;var oA=null;var oB=new Array();var oC=0;var mV=false;var mW;var ee=[];ee[1]=0;ee[2]=0;ee[3]=0;ee[6]=0;ee[7]=0;Z[6]=0;Z[7]=0;cm[6]=0;cm[7]=0;E[0]='0';E[1]='0';E[2]='0';E[3]='0';E[4]='0';E[5]='0';E[6]='0';var bF=[];var cz=[];cz[0]=0;cz[1]=1;for(var be=2;be<32;be++){cz[be]=cz[be-1]*2}this.obtn=j(5);for(var be=0;be<m.smileys.length;be++){gs[m.smileys[be][1]]=m.smileys[be][0];fI[m.smileys[be][1]]=m.smileys[be][2]}for(var be=0;be<m.smiley_list.length;be++){gs[m.smiley_list[be][1]]=m.smiley_list[be][0];fI[m.smiley_list[be][1]]=m.smiley_list[be][2]}var oD=G.options_panel.color_selector.color_values;for(var be=0;be<50;be++){ez[be]=0}ba[1]=0;ba[2]=0;ba[3]=0;ba[4]=0;ba[5]=0;ba[6]=0;var fj="filter:alpha(opacity=60); -moz-opacity:.60; opacity:.60;";var gR="filter:alpha(opacity=60); -moz-opacity:.60; opacity:.60;";var jl="filter:alpha(opacity=80); -moz-opacity:.80; opacity:.80;";var jm=" class='fc_options_a' onClick='fc_chat.tgl_options();return false'>";var kB="'fc_chat.sendChat(true,false,document);return false'>";var oE="<INPUT TYPE=checkbox id='fc_atpg' name='ATPG' VALUE='1' style='height:20px;width:20px;margin-right:0px' onclick=";var mX='<div class="fc_gst0" id="fc_groupType" style="display:block;width:'+bU+'px;z-Index:'+(Q+202)+';'+mu+'background-color:'+mw+'"><span style="'+iR+'">&nbsp;<IMG SRC="'+V+'rmarrow.gif" style="'+bN+';'+gR+'" border=0> ';this.t;this.uid;this.inSession;this.cU='0';var cT=-1;var cA=new Array(10);var cU=m.show_guests;this.broadcastStatus=1;this.cvu_priv=null;var kC;var kD=null;this.uD;this.uDiv1;var fk;this.uDb;this.uIF;this.browser;this.version;this.monitor_state=0;this.page_manager_state=0;this.userlist_state=0;var fl=window['fc_mod_backdoor'];var fm=0;this.adminLoaded=function(){fm=2};var cn=false;var ef=true;var gS=0;var hL=0;var cB;var fU='';var cI;var gT='';var gU='';var dd='';var hM='';var jn=false;var kE="<font style='color:red;font-weight:700'>Connection lost...</font> <a "+bc+"reqRecon()'>Reconnect</a>";open_chatrooms_in_window=(!L&&(T||m.open_chatcenter_in_new_tab));var bS=function(a,b){jGo.cookie.setCookie(a,b,gV(),'/',m.domain)};var bG=function(a){return jGo.cookie.getCookie(a)};var gV=function(){var a=new Date();a.setTime(a.getTime()+(365*24*60*60*1000));return(m.cookie_expires==0?null:a)};var bZ=function(a){return bG(m.data_cookie).split('&')[a]};var ch=function(a,b){var c=bG(m.data_cookie).split('&');c[b]=a;var f=c[0];for(var d=1;d<c.length;d++){f+='&'+c[d]}bS(m.data_cookie,f)};this.put_c=ch;var mY=function(){var a=(m.display_timestamp?bH:s);a+=(m.sounds_on?"&1":"&0");a+="&1&1&1&1&&&&";a+=(m.trans_default_on?"&1":"&0");a+="&"+m.trans_default_language_code;a+="&"+m.toolbar_default_display;a+="&";a+="&";a+="&";a+="&";a+="&";a+="&";a+="&";jGo.cookie.setCookie(m.data_cookie,a,gV(),"/",m.domain)};var kF=m.fb_connection_url+'/proxies/facebook/facebook_login.php?url='+encodeURIComponent(document.location.href.split('#')[0])+"&btn="+encodeURIComponent(j(352,'Connect with Facebook'));var jo;var kG=false;this.fb_loaded=function(){var b=i('#fc_fb_frame').css("visibility","visible")[0];i('#fc_fb_load').css("visibility","hidden");jo=b.contentWindow;if(!kG){jGo.postMessage.receive(function(a){if(a.data.indexOf('<fcchatresponse>')!=-1){fc_chat.init_fb_login(a.data)}else if(a.data=='lockauth'){q('fc_logintxt')[z]="<b>"+j(354,'Authorizing')+"...</b><br>";fn(true);B=true}else if(a.data=='unlockauth'){q('fc_logintxt')[z]="";fn(false);B=false}},m.fb_connection_url);kG=false}};var mZ=function(a){jGo.postMessage.post(a,kF,jo)};this.init_fb_login=function(a){kH(a,1)};var na=function(){dO=cB;dP=cI;gJ=true;fc_chat.login2(1);gJ=false};var eD=function(a,b,c){a=a-0;var f=new Date(a);var d=new Date();var g=d.getTime()-a;var l=hN(g,60000);var n=l;var r='';if(b=='1'||(c&&n>1440)){if(l<60){var t=j(136);var y=j(138);if(l!=1){t=j(137);y=j(139)}if(l>=1){r=" ("+t+l+y+")"}else{r=" ("+j(148)+")"}}else{l=hN(g,3600000);if(l>=1&&l<24){var t=j(140);var y=j(142);if(l!=1){t=j(141);y=j(143)}r=" ("+t+l+y+")"}else{l=hN(g,86400000);var t=j(144);var y=j(146);if(l!=1){t=j(145);y=j(147)}r=" ("+t+l+y+")"}}}if(dW==bN||(c&&n<=1440)){var x=j(149);var o=f.getHours();if(o>11){x=j(150)}if(o>12){o=o-12}if(o==0){o=12}if(f.getMinutes()>=10){return(r+'( '+o+':'+f.getMinutes()+x+')')}else{return(r+' ('+o+':0'+f.getMinutes()+x+')')}}else{return r}};var hO=function(a){var b=[];b[0]=j(37);b[1]=j(38);b[2]=j(39);b[3]=j(477,'=L=');var c=[];c[0]="strong";c[1]="i";c[2]="u";c[3]="span";for(var f=0;f<4;f++){var d=a.split(b[f]);if(d.length>1){a='';var g='<'+c[f]+((f==3)?' style="'+Y.font.censored_css+'"':'')+((f==0)?' style="font-weight:bold;"':'')+'>';for(var l=0;l<d.length-1;l++){a+=d[l]+g;g=(g=='</'+c[f]+'>'?'<'+c[f]+((f==3)?' style="'+Y.font.censored_css+'"':'')+((f==0)?' style="font-weight:bold;"':'')+'>':'</'+c[f]+'>')}a+=d[d.length-1]+(d.length%2==0?g:'')}}return a};var df=function(a,b,c,f,d,g){if(a.substring(0,2)=='%%'){a=a.substr(2);d=1}var l=(c&&c==9);var n=0;if(a.indexOf('%a')!=-1){a=a.replace(/%a/g,'<a').replace(/%~a/g,'</a>').replace(/%g/g,'>').replace(/%i/g,'<img').replace(/%d/g,'<div').replace(/%~d/g,'</div>');if(a.indexOf('<img')!=-1){n=1}}if(a.indexOf('\\n')!=-1){a=a.replace(/\\n/g,'</br>')}if(a.indexOf('%s')!=-1){a=a.replace(/%s/g,'<>')}a=cs(a);a=hO(a);var r=0;var t=0;var y=0;var x=0;var o=0;var u=0;var H='';var S=bN+';';var P=false;if(b==0){H='width:'+(O(bp.style.width)+11)+'px';S=''}while(true){r=a.indexOf('[[',t);if(r!=-1){t=r+2;r=a.indexOf(']]',t);if(r!=-1){var R=a.substring(t,r);var F=R.replace(/'/g,'\\\'');var bb=R.split('<>');var bq=ml;if(bb.length>1){var bo=O(bb[0])/12;F=bb[1].replace(/%/g,'%25');var bv=(F.length<5?F:F.substr(0,F.length-5));F=jGo.util.trim(F);a=a.replace('[['+R+']]',(bo>0?'<div style="'+bN+';'+bC+'height:'+(bo/12)+'em;">'+dy(bo/12,'em')+'<img border="0" title="'+":"+bv+'" height="'+(bo/12)+'em" style="height:'+(bo/12)+'em" src="'+bq+F+'">&nbsp;</div>':':'+bv));r-=13}else if(gs[F]!=null){a=a.replace('[['+R+']]',(u<5?'<div style="'+bN+';'+bC+'height:'+(fI[F]/12)+'em;">'+dy(fI[F]/12,'em')+'<img border="0" title="'+":"+F+'" height="'+(fI[F]/12)+'em" style="height:'+(fI[F]/12)+'em" src="'+m.smileys_dir+gs[F]+'">&nbsp;</div>':':'+F));u++}else if(o<3){F=R.replace(/%/g,'%25');if(F.indexOf("/")>=0){F=F.substr(F.indexOf('_')+1);if(!m.allow_crossdomain_images){if(kI(F).indexOf('fastcatsoftware.com')<0&&kI(F).indexOf(m.current_domain)<0){F=""}}bq=''}if(!P){a=a.replace('[[','<div style="'+S+bC+'height:3.5em;'+H+'">'+dy(3.5,'em')+'<a href="'+bq+F+'" target="_blank"><img onerror="this.src=\''+bq+'images.png\'" alt="'+j(406,"Image")+'" height="3.333em" style="margin-top:.167em;height:3.333em" src="'+bq);y=a.indexOf(']]');x=a.indexOf('[[');a=a.replace(R+']]',F+'"></a></div>');n=1}cc=1;S=bN+';';H='';o++}t=r}else{break}}else{break}}if(d==1){a=nb(a)}if(dQ.on==1&&c){var bk=a;var bz=(c==6?'fc_gm':'fc_pm')+f+'t';if(c==8){bz='fc_tm'+f+'t'};if(c==9){bz='fc_discm'+f+'t'};if(c==10){bz='fc_discmod'+f+'t'};r=0;t=0;while(true){r=bk.indexOf('<');if(r!=-1&&r>=t){t=r;r=bk.indexOf('>');if(r!=-1&&r>=t){bk=bk.substring(0,t)+bk.substr(r+1)}else{break}}else{break}}bk=bk.replace(/&nbsp;/gi,"");a+="<span style='font-style:italic' id='"+bz+"'></span>";nc(bk,bz,c)}if(d==1){a=nd(a)}if(n==1&&g){a='<br>&nbsp;'+a}return a};var nb=function(a){var b;var c=-1;while((c=a.indexOf('{{!*',c+1))!=-1){b=a.indexOf('*!}}',c);if(b!=-1){var f=a.substring(c+4,b).split("::");a=a.substring(0,c)+j(O(f[0]),(f.length>1?f[1]:''))+a.substring(b+4,a.length)}}return a};var nd=function(a){var b;var c=-1;c=a.indexOf('{{');if(c!=-1){b=a.indexOf('}}');if(b>=c){var f=(O(a.substring(c+2,b))!=0?D[O(a.substring(c+2,b))].nm:s);a=a.substring(0,c)+f+a.substring(b+2,a.length)}}return a};var hP=function(){var a;try{a=q("fc_p1")}catch(err){fG=0}if(a==null){fG=0}iN=q("fc_domain")[z];return true};function oF(){};function kJ(){};this.sendNewPageReq=function(){};var cC={};var jp="http://www.fastcatsoftware.com/plugins/";var fo='toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1';var eg=function(a,b,c,f,d){if(cC[b]&&cC[b].closed){cC[b]=null}if(!cC[b]){cC[b]=window.open(a,b,c+',width = '+(f?f:650)+',height = '+(d?d:470)+',left='+(window.screen.width-582)/2+',top='+(window.screen.height-605)/2);cC[b].focus();return true}else{cC[b].focus();return false}};this.transliterator;this.transliteration=[0];this.currlang;this.trlit=function(){fc_chat.transliteration[0]=1;i.getScript("http://www.google.com/jsapi").done(function(a,b){setTimeout("fc_chat.trload()",20)}).fail(function(a,b,c){console.log("Triggered ajaxError handler."+c)})};this.trload=function(){google.load("elements","1",{packages:"transliteration",callback:this.trld})};this.trld=function(){var a={sourceLanguage:'en',destinationLanguage:fc_chat.currlang||'ar',transliterationEnabled:true,shortcutKey:'ctrl+g'};fc_chat.transliterator=new google.elements.transliteration.TransliterationControl(a)};this.open_trlit=function(a){if(a){gW()}if(!B){eg(bw+"html/transliteration_menu.html",'fc_trlitwin',fo)}};this.makeTransliteratable=function(){var a=["fc_chat"];if(q('fc_chat')){fc_chat.transliterator.makeTransliteratable(["fc_chat"])}if(q('fc_uChat')){fc_chat.transliterator.makeTransliteratable(["fc_uChat"])}if(q('fc_uChat2')){fc_chat.transliterator.makeTransliteratable(["fc_uChat2"])}if(q('fc_sendpagechat')){fc_chat.transliterator.makeTransliteratable(["fc_sendpagechat"])}i("#fc_chat,#fc_uchat,#fc_uchat2,#fc_sendpagechat").css({"font-size":(T?1.3333:1)+"em","line-height":"1.2em"})};this.setLang=function(){fc_chat.transliterator.enableTransliteration();fc_chat.transliterator.setLanguagePair(google.elements.transliteration.LanguageCode.ENGLISH,fc_chat.currlang)};var kK=function(){if(fc_chat.transliterator&&fc_chat.currlang){fc_chat.makeTransliteratable();setTimeout("fc_chat.setLang()",200)}};this.doc=function(a){var b=k.uid;var c=(!a?k.cU:k.uid);if(a==1){gW()}if(!B&&ci(c)&&h.o[c]=='1'){B=true;var f=jGo.MD5.hex_md5(m.chat_id)+b;kL(b,f,1);if(b!=c){var d=c.toString();I='000'+(43+(b.toString()).length)+'n'+d.length+co(d)+'4'+f;bh()}else{B=false}}};var kL=function(a,b,c){return eg(bw+"html/document.html?a="+c+"&user_id="+encodeURIComponent(eh(fV(),''))+"&pad_id="+b,'fc_docwin'+a,fo)};this.share_doc=function(a,b){if(!B){if(kL(a,b,0)){clearTimeout(hQ);hQ=setTimeout("fc_chat.viewing("+a+",'"+'fc_docwin'+a+"','5')",3000)}}};this.note=function(a){var b=(a==2?k.cU:k.uid);if(a==0){gW()}if(!B&&ci(b)&&h.o[b]=='1'){eg(bw+"html/notepad.html?dest="+a+"&uid="+b+"&host="+jGo.MD5.hex_md5(m.chat_id),'fc_notewin'+b,fo)}};this.p_note=function(a,b,c){if(!B){if(a=='2'&&!ci(b)){bn(j(265,'Unable to send this message. The user is not available.'))}else if(b==k.uid&&a=='2'||(bd==dY&&a=='0')||(fW!=1&&a=='1')){bn(j(341,'Sorry, unable to send this message.'))}else if(a=='2'&&h.o[b]!='1'){bn(j(130))}else{var f=(b!=k.uid||a=='2'?b:'').toString();var d=63+c.length;I=bR(d)+'n'+f.length+co(f)+'3'+a+'[['+jp+'notepad/'+c+']]';bh()}}};this.m_games=function(){var a=k.cU;try{cC['fc_gamewin'].close()}catch(err){}if(!B&&ci(a)&&h.o[a]=='1'){eg(bw+"html/game_menu.html?uid2="+a+"&nm="+encodeURIComponent(h.snm[a]),'fc_gamewin',fo)}};this.inv_game=function(a,b,c){if(!B&&a!=k.uid){if(!ci(a)){bn(j(265,'Unable to send this message. The user is not available.'))}else if(h.o[a]!='1'){bn(j(130))}else{var f=a.toString();var d=44+c.length+b.length;I=bR(d)+'n'+f.length+co(f)+'8'+jGo.MD5.hex_md5(m.chat_id)+b+'.'+c;bh()}}};this.play_game=function(a,b,c,f,d,g){if(!B){if(!(h.o[a]=='1'&&ci(a))){bn(j(338),"Sorry, this user is not able to play at the moment.")}else{if(eg(bw+"html/games.html?x="+c+"&y="+f+"&id="+b+"&domain="+d+"&typ="+g+"&uid="+k.uid+"&uid2="+a+"&nm="+encodeURIComponent(eh(fV(),'')),'fc_gamewin'+a,fo,c,f)){if(g==0){var l=a.toString();vars=b+','+c+','+f;var n=43+vars.length;I='000'+n+'n'+l.length+co(l)+'9'+d+vars;bh()}}}}};this.wb=function(a){var b=k.uid;var c=(!a?k.cU:k.uid);if(a){gW()}if(!B&&ci(c)&&h.o[c]=='1'){B=true;var f=encodeURIComponent(fV()+' at '+jGo.MD5.hex_md5(window.location.hostname));var d=jGo.MD5.hex_md5("1");var g="1";var l=jGo.MD5.hex_md5("1");eg(jp+"whiteboard.html?user_id="+f+"&user_key="+d+"&drawing_user_id="+f+"&drawing_user_key="+d+"&drawing_id="+g+"&drawing_key="+l,'fc_whiteboardwin'+b,fo);if(b!=c){var n=c.toString();I='00043n'+n.length+co(n)+'1'+jGo.MD5.hex_md5(m.chat_id);bh()}else{B=false}}};this.share_wb=function(a,b,c){if(!B){var f=encodeURIComponent(fV()+' at '+jGo.MD5.hex_md5(window.location.hostname));var d=jGo.MD5.hex_md5("1");var g=jGo.MD5.hex_md5("1");var l=c.replace(/%22/g,'"').replace(/%27/g,"'").replace(/%25/g,'%');var n="1";var r=jGo.MD5.hex_md5("1");var t=jp+"whiteboard.html?uid="+b+"&user_id="+f+"&user_key="+d+"&drawing_user_id="+l+"&drawing_user_key="+g+"&drawing_id="+n+"&drawing_key="+r;var y='fc_whiteboardwin'+b;if(eg(t,y,fo)){clearTimeout(hQ);hQ=setTimeout("fc_chat.viewing("+b+",'"+y+"','2')",3000)}}};this.viewing=function(a,b,c){if(cC[b]&&cC[b].closed){return false}var f=a.toString();I='00011n'+f.length+co(f)+c;bh()};var dQ={on:0,cur_lang:'en',init:0};var nc=function(l,n,r){(function(){var c=n;var f=r;var d=l;var g=document.createElement("script");g.src=m.trans_url+"Detect?oncomplete=fc_detect_"+c+"&appId="+m.trans_appid+"&text="+d;document.getElementsByTagName("head")[0].appendChild(g);window['fc_detect_'+c]=function(a){if(a!=dQ.cur_lang){var b=document.createElement("script");b.src=m.trans_url+"Translate?oncomplete=fc_translate_"+c+"&appId="+m.trans_appid+"&from="+encodeURIComponent(a)+"&to="+dQ.cur_lang+"&text="+d;document.getElementsByTagName("head")[0].appendChild(b)}};window['fc_translate_'+c]=function(a){if(a!=""){a=a.replace(/</g,'%26lt;').replace(/>/g,'%26gt;');if(bp&&f<8)ei(q(c),(f==6?bl:bp),1,"<br>("+a+")");if(f==8&&(U=='0'||de)){ei(q(c),i('#fc_view_msgs')[0],3,"<br>("+a+")")}if(f==9){ei(q(c),i('#fc_page_chat_wrapper')[0],3,"<br>("+a+")")}if(f==10){ei(q(c),cg,3,"<br>("+a+")")}}}})()};this.set_translator=function(a){dQ.on=(a=='_off'?0:1);ch((a=='_off'?'0':'1'),10);dQ.cur_lang=a;ch(a,11)};this.textelem;this.clearText=function(){i(k.textelem).val('')};this.oKD=function(a){var b=window.event;if(b){if(b.keyCode==13){fc_chat.sendMsgOnEnter(b.srcElement)}}else{if(a.which==13){fc_chat.sendMsgOnEnter(a.target)}}};this.oKD2=function(a){if(!B&&!iF&&m.showTyping){I='00001S';bh();iF=true;setTimeout('fc_chat.releaseOKD()',1000)}};this.refocus=function(a,b,c,f){var d=b||'fc_uChat';var g=(a?q('fc_chat'):c.getElementById(d));g.focus()};this.releaseChat=function(a,b){var c=(a?q('fc_sp1'):b.getElementById('fc_usp'));var f=(a?'':'u');if(b==document){c[z]="<div class='fc_"+f+"spbtn' >"+cG+(a?dM:"")+" onClick='fc_chat.sendChat("+a+",false,document);return false'>"+(a?j(11):j(264,'Send Message'))+"</a></div>"}else{c[z]="<div class='fc_"+f+"spbtn' >"+cG+(a?dM:"")+" onClick='window.parent.fc_chat.sendChat("+a+",false,window.parent.fc_chat.getIFrameDoc());return false'>"+(a?j(11):j(264,'Send Message'))+"</a></div>"}};this.releaseChat2=function(){var a=q('fc_sg1');a[z]="<div class='fc_srbtn' >"+cG+dM+" onClick='fc_chat.sendChat(true,true,document);return false'>"+j(10)+"</a></div>"};this.releaseOKD=function(){iF=false};this.sendMsgOnEnter=function(a){if(a.getAttribute('id')=='fc_chat'){if(hE==0){if(q('fc_sg1')[z].indexOf("fc_srbtn_dis")==-1){this.sendChat(true,true,document,a)}}else{if(q('fc_sp1')[z].indexOf("fc_spbtn_dis")==-1){this.sendChat(true,false,document,a)}else{bn(j(389,"To send a message, highlight a user first. To add a user to your friends list, click on their screen name, and then select 'add to Friends'."))}}}else{if(a.getAttribute('id')=='fc_uChat2'||a.getAttribute('id')=='fc_sendpagechat'||q('fc_usp')[z].indexOf("fc_uspbtn_dis")==-1){this.sendChat(false,false,document,a)}}};var ne=function(a){var b=' ';if(a.charAt(0)==':'){a=b+a;b=''};var c=a.split(" :");var f=c[0];for(var d=1;d<c.length;d++){if(c[d].length>0&&c[d].charAt(0).search(/^\s/)){var g=c[d].indexOf(" ");var l;l=(g>0)?c[d].substr(0,g):c[d];var n=nf(l);c[d]=(n)?c[d].replace(l,n):":"+c[d]}else{c[d]=":"+c[d]}f+=b+c[d];b=' '}return f};var nf=function(a){if(gs[a]!=null){return"[["+a+"]]"}else{return"[[000%s"+a+"%xxxx]]"}};this.sendChat=function(a,b,c,f){var d;var g;var l=false;if(f){g=f;l=(f.getAttribute('id')=='fc_sendpagechat')}else{g=(a?q('fc_chat'):c.getElementById('fc_uChat'))};if(!B){d=g.value;d=jq(d);var n=0;var r=0;var t=[];var y=0;while(true){n=d.indexOf('[[',r);if(n!=-1){r=n+2;n=d.indexOf(']]',r);if(n!=-1){if(n!=r){t[y]=jGo.util.trim(d.substring(r,n));d=d.substring(0,r)+d.substring(n);y++}else{d=d.substring(0,r-2)+d.substring(n+2)}}else{break}}else{break}}if(m.allow_links){d=ng(d)}for(var y=0;y<t.length;y++){d=d.replace('[[]]','[['+(m.upload_images_enabled?k.uid+'_':'')+t[y]+']]')}d=ne(d);d=d.replace(/^\s+/,'');for(var y=d.length-1;y>=0;y--){if(/\S/.test(d.charAt(y))){d=d.substring(0,y+1);break}}if(!du()||!b||l){if(d.length>0&&(d.length>1||d.charCodeAt(0)!=10)){if(d.length<m.max_chat_size){if(!((b||l)&&bf(k.uid)&&!m.guests_can_chat)){if(b||l||!bf((a?bE:k.cU))||h.o[(a?bE:k.cU)]=='1'){if(b||l||ci((a?bE:k.cU))){I=bR(gX(d)+11);if(b){I+='80000000000'}else if(l){I+='80000000001'}else{var x=(a?bE.toString():k.cU.toString());I+='8'+x.length+co(x)+'2'}I+=d;bh();if(!f||(f.getAttribute('id')!='fc_uChat2'&&!l)){var o;if(!b){o=(a?q('fc_sp1'):c.getElementById('fc_usp'));var u=(a?'':'u');o[z]="<div class='fc_"+u+"spbtn_dis' ><a class='fc_"+u+"spbtn_disa' "+(a?dM:"")+">"+(a?j(11):j(264,'Send Message'))+"</a></div>";if(c==document){setTimeout('fc_chat.releaseChat('+a+',document)',500)}else{setTimeout('fc_chat.releaseChat('+a+',fc_chat.getIFrameDoc())',500)}}else{o=q('fc_sg1');o[z]="<div class='fc_srbtn_dis' ><a class='fc_srbtn_disa'>"+j(10)+"</a></div>";setTimeout('fc_chat.releaseChat2()',500)}}}else{bn(j(265,'Unable to send this message. The user is not available for chat.'))}}else{bn(j(130))}}else{if(l){bn(j(410,'Please sign in to chat'))}else{jr(j(410,'Please sign in to chat'),{x:40,y:O(bM.style.top)-50})}}}else{bn(j(131)+m.max_chat_size+j(132))}}else{bn(j(133))}}else{jr(j(411,'Please select a room'),{x:40,y:O(bM.style.top)-50})}g.blur();k.textelem=g;setTimeout('fc_chat.clearText()',20);var H='null';if(f){H=f.getAttribute('id')}if(c==document){setTimeout('fc_chat.refocus('+a+',"'+H+'",document)',50)}else{setTimeout('fc_chat.refocus('+a+',"'+H+'",fc_chat.getIFrameDoc())',50)}}};var cJ={on:0,a:[1,1,1,1],init:0};var gY=function(a){if(W==1&&a!=1)return;try{if(cJ.on==1&&cJ.a[a]==1){i('#fc_sounds').fc_play(a)}}catch(e){}};this.createSounds=function(){setTimeout("fc_chat.mkSounds()",250)};this.mkSounds=function(){i("#fc_sounds").fc_createSound("../html/sounds/chatroommessagealert.mp3");i("#fc_sounds").fc_createSound("../html/sounds/privatemessagealert.mp3");i("#fc_sounds").fc_createSound("../html/sounds/enterroomalert.mp3");i("#fc_sounds").fc_createSound("../html/sounds/leavingroomalert.mp3")};this.setSounds=function(a,b){if(a!=null){cJ.a[a]=(cJ.a[a]==1?0:1);ch(cJ.a[a],a+2)}if(b!=null){cJ.on=b;ch(cJ.on,1)}};var hR;var kM=function(a){var b=(h.tag[a]!=''?bH:s);i('.fc_'+a+'tag').css("display",b).html('&nbsp;&bull;&nbsp;'+h.tag[a]+'&nbsp;&bull;&nbsp;')};this.setTagline=function(a){if(!B){hR=jGo.util.trim(jq(q('fc_tagline').value.substr(0,50)));I=bR(10+gX(hR));var b=a.toString();I+='u'+b.length+co(b)+hR;bh(I);q('fc_tagline').value='';q('fc_tagline_set').style.visibility='hidden';q('fc_tagline').disabled=true;setTimeout('fc_chat.unlockTagline('+a+')',250)}};this.unlockTagline=function(a){h.tag[a]=cs(hR);kM(a);q('fc_tagline').disabled=false;q('fc_tagline_set').style.visibility='visible'};var js=null;var dz;this.tgl_tools=function(a,b,c,f){var d="fc_tools";var g=k.smYOffset+(a==0?0:G.tools_panel.smileys.height-G.tools_panel.icons.height);var l=mI;var n="#fc_e_sml2a";var r="#fc_quickchat";if(f==4){n="#fc_e_sml3";r="#fc_page_discussion_dialog"}if(f){g=i(n).offset().top-Math.round((G.tools_panel.smileys.height+10)*(jGo._['scalefactor']||1));l=i(n).offset().left-Math.round((G.tools_panel.smileys.width/2-65)*(jGo._['scalefactor']||1))}b/=12;c/=12;var t=(a==0?"auto":"hidden");k.tPC=q(d);if(k.tPC!=null){dz.target.removeEventHandler('mousedown');dz.target.removeEventHandler('touchstart');dz.target=i("a.fc_tools_a");dz.target.onEvent('mousedown',dz,'mouseOn','');dz.target.onEvent('touchstart',dz,'mouseOn','');dz.enableControl();if(k.tPC.style.display==s||(a!=null&&a!=js)){js=a;dN.style.width=b+'em';dN.style.height=c+'em';dN.style.overflow=t;dN[z]=fc_chat.fill_tool_panel(a,b,c,f);if(f){k.tPC.style.position=i(r).css("position");document.body.appendChild(k.tPC)}else{k.tPC.style.position="absolute";J.appendChild(k.tPC)}dR(k.tPC,l,g);k.tPC.style.display=C;if(M){k.tPB.style.width=b+'em';k.tPB.style.height=c+'em';if(f){k.tPB.style.position=i(r).css("position");document.body.appendChild(k.tPB)}else{k.tPB.style.position="absolute";J.appendChild(k.tPB)}dR(k.tPB,l,g);k.tPB.style.display=C}gq=true}else{gq=false;k.tPC.style.display=s;if(M){k.tPB.style.display=s}}if(!f){return false}else{return}}js=a;var y=fc_chat.create_tool_panel(d,b,c,t,Q,M);k.tPC=y[0];dN=y[1];dN[z]=fc_chat.fill_tool_panel(a,b,c,f);if(f){k.tPC.style.position=i(r).css("position");document.body.appendChild(k.tPC)}else{k.tPC.style.position="absolute";J.appendChild(k.tPC)}dR(k.tPC,l,g);if(M){k.tPB=fc_chat.create_tool_panel_backing(Q,dN);if(f){k.tPB.style.position=i(r).css("position");document.body.appendChild(k.tPB)}else{k.tPB.style.position="absolute";J.appendChild(k.tPB)}dR(k.tPB,l,g)}if(dz){dz.disableControl()}dz=new jGo.DefaultMenuController('fc_tools','a.fc_tools_a',k.tPC,fc_chat,'tgl_tools');gq=true;setTimeout("fc_chat.change_Border_sD(false)",200);if(!f)return false};this.create_tool_panel=function(a,b,c,f,d,g){var l=this.tool_menu=document.createElement('div');l.setAttribute('id',a);var n=(!g)?'jGo_ydsf':'';var r=(!g)?'jGo_inner':'';l.className='jGo_app jGo_myapp jGo_em '+n;if(g){l.style.position='absolute'}l.style.display=C;l.style.fontSize=Math.round(12*(jGo._['scalefactor']||1))+'px';l.style.zIndex=jGo.config.max_z_index-91;var t=document.createElement('div');t.className=r;t.style.width=b+'em';t.style.height=c+'em';t.style.zIndex=jGo.config.max_z_index-91;t.style.border=G.tools_panel.border;t.style.backgroundColor=G.tools_panel.background_color;t.style.overflow=f;l.appendChild(t);i(t).css({'-moz-overflow-scrolling':'touch','-webkit-overflow-scrolling':'touch','overflow-scrolling':'touch'});return[l,t]};this.fill_tool_panel=function(a,b,c,f){var d='<center><table style="padding:'+((a==0?20:5)/12)+'em;width:'+(b-5/12)+'em;height:'+(c-5/12)+'em;"><tr>';var g=0;if(a==0){for(var l=0;l<m.smiley_list.length;l++){d+='<td>'+es+'insertTags(\':\',\' \',\''+m.smiley_list[l][1]+'\','+(f?f:'1')+');"><img title=":'+m.smiley_list[l][1]+'" '+(m.smiley_list[l][2]?'height="'+(m.smiley_list[l][2]/12)+'em" style="height:'+(m.smiley_list[l][2]/12)+'em"':'')+' border="0" src="'+m.smileys_dir+m.smiley_list[l][0]+'"></a></td>';g++;if(g==m.smiley_columns&&l<m.smiley_list.length-1){d+='</tr><tr>';g=0}}if(g!=0){d+='<td colspan='+(m.smiley_columns-g)+'>&nbsp;</td>'}d+='</tr></table></center>'}else{var n=fj+";cursor:default";var r=(m.upload_images_enabled?j(27):j(28));var t=j(29);d+="<td><a id='fc_imgu' style='margin-left:1px;"+(m.upload_images_enabled?"":n)+"' href=\"javascript:void\" onclick=\"return fc_chat.imgFWrapper()\"><img title='"+r+"'src='"+V+"upload_image.png'></a>"+(m.change_avatar?"<a id='fc_avu' style='margin-left:2px;' href=\"javascript:void\" onclick=\"return fc_chat.avaFWrapper();\"><img title='"+t+"'src='"+V+"add_avatar.png'></a>":"")+(m.transliteration_enabled?"<a  id='fc_trlit' style='margin-left:2px;' "+bc+"open_trlit(1)'><img title='"+j(304,"Type in your language")+"' src='"+V+"google_transliteration.png'></a>":"")+(W!=1&&!fc_chat.nlrm()?"<a title='"+j(295,"doodlepad")+"' id='fc_note' style='margin-left:2px' "+bc+"note(0)'><img src='"+V+"pencil.png'></a>":"")+"<a title='"+j(311,"Share a document")+"' id='fc_doc' style='margin-left:2px;' "+bc+"doc(1)'><img src='"+V+"document.png'></a></td></tr></table>"}return d};this.create_tool_panel_backing=function(a,b){var c=document.createElement("IFRAME");c.className="jGo_app jGo_myapp";c.style.position='absolute';c.style.scrolling='no';c.style.zIndex=a+1900;c.style.width=b.style.width;c.style.height=b.style.height;c.style.backgroundColor='transparent';c.style.display=C;return c};var gW=function(){k.tPC.style.display=s;if(M){k.tPB.style.display=s}};this.eval_script=function(a){eval(a)};var jq=function(a){return a.replace(/%/g,'%25').replace(/&/g,'%26amp;').replace(/</g,'%26lt;').replace(/>/g,'%26gt;').replace(/\\/g,'\\\\')};var cs=function(a){return a.replace(/%26/g,'&').replace(/%25/g,'%')};var gX=function(a){var b=encodeURI(a);if(b.indexOf("%")!=-1){var c=b.split("%").length-1;if(c==0){c++}var f=b.length-(c*3);c=c+f}else{c=b.length}return c};var hN=function(a,b){return(Math.round(a/b-a%b/b))};var gZ=function(a){var b;try{b=(a!="{}"?i.parseJSON(kN(a,'\\"').replace(/>/g,'"')):null)}catch(e){alert(e)}return b};var bR=function(a,b){if(!b){b=5}return String("0000000000"+a).slice(-b)};var co=function(a,b){if(!b){b=8}return String(a+"0000000000").slice(0,b)};var kI=function(a){var b=document.createElement('a');b.href=a;return b.hostname};var O=function(a){var b=parseInt(a,10);return(b==null||isNaN(b)?0:b)};var nh=18000*(13&65535)+(13>>16);var ni=function(a){var b='';a=36969*(a&65535)+(a>>16);a=Math.abs((a<<16)+nh);var c='000000'+a;for(var f=c.length-6;f<c.length;f++){b+=mC[c.substr(f,1)]}return b};function q(a){return document.getElementById(a)};function kO(a){return dc.getElementById(a)};var kP=function(a,b){var c={};c.y=(a.height()-b.height())/2;c.x=(a.width()-b.width())/2;return c};var kQ=function(a){var b={};b.y=(jGo.util.getInnerHeight()-a.height())/2;if(M){b.y+=i(document).scrollTop()}b.x=(jGo.util.getSWidth()-a.width())/2;return b};var ng=function(l){var n=/(http|ftp|https):\/\/([\w\-_]+(?:(?:\.[\w\-_]+)+))([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/gi;return l.replace(n,function(a){if(!(/[a-z]+:\/\//.test(a))){a="http://"+a}var b=a.replace(/^https?:\/\//,'');var c="youtube.com/watch?v=";var f=a.toLowerCase().indexOf(c);if(f>0){var d=a.substr(f+20).split('%26amp;')[0];var g=60;return'%d style="'+bN+';height: '+g+'px;"%g%i SRC="'+bw+'trans.gif" height="'+g+'px" width="1px" style="height:'+g+'px;width:1px;'+bC+'"%g%~d%a href="http://www.youtube.com/watch?v='+d+'" target=_blank%g%i height="'+g+'px" style="height:'+g+'px" src="http://img.youtube.com/vi/'+d+'/default.jpg" alt="" %g%~a =i=('+j(418,'YouTube video')+')=i='}return'%a target=_blank href="'+a+'"%g'+b+'%~a'})};var kR=/["\\\x00-\x1f\x7f-\x9f]/g;var kS={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','\\':'\\\\'};var kN=function(c,f){kS['"']=f;if(c.match(kR)){return c.replace(kR,function(a){var b=kS[a];if(typeof b==='string'){return b}b=a.charCodeAt();return'\\u00'+Math.floor(b/16).toString(16)+(b%16).toString(16)})}return c};var fp=function(a,b){return jGo.util.returnElementCoordinates(a,(b!=null?b:(i(a).css("position")=="fixed")))};this.c_Vs=function(a){i('a.fc_'+a+'_cam').css('display',kT(a));if(h.wl[a]=='1'&&h.vs[a]!=''&&h.vs[a]!=h.vsw[a]){if(h.vsp[a]==1||h.vcu[a]==k.uid){var b=kU('fc_video');if(b!=null){b.startSubscription("rtmp://"+h.vs[a]+"/FCVideoChat1.2",kV(a),h.snm[a])}}h.wl[a]=='0';h.vsw[a]=''}if(h.wl2[a]=='1'&&h.vs[a]!=''&&h.vs[a]!=h.vsw2[a]){if(h.vsp[a]==1||h.vcu[a]==k.uid){var b=kU('fc_expand');if(b!=null){b.startSubscription("rtmp://"+h.vs[a]+"/FCVideoChat1.2",kV(a),h.snm[a])}}h.wl2[a]=='0';h.vsw2[a]=''}};this.closeVid=function(){try{fc_ex.closeVid()}catch(err){}};var kV=function(a){a=a+'';var b='1';for(var c=0;c<8-a.length;c++){b+='0'}a=b+a;a+=(iC.length>1?iC[0]:iC[0].substr(0,3));return a};var jt=function(a){if(bf(a)&&!m.guests_can_video_chat){bn(j(413,"Guests cannot video chat. Please sign in."));return false}return true};this.jsA=function(a){bn(a)};this.jsB=function(){fc_ex.jsB(by,ec)};this.jsLV2=function(a){fc_ex.jsLV2(a,K,iY,L)};this.jsR=function(a){fc_ex.jsR(a)};this.jsSt=function(a,b){fc_ex.jsSt(a,b,by,ec)};this.jsStp=function(a){fc_ex.jsStp(a,by,ec)};this.jsV=function(){q('fc_vidchat2').style.display=s};this.jsW=function(a,b,c){fc_ex.jsW(a,b,c)};this.jsW2=function(a,b,c){fc_ex.jsW2(a,b,c)};var kW;this.launchChatWindow=function(a,b,c){if(!B){if(fc_chat.ww2==null){B=true;var f='1px solid #444444';var d=!L&&!M&&m.pin_windows;var g=d&&m.pinned_by_default;var l=(k.m==0&&K?O(K.frame[0].style.top)+200:200);var n=i(document).scrollTop();if(K){l+=(K.fixed?n:0)+(g?-n:0)}else{l+=(!g?n:0)}var r="<div style='padding:10px;font-family:arial;font-size:14px;color:black;font-weight:bold'><div style='margin-top:55px;margin-left:100px;'>"+j(329,"Loading...Please Wait")+"</div></div>";fc_chat.ww2=fc_chat.createWidget('DefaultWindow',["<span style='"+m.styles.chat_window.frame.title_css+"'>"+j(152)+"</span>",200,l,368,163,'default',m.styles.chat_window.frame.color,m.styles.chat_window.frame.opacity*100,f,'e3e3e3','','html',r,false,false,iE,j(154),j(155),j(156),j(157),j(315,"pin to screen"),j(316,"unpin"),d,(d?m.pinned_by_default:false)]);fc_chat.tg_vid=1;fc_chat.setPaused();fc_chat.ww2.mH=38;fc_chat.ww2.MH=800;fc_chat.ww2.close=function(){this.getDefault().close.call(this);fc_chat.ww2=null;fc_chat.tg_vid=0;fc_chat.setPaused();invitePriv=false;return true};fc_chat.ww2.maximize=function(){this.lock=false}}if(!fB){if(c){fC=2;kW=a}else{fC=1}kX()}else{fc_ex.initVideoChat(fc_chat.ww2,a,b);B=false}}};this.launchVideoChat=function(a,b,c){if(!jt(k.uid)){return}if(!B&&(!b||((ci(b)||b==k.uid)&&h.o[b]=='1'))){if((!b&&fc_chat.vidAcc>1)||(b&&fc_chat.vidAcc%2!=0)){if(gB>m.max_video_streams){bn(j(228));return}if(b&&bf(b)&&!m.guests_can_video_chat){bn(j(412,"Video chat is disabled for guest accounts."));return}if(!b&&fc_chat.vidAcc>1&&(m.videoconerence_only_in_designated_rooms&&(!D[bd]||D[bd].v==1))){bn(j(225));return}if(fc_chat.ww2&&(fc_chat.cvu_priv||b)&&b!=fc_chat.cvu_priv){fc_chat.ww2.close()}kC=a;if(b){fc_chat.cvu_priv=b}else{fc_chat.cvu_priv=null}clearTimeout(kD);kD=setTimeout('fc_chat.launchChatWindow('+a+','+b+','+c+')',250)}}};this.launchVideoChatCont=function(a){fc_ex.launchVideoChatCont(a,iY,by,ec)};this.removeAllStreams=function(){fc_ex.removeAllStreams(by,ec)};function nj(a){fc_ex.returnBroadcastParams(a,k.uid)};this.subscribe=function(a){if(!jt(k.uid)){return}if(a!=k.uid){if(D[h.g[a]]&&((D[h.g[a]].l)==1||(D[h.g[a]].d)==1)&&h.g[a]!=bd){fc_chat.showInfo(j(226)+D[h.g[a]].nm+j(227));return false}if((m.videoconerence_only_in_designated_rooms&&h.g[a]!=bd)){fc_chat.showInfo(j(417,"This user is chating in room: ")+D[h.g[a]].nm+j(227));return false}if(fB){fc_ex.subscribe(a,k.uid,gB,D,bd)}else{fc_chat.launchVideoChat(a)}}};this.subscribePriv=function(a){if(!jt(k.uid)){return}if(!(h.o[a]=='1'&&h.vcu[a]==k.uid&&h.vs[a]!=''&&ci(a))){bn(j(323),"Sorry, this user is not available for video chat at the moment.")}else{if(gB<=m.max_video_streams){fc_chat.launchVideoChat(a,a)}else{bn(j(228))}}};var X=[];var ct=0;var ca=dj.menus.user_options;var hS=dj.menus.set_availability;var fX=dj.menus.set_signature;var dS=dj.menus.mod_menu;var ha=dj.menus.set_nickname;var kY=function(a){return"style='position:relative;left:0px;"+a.menu_item.dim+"'><div style='"+a.menu_item.css};var dA=function(a,b){return"<div class = 'fc_menu_item"+(b?b:'')+"' "+kY(a)+"color:"+a.menu_item.link_color+"'>&nbsp;&nbsp;"};this.toggleMenu=function(a,b,c){if(!X[c]||!X[c].isOpen){ct=b,this.createMenu(a,c)}else{X[c].hide()}return false};this.createMenu=function(a,b){var c,f;if(b=='u1'){f=i.extend(true,{},ca);if(ct!=k.uid&&!T){f.css.height=(O(f.css.height)-5)+'em'}X[b]=nk(this,f,a,ct)}else if(b=='item2'){f=i.extend(true,{},hS);X[b]=this.createWidget('DefaultMenu',[f,(T?"<div style='position:relative;top:"+(O(hS.css.height)-2)+"em;float:right'><a style='"+hS.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='return fc_chat.toggleMenu(null,null,\"item2\")'>x</a>&nbsp;&nbsp;</div>":"")+"<div style='"+hS.menu_item.css+"'><INPUT TYPE=radio "+(h.bs[ct]=='1'?'':"checked")+" id='fc_avl1' onclick='fc_chat.setBusy(0);' name='fc_avl'>"+j(348,"Available")+"<br><br><INPUT TYPE=radio "+(h.bs[ct]!='1'?'':"checked")+" id='fc_avl2' onclick='fc_chat.setBusy(1);' name='fc_avl'>"+j(349,"Busy")+"</div>",null,i(a),c=(X['u1']&&X['u1'].isOpen?X['u1'].frame:i(k.uD)),false,T])}else if(b=='item3'){f=i.extend(true,{},fX);X[b]=this.createWidget('DefaultMenu',[f,(T?"<div style='position:relative;top:"+(O(fX.css.height)-2)+"em;float:right'><a style='"+fX.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='return fc_chat.toggleMenu(null,null,\"item3\")'>x</a>&nbsp;&nbsp;</div>":"")+"<div style='"+fX.menu_item.css+"'>"+j(361,"Signature (50 chars max)")+"&nbsp;<form action='javascript:fc_chat.setTagline("+ct+");'><INPUT TYPE=text value='' maxlength='50' style='margin-top:.833em;width:"+(O(fX.css.width)-2)+"em' id='fc_tagline' name='fc_tagline'></form><div id='fc_tagline_set' style='visibility:hidden;"+fX.menu_item.set_notice.css+"'>"+j(362,'Signature Set')+"</div></div>",null,i(a),c=(X['u1']&&X['u1'].isOpen?X['u1'].frame:i(k.uD)),false,T])}else if(b=='mod'){f=i.extend(true,{},dS);X[b]=this.createWidget('DefaultMenu',[f,(T?"<div style='position:relative;top:"+(O(dS.css.height)-2)+"em;float:right'><a style='"+dS.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='return fc_chat.toggleMenu(null,null,\"mod\")'>x</a>&nbsp;&nbsp;</div>":"")+"<div id='fc_kickban'>"+fY(dS,(ct!=k.uid&&O(h.ac[ct])<O(h.ac[k.uid])&&h.o[ct]=='1'&&fm==2?1:0),ct,"kick("+ct+")",j(439,"Kick and ban"),'_mod')+"</div><div id='fc_blockip'>"+fY(dS,(ct!=k.uid&&h.o[ct]=='1'&&fm==2&&h.ac[k.uid]=='2'?1:0),ct,"blockip("+ct+")",j(440,"Block IP (30 min)"),'_mod')+"</div><a "+jZ+" style='"+dS.menu_item.link_css+"' HREF='"+eM+"Mod.html'>"+dA(dS,'_mod')+j(438,"Admin Panel")+"</div></div></a>",null,i(a),c=(X['u1']&&X['u1'].isOpen?X['u1'].frame:i(k.uD)),false,T]);kZ('fc_menu_item_mod',dS)}else if(jGo._['menu.'+b]){var d=N.chatbox.style.infobox_menu;X[b]=jGo._['menu.'+b](this,f,a)}X[b].hide=function(){this.getDefault().hide.call(this);this.getDefault().close.call(this)};X[b].show();return false};var nk=function(a,b,c,f){var d=a.createWidget('DefaultMenu',[b,nl(f),null,i(c),p=i(document.body),(M||(T)?0:dl),T]);kZ('fc_menu_item',ca);return d};var nl=function(a){var b="style='"+ca.menu_item.link_css+"' HREF='javascript:void' onclick=";return(T?"<div style='position:relative;top:"+(O(ca.css.height)-2)+"em;float:right'><a style='"+ca.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='return fc_chat.toggleMenu(null,null,\"u1\")'>x</a>&nbsp;&nbsp;</div>":"")+"<div id='fc_menu_item1'>"+fY(ca,(ci(a)&&a!=k.uid&&(!bf(a)||h.o[a]=='1')?1:0),a,"talk("+a+")",j(351,"Send message)"))+"</div>"+(O(h.ac[k.uid])>0?"<a "+b+"\"return fc_chat.toggleMenu(this,"+a+",'mod');\">"+dA(ca)+j(45)+"</div></div></a>":"")+(!bJ&&a==k.uid?"<a "+b+"'return fc_chat.logout()'>"+dA(ca)+j(44)+"</div></div></a><a "+b+"\"return fc_chat.toggleMenu(this,"+a+",'item3');\">"+dA(ca)+j(363,'Set Signature')+"</div></div></a>":"")+(!bf(a)&&kg?"<a style='"+ca.menu_item.link_css+"' target=_blank href='"+iV+encodeURIComponent(h.nm[a])+"'>"+dA(ca)+j(46)+"</div></div></a>":"")+"<a "+b+"'return fc_chat.getMenuStatus("+a+")'>"+dA(ca)+j(48)+"</div></div></a>"+(a==k.uid?"<a "+b+"\"return fc_chat.toggleMenu(this,"+a+",'item2');\">"+dA(ca)+j(350,'Set Availability')+"</div></div></a>"+(bf(a)?"<a "+b+"\"return fc_chat.tglNick(1,"+a+");\">"+dA(ca)+j(422,'Set Nickname')+"</div></div></a>":""):"<a style='"+ca.menu_item.link_css+"' "+bc+(cX[a]?"remove_friend":"add_friend")+"("+a+");'>"+dA(ca)+(cX[a]?j(286,"Remove from Friends"):j(281,"Add to Friends"))+"</div></div></a>"+(bs[a]?"<a style='"+ca.menu_item.link_css+"' "+bc+"remove_recent("+a+");'>"+dA(ca)+j(432,"Remove from Recents")+"</div></div></a>":''))};var fY=function(a,b,c,f,d,g){return(b?"<a style='"+a.menu_item.link_css+"' "+bc+f+"'>"+dA(a,g)+d+"</div></div></a>":"<div class = 'fc_menu_item_dis' "+kY(a)+"color:"+a.menu_item.disabled_link_color+"'>&nbsp;&nbsp;"+d+"</div></div>")};var kZ=function(a,b){i('div.'+a).hover(function(){i(this).css("background-color",b.menu_item.hover_color)},function(){i(this).css("background-color",b.css["background-color"])})};this.getMenuStatus=function(a){X['u1'].hide();if(!de){fc_chat.tgl_messages(dl)}return fc_chat.showStatus(a,document)};this.openPopup=function(){ht=1;i(".fc_ob").html(fc_chat.toggle_btn(1,0));if(k.m==0){hT(0);fZ(0)}if(U==1){fc_chat.closeChat();i('#fc_m1').attr({"checked":true});bS(cv,'0');dG=0}fc_chat.close_boxes(1);if(m.requre_login){cu(j(258))}bJ=false};var ju=false;var jv;this.startPromo=function(){if(nm()){N.prompt.render_promo(eh(fV(),''));N.prompt.tgl_dialog();jv=setTimeout("fc_chat.endPromo()",15000);ch(1,15)}ju=true};this.promo_change_name=function(){if(bB.minimized){bB.toggle()}fc_chat.sign_in(null,1)};this.promo_close=function(){fc_chat.close_boxes()};var nm=function(){if(!ju&&bZ(15)!=1&&!m.noshow&&N.config.show&&!T&&!L&&bJ){return true}else{return false}};this.endPromo=function(){jGo.fcchat_toolbar.style.prompt.tgl_dialog()};var dg={"I":0,"L":0};var nn=0;var fW=0;var hb=-1;var ej=0;this.discC='..';var la=function(a,b,c,f){var d=q('fc_page_chat');var g;var l=a.split('>');var n='';var r=hb;var t=0;var y=N.chatbox;if(c=='1'){hb=-1;i("#fc_disc_pg").html((dg.I!='0'?y.set_more_msgs(dg.I):''))}for(var x=l.length-4;x>0;x=x-4){if(b=='0'){if(h.of[l[x]]=='0'){h.o[l[x]]='1';h.s[l[x]][0]='1'}}ek(l,x,1,0);l[x+1]=h.snm[l[x]];g=' <i class="fc_aside" style="'+ke+(c=='1'?bN:dW)+'">'+eD(l[x+2],(c=='1'?1:0))+'</i>';var o=!(ej!=0&&hb==l[x]);var u=(o?'.083em 0em .25em 3.083em':'0em 0em .167em 3.083em');var H=(o?'-3.083em':'0em');var S='';var P='';var R=no(f,t);if((h.ac[l[x]]!='2'&&cM=='1')||cM=='2'){S=' <span id="censor'+R+'"'+iP+'>'+es+'adminDeleteMsg(1,'+h.pid[k.uid]+','+lb(f,t)+',\''+R+'\')" style="'+y.style.dialog_box.text.secondary_link_css+'">'+j(240)+'</a> </span> ';P='onmouseover="fc_chat.toggleCensor(1,\''+R+'\')" onmouseout="fc_chat.toggleCensor(0,\''+R+'\')"'}hb=l[x];n+='<div class="fc_disc'+l[x]+' fc_disc_cont" id="fc_disc'+ej+'" '+P+' style="padding:'+u+';text-indent:'+H+';">';var F='<span class="fc_dmu fc_dmu'+l[x]+'" '+(!o?'style="display:none"':'')+'>'+bW(l[x],null,0,1,1)+' <div class="fc_t2'+l[x]+'" style="'+bN+'">'+hc(l[x])+'</div>: </span>';var bb=dh(o)+'<span class="msg'+R+'">'+df(l[x+3],1,9,ej,null,o)+'</span>'+g+S+'</div>';n+='&nbsp;'+F+bb;ej++;t++;if(c=='0'){ei(d,i('#fc_page_chat_wrapper')[0],4,n);n='';gY(0)}}if(c=='1'){if(!f){ei(d,i('#fc_page_chat_wrapper')[0],4,n);hb=r}else{i('#fc_disc_pghdr').after(n)}}};var no=function(a,b){return'pg_'+h.pid[k.uid]+'_'+lb(a,b)};var lb=function(a,b){return(O(dg.I)+(a?b:ej))};var np=function(){var a=[];var b=0;cA[5]=0;for(var c in h.pid){if(h.pid.hasOwnProperty(c)){if(h.pid[c]==h.pid[k.uid]&&h.o[c]!='0'){ga(c,a,dB(c,5),5);b++}}}var f=N.chatbox.style.dialog_box.text;q('fc_disc_userlist')[z]="<span style='"+f.info+"'>"+k.chat_params.connected_text+"</span><span id='fc_disc_ucount' style='"+f.info+"'>("+b+")</span>"+(cM>0?"<span style='"+f.info+";margin-left:.833em'>"+j(444,'Page ID: ')+h.pid[k.uid]+"</span>":"")+"<span style='margin-left:10xp' class='fc_disc_signin'></span>"+fq(a,5);i("span.fc_disc_signin").html((bJ?"<a style='margin-left:.833em;"+f.css+f.secondary_link_css+"' HREF='javascript:void(0)' onclick='return fc_chat.sign_in()'>"+j(342,'Change name')+"</a>":""));disc_user=b};var lc=function(a){disc_user+=a;q('fc_disc_ucount')[z]="("+disc_user+")"};var ld=function(a){k.discC=a;i('span.fc_disc_count').html("("+a+")")};var jw=function(a){if(fW==1){if(h.o[a]=='1'&&h.pid[a]==h.pid[k.uid]){if(!i("#fc_t5"+a)[0]){lc(1);if(!bf(a)){i("#fc_t5"+k.uid).after(dB(a,5))}else{hU("#fc_disc_userlist",dB(a,5),5,1)}}else{if(a!=k.uid){if(h.pt[a]=='0'){if(bf(a)){i("#fc_disc_userlist div.fc_shw_gst").before(i("#fc_t5"+a))}}else{if(!bf(a)){i("#fc_t5"+k.uid).after(i("#fc_t5"+a))}else{hU("#fc_disc_userlist",i("#fc_t5"+a),5,0)}}}nq(a)}}else{if(i("#fc_t5"+a)[0]){lc(-1);if(bf(a)){hd(5,-1)}le(a,'fc_t5')}}}};this.cDisc=function(){I='00010{7'+bR(dg.I,8);bh();i("#fc_disc_pg").html(j(445,"Loading More Chats..."))};this.tgl_disc=function(){hV();eE();dl=1;setTimeout("fc_chat.scroll_disc()",100)};this.scroll_disc=function(){var a=i('#fc_page_chat_wrapper')[0];a.scrollTop=a.scrollHeight-(cH?a.clientHeight+1:0)};var nr=function(a){if(fW==1){if(!a||a==h.pid[k.uid]){bn(j(446,'The Page Discussion has been Cleared'),1);ld(0);i("#fc_disc_pg").html('');dg.I=0;ej=0;k.clr_disc()}}};this.clr_disc=function(){var a=i("#fc_disc_pghdr").detach();i('#fc_page_chat').html('').append(a);dg.I-=0;dg.I+=ej;ej=0;if(dg.I!=0)i("#fc_disc_pg").html(N.chatbox.set_more_msgs(dg.I))};var nq=function(a){i('span.fc_eye_'+a).css('display',(h.pt[a]=='1'?bH:s))};var ns=function(a){return"&nbsp;<span class='fc_eye_"+a+"' style='display:"+(h.pt[a]=='1'?bH:s)+"'><img style='height:1.333em;' title='"+k.chat_params.viewing_text+"' src='"+V+"eye.png'></span>"};var fV=function(){return(cB?cB:bG(m.session_cookie).split('>')[1])};this.gsn=function(){var a=fV();if(a.length>18){a=a.substr(0,18)+'..'}return a};var lf={css:{"font-size":"12px","-webkit-box-shadow":"0em 0em .167em .167em rgba(0,0,0,0.5)","box-shadow":"0em 0em .167em .167em rgba(0,0,0,0.5)",padding:"1.25em",border:".083em solid black","background-color":"#ddddE1","-moz-border-radius":".167em","-webkit-border-radius":".167em","border-radius":".167em"}};this.infoChatBox;var jr=function(a,b){a=a+"&nbsp;&nbsp;<a href='javascript:void(0)' onclick ='fc_chat.infoChatBox.hide();return false'>"+j(391,"Dismiss")+"</a>";k.infoChatBox.fill(a);var c=(b?b:kP(i(J),k.infoChatBox.frame));k.infoChatBox.show(null,c.y,c.x)};this.nickBox;var nt=function(a,b){msg=j(419,"Enter your nickname")+": <br><br><form action='javascript:fc_chat.setNickname("+a+");'><INPUT TYPE=text style='"+ha.menu_item.input_css+"' value='' maxlength='50' id='fc_nickname' name='fc_nickname'></form><br> <a style='"+ha.menu_item.link_css+"' href='javascript:void(0)' onclick='fc_chat.nickBox.hide();return fc_chat.sign_in()'>"+j(43)+"</a> &nbsp;&nbsp;<a style='"+ha.menu_item.link_css+"' href='javascript:void(0)' onclick ='fc_chat.nickBox.hide();return false'>"+j(391,"Dismiss")+"</a>&nbsp;&nbsp;<span id='fc_nickname_set' style='visibility:hidden;"+ha.menu_item.set_notice.css+"'>"+j(421,'Nickname Set')+"</span>";var c=i("#fc_onlinelist");var f=i(document.body);if(b){c=f=i(J)}k.nickBox.fill(msg);k.nickBox.frame.css({position:c.css("position")});var d={x:O(c.css("left"))+Math.round(20*(jGo._['scalefactor']||1)),y:O(c.css("top"))+Math.round(130*(jGo._['scalefactor']||1))};if(b){d=kP(i(J),k.nickBox.frame)}k.nickBox.show(f,d.y,d.x)};this.infobox;var bn=function(a,b,c){if(!T&&!M){a=a+"&nbsp;&nbsp;<a href='javascript:void(0)' onclick ='fc_chat.infobox.hide();return false'>"+j(391,"Dismiss")+"</a>";k.infobox.fill(a,c);var f=kQ(k.infobox.frame);k.infobox.show(null,f.y,f.x)}else if(!b){alert(a)}};var nu=function(a){bn(a,null,1)};this.showInfo=bn;this.debug=nu;var fr="<img style='height:16px;width:16px;' src='"+V+"info.png'>&nbsp;";var jx="&nbsp;<img height='24px' onload='this.style.visibility=\"visible\";' style='visibility:hidden;width:24px;height:24px' ALIGN='absmiddle' src='"+V+"ajax-loader.gif'>";var hW="&nbsp;&nbsp;<img height='16px' onload='this.style.visibility=\"visible\";' style='visibility:hidden;width:16px;height:16px'ALIGN='absmiddle' src='"+V+"snakeloader.gif'>";var hX=function(a){if(a||!ki){var b=false;if(bB&&bB.frame.css("visibility")=="hidden"){b=true}cu(j(159)+hW,b)}};var cu=function(a,b){i("#fc_t1").html(a);if(!b){if(N.config.layout==2){i("#fc_t1a").html("&nbsp;&nbsp;<span id='fc_banner_status_text'>"+a+"</span>");fc_chat.banner_resize()}else{i("#fc_t1a").html(a)}}};var he=function(a,b){return"<div style='margin-left:10px;margin-top:10px;font-size:12pt;'>&nbsp;"+a+(b?hW:"")+"</div>"};var el=m.txt.t100+hW;var fs=function(a){if(a!=-1)i(".fc_ob").html(fc_chat.toggle_btn(1,a));cu(gb(m.startText))};var gb=function(a){return"<a href='javascript:void(0)' style='text-decoration:none' onclick='return fc_chat.sign_in_start(this)'>"+a+"</a>"};this.sign_in_start=function(a){if(!gc){var b=1;if(i(a).parent().attr('id')=='fc_t1')b=0;fc_chat.toggle_login(b);gd=1}return false};var hQ;var fZ=function(a){i('img.fc_status_bullet').attr({"src":(a==1?V+"bullet_green.png":V+"bullet_yellow.png")})};this.setPaused=function(){if(U==1||this.tg_vid==1){bS(cv,'1');dG=1}else{bS(cv,'0');dG=0}};var lg=function(){var a=bG(m.data_cookie).split('&');if(cJ.init==0){jGo.sound(i);i("#fc_sounds").fc_sound({basedir:bw+"flash/"});cJ.on=a[1]-0;cJ.a[0]=a[2]-0;cJ.a[1]=a[3]-0;cJ.a[2]=a[4]-0;cJ.a[3]=a[5]-0;cJ.init=1;if(jGo.browser.browser=='Opera'){var b=document.body;var c=document.documentElement;var f=(b.scrollHeight>=c.scrollHeight)?b:c;i("#fc_fla").css("top",jy(f,100))}}if(dQ.init==0){if(m.trans_enabled){dQ.on=a[10]-0;dQ.cur_lang=a[11];dQ.init=1}}};this.initialized=false;this.init=function(){fc_chat.inSession=1;fc_chat.uid='-1';if(!m.default_on){if(jGo.cookie.getCookie("fc_tglChat")!='1'){jGo.cookie.setCookie("fc_tglChat",'0',gV(),'/',m.domain)}}if(jGo.cookie.getCookie(m.data_cookie)==null||jGo.cookie.getCookie(m.data_cookie).split('&').length!=20){mY()}if(!L){kc=bZ(12)}bx=(bZ(16)==''?Y.font.size:(bZ(16)-0));if(jGo.country_code!=''){ch(jGo.country_code,13)}var a=jGo.cookie.getCookie(m.user_cookie);if((a!=null)&&(a!="")&&(a!="0")){fc_chat.uid=a};if(fc_chat.uid=='-1'||fc_chat.uid==-1){fc_chat.inSession=0;if(m.require_login){el=gb(m.startText)}}jGo.cookie.setCookie(m.user_cookie,fc_chat.uid,gV(),'/',m.domain);i(document).bind('mousemove',fc_chat.mtrack);fc_chat.browser=fc_chat.BrowserDetectBrowser();fc_chat.version=fc_chat.BrowserDetectVersion();if(fc_chat.browser=='Explorer'&&(fc_chat.version=='5'||fc_chat.version=='6')){M=true;N.config.layout=0}if(fc_chat.browser!='Explorer'&&fc_chat.browser!='Opera'){jj=true}if(fc_chat.browser=='Safari'||fc_chat.browser=='Mozilla'){fh=true}if(fc_chat.browser=='Netscape'){ka=120;eP=35}if(fc_chat.browser=='Opera'){eP=20}if(fc_chat.browser=='Firefox'){eP=25;nv((fc_chat.version-0)>3&&(fc_chat.version-0)<8,fc_chat.version=='3.6')}if(jGo.cookie.getCookie("fc_browser")==null||jGo.cookie.getCookie("fc_browser")==""){jGo.cookie.setCookie("fc_browser",fc_chat.browser,gV(),"/",m.domain)}mq();ms();if(cK==cL){if(jGo.cookie.getCookie('fc_tglChat')=='0'){fc_chat.setTgl(0);fc_chat.obtn=j(4);el=j(102)}if(jGo.cookie.getCookie('fc_pauseChat')=='1'&&!L){el=j(103)}if(L&&m.require_login)el=j(393,'Please sign in.');if(eS&&!m.noshow){fc_chat.writeBox()}}fc_chat.initialized=true;if(jGo.domIsReady&&!jGo.loadCalled){setTimeout("fc_chat.loader()",250)}};this.getexp6=function(){return M};this.BrowserDetectInit=function(){jGo.browser.init()};this.BrowserDetectBrowser=function(){return jGo.browser.browser};this.BrowserDetectVersion=function(){return jGo.browser.version};this.sendMsg=function(a,b){I=a;bh(b)};var bh=function(a){try{by.jsSendData(I);fJ=new Date().getTime()}catch(err){if(!a){bn(ec);if(U==1){eb[z]=hH}}}};var hY=jGo.iphone;var lh=function(a){if(T){i(a).animate({scrollTop:a.scrollHeight})}};this.hideUBox=function(){hw=false;fc_chat.leavingUser();if(T){jGo.UI.removeHandler('touchstart','ubox');if(this.uD!=null){if(this.uD.parentNode){this.uD.parentNode.removeChild(this.uD);if(M){this.uIF.parentNode.removeChild(this.uIF)}}}this.uD=null};return false};this.posWin=function(){var a=document.body;var b=document.documentElement;var c=(a.scrollHeight>=b.scrollHeight)?a:b;if(!K.fixed){fc_ex.posWin(K,jy(c,k.chat_window_height),li(c,dk),k.oD,k.optionsTop,J)}};var jz;i(window).resize(function(){if(k.m==1){clearTimeout(jz);jz=setTimeout(nw,50)}});var nw=function(){clearTimeout(jz);i(k.tempIFrame).css({height:ew()});i(k.odiv).css({height:ew()})};this.leavingUser=function(){var a="fc_uD";iJ=false;if(hw==false){if(jGo.browser.browser=='Firefox'){if(gQ.disabled!=true){gQ.style.visibility='visible';gQ.focus()}else{if(U==1){q('fc_chat').focus()}}}if(k.m==1){k.odiv.style.display=s}if(k.IFO!=null){cS.style.display=s}q(a).style.display=s;if(jGo.browser.browser=='Opera'&&!di){hf(1)}if(M){this.uIF.style.display=s}}return true};this.changestatus=function(){hw=false;clearTimeout(hK);hK=setTimeout('fc_chat.leavingUser()',ka);return true};this.changebackstatus=function(){hw=true};this.posx2;this.posy2;this.mtrack=function(a){if(a==null)a=window.event;if(jj){dI=a.pageX;dJ=a.pageY}else{dI=a.clientX;dJ=a.clientY}posx2=a.clientX;posy2=a.clientY;if(cK==cL){if(h!=null&&h.idl[k.uid]==1){fc_chat.chkIdl(dI,dJ)}}else{if(window.parent.fc_chat.getIdl()){window.parent.fc_chat.markpos(dI,dJ,posx2,posy2);window.parent.fc_chat.chkIdl(dI,dJ)}}};this.markpos=function(a,b,c,f){dI=a;dJ=b;posx2=c;posy2=f};this.chkIdl=function(a,b){var c=new Date().getTime();if((c-kb)>10000){I='00001R';hx=a;hy=b;try{by.jsSendData(I);fJ=new Date().getTime();kb=new Date().getTime()}catch(err){this.jsOnClose()}}};this.get=function(a){switch(a){case'l':return B;case'px':return bx;case'clr':return fD;case'current_room':return bd;case'cPU':return bE;case'mobile':return T;case'login_lock':return cq;default:}};this.getPause=function(){return dG};this.setTgl=function(a){dU=a};var nx=function(a){var b=a.substr(15).split('<');var c=parseInt(a.substr(6,8),16);var f=parseInt(a.substr(4,2),16);var d=0;for(var g=1;g<6;g++){cP[g]=((c&cz[g])==cz[g]?'1':'0')}for(var g=9;g<32;g++){if((c&cz[g])==cz[g]){bF[g]='1';ce[g]=d;if(g==23||g==24){d++}d++}else{bF[g]='0'}}for(var g=1;g<5;g++){if((f&cz[g])==cz[g]){bF[g+31]='1';ce[g+31]=d;d++}else{bF[g+31]='0'}}var l=b[b.length-1];var n=gZ(l);bK=parseInt(a.charAt(0));cM=a.charAt(14);if(bK==parseInt(bj[0])){bj[0]='0'}if(cP[1]==bj[4]){bj[4]='0'}if(cP[3]==bj[6]){bj[6]='0'}var r=[26,27,12,13,14];for(var g=0;g<r.length;g++){if(bF[r[g]]=='1'){if(r[g]==26){gt=1;cX={}}if(r[g]==27){gt=1;hZ()}ia(b[ce[r[g]]],r[g])}}r=[9,10,21,16,19,29,31,25,35];for(var g=0;g<r.length;g++){if(bF[r[g]]=='1'){if(ib==1&&hg==0&&r[g]==21){hh=1;cA[4]=0}ia(b[ce[r[g]]],r[g])}}if(bF[23]=='1'){bj[19]='0';ia(b[ce[23]+1],23)}if(bF[24]=='1'){ia(b[ce[24]+1],24)}if(bF[22]=='1'){ny(b[ce[22]])}if(bF[11]=='1'){if(bj[7]=='1'){bj[7]='0';B=false;fc_chat.tgl_info_panel();B=true}nz(b[ce[11]],'0')}if(n){if(n.RM!=null){if(cP[2]==bj[5]&&bj[2]=='0'){bd=O(n.RM);bj[5]='0'}if(O(n.RM)+1==O(bj[2])){eY=true;bj[2]='0'}}if(n.REQ){I=bR(2+eR.length)+'{1'+eR;bh()}if(n.Q!=null){ld(n.Q)}if(n.PI){dg=n.PI}if(n.NPC){cf=1;ic=1;i('#fc_t2').html("<div class='fc_tlk0 fc_tlk_cont' style='margin-bottom:.25em'><b>"+j(404,'You have unread messages in your Messages Box. Click "Open Full Chat" above to view.')+"</b></div>");hI=true}if(n.RUP){if(i("span.fc_nc_count")[0]){nA(n.RUP.N)}if(n.RUP.R){nB(n.RUP.R)}}if(n.RTMP){nj(n.RTMP)}if(n.RA){if(n.RA=='1'){fc_chat.eS2(2)}else if(n.RA=='2'){setTimeout("fc_chat.c_g2()",50);q('fc_rpass'+em).disabled=false;clearTimeout(hi);hi=setTimeout("fc_chat.clearRoompassTxt('"+em+"')",7000)}else if(n.RA=='3'){eb[z]=hH}}if(n.LD){if(n.LD=='1'){fc_chat.errString(3)}else if(n.LD=='2'){fc_chat.errString(4)}else if(n.LD=='3'){fc_chat.loginAfterServerValidation()}}if(n.SMS){var t=n.SMS.split('/');for(var g=1;g<t.length-1;g+=3){}}if(n.CMDS){var y=n.CMDS;for(var g=0;g<y.length;g++){if(y[g].TYP=='CLRRM'){lj(O(y[g].ID))}if(y[g].TYP=='CNSRRM'){nC(O(y[g].ID),y[g].IND)}if(y[g].TYP=='CNSRPG'){nD(O(y[g].ID),y[g].IND)}if(y[g].TYP=='CLRPG'||y[g].TYP=='CLRALLPG'){nr(y[g].ID)}}}if(n.PROF){fc_ex.clbkUP(eX,n.PROF.U,n.PROF.PR,er)}if(n.UPROF){fc_ex.clbkUP(eX,n.UPROF,'',er)}if(n.TS){gB=n.TS}if(n.VI){iY=n.VI}if(n.GL){if(n.GL.G=='0'){bJ=true}var x=n.GL.N.split('&');cB=cs(x[0]);k.uid=n.GL.U;if(br!=null){bS(m.user_cookie,k.uid);bS(m.session_cookie,br)}}if(n.NO){fd=n.NO-0}if(n.USR){nE(n.USR)}}nF(cP[2]);if(bF[15]=='1'){var o=cP[2];if(cP[4]=='1'){E[2]=0;ba[2]=0;delete cQ;cQ=[];k.img2C=0;for(var u in h.pe){if(h.pe.hasOwnProperty(u)){delete h.pe[u]}}bO[z]='';if(Z[7]!=0){clearTimeout(fT);fT=null;B=false;fc_chat.cP(0,7);B=true}o='1'}if(ba[2]>=m.room_message_limit&&Z[7]==0&&dV!=1){var H=bp.scrollTop;if(bp.scrollHeight-H<bp.clientHeight+50){fc_ex.cropMsgs(bO,'p',7,Q,E[2]);ba[2]=m.min_room_messages-0;delete cQ;cQ=[];cm[7]=eF(2)}}var S=1;if(bF[17]=='1'){cY=b[ce[17]];S=0}nG(b[ce[15]],bF[16],o,S,cP[1])}else{if(bF[17]=='1'){cY=b[ce[17]]}if(cP[2]=='1'&&cY>0){cm[7]=eF(2);if(!m.no_chat_history){bO[z]=id('p',7)}if(bx){fc_chat.c_px(null,bx)}}if(cP[2]=='1'){if(W==1){var P='';lk(7,P)}gP=setTimeout("fc_chat.showdiv(2)",20)}}if(bj[2]=='0'){if(bF[18]=='1'){if(cP[5]=='1'){E[1]=0;ba[1]=0;delete cl;cl=[];k.img1C=0;for(var u in h.ge){if(h.ge.hasOwnProperty(u)){delete h.ge[u]}}bm[z]='';if(Z[6]!=0){clearTimeout(eB);eB=null;B=false;fc_chat.cP(0,6);B=true}fe='1'}if(ba[1]>=m.room_message_limit&&Z[6]==0){var H=bl.scrollTop;if(bl.scrollHeight-H<bl.clientHeight+50){fc_ex.cropMsgs(bm,'g',6,Q,E[1]);ba[1]=m.min_room_messages-0;delete cl;cl=[];cm[6]=eF(1)}}var S=1;if(fe=='0'){fe=cP[2]}if(bF[20]=='1'){ck=b[ce[20]];S=0}if(du()){ll()}else{nH(b[ce[18]],bF[19],fe,S)}}else{if(bF[20]=='1'){ck=b[ce[20]]}if(eY||cP[2]=='1'){var R='';cm[6]=1;if(ck>0){cm[6]=eF(1);if(!m.no_chat_history){R=id('g',6)}}if(!du()){lk(6,R);eC=setTimeout("fc_chat.showdiv(1)",20)}else{ll()}}}fe='0'}eY=false;if(bF[23]=='1'){if(Z[7]!=0){ie(b[ce[23]],'fc_p',7,bQ,bp)}}if(bF[24]=='1'&&bj[20]=='1'){bj[20]='0';if(Z[6]!=0){ie(b[ce[24]],'fc_g',6,bP,bl)}}if(bF[28]=='1'){la(b[ce[28]],bF[29],dg.L)}if(bF[30]=='1'){la(b[ce[30]],bF[31],1,1)}if(dg.L=='1'){if(!fW)np();i('#fc_page_chat_loading').remove();fW=1;dg.L='0'}if(h.nm[k.uid]&&br!=null){bS(m.session_cookie,br+'>'+h.nm[k.uid]+'>'+h.at[k.uid])}dX="";if(bF[9]=='1'){var F=b[ce[9]].split('>');for(var g=0;g<F.length-1;g=g+2){h.of[F[g]]='0'}}if(hJ){nI();hJ=false}if(iG==1){lm(fd);if(N.config.layout==2){fc_chat.banner_resize()}if(cf==0){hI=false}fZ(1)}iG=0;if(i("span.fc_online_count")[0]){i("span.fc_online_count").html("("+fd+")")}if(bK==3){f0()}nJ();if(cf!=0){ig()}if(bK==3&&ku==1&&m.show_settings_on_open){if(bZ(17)==''){fc_chat.tgl_options(1000)}ch(1,17);ku=0}if(cP[2]=='1'){ih(1)};if(fm==0&&O(cM)>0){fm=1;i.ajax({url:jX+'js/fcchat.admin.min.js',success:fc_chat.eval_script,dataType:'text'})};if(kh){if(fl){window.location.replace(eM+"Mod.html");ef=true}if(L){if(N.config.show)bB.show();window['clear_popup_header']();fc_chat.open_chat_box()}kh=false}};this.hideChatPanel=function(){J.style.display=s};this.showChatPanel=function(){setTimeout("fc_chat.showChat()",2000)};this.showChat=function(){J.style.display=C};var ln=(N.config.mode==0&&!N.config.noclose?"<a id='fc_close_toolbar' style='"+dj.icon_tray.hide_icon.css+"' "+bc+"hideToolbar();'>X</a>&nbsp;&nbsp;":"");var ft;var lm=function(a){jGo.hooks.doHooks('fcchat_enable_toolbar_fn');var b=A.control.info_box.linebreak;ft=0;i("#fc_t1").html(lo(a,b));ft=(N.config.layout==2)?1:0;i("#fc_t1a").html(lo(a,b,1))};var lo=function(a,b,c){var f=cV(0,1)+"<span class='fc_abbtn'><a "+bc+"tgl_online(";var d=")'>"+eG(1,j(3))+"</a></span>"+cV(1,0)+"<span class='fc_online_count fc_info_text'>"+eH(a,"("+a+")")+"</span>"+cV(3,1);var g="<span class='fc_abbtn'><a "+bc+"tgl_friends(";var l=")'>"+eG(2,j(269,"Friends"))+"</a></span>"+cV(3,1);var n="<span class='fc_abbtn'><a "+bc+"tgl_messages(";var r=")'>"+eG(3,j(266,"Check Messages"))+"</a></span>"+cV(1,0)+"<span class='fc_nm_count fc_info_text'>"+eH(cf,"("+cf+" "+j(267,"new")+")")+"</span>"+cV(3,1);var t="<span style='display:"+hG+"' class='fc_abbtn'><a "+(open_chatrooms_in_window&&m.skip_roomlist?"target=_blank href='"+eN+"?rmid="+(m.default_room_index+5)+"' onclick='fc_chat.openPopup(":bc+"tgl_chatrooms(");var y=")'>"+eG(4,j(405,"Chat Rooms"))+"</a></span>"+cV(3,0);var x="<span style='display:"+hG+"' class='fc_nc_count fc_info_text'>"+eH(ey,j(367,"Chats")+" ("+ey+" "+j(267,"new")+")")+"</span>&nbsp;";if(!c){return f+d+b+g+l+b+n+r+b+t+y+b+x}return ln+f+"1"+d+g+"1"+l+n+"1"+r+t+"1"+y+x};var lp=function(a,b){ii(1,1);var c='';ft=0;if(b){c=A.control.info_box.linebreak}else{ft=(N.config.layout==2)?1:0}var f="<span class='fc_abbtn_dis'><a class='fc_abbtn_disa'";var d=cV(0,1)+f+" href='javascript::void(0";var g=")'>"+eG(1,j(3),1)+"</a></span>"+cV(1,0)+"<span class='fc_online_count fc_info_text'>"+eH(a,"("+a+")")+"</span>"+cV(3,1);var l=f+" href='javascript::void(0";var n=")'>"+eG(2,j(269,"Friends"),1)+"</a></span>"+cV(3,1);var r=f+" href='javascript:void(0";var t=")'>"+eG(3,j(266,"Check Messages"),1)+"</a></span>"+cV(1,0)+"<span class='fc_nm_count fc_info_text'>"+eH(cf,"("+cf+" "+j(267,"new")+")")+"</span>"+cV(3,1);var y=f+" style='display:"+hG+"' href='javascript::void(0";var x=")'>"+eG(4,j(405,"Chat Rooms"),1)+"</a></span>"+cV(3,0);var o="<span style='display:"+hG+"' class='fc_nc_count fc_info_text'>"+eH(ey,j(367,"Chats")+" ("+ey+" "+j(267,"new")+")")+"</span>&nbsp;";return ln+d+g+c+l+n+c+r+t+c+y+x+c+o};var eG=function(a,b,c){c=(c?"fc_abbtn_disa":"");return(ft==1)?"<span class='fc_icon fc_icon-toolbar"+a+" "+c+"' ></span>":b};var eH=function(a,b){return(ft==1)?"("+a+")":b};var cV=function(a,b){var c=(ft==1)?b:a;str="";for(var f=0;f<c;f++){str+="&nbsp;"}return str};var ii=function(a,b){if(a==1)jGo.hooks.doHooks('fcchat_disable_toolbar_fn');if(!b&&N.config.layout==2)fc_chat.banner_resize()};var ia=function(a,b){var c=a.split('>');switch(b){case 14:for(var f=0;f<c.length-1;f=f+3){if(h.nm[c[f]]==null){fu(c[f])}ek(c,f,1,0);h.b[c[f]]=c[f+2];cw[c[f]]='1';if(h.u[c[f]]=='0'){dX+=c[f]+'&';h.u[c[f]]='1'}}break;case 12:case 13:for(var f=0;f<c.length-1;f=f+2){if(h.nm[c[f]]==null){fu(c[f])}h.bg[c[f]]=c[f+1];if(h.u[c[f]]=='0'){dX+=c[f]+'&';h.u[c[f]]='1'}}break;case 10:var d=gZ(a);for(var f=0;f<d.length;f++){var g=d[f].u;if(h.nm[g[0]]==null){fu(g[0])}h.o[g[0]]='1';ek(g,0,1,0);h.d[g[0]]=g[2];h.g[g[0]]=O(g[3]);ij(g,0,4,0);lq(g[0],d[f].i);if(h.u[g[0]]=='0'){dX+=g[0]+'&';h.u[g[0]]='1'}}break;case 9:var d=gZ(a);for(var f=0;f<d.length;f++){var g=d[f].u;if(h.nm[g[0]]==null){fu(g[0])}if(g[2]=='1'){h.o[g[0]]='1';fd++}else if(g[2]=='0'){h.o[g[0]]='0';h.d[g[0]]='0';h.g[g[0]]=0;h.t[g[0]]='0';h.pt[g[0]]='0';h.pid[g[0]]='0';fd--}h.of[g[0]]='1';ij(g,0,3,0);ek(g,0,1,0);h.cc[c[f]]=c[f+2];lq(g[0],d[f].i);if(h.u[g[0]]=='0'){dX+=g[0]+'&';h.u[g[0]]='1'}}break;case 21:case 26:case 27:for(var f=0;f<c.length-1;f=f+5){if(h.nm[c[f]]==null){fu(c[f])}if(b==26){cX[c[f]]=1}if(b==27){jA([c[f]],1)}ek(c,f,1,0);h.d[c[f]]=dL;h.o[c[f]]=c[f+2].charAt(0);h.g[c[f]]=O(c[f+2].substr(1));ij(c,f,3,0);h.cc[c[f]]=c[f+3].substr(3);lr(c[f],c[f+4]);if(h.u[c[f]]=='0'){dX+=c[f]+'&';h.u[c[f]]='1'}}break;case 16:case 19:case 29:case 31:case 35:case 23:case 24:case 25:for(var f=0;f<c.length-1;f=f+3){if(h.nm[c[f]]==null){fu(c[f])}ij(c,f,1,0,1);h.cc[c[f]]=c[f+1].substr(3);lr(c[f],c[f+2],1);if(h.u[c[f]]=='0'){dX+=c[f]+'&';h.u[c[f]]='1'}}break;default:bn('bad case')}};var lr=function(a,b,c){var f;try{f=(b!="{}"?i.parseJSON(kN(b,'"')):{})}catch(e){}if(f.AV!=null){h.av[a]=f.AV}if(!c){if(f.RTMP){h.vsp[a]=f.RTMP.substr(0,1);h.vcu[a]=f.RTMP.split("_")[1];h.vs[a]=f.RTMP.substr(f.RTMP.indexOf("_",2)+1)}else{h.vs[a]=''}}if(f.TL!=null){h.ttl[a]=cs(f.TL)}if(f.TAG!=null){h.tag[a]=cs(f.TAG)}if(f.NK!=null){h.nk[a]=cs(f.NK)}if(f.PG!=null){h.pid[a]=f.PG;jw(a)}};var lq=function(a,b,c){if(b.a!=null){h.av[a]=b.a}if(!c){if(b.b){h.vsp[a]=b.b.s;h.vcu[a]=(b.b.t?b.b.t:'');h.vs[a]=b.b.r}else{h.vs[a]=''}}if(b.c!=null){h.cc[a]=b.c}if(b.t!=null){h.ttl[a]=cs(b.t)}if(b.tg!=null){h.tag[a]=cs(b.tg)}if(b.n!=null){h.nk[a]=cs(b.n)}if(b.pg!=null){h.pid[a]=b.pg;jw(a)}};var kT=function(a){return(h.vs[a]!=''&&h.vsp[a]==1?'inline':s)};var ek=function(a,b,c,f){var d=a[b+c].substr(f).split('&');var g=cs(d[0]);h.nm[a[b]]=g;if(d.length>1){h.at[a[b]]=d[1]}h.snm[a[b]]=eh(g,h.at[a[b]])};this.sNm=ek;var eh=function(a,b){if(b==''&&a.indexOf('('+j(1))!=-1){a=a.substr(0,a.indexOf('('+j(1))-1)}if(a.length>16){a=a.substr(0,16)+'..'}return a};var ij=function(a,b,c,f,d){var g=parseInt(a[b+c].substr(f,3),16);h.ac[a[b]]=(g&3)+'';if(d)h.o[a[b]]=((g&4)==4?'1':'0');h.t[a[b]]=((g&8)==8?'1':'0');h.ty[a[b]]=((g&16)==16?'1':'0');h.idl[a[b]]=((g&32)==32?'1':'0');h.pr[a[b]]=((g&64)==64?'1':'0');h.bs[a[b]]=((g&128)==128?'1':'0');h.pt[a[b]]=((g&256)==256?'1':'0')};function fu(a){h.id[a]=a;h.nm[a]='';h.snm[a]='';h.at[a]='';h.o[a]='0';h.ac[a]='0';h.d[a]='0';h.g[a]=0;h.t[a]='0';h.cc[a]='';h.ty[a]='0';h.idl[a]='0';h.pr[a]='0';h.pro[a]='0';h.ttl[a]='';h.ttlo[a]='';h.nk[a]='';h.nko[a]='';h.tag[a]='';h.tago[a]='';h.av[a]='';h.avo[a]='';h.acl[a]=ni(a);h.vsp[a]='1';h.vcu[a]='';h.vs[a]='';h.vso[a]='';h.vsw[a]='';h.wl[a]='0';h.vsw2[a]='';h.wl2[a]='0';h.b[a]='0';h.bg[a]='0';h.bs[a]='0';h.gre[a]='';h.pve[a]='';h.msgC[a]=0;h.msgB[a]=0;h.pge[a]='';h.s[a]='00000000000';h.u[a]='0';h.of[a]='0';h.nw[a]='0';h.pt[a]='0';h.pid[a]='0'};this.toggleAlerts=function(){if(!B){fc_ex.toggleAlerts()}};var ic=0;var ls=function(){if(bK==3||de==1){ic=0;I='00001p';bh()}else{ic=1}};var f0=function(){if(ic==1)ls()};var en=0;var jB=-1;var lt=-1;var nG=function(a,b,c,f,d){var g;var l;var n;var r='30px';msgto='<span style="font-style:italic" class="fc_msgto_';var t=((c=='1'&&cY>50&&!m.no_chat_history)?'<div id="fc_pPg" style="display:block; width:100%; z-Index:'+(Q+202)+';'+bC+'margin-left:5px"><a href="javascript:void" onclick="fc_chat.cP(1,7);return false">&laquo;&laquo; '+j(111)+' 50</a></div>':'');if(c=='1'){t+="<IMG id='fc_img7' SRC='"+bw+"trans.gif' height=1 width="+r+" style='"+bC+"'>"}var y;var x;var o=a.split('>');for(var u=o.length-6;u>0;u=u-6){if(o[u+1]==o[u+2]){o[u]=k.uid}if(b=='0'){if(h.nm[o[u]]==null){fu(o[u]);h.nw[o[u]]='1'}if(h.of[o[u]]=='0'){h.o[o[u]]='1';h.s[o[u]][0]='1'}}ek(o,u,1,0);o[u+1]=h.snm[o[u]];var H=o[u+2].split('&');var S='';if(H.length>1){S=H[1]}o[u+2]=cs(eh(H[0],S));var P=dV&&dC[0]!=-1;var R=E[2]==0||(P&&o[u]!=dC[0])||(!P&&jB!=o[u]);dC[0]=-1;var F=o[u+1]==o[u+2];jB=(F?-1:o[u]);n=dq(o[u],1,0);if(c!='1'){P=ik&&dC[1]!=-1;var bb=en==0||(P&&o[u]!=dC[1])||(!P&&lt!=o[u]);dC[1]=-1;var bq=(bb?'.086em 0em .25em 3.086em':'0em 0em .167em 3.083em');if(F){bq='.083em 0em .25em 0em'}var bo=(bb&&!F?'-3.083em':'0em');lt=(F?-1:o[u]);g=q('fc_t2');if(!hI){g[z]=""}x=' <i class="fc_aside" style="'+ke+(d=='1'?bN:dW)+'">'+eD(o[u+4],(d=='1'?1:0))+'</i>';var bv=1;var bk='';var bz='';var cb='';var bt=Y.private_chat_panel.msg_interrupt;if(!F&&ik&&k.cU!=0&&o[u]!=k.uid&&o[u]!=k.cU){bk=A.new_messages_box.msg_interrupt.css;if(bb){bz='<span class="fc_pmsg_inrpt" style="float:right;margin-right:.833em;"> <a style="'+A.new_messages_box.msg_interrupt.respond_css+'" href="JavaScript:void()" onclick="fc_chat.talk('+o[u]+');return false;">'+j(423,"Respond")+'</a>&nbsp;&nbsp;<a class="fc_close_msg" style="'+A.new_messages_box.msg_interrupt.close_css+'" href="JavaScript:void()" onclick="return fc_chat.remove_msg(this,'+o[u]+')">x</a></span>';cb='<br class="fc_pmsg_brk">'}}var bA='<div class="fc_tlk'+(F?0:o[u])+' fc_tlk_cont" style="'+bk+';padding:'+bq+';text-indent:'+bo+';">';var t='';if(F){t=bA+'&nbsp;<div class="fc_t20" style="'+bN+';">'+dy(16)+fr+'</div> '+dh(bb)+df(o[u+5],1,8,en,1,bb)+x+'</div>';cf++}else{var bi='<span class="fc_pmu fc_pmu'+o[u+3]+'" '+(!bb?'style="display:none"':'')+'>'+bW(o[u],null,0,1,1)+' <div class="fc_t2'+o[u]+'" style="'+bN+'">'+hc(o[u])+'</div>: </span>';var bu=dh(bb)+bz+cb+df(o[u+5],1,8,en,null,bb)+x+'</div>';if(o[u]==k.uid){bv=0;t=bA+'&nbsp;'+bi+msgto+o[u+3]+'">('+j(115)+' '+o[u+2]+lu(o[u+3],1)+')</span> '+bu;jA(o[u+3])}else{t=bA+'&nbsp;'+bi+bu;cf++;jA(o[u]);jC(o[u],1)}}en++;ei(g,i('#fc_view_msgs')[0],3,t);hI=true;if(d!='1'&&U=='0'){gY(1);if(bv){il=0;fc_chat.fade_new_msgs()}}if(bv&&N.config.show){if(bB.minimized){bB.toggle()}bB.show()}}if(bK>1&&bj[5]=='0'){x=' <i class="fc_aside" style="'+hA+(c=='0'?dW:bN)+'">'+eD(o[u+4],c)+'</i>';n=dq(o[u],1,2);var cD=(o[u+1]==o[u+2]?'0':o[u]);if(R){if(h.pe[cD]!=null){h.pe[cD]+='fc_pm'+E[2]+'&'}else{h.pe[cD]='fc_pm'+E[2]+'&'}}var dF=(40+m.avatar_sz-18);var bq=(R?'1px 0px 3px '+dF+'px':'0px 0px 2px '+dF+'px');if(F){bq='1px 0px 3px 0px'}var bo=(R&&!F?'-'+dF+'px':'0px');if(c=='0'&&cp!=2){if(E[2]!='0'){l=q('fc_pmo'+(E[2]-1))}bk='transparent;';bz='';cb='';if(!F&&dV&&eo!=0&&o[u]!=k.uid&&o[u]!=eo){bk=bt.background;if(R){bz='<span class="fc_pmsg_inrpt" style="float:right;margin-right:10px;"> <a style="'+bt.respond_css+'" href="JavaScript:void(0)" onclick="fc_chat.send_to('+o[u]+');return false;">'+j(423,"Respond")+'</a>&nbsp;&nbsp;<a class="fc_close_msg" style="'+bt.close_css+'" href="JavaScript:void(0)" onclick="return fc_chat.remove_msg(this,'+o[u]+')">x</a></span>';cb='<br class="fc_pmsg_brk">'}}g=document.createElement('div');i(g).addClass("fc_"+(F?0:o[u])+" fc_chat_container fc_prmsg").attr('id','fc_pmo'+E[2]).css({display:C,'margin-left':'5px',padding:bq,'text-indent':bo,'background-color':bk,align:'top',width:k.chat_container_width+'px','z-index':Q+202});if(F){g[z]=' <b><div class="fc_0" id=fc_pm'+E[2]+eT+'>'+dy(16)+fr+'</div></b> '+dh(R)+df(o[u+5],k.img2C,7,E[2],1,R)+x}else{var bi='<span class="fc_pmu fc_pmu'+o[u+3]+'" '+(!R?'style="display:none"':'')+'>'+bW(o[u],7)+' <div id=fc_pm'+E[2]+eT+'>'+n+'</div>: </span>';var bu=dh(R)+bz+cb+df(o[u+5],k.img2C,7,E[2],null,R)+x;if(o[u]==k.uid){g[z]=bi+msgto+o[u+3]+'">('+j(115)+' '+o[u+2]+lu(o[u+3])+')</span> '+bu}else{g[z]=bi+bu}}if(k.img2C==0&&cc==1){dH=1}if(bx){g=hj(g,null)}im(bO,bp,2,g,l,1);if(k.img2C==0&&cc==1){k.img7.style.width=(O(bp.style.width)+11)+'px';k.img2C=1}gY(1);cc=0;dH=0}else{t=t+'<div class="fc_'+(F?0:o[u])+' fc_chat_container fc_prmsg" id="fc_pmo'+E[2]+'" style="padding:'+bq+';text-indent:'+bo+';'+gD+'">';var n0=' <b><div ';if(F){t=t+n0+' id=fc_pm'+E[2]+eT+'>'+dy(16)+fr+'</div></b> '+dh(R)+df(o[u+5],1,null,null,1,R)+x+'</div>'}else{var bi='<span class="fc_pmu fc_pmu'+o[u+3]+'" '+(!R?'style="display:none"':'')+'>'+bW(o[u],7)+' <div id=fc_pm'+E[2]+eT+'>'+n+'</div>: </span>';var bu=dh(R)+df(o[u+5],1,null,null,null,R)+x+'</div>';if(o[u]==k.uid){t=t+bi+msgto+o[u+3]+'">('+j(115)+' '+o[u+2]+')</span> '+bu}else{t=t+bi+bu}}if(f=='1'){cY++}}E[2]++;ba[2]++}}if(c=='1'){jB=-1;t=(W==1?t+io():t);cm[7]=eF(2);dp[2]=bp.scrollHeight;if(cc==1){k.img2C=1;cc=0;r=(O(bp.style.width)+11)+'px'}if(cH){bO.style.display=s}bO[z]=t;if(bx){fc_chat.c_px(null,bx)}if(fD){}k.img7=q('fc_img7');gP=setTimeout("fc_chat.showdiv(2)",20)}else{if(cp==2&&bK>1){if(k.img2C==0&&cc==1){dH=1}if(bx){t=hj(null,t)}ei(bO,bp,2,t);if(k.img2C==0&&cc==1){k.img7.style.width=(O(bp.style.width)+11)+'px';k.img2C=1}cc=0;dH=0}}ls()};var ip=-1;var nH=function(a,b,c,f){var d;var g;var l;var n=' style="'+bN+';'+bC+'"';var r='<div style="'+bN+';padding-left:22px">';var t='30px';var y=((c=='1'&&ck>50&&!m.no_chat_history)?'<div id="fc_gPg" style="display:block; width:100%; z-Index:'+(Q+202)+';'+bC+'margin-left:5px"><a href="javascript:void" onclick="fc_chat.cP(1,6);return false">&laquo;&laquo; '+j(111)+' 50</a></div>':'');if(c=='1'){y+="<IMG id='fc_img6' SRC='"+bw+"trans.gif' height='1px' width="+t+" style='"+bC+"'>"}var x;var o=a.split('>');for(var u=o.length-4;u>0;u=u-4){if(b=='0'){if(h.of[o[u]]=='0'){h.o[o[u]]='1';h.s[o[u]][0]='1'}}ek(o,u,1,0);o[u+1]=h.snm[o[u]];l=dq(o[u],1,1);x=' <i class="fc_aside" style="'+hA+(c=='0'?dW:bN)+'">'+eD(o[u+2],c)+'</i>';var H=!(E[1]!=0&&ip==o[u]);ip=o[u];if(H){if(h.ge[o[u]]!=null){h.ge[o[u]]+='fc_gm'+E[1]+'&'}else{h.ge[o[u]]='fc_gm'+E[1]+'&'}}var S='';var P='';if((h.ac[o[u]]!='2'&&cM=='1')||cM=='2'){S=' <span id="censor'+E[1]+'"'+iP+'>'+es+'deleteMsg(0,'+E[1]+',\''+D[bd].nm+'\')">'+j(240)+'</a> </span> ';P='onmouseover="fc_chat.toggleCensor(1,'+E[1]+')" onmouseout="fc_chat.toggleCensor(0,'+E[1]+')"'}var R=(40+m.avatar_sz-18);var F=(H?'1px 0px 3px '+R+'px':'0px 0px 2px '+R+'px');var bb=(H?'-'+R+'px':'0px');if(c=='0'&&cp!=2){if(E[1]!='0'){g=q('fc_gmo'+(E[1]-1))}d=document.createElement('div');i(d).addClass("fc_"+o[u]+" fc_chat_container").attr('id','fc_gmo'+E[1]).css({display:C,'margin-left':'5px',padding:F,'text-indent':bb,'background-color':'transparent',align:'top',width:k.chat_container_width+'px','z-index':(Q+202)});if(P!='')i(d).onEvent('mouseover',fc_chat,'toggleCensor',1,E[1]).onEvent('mouseout',fc_chat,'toggleCensor',0,E[1]);d[z]=(H?bW(o[u],6)+' <div id=fc_gm'+E[1]+n+'>'+l+'</div>: ':'')+dh(H)+df(o[u+3],k.img1C,6,E[1],null,H)+x+S;if(k.img1C==0&&cc==1){dH=1}if(bx){d=hj(d,null)}im(bm,bl,1,d,g,1);if(k.img1C==0&&cc==1){k.img6.style.width=(O(bl.style.width)+11)+'px';k.img1C=1}gY(0);cc=0;dH=0}else{y=y+'<div class="fc_'+o[u]+' fc_chat_container" id="fc_gmo'+E[1]+'" '+P+' style="padding:'+F+';text-indent:'+bb+';'+gD+'">'+(H?bW(o[u],6)+' <div id=fc_gm'+E[1]+n+'>'+l+'</div>: ':'')+dh(H)+df(o[u+3],1,null,null,null,H)+x+S+'</div>';if(f=='1'){ck++}}E[1]++;ba[1]++}if(c=='1'){ip=-1;y=y+io();cm[6]=eF(1);dp[1]=bl.scrollHeight;if(cc==1){k.img1C=1;cc=0;t=(O(bl.style.width)+11)+'px'}if(cH){bm.style.display=s}bm[z]=y;if(bx){fc_chat.c_px(null,bx)}if(fD){}k.img6=q('fc_img6');eC=setTimeout("fc_chat.showdiv(1)",20)}else{if(cp==2){if(k.img1C==0&&cc==1){dH=1}if(bx){y=hj(null,y)}ei(bm,bl,1,y);if(k.img1C==0&&cc==1){k.img6.style.width=(O(bl.style.width)+11)+'px';k.img1C=1}cc=0;dH=0}}};var lv=-1;function ie(a,b,c,f,d){var g=0;var l;var n='';var r='';var t='';var y=4;if(c==6){if(cl[Z[c]]==null){cl[Z[c]]=a}}else{if(cQ[Z[c]]==null){cQ[Z[c]]=a}y=6}if(Z[c]<(cm[c]-1)){t='<a href="javascript:void" onclick="fc_chat.cP(1,'+c+');return false">&laquo;&laquo; '+j(111)+' 50</a>&nbsp;&nbsp;&nbsp;'}if(Z[c]!=1){r='<a href="javascript:void" onclick="fc_chat.cP(-1,'+c+');return false">'+j(113)+' 50 &raquo;&raquo;</a>&nbsp;&nbsp;&nbsp;'}var x=a.split('>');if(x.length-4>80){n='<div id="'+b+'Pg3" style="display:block; width:'+bD+'px; z-Index:'+(Q+202)+';'+bC+'margin-left:5px;font-weight:bold">'+j(116)+' '+Z[c]+'&nbsp;&nbsp;&nbsp;'+t+r+'<a href="javascript:void" onclick="fc_chat.cP(0,'+c+');return false">'+(c==6?j(117):j(271,'New Messages'))+' &raquo;&raquo;&raquo;</a></div><br>'}for(var o=x.length-y;o>0;o=o-y){if(x[o+1]!=x[o+2]){ek(x,o,1,0);l=dq(x[o],1,c)}x[o+1]=h.snm[x[o]];var u=x[o+2].split('&');var H='';if(u.length>1){H=u[1]}x[o+2]=cs(eh(u[0],H));var S=(c==7&&x[o+1]==x[o+2]);var P=!(g!=0&&lv==x[o]);var R=(40+m.avatar_sz-18);var F=(P?'1px 0px 3px '+R+'px':'0px 0px 2px '+R+'px');if(S){F='1px 0px 3px 0px'}var bb=(P&&!S?'-'+R+'px':'0px');lv=(S?-1:x[o]);var bq='" class="fc_'+(S?0:x[o])+' fc_chat_container '+(c==7?'fc_pgmsg':'')+'" style="padding:'+F+';text-indent:'+bb+';'+gD+'">';var bo=' <div ';if(c==6){if(P){if(h.gpe[x[o]]!=null){h.gpe[x[o]]+='fc_gpm'+g+'&'}else{h.gpe[x[o]]='fc_gpm'+g+'&'}}var bv='';var bk='';if((h.ac[x[o]]!='2'&&cM=='1')||cM=='2'){bv=' <span id="pcensor'+g+'"'+iP+'>'+es+'deleteMsg('+Z[6]+','+g+',\''+D[bd].nm+'\')">'+j(240)+'</a> </span> ';bk='onmouseover="fc_chat.toggleCensor(1,'+g+',1)" onmouseout="fc_chat.toggleCensor(0,'+g+',1)"'}n=n+'<div '+bk+' id="'+b+'pmo'+g+bq+(P?bW(x[o],c)+bo+' id="'+b+'pm'+g+'"'+eT+'>'+l+'</div>: ':'')+dh(P)+df(x[o+3],1,null,null,null,P)+' <i class="fc_aside" style="'+hA+bN+'">'+eD(x[o+2],1)+bv+'</i></div>'}else{if(P){if(h.ppe[x[o]]!=null){h.ppe[x[o]]+='fc_ppm'+g+'&'}else{h.ppe[x[o]]='fc_ppm'+g+'&'}}n=n+'<div id="'+b+'pmo'+g+bq;var bz=' <i class="fc_aside" style="'+hA+bN+'">'+eD(x[o+4],1)+'</i>';var cb='<span class="fc_pmu fc_pmu'+x[o+3]+'" '+(!P?'style="display:none"':'')+'>'+bW(x[o],c)+bo+' id="'+b+'pm'+g+'"'+eT+'>'+l+'</div>: </span>';if(S){n=n+bo+' id="'+b+'pm'+g+'"'+eT+'>'+dy(16)+fr+'</div></b> '+dh(P)+df(x[o+5],1,null,null,1,P)+bz+'</div>'}else if(x[o]==k.uid){n=n+cb+'<span style="font-style:italic" class="fc_msgto_'+x[o+3]+'">('+j(115)+' '+x[o+2]+')</span> '+dh(P)+df(x[o+5],1,null,null,null,P)+bz+'</div>'}else{n=n+cb+dh(P)+df(x[o+5],1,null,null,null,P)+bz+'</div>'}}g++}n=n+'<br><div id="'+b+'Pg3" style="display:block; width:'+bD+'px; z-Index:'+(Q+202)+';'+bC+'height:27px;margin-left:5px;font-weight:bold">'+j(116)+' '+Z[c]+'&nbsp;&nbsp;&nbsp;'+t+r+'<a href="javascript:void" onclick="fc_chat.cP(0,'+c+');return false">'+(c==6?j(117):j(271,'New Messages'))+' &raquo;&raquo;&raquo;</a></div>';dp[c]=d.scrollHeight;if(cH){f.style.display=s}f[z]=n;if(bx){fc_chat.c_px(null,bx)}if(fD){}if(c==6){eC=setTimeout("fc_chat.showdiv(6)",20)}else{gP=setTimeout("fc_chat.showdiv(7)",20)}};var dh=function(a){return(a?"":"")};this.startblock;var ik=0;var dC=[-1,-1];this.filt=function(c,f){var d=(f?k.cU:bE);var g=(f?1:0);fc_chat.startblock=true;dC[g]=0;if(f){ik=(c==1?1:0);i('#fc_conv_selector').html((c==1&&d>0?j(424,"Conversation with ")+h.snm[d]:j(425,"All Conversations"))+":");i('#fc_talk_filter').html("<a style='"+A.new_messages_box.text.link_css+"' "+bc+"filt("+(c?0:1)+",1)'>"+(c?j(426,'Filter On'):j(427,'Filter Off'))+"</a>")}else{if(bE=='0'&&eo!='0'&&c!=1){i("div.fc_current_chatee").remove();eo='0'}q('fc_flt')[z]=(c==1?"<a style='position:absolute;display:block;top:0px;left:0px' "+bc+"filt(0);'><span class='fc_e fc_e_flt2'></span></a>":"<a style='position:absolute;display:block;top:0px;left:0px' "+bc+"filt(1);'><span class='fc_e fc_e_flt'></span></a>");dV=(c==1?1:0);i('#fc_msg_selector').html((c==1&&d>0?j(424,"Conversation with ")+h.snm[d]:j(425,"All Conversations"))+":")}if(d<=0){c=0}var l=(Z[7]==0?'fc_prmsg':'fc_pgmsg');i((!f?"div.fc_chat_container."+l:"div.fc_tlk_cont")).each(function(){jGo.$(this).css("display",s);var a=jGo.$(this).attr("class").split(" ")[0].substr((f?6:3));var b=false;if(!c){b=true}else if(a==k.uid){jGo.$(this).find("span.fc_pmu.fc_pmu"+d).each(function(){b=true})}else{if(jGo.$(this).hasClass((!f?"fc_":"fc_tlk")+d)){b=true}}if(b){jGo.$(this).css({display:C,"background-color":"transparent"}).find("span.fc_pmsg_inrpt").remove();jGo.$(this).find("br.fc_pmsg_brk").remove();if(a!=dC[g]){jGo.$(this).css("text-indent",-((40+m.avatar_sz-18)/12)+"em").find("span.fc_pmu").css("display",bH);fc_chat.startblock=false}else{jGo.$(this).css("text-indent","0em").find("span.fc_pmu").css("display",s)}dC[g]=a}})};this.remove_msg=function(a,b,c){i(a).parent().parent().css('display',s).nextUntil(":not(div.fc_"+(c?"":"tlk")+b+")").css('display',s);var f=(c?0:1);dC[f]=0;var d=i((c?"div.fc_chat_container.fc_prmsg":"div.fc_tlk_cont")+":visible").last();if(d[0]){var g=d.attr("class").split(" ")[0].substr((c?3:6));dC[f]=g}return false};var ep;var hj=function(a,b){if(!T){if(!ep){ep=document.createElement('div');ep.style.display=s;document.body.appendChild(ep);i(ep).addClass('fc_d1')}i(ep).empty();if(a){i(ep).append(a)}else{i(ep).html(b)}fc_chat.c_px(null,bx);if(a){return a}else{return i(ep).html()}}else{return a}};var lu=function(a,b){return(h.o[a]=='1'?"":"<i class='fc_aside' style='"+(b?A.new_messages_box.text.offline_css:Y.font.color.offline_css)+"'>"+j(368,' Offline')+"</i>")};var io=function(){return"<div class='fc-triangle-right3' style='"+gD+";width:"+(i(bm).width()-90)+"px;padding:10px;border:"+Y.chat_room_panel.infobox.border+";margin:10px 0 15px 22px'>"+(m.autoGreet!=''&&!eY?m.autoGreet:'')+(!eY?lw()+(bJ?(m.guests_can_chat?j(108):j(394,'Guests may observe rooms only. To chat, please sign in.')):''):'')+(W==1?'<br><br>'+j(389,"To send a message, highlight a user first. To add a user to your friends list, click on their screen name, and then select 'add to Friends'."):(du()?'':j(109)+D[bd].nm+'.'))+"</div>"};var lw=function(){return j(107)+' <span style="font-weight:bold;font-style:italic;">'+h.snm[k.uid]+'</span>. '};var lk=function(a,b){b+="<IMG id='fc_img"+a+"' SRC='"+bw+"trans.gif' height=1 width=30 style='"+bC+"'>"+io();eb[z]=b;if(bx){fc_chat.c_px(null,bx)}if(a==6){k.img6=q('fc_img6')}else{k.img7=q('fc_img7')}};var oG=function(){if(bf(k.uid))jr(lw())};function eI(a,b){if(bK==3&&fc_ex.getRmAl()&&a!=k.uid&&!du()){var c;var f;var d;if(E[1]!='0'){f=q('fc_gmo'+(E[1]-1))}c=document.createElement('div');i(c).addClass("fc_chat_container").css({display:C,'margin-left':'5px',padding:'1px 0px 3px 0px','background-color':'transparent',align:'top',width:k.chat_container_width+'px','z-index':Q+202,'font-style':'italic'});if(b==0){c[z]=dy(16)+fr+h.nm[a]+j(127)}else{c[z]=dy(16)+fr+h.nm[a]+j(128)}gY((b==0?3:2));if(bx){c=hj(c,null)}ip=-1;im(bm,bl,1,c,f,1)}};this.clearMsgs=function(a,b){if(!B){var c='';var f=(a==6?bm:bO);if(cH){f.style.display=s}if(ba[a-5]>0){E[a-5]=0;ba[a-5]=0;var d;if(a==6){for(var g in h.ge){if(h.ge.hasOwnProperty(g)){delete h.ge[g]}}delete cl;cl=[];d='g';k.img1C=0;cm[6]=eF(1)}else{for(var g in h.pe){if(h.pe.hasOwnProperty(g)){delete h.pe[g]}}delete cQ;cQ=[];d='p';k.img2C=0;cm[7]=eF(2)}if(!m.no_chat_history&&!b){c=id(d,a)}}else{if((a==6&&ck*1>0)||(a==7&&cY*1>0)){if(!m.no_chat_history&&!b){c=id(d,a)}}}f[z]='';if(cH){if(a==6){eC=setTimeout("fc_chat.showdiv(1)",20)}else{gP=setTimeout("fc_chat.showdiv(2)",20)}}else{if(a==6){fc_chat.showdiv(1)}else{fc_chat.showdiv(2)}}c+='<IMG id="fc_img'+a+'" SRC="'+bw+'trans.gif" height=1 width="30px" style="'+bC+'">';f[z]=c;if(a==6){hk(-ff);k.img6=q('fc_img6')}else{this.clear_nm();k.img7=q('fc_img7')}if(bx&&!b){fc_chat.c_px(null,bx)}}};function lj(a){if(a==bd&&bj[2]=='0'&&eY==false){bj[20]='0';clearTimeout(eB);eB=null;if(Z[6]!=0){B=false;fc_chat.cP(0,6);B=true}if(fi){bm.style.overflow='auto'}if(cH){bm.style.display=s}E[1]=0;ba[1]=0;ck=0;for(var b in h.ge){if(h.ge.hasOwnProperty(b)){delete h.ge[b]}}delete cl;cl=[];k.img1C=0;cm[6]=1;hk(-ff);bm[z]='';if(cH){eC=setTimeout("fc_chat.showdiv(1)",20)}else{fc_chat.showdiv(1)}}};this.deletePrivateMsgs=function(){if(!B&&cY!=0){if(Z[7]!=0){fc_chat.cP(0,7)}fc_chat.clearMsgs(7,1);E[2]=0;ba[2]=0;for(var a in h.ppe){if(h.ppe.hasOwnProperty(a)){delete h.ppe[a]}}delete cQ;cQ=[];cm[7]=1;var b=Math.ceil(Math.log((cY*1+2))/Math.log(10))+1;I='0000'+b+'e'+cY;bh();cY=0}};function id(a,b){return'<span id="fc_'+a+'Pg" style="width:100%; z-Index:'+(Q+202)+';'+bC+'margin-left:5px"><a href="javascript:void" onclick="fc_chat.cP(1,'+b+');return false">&laquo;&laquo; '+j(112)+'</a></span>'};this.showdiv=function(a){var b=null;if(a==1||a==9){if(W==1)return;if(Z[6]==0){b=bm}hl(a)}else if(a==2){if(W==2)return;if(Z[7]==0){b=bO}hl(2)}else if(a==3){b=dw}else if(a==4){b=dn}else if(a==5){b=db}else if(a==6){if(Z[6]!=0&&k.sI==0){b=bP;bP.style.visibility="visible"}hl(6)}else if(a==7){if(Z[7]!=0&&k.sI==0){b=bQ;bQ.style.visibility="visible"}hl(7)}else{if(k.sI){b=cg;cg.style.visibility="visible"}hl(8)}if(b){b.style.display=C;if(a<3){b.scrollTop=b.scrollHeight-(cH?b.clientHeight+1:0)}}};function hl(a){setTimeout('fc_chat.enableScroll('+a+')',200)};function eF(a){var b=(a==1?ck:cY);return Math.floor(((b-ba[a])*1-1)/50)+2};this.cP=function(a,b){if(!B){var c;var f;var d;if(b==6){f=bP;d=bl;c=bm}else{f=bQ;d=bp;c=bO};if(b==7&&dV==1){fc_chat.filt(0)}B=true;if(a==0){Z[b]=0}else{Z[b]+=a}if(Z[b]==0){f.style.display=s;c.style.display=C;fv(1,b);B=false;return false}c.style.display=s;if(fi){f.style.overflow='hidden'}f.style.display=s;f[z]='<div style="'+bC+'width:'+bD+'px">'+he(j(121))+'</div>';if(b==6){for(var g in h.gpe){if(h.gpe.hasOwnProperty(g)){delete h.gpe[g]}}clearTimeout(eC);eB=setTimeout("fc_chat.cP2("+a+","+b+")",20)}else{for(var g in h.ppe){if(h.ppe.hasOwnProperty(g)){delete h.ppe[g]}}clearTimeout(gP);fT=setTimeout("fc_chat.cP2("+a+","+b+")",20)}}return false};this.cP2=function(a,b){if(b==6){bP.style.display=C;eB=setTimeout("fc_chat.cP3("+a+","+b+")",20)}else{bQ.style.display=C;fT=setTimeout("fc_chat.cP3("+a+","+b+")",20)}};this.cP3=function(a,b){var c;var f;if(b==6){iD=bP;f=bl;cc=0;c=bm}else{iD=bQ;f=bp;cc=0;c=bO};eB=null;fT=null;if(Z[b]!=0){fv(0,b)}var d;if(b==6){if(cl[Z[b]]!=null){ie(cl[Z[b]],'fc_g',b,iD,f);B=false;return false}bj[20]='1';d=(ck-ba[1])-(Z[b]-1)*50}else{if(cQ[Z[b]]!=null){ie(cQ[Z[b]],'fc_p',b,iD,f);B=false;return false}bj[19]='1';d=(cY-ba[2])-(Z[b]-1)*50}ge('0');cp='4';var g=bR(d,6);if(b==6){I="0000850"+g}else{I="0000851"+g}bh();return false};this.tgl_info_panel=function(){if(!B){fc_ex.tgl_info_panel.apply(fc_ex,arguments)}return false};this.search_userlist=function(a,b){if(!B){fc_ex.search_userlist(a,b,by,ec)}};var nE=function(a){fc_ex.applyUserListResults(a)};var dB=function(a,b){var c=bf(a)&&a!=k.uid&&b>3;var f=A.friends_box;var d=2;if(b>=4){f=A.online_box;d=1}var g=eu.select_user;return'<div class="fc_usr'+a+' fc_gst'+(c?1:0)+'" id="fc_t'+b+''+a+'" '+nK(a)+' style="padding-top:.25em;'+f.list_divider_css+';display:'+(c&&!cU?'none':'block')+';background-color:'+(a==cT?g.selected_color:g.off_color)+'">'+bW(a,null,0,1,1)+'<div class="fc_t2'+a+'"  style="'+bN+'">&nbsp;'+hc(a)+'</div>'+dD(a,1,1)+fw(a,1)+eJ(a,d)+(b==5?ns(a):'')+gf(a)+'<br>'+fx(a,null,dj.dialog_box.text.user_title_css)+fy(a,d)+'</div>'};this.build_userlist=function(a){return'<div id="fc_t5'+a+'" style="padding-top:.25em;margin-left:.833em;'+G.info_panel.list_divider_css+'">'+bW(a,null,0,1)+'&nbsp;<div class="fc_t2'+a+'"  style="'+bN+'">'+hc(a,1)+'</div>'+dD(a,1,1)+fw(a,1)+eJ(a,3)+gg(a)+'<br>'+fx(a,1,G.info_panel.user_info_css)+fy(a,3)+'<br></div>'};var le=function(a,b){i("#"+b+a).remove();if(jD==a){i('#fc_view').remove()}};var lx=function(a,b,c,f){if(f==1){f='em';a/=12;b/=12;c/=12}else{f='px'}a+=f;b+=f;c+=f;return[a,b,c]};var dD=function(a,b,c){var f=lx(16,11,5,c);if((h.cc[a]!=''||h.cc[a]==null)&&m.show_country_flags){return'<img unselectable="on" align=absmiddle title="'+h.cc[a].toUpperCase()+'" alt=" " style="width:'+f[0]+';height:'+f[1]+';margin-left:'+f[2]+'" SRC="'+V+'flags/'+h.cc[a]+'.png" border=0>'}else{return''}};var fw=function(a,b){var c=lx(0,18,3,b);return'<a '+mz+'('+a+');return false;" class="fc_'+a+'_cam" style="display:'+kT(a)+';margin-left:'+c[2]+';" title="'+j(33)+'"><img height="'+c[1]+'" style="height:'+c[1]+'" SRC="'+V+'webcam_on.png" border=0></a>'};var hc=function(a,b){var c='class="fc_online"';var f=(b?fc_chat.uolnk(a,1):'onclick=\''+eV+'return fc_chat.toggleMenu(this,'+a+',"u1");\'');var d=ly(a,(b?5:9));if(a==k.uid){d='margin-left:.1em;'+d;c='class="fc_online2"'}return'<span class="fc_usertag"><IMG SRC="'+bw+'trans.gif" style="'+d+';margin-right:.3em;" '+c+'><a style="'+(b?G.info_panel.screen_name_css:dj.dialog_box.text.screen_name_css)+'" title="'+h.nm[a]+': '+j(282,"Click for options")+'" href="javascript:void" '+f+'>'+h.snm[a]+'</a></span>'};var ly=function(a,b){var c=(b>2&&b<6?bg:Y);c=(b==9?eu:c);var f=c.user_icon.offline_css;if(h.o[a]=='1'){f=c.user_icon.online_css;if(h.bg[a]=='1'){f=c.user_icon.blocked_css}else if(h.bs[a]=='1'){f=c.user_icon.busy_css}}return f};var lz=function(a){i("div.fc_t2"+a).html(hc(a));if(hg){if(h.o[a]=='0'){fc_chat.remove_online(a)}else{if(!i("#fc_t4"+a)[0]){fc_chat.add_online(a)}}}if(h.o[a]=='0'||h.s[a].charAt(9)!=h.pt[a]){jw(a)}var b=0;if((!bf(a)||h.o[a]=='1')&&ci(a)&&a!=k.uid){b=1}if(X['u1']&&X['u1'].isOpen&&ct==a){i('#fc_menu_item1').html(fY(ca,b,a,"talk("+a+")",j(351,"Send message)")))}if(a!=k.uid&&fm==2&&X['mod']&&X['mod'].isOpen&&ct==a){i('#fc_kickban').html(fY(dS,(h.o[a]=='1'?1:0),a,"kickban("+a+")",j(439,"Kick and ban"),'_mod'));if(h.ac[k.uid]=='2'){i('#fc_blockip').html(fY(dS,(h.o[a]=='1'?1:0),a,"blockip("+a+")",j(440,"Block IP (30 min)"),'_mod'))}}if((h.o[a]=='0'||!ci(a))){if(cT==a){jE()}if(bK>1&&bE==a){if(!ci(a)||(bf(a)&&h.o[a]!='1')){iq();bn(h.nm[a]+j(428," is no longer available for private chat."))}else{jF(a)}}}if(cT==a&&h.o[a]=='1'){lA(a)}if(bE==a&&h.o[a]=='1'){jF(a)}};var eJ=function(a,b){var c='';var f=bg.font.style.mod_css;if(b==1){f=A.online_box.text.user_info_css}else if(b==2){f=A.friends_box.text.user_info_css}else if(b==3){f=G.info_panel.user_info_css}var d='<span unselectable="on" style="cursor:default;margin-left:0em;'+f+'">&nbsp;&lt;';if(h.ac[a]=='1'){c=d+j(123)+'&gt;</span>'}else if(h.ac[a]=='2'){c=d+j(124)+'&gt;</span>'}else if(a==k.uid&&bf(a)){c=d+j(448,'me')+'&gt;</span>'}return c};var gf=function(a){var b=(h.msgB[a]!=0?'style="font-weight:bold"':'');var c='&nbsp;<span class="fc_u_msgC fc_u_msgC'+a+'" '+b+'>';var f='</span>';var d='';if(h.msgC[a]!=0){d='(<span class="fc_u_msgC_inner" '+b+'>'+h.msgC[a]+'</span>)'}return c+d+f};var jC=function(a,b,c){var f=(!c?'bold':'normal');if(!c){if(b==0){h.msgC[a]=0;i('span.fc_u_msgC'+a).html('')}else{h.msgC[a]+=b;i('span.fc_u_msgC'+a).html('(<span class="fc_u_msgC_inner">'+h.msgC[a]+'</span>)')}};h.msgB[a]=(c?0:1);i('span.fc_u_msgC'+a+',span.fc_u_msgC'+a+' span').css('font-weight',f)};function nF(a){var b=[];var c=[];var f=[];var d=dX.split('&');if(a=='1'){cA[6]=0;cA[7]=0}for(var g=0;g<d.length-1;g++){if(a=='1'){if(h.s[d[g]].charAt(0)!=h.o[d[g]]||h.s[d[g]].charAt(4)!=h.b[d[g]]||h.s[d[g]].charAt(5)!=h.bg[d[g]]||h.s[d[g]].charAt(8)!=h.bs[d[g]]||h.s[d[g]].charAt(9)!=h.pt[d[g]]){lz(d[g]);if(h.pge[d[g]]!=''){var l=h.pge[d[g]].split('&');for(var n=0;n<l.length-1;n++){bX(d[g],l[n],2,0)}}if(h.ife[d[g]]!=null){var r=h.ife[d[g]].split('&');for(var n=0;n<r.length-1;n++){bX(d[g],r[n],3,0)}}if(d[g]==k.cU){lB(d[g])}}if(h.o[d[g]]=='1'){if(h.d[d[g]]==dL){var t='';var y=m.avatars_dir+'default.gif';var x=bH;var o=iU;if(h.av[d[g]]!=''&&h.av[d[g]]!='default.gif'){y=h.av[d[g]];y=(y.indexOf('/')==0)?y.substr(1):m.avatars_dir+y}else{o+="background-color:#"+h.acl[d[g]]+";"+jl}var u='<a id="fc_';var H='av" style="display:'+x+';margin-left:15px;" href=\"javascript:void\" ';h.de[d[g]]='fc_dl'+E[3];var S=dq(d[g],0,3);t='&nbsp;'+bW(d[g],3,0,1);var P=(bE==d[g]?fL:eU);var R=bf(d[g])&&d[g]!=k.uid;var F='<div class="fc_'+d[g]+' fc_gst'+(R?1:0)+'" id=fc_dl'+E[3]+' style="display:'+(R&&!cU?'none':'block')+';font-weight:bold;width:'+bU+'px;z-Index:'+(Q+202)+';'+hB+P+'" onClick="fc_chat.send_to('+d[g]+')" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)">'+t+S+gg(d[g])+dD(d[g])+fw(d[g])+gf(d[g])+'<div id="fc_dl'+E[3]+gw+fx(d[g])+eJ(d[g])+fy(d[g])+hm(d[g])+'</div></div>';ga(d[g],b,F,6);E[3]++;ba[3]++;if(h.g[d[g]]==bd&&!du()&&h.t[d[g]]=='1'){h.gre[d[g]]='fc_gl'+E[4];S=dq(d[g],0,4);t='&nbsp;'+bW(d[g],4,0,1);F='<div class="fc_'+d[g]+' fc_gst'+(R?1:0)+'" id=fc_gl'+E[4]+' style="display:'+(R&&!cU?'none':'block')+'; font-weight:bold; width:'+bU+'px; z-Index:'+(Q+202)+';'+hB+P+'" onClick="fc_chat.send_to('+d[g]+')" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)">'+t+S+gg(d[g])+dD(d[g])+fw(d[g])+gf(d[g])+'<div id="fc_gl'+E[4]+gw+fx(d[g])+eJ(d[g])+fy(d[g])+hm(d[g])+'</div></div>';ga(d[g],c,F,7);E[4]++;ba[4]++}}}}else{if(h.s[d[g]].charAt(0)!=h.o[d[g]]||h.s[d[g]].charAt(4)!=h.b[d[g]]||h.s[d[g]].charAt(5)!=h.bg[d[g]]||h.s[d[g]].charAt(8)!=h.bs[d[g]]||h.s[d[g]].charAt(9)!=h.pt[d[g]]){lz(d[g]);if(h.pge[d[g]]!=''){var l=h.pge[d[g]].split('&');for(var n=0;n<l.length-1;n++){bX(d[g],l[n],2,0)}}if(h.ife[d[g]]!=null){var r=h.ife[d[g]].split('&');for(var n=0;n<r.length-1;n++){bX(d[g],r[n],3,0)}}if(d[g]==k.cU){lB(d[g])}if(bK>1){if(h.pe[d[g]]!=null){var bb=h.pe[d[g]].split('&');for(var n=0;n<bb.length-1;n++){bX(d[g],bb[n],1,2)}}if(Z[7]!=0){if(h.ppe[d[g]]!=null){var bq=h.ppe[d[g]].split('&');for(var n=0;n<bq.length-1;n++){bX(d[g],bq[n],1,7)}}}if(h.ge[d[g]]!=null){var bo=h.ge[d[g]].split('&');for(var n=0;n<bo.length-1;n++){bX(d[g],bo[n],1,1)}}if(Z[6]!=0){if(h.gpe[d[g]]!=null){var bv=h.gpe[d[g]].split('&');for(var n=0;n<bv.length-1;n++){bX(d[g],bv[n],1,6)}}}if(h.o[d[g]]=='1'){if(h.d[d[g]]==dL){if(h.de[d[g]]==null){gh(d[g],3,'fc_dl')}else{bX(d[g],h.de[d[g]],0,3)}if(h.g[d[g]]==bd&&h.t[d[g]]=='1'){if(h.gre[d[g]]==''){gh(d[g],4,'fc_gl');eI(d[g],1)}else{bX(d[g],h.gre[d[g]],0,4)}}else{if(h.gre[d[g]]!=''){dr('fc_chatmem',4,h.gre[d[g]],d[g]);eI(d[g],0)}}}else{if(h.de[d[g]]!=null){dr('fc_onl',3,h.de[d[g]],d[g]);if(h.gre[d[g]]!=''){dr('fc_chatmem',4,h.gre[d[g]],d[g]);eI(d[g],0)}}}}else{if(h.de[d[g]]!=null){dr('fc_onl',3,h.de[d[g]],d[g]);if(h.gre[d[g]]!=''){dr('fc_chatmem',4,h.gre[d[g]],d[g]);eI(d[g],0)}}}if(h.pve[d[g]]!=''){bX(d[g],h.pve[d[g]],0,5)}}}else{if((h.s[d[g]].charAt(0)!=h.o[d[g]]||h.s[d[g]].charAt(1)!=h.d[d[g]]||O(h.s[d[g]].substr(10))!=h.g[d[g]]||h.s[d[g]].charAt(3)!=h.t[d[g]])&&bK>1){if(h.o[d[g]]=='1'){if(h.d[d[g]]==dL){if(h.de[d[g]]==null){gh(d[g],3,'fc_dl')}if(h.g[d[g]]==bd&&h.t[d[g]]=='1'){if(h.gre[d[g]]==''){gh(d[g],4,'fc_gl');eI(d[g],1)}}else{if(h.gre[d[g]]!=''){dr('fc_chatmem',4,h.gre[d[g]],d[g]);eI(d[g],0)}}}else{if(h.de[d[g]]!=null){dr('fc_onl',3,h.de[d[g]],d[g]);if(h.gre[d[g]]!=''){dr('fc_chatmem',4,h.gre[d[g]],d[g]);eI(d[g],0)}}}}else{if(h.de[d[g]]!=null){dr('fc_onl',3,h.de[d[g]],d[g]);if(h.gre[d[g]]!=''){dr('fc_chatmem',4,h.gre[d[g]],d[g]);eI(d[g],0)}}}if(h.pve[d[g]]!=''){bX(d[g],h.pve[d[g]],0,5)}}}}if(hh&&h.o[d[g]]=='1'){var F=dB(d[g],4);ga(d[g],f,F,4)}if(h.nw[d[g]]=='1'){if(h.idl[d[g]]!=h.s[d[g]].charAt(7)){jG(d[g],'idl')}if(h.ty[d[g]]!=h.s[d[g]].charAt(6)){jG(d[g],'ty')}if(h.nk[d[g]]!=h.nko[d[g]]){lC(d[g])}if(h.tag[d[g]]!=h.tago[d[g]]){kM(d[g])}if(h.vs[d[g]]!=h.vso[d[g]]){fc_chat.c_Vs(d[g])}}if(a=='0'){if(bK>1){if(h.av[d[g]]!=h.avo[d[g]]){ch(jGo.MD5.hex_md5(h.av[d[g]]),19);fc_ex.c_Av(d[g])}if(h.pr[d[g]]!=h.pro[d[g]]){fc_ex.c_Pr(d[g])}if(h.ttl[d[g]]!=h.ttlo[d[g]]){fc_ex.c_Ttl(d[g])}}}if(bK<2&&h.av[d[g]]!=h.avo[d[g]]){ch(jGo.MD5.hex_md5(h.av[d[g]]),19);i('img.fc_t'+d[g]+'avimg').attr({src:(h.av[d[g]].indexOf('/')==0)?h.av[d[g]].substr(1):m.avatars_dir+h.av[d[g]]})}nL(d[g]);h.nw[d[g]]='1';h.nko[d[g]]=h.nk[d[g]];h.tago[d[g]]=h.tag[d[g]];h.avo[d[g]]=h.av[d[g]];h.pro[d[g]]=h.pr[d[g]];h.ttlo[d[g]]=h.ttl[d[g]];h.vso[d[g]]=h.vs[d[g]];h.s[d[g]]=h.o[d[g]]+h.d[d[g]]+'0'+h.t[d[g]]+h.b[d[g]]+h.bg[d[g]]+h.ty[d[g]]+h.idl[d[g]]+h.bs[d[g]]+h.pt[d[g]]+h.g[d[g]];h.u[d[g]]=0}if(a=='1'){dp[3]=cZ.scrollHeight;dw[z]=fq(b,6);dp[4]=da.scrollHeight;lD(bd,c);if(cE==1){jH(cX)}if(cE==0){jH(bs)}}if(hh){q('fc_t4')[z]=fq(f,4);q('fc_t6')[z]=jI(0);ih();hh=0;hg=1}if(gt==1){if(cE==1){jJ(cX)}if(cE==0){jJ(bs)}gt=0}};function ga(a,b,c,f){var d=bf(a);if(f&&d&&a!=k.uid){cA[f]++}var g=(h.idl[a]!='1'?7:6);if(a==k.uid){g=0}else if(h.ac[a]=='2'){g=1}else if(h.ac[a]=='1'){g=2}else if(h.ttl[a]!=''){g=3}else if(!d){g=(g==6?4:5)}if(!b[g]){b[g]=''}b[g]+=c};var hd=function(a,b){cA[a]+=b;i("#fc_shw_gst"+a).css("display",(!cU&&cA[a]?C:s)).html(j(469,'+')+" "+cA[a]+" "+j(470,'more guests.')+" <a href='javascript:fc_chat.tgl_guests(1)' style='"+ir(a)+"'>"+j(471,'Show')+"</a>.");i("#fc_hd_gst"+a).css("display",(cU&&cA[a]?C:s))};var hU=function(a,b,c,f){hd(c,f);var d=i(a+" div.fc_gst0").last();if(c==7&&!d[0]){i('#fc_groupType').after(b)}else{d.after(b)}};this.tgl_guests=function(a){cU=(a?true:false);for(var b=1;b<10;b++){if(cA[b]){i("#fc_shw_gst"+b).css("display",(cU?s:C));i("#fc_hd_gst"+b).css("display",(cU?C:s))}}i("div.fc_gst1").css("display",(cU?C:s))};function lE(a,b,c){var f=2;if(h.o[a]=='1'&&!(bf(a))){f=1}else if(h.o[a]=='1'){f=0}else if(h.o[a]=='0'&&bf(a)){f=3}if(!b[f]){b[f]=''}b[f]+=c};function fq(a,b){var c='';for(be=0;be<8;be++){if(a[be]!=null){c+=a[be]}}c+="<div style='display:"+(b&&cA[b]&&!cU?C:s)+";"+ir(b,1)+"' class='fc_shw_gst' id='fc_shw_gst"+(b||0)+"'>"+j(469,'+')+" "+cA[b||0]+" "+j(470,'more guests.')+" <a href='javascript:fc_chat.tgl_guests(1)' style='"+ir(b)+"'>"+j(471,'Show')+"</a>.</div><div style='display:"+(b&&cA[b]&&cU?C:s)+"' id='fc_hd_gst"+(b||0)+"'><a href='javascript:fc_chat.tgl_guests(0)' style='"+ir(b)+"'> "+j(472,'Hide Guests')+"</a>.</div>";return c};var ir=function(a,b){var c=bg.font.style;if(a==4){c=A.online_box.text}else if(a==5){c=N.chatbox.style.dialog_box.text}c=(b?c.info:c.secondary_link_css);return c};var jG=function(a,b,c){var f=(((b=='idl'&&h.idl[a]=='1')||(b=='ty'&&h.ty[a]=='1'))?bH:s);if(c){f=c}i('.fc_'+a+b).css("display",f)};var fy=function(a,b){var c=bg.font.style.user_info_css;if(b==1){c=A.online_box.text.user_info_css}else if(b==2){c=A.friends_box.text.user_info_css}else if(b==3){c=G.info_panel.user_info_css}var f=';'+c+';cursor:default;'+bC;var d=s;if(h.idl[a]=='1'){d=bH}var g=s;if(h.ty[a]=='1'){g=bH}var l=s;if(h.tag[a]!=''){l=bH}return'<span class="fc_'+a+'nick" style="'+f+';font-style:italic;">'+(bf(a)?'&nbsp;'+j(1)+(h.nk[a]!=''?'&nbsp;('+h.nk[a]+')':'')+'&nbsp;&nbsp;':'')+'</span><span class="fc_'+a+'idl" style="display:'+d+f+'">&nbsp; '+j(126)+'...</span> <span class="fc_'+a+'ty" style="display:'+g+f+'">&nbsp; '+j(125)+'...</span><span class="fc_'+a+'tag" style="display:'+l+f+'">&nbsp; &bull;&nbsp;'+h.tag[a]+'&nbsp;&bull;&nbsp;</span>'};function nJ(){var a=0;for(var b=0;b<22;b++){a+=bj[b]-0}if(a==0){if(!eB&&!fT){B=false};if(cp!='0'){if(cp=='1'){is((U=='1'?'0':'1'))}else if(cp=='2'){ge('1')}else if(cp=='3'){nM()}else if(cp=='4'){ge('1')}cp='0'}}};function gh(a,b,c){var f;if(b==3){f=dq(a,0,b);h.de[a]=c+E[b];it(dw,cZ,b,c,a,f,0)}else if(b==4){if(!du()){f=dq(a,0,b);h.gre[a]=c+E[b];it(dn,da,b,c,a,f,0)}}else if(b==5){f=dq(a,0,b);h.pve[a]=c+E[b];it(db,cR,b,c,a,f,0)}else{cw[a]=c+E[b];it(o0,o0,b,c,a,h.snm[a],0)}};function it(a,b,c,f,d,g,l){var n;var r;if(ba[c]!='0'&&l==1){r=q(f+(E[c]-1))}n=document.createElement('div');var t=bf(d)&&d!=k.uid;n.className='fc_'+d+(c==3||c==4?' fc_gst'+(t?1:0):'');n.setAttribute('id',f+E[c]);n.style.display=((c==3||c==4)&&t&&!cU?s:C);if(c>2){n.style.fontWeight='bold'}n.style.align='top';n.style.textAlign='left';n.style.width=bU+'px';n.style.zIndex=Q+202;n.style.paddingTop='4px';n.style.paddingBottom='0px';n.style.borderBottom=mx;if(c==5){n.style.backgroundColor=(bE==d?fL:eU);n.onmouseover=fc_ex.overSide;n.onmouseout=fc_ex.offSide;i(n).onEvent('click',fc_chat,'send_to',d)}else if(c==6){n.onmouseover=fc_chat.overBlk;n.onmouseout=fc_chat.offBlk;n.onclick=fc_chat.clickBlk;n=fc_ex.mk_bL_div(n);g=' &nbsp;'+g}else{n.style.backgroundColor=(bE==d?fL:eU);n.onmouseover=fc_ex.overSide;n.onmouseout=fc_ex.offSide;i(n).onEvent('click',fc_chat,'send_to',d)}if(c>2&&c<6){var y='';y='&nbsp;'+bW(d,c,0,1);n[z]=y+g+gg(d)+dD(d)+fw(d)+gf(d)+'<div id="'+f+E[c]+gw+fx(d)+eJ(d)+fy(d,s,s)+hm(d)+'</div>'}else{n[z]=g+dD(d)+eJ(d)}im(a,b,c,n,r,l,d);E[c]++;ba[c]++};function dq(a,b,c){var f;var d='&nbsp;';var g=(c>2&&c<6?'class="fc_onlinesp"':'class="fc_online"');var l=(c<=2||c==6||c==7?'font-weight:bold':'');var n=fc_chat.uolnk(a,c,(c>2&&c<6));var r='fc_u';var t=(b==1?'2':'');var y='javascript:void';if(c==0){t='3'}var x=ly(a,c);if(h.o[a]=='1'){r+='o';if(h.b[a]=='1'){r='fc_ublk'}}else{if(h.b[a]=='1'){r='fc_ublko'}}r+=t;if(b>1||a==k.uid){x='margin-left:.'+(c>2&&c<6?'3':'2')+'em;'+x;g=(c>2&&c<6?'class="fc_onlinesp2"':'class="fc_online2"');d=''}else{r+=(b==1?' fc_a1':' fc_a2')}var o=(a==k.uid&&b<2?'<small>':'');var u=(a==k.uid&&b<2?'</small>':'');f='<span class="fc_usertag">'+d+'<IMG SRC="'+bw+'trans.gif" style="'+x+';margin-right:.3em;" '+g+'>'+o+'<a HREF="'+y+'" '+n+' class="'+r+'" style="'+l+'">'+h.snm[a]+'</a>'+u+'</span>';return f};this.uolnk=function(a,b){var c=eV;return(m.userbox_mode==1?'onMouseOver="clearTimeout(fc_chat.t2);setTimeout(\'fc_chat.show_user_chat(this,400,80,'+a+','+b+')\',2);" onmouseout="setTimeout(\'fc_chat.leavingUser()\',10);"':'onClick="'+c+'clearTimeout(fc_chat.t2);setTimeout(\'fc_chat.show_user_chat(this,400,80,'+a+','+b+')\',2);return false;" ')};function bX(a,b,c,f){var d;var g='';if(c<3){d=q(b)}else{try{d=kO(b);kO(b+'img').style.display=s;if(d.className.substr(3)!=a){return true}}catch(err){}}if(f==5&&h.o[a]!='1'){jG(a,'idl',s)}var l=dq(a,c,f);if(c==2){q(b+'img').style.display=s}try{i(d).find("span.fc_usertag").replaceWith(l)}catch(err){}};function dr(a,b,c,f){var d;var g=q(c);d=a.scrollTop;dp[b]=a.scrollHeight;if(a.scrollTop!='0'&&g.style.display==C){g.parentNode.removeChild(g);if(kA){a.scrollTop-=a.scrollHeight-dp[b]}else{a.scrollTop=d-(a.scrollHeight-dp[b])}}else{g.parentNode.removeChild(g)}ba[b]--;if(b==3){if(h.de[f]&&bf(f)){hd(6,-1)}delete h.de[f]}else if(b==4){if(h.gre[f]&&h.gre[f]!=''&&bf(f)&&f!=k.uid){hd(7,-1)}h.gre[f]=''}else if(b==5){h.pve[f]=''}};var lF=function(a,b,c,f){if(c==3||c==4){if(f==k.uid){if(c==3){a.insertBefore(b,a.firstChild)}else{i('#fc_groupType').after(b)}}else{if(bf(f)){hU("#"+i(a).attr("id"),b,c+3,1)}else{var d=(c==3?h.de[k.uid]:h.gre[k.uid]);if(d&&d!=''){i('#'+d).after(b)}else{if(c==3){a.insertBefore(b,a.firstChild)}else{i('#fc_groupType').after(b)}}}}}else if(c==5){i('#fc_contacts_top_main').after(b)}else{a.appendChild(b)}};function im(a,b,c,f,d,g,l){var n=b.scrollTop;if((g==1&&b.scrollHeight-n<b.clientHeight+50)||(g==0&&n!=0)){lF(a,f,c,l);if(g==1){b.scrollTop=b.scrollHeight-(cH?b.clientHeight+1:0);if(dH){setTimeout("fc_chat.delayScroll("+c+")",50)}lh(b)}}else{lF(a,f,c,l)}if(bx!=Y.font.size){}if(fD!=Y.font.color.default_text_color){}};function ei(a,b,c,f){if(b.scrollHeight-b.scrollTop<b.clientHeight+50){a[z]+=f;b.scrollTop=b.scrollHeight-(cH?b.clientHeight+1:0);if(dH){setTimeout("fc_chat.delayScroll("+c+")",50)}lh(b)}else{a[z]+=f}if(bx!=Y.font.size){}if(fD!=Y.font.color.default_text_color){}};this.delayScroll=function(a){if(a==1){bl.scrollTop+=1000}else if(a==2){bp.scrollTop+=1000}else if(a==3){i('#fc_view_msgs')[0].scrollTop+=1000}else{i('#fc_page_chat_wrapper')[0].scrollTop+=1000}};this.change_Border_oD=function(a){gN.style.border=iW;gN.style.borderTop='0px';if(!a){gN.style.borderTop=iW}};this.change_Border_sD=function(a){dN.style.border=G.tools_panel.border;dN.style.borderTop='0px';if(!a){dN.style.borderTop=G.tools_panel.border}};function dR(a,b,c){if(a.style.position=='fixed'){c-=i(document).scrollTop()}a.style.left=b+'px';a.style.top=c+'px'};function bI(a,b,c,f,d,g,l,n,r,t,y,x){a.className=t;a.style.display=b;a.style.position=(y?y:'absolute');if(c!=''){a.style.top=c+'px';a.style.left=f+'px'}a.style.width=d+'px';a.style.height=g+'px';if(l){i(a).css(l)}a.style.backgroundColor=n;a.style.fontSize=r;a.style.overflow='auto';if(x){a.style.overflowX='hidden'}};function nD(a,b){i("span.msgpg_"+a+"_"+b).html(' '+hO(j(119))+' ')};function nC(a,b){if(a==bd){var c;var f;var d;if(b>=ck-ba[1]){c=b-(ck-E[1]);f=q('fc_gmo'+c);d=q('fc_gm'+c)}else if((b>=ck-ba[1]-Z[6]*50)&&(b<ck-ba[1]-Z[6]*50+50)){c=b-(ck-ba[1]-Z[6]*50);if((ck-ba[1]-Z[6]*50)<0){c=b}f=q('fc_gpmo'+c);d=q('fc_gpm'+c);delete cl;cl=[]}else{delete cl;cl=[];return true}if(f){var g=f[z];if(d){var l=g.substring(0,(g.indexOf('>:')+2));var n=g.substring((g.indexOf('<i ')));g=l+' '+hO(j(119))+' '+n;f[z]=g}else{var l=g.substring((g.indexOf('<i ')));g=hO(j(119))+' '+l;f[z]=g}}}};this.imgFWrapper=function(){if(m.upload_images_enabled&&!B){var a=eM+"Upload."+m.script_type+"?id="+k.uid+"&dummy=true";fc_chat.createTopIFrame(a,2,0)}return false};this.avaFWrapper=function(){if(!B){var a=eM+"Avatars."+m.script_type+"?id="+k.uid+"&dummy=true";fc_chat.createTopIFrame(a,3,0)}return false};this.t5=null;this.t6=null;var lG=function(){fc_ex.init(h,J,bL,bl,fg,bp,eA,cZ,gK,da,gL,cR,gM,bm,bO,bP,bQ,cg,ed,bM,cS,bV,kz,M,fh,K)};this.scriptLoaded=function(){fB=true;lG();if(fC==0){if(et){et=false;var a='';var b='07';if(D[dt]&&D[dt].l!=0){a=jGo.MD5.hex_md5(gE);b='39'}I+=String.fromCharCode(10)+'000'+b+'4'+bR(dt,6)+a}bh()}else if(fC==1){B=false;if(fc_chat.ww2){fc_ex.initVideoChat(fc_chat.ww2,kC,fc_chat.cvu_priv)}}else if(fC==2){B=false;if(fc_chat.ww2){fc_ex.subscribe(kW,k.uid,gB,D,bd)}}fC=0};function jy(a,b){var c;var f;if(a.scrollTop==0&&i(document).scrollTop()&&i(document).scrollTop()>0){f=i(document).scrollTop()}else{f=a.scrollTop}c=(true)?Math.max(50+f,f+Math.round((ew()-b)/2)):Math.max(50+f,mouseY-b+50);if(c<50){c=50}return c};function li(a,b){var c;var f;if(a.scrollLeft==0&&i(document).scrollLeft()&&i(document).scrollLeft()>0){f=i(document).scrollLeft()}else{f=a.scrollLeft}c=(true)?Math.max(100+f,f+Math.round((eZ()-b)/2)):Math.max(100+f,mouseX-b+50);if(c<100){c=100}else if(c>a.scrollWidth-(100+b)){c=a.scrollWidth-(100+b);if(c<100)c=100}return c};var lH=false;this.tgl_chatcenter=function(g,l,n){var r=(fc_chat.vidAcc>1?'':' '+j(32));var t=(m.upload_images_enabled?"return fc_chat.createTopIFrame('"+eM+"Upload."+m.script_type+"?id="+k.uid+"&dummy=true',2,0);":"");var y="return fc_chat.createTopIFrame('"+eM+"Avatars."+m.script_type+"?id="+k.uid+"&dummy=true',3,0);";var x=eZ();var o;if(!eS&&q('fastcatchatentry')!=null){o=fp(q('fastcatchatentry'));if(((x-o.x)<g)&&((g-q('fastcatchatentry').offsetWidth)<o.x)){ea=o.x-(g-q('fastcatchatentry').offsetWidth)}else{ea=o.x}fc=o.y}else{o=fp(cy);if(((x-o.x)<g)&&((g-cy.offsetWidth)<o.x)){ea=iO-(g-cy.offsetWidth)}else{ea=iO}fc=kd}var u=document.body;var H=document.documentElement;var S=(u.scrollHeight>=H.scrollHeight)?u:H;if(!L){fc=jy(S,l)-40;ea=li(S,g)}lm(fd);if(N.config.layout==2){fc_chat.banner_resize()}fZ(1);cf=0;ig();if(U=='0'){fc_chat.close_boxes(1,U)}if(lH){if((K&&K.frame[0].style.display==s)||gz){if(!gz){is('0');K.cN[0].style.display=C;K.frame[0].style.display=C;dR(K.frame[0],ea,fc);dR(K.cN[0],ea+5,fc+40);if(M){bV.style.display=C}hn(.05)}bj[0]='3';U='1';i("#fc_sign_in_out").html("&bull; "+jK(k.uid));fc_chat.setPaused();I="0000231";cp='2'}else{ge('0');K.frame[0].style.display=s;K.cN[0].style.display=s;if(fc_chat.cvu_priv==null){fc_chat.closeVid()}if(M){bV.style.display=s}bj[0]='2';U='0';nN();if(dG==1){fc_chat.setPaused()}I="0000230";cp='1'}return false}else{is('0');bj[5]='1';bj[0]='3';U='1';fc_chat.setPaused();I="0000231";cp='2'}var P=G.widgets.text_icon_css;var R=gR+";cursor:default";J=document.createElement('div');J.setAttribute('id','fc_bd');J.className="jGo_app jGo_myapp";if(G.background_image!=''){J.style.backgroundImage='url('+V+G.background_image+')'}J.style.display=C;J.style.position='absolute';J.style.overflow='hidden';J.style.textAlign='left';J.style.left=ea+'px';J.style.top=fc+'px';J.style.width=g+'px';J.style.height=l+'px';J.style.backgroundColor='transparent';J.style.border=G.border;var F=function(a,b){var c=[];c[0]={id:'dragger5',c:"",d:(T?s:je),t:2,l:bD-28,w:30,h:4,x:-142,y:-140,crs:"s-resize",evt:""};c[1]={id:'tab10',c:"",d:(T&&W!=1?C:s),t:2,l:bD-7,w:15,h:7,x:-99,y:-137,crs:"default",evt:"onmousedown='fc_ex.tab_chat(0,-1)'"};c[2]={id:'tab11',c:"",d:(T&&W!=1?C:s),t:2,l:bD-35,w:15,h:7,x:-119,y:-137,crs:"default",evt:"onmousedown='fc_ex.tab_chat(1,1)'"};c[3]={id:'dragger3',c:" fc_side_drag",d:(T||!dv?s:C),t:(24+Math.floor((cO+bT)/2)),l:jd,w:30,h:4,x:-142,y:-140,crs:"s-resize",evt:""};c[4]={id:'tab12',c:" fc_side_drag",d:(T&&dv?C:s),t:(24+Math.floor((cO+bT)/2)),l:jd+21,w:15,h:7,x:-99,y:-137,crs:"default",evt:"onmousedown='fc_ex.tab_chat(2,-1)'"};c[5]={id:'tab13',c:" fc_side_drag",d:(T&&dv?C:s),t:(24+Math.floor((cO+bT)/2)),l:jd-7,w:15,h:7,x:-119,y:-137,crs:"default",evt:"onmousedown='fc_ex.tab_chat(3,1)'"};var f="";for(var d=a;d<b;d++){f+="<div id='fc_"+c[d].id+"' class='fc_drag"+c[d].c+"' style='display:"+c[d].d+";position: absolute;top: "+c[d].t+"px;left:"+c[d].l+"px;z-Index:"+(Q+600)+"; background-image: url("+V+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: "+c[d].w+"px; height:"+c[d].h+"px; background-position: "+c[d].x+"px "+c[d].y+"px;cursor:"+c[d].crs+";' "+c[d].evt+"></div>"}return f};var bb="<div id='fc_gc' style='position:absolute;top:3px;left:8px;width:200px;height:20px;"+gv+"'>"+j(12)+"</div><div id='fc_cl6'><a id='fc_cli6' "+bc+"clearMsgs(6);' onmouseover='getElementById(\"fc_e_cl6\").className=\"fc_e fc_e_cl2\"' onmouseout='getElementById(\"fc_e_cl6\").className=\"fc_e fc_e_cl\"'><span class='fc_e fc_e_cl' id='fc_e_cl6' title='"+j(18)+"' style='position:absolute;display:block;top:3px;left:"+(j(0,0,'chat_room_width')+14)+"px'></span></a></div><div id='fc_plmn6'><a id='fc_plmni6' "+bc+"toggleAlerts();'><span class='fc_e fc_e_pl' id='fc_e_pl6' title='"+j(19)+"' style='display: block;position:absolute;top:3px;left:"+(j(0,0,'chat_room_width')+29)+"px;'></span></a></div><div id='fc_top_info_outer' style='position:absolute;top:3px;left:"+(j(0,0,'chat_room_width')+50)+"px;width:"+(bD-(j(0,0,'chat_room_width')+50))+"px;height:18px;overflow:hidden'><div id='fc_top_info_inner' style='position:absolute;top:0px;left:0px;width:400px;height:18px;font-weight:bold;font-style:italic;"+gv+"'></div></div>";var bq="<div class='' style='position:absolute;top:"+(fQ)+"px;left:8px;width:200px;height:20px;"+gv+"'>"+j(14)+"</div><div id='fc_cl7'><a id='fc_cli7' "+bc+"clearMsgs(7);' onmouseover='getElementById(\"fc_e_cl7\").className=\"fc_e fc_e_cl2b\"' onmouseout='getElementById(\"fc_e_cl7\").className=\"fc_e fc_e_clb\"'><span class='fc_e fc_e_clb' id='fc_e_cl7' title='"+j(18)+"' style='display: block;position:absolute;top:"+(fQ)+"px;left:"+(j(0,0,'private_chat_width')+12)+"px;'></span></a></div><div id='fc_flt' class = 'fc_cborder' style='position:absolute;top:"+(fQ)+"px;left:"+(j(0,0,'private_chat_width')+42)+"px;'><a style='position:absolute;display:block;top:0px;left:0px' "+bc+"filt(1);'><span title='"+j(22)+"' class='fc_e fc_e_flt'></span></a></div><div id='fc_del'><a id='fc_dela' "+bc+"deletePrivateMsgs();' onmouseover='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del2\"' onmouseout='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del\"'><span class='fc_e fc_e_del' id='fc_e_del' title='"+j(21)+"' style='display: block;position:absolute;top:"+(fQ)+"px;left:"+(j(0,0,'private_chat_width')+27)+"px;'></span></a></div><div id='fc_msg_selector_outer' style='position:absolute;top:"+mQ+"px;left:"+jh+"px;width:"+(bD-jh)+"px;height:18px;overflow:hidden;'><div id='fc_msg_selector' style='position:absolute;top:0px;left:0px;height:18px;width:400px;"+gv+";font-weight:normal;font-style:italic;'>"+j(425,'All Conversations')+":</div></div>";J[z]="<div id='fc_bDbackup' style='position:relative;top:0px;left:0px;width:100%;height:100%;background-color:"+G.background_color+"'></div><div id='fc_gco' style='position:absolute;top:0px;left:0px;'>"+(W==1?bq:bb)+"</div><div id='fc_bck' style='display:none;position:absolute;top:3px;left:5px;height:20px;'><a style='"+G.links.css+";' "+bc+"rem();'>&laquo;&laquo;"+j(13)+"</a></div><div id='fc_midsection' style='position:absolute;top:"+(mO)+"px;left:0px'><div id='fc_dragger' class='fc_drag' style='display: none; position: absolute;top: 4px;left: 8px;z-Index:"+(Q+600)+"; background-image: url("+V+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: 16px; height:13px; background-position: -143px -88px;cursor:e-resize;'></div>"+F(0,3)+"<div id='fc_gco' style='display:"+je+";position:absolute;top:0px;left:0px;'>"+(W==1?bb:bq)+"</div><div id='fc_bottom_info_outer' style='position:absolute;top:2px;left:"+(bD-33-j(0,0,'functions_bar_width'))+"px;width:"+j(0,0,'functions_bar_width')+"px;height:18px;overflow:hidden'><div id='fc_bottom_info_inner' style='position:absolute;top:0px;left:0px;width:370px;height:18px;'><span unselectable='on' id='fc_sign_in_out' style='"+G.other_buttons.states.link_css+"'>&bull; "+jK(k.uid)+"</span><span unselectable='on' id='fc_usrlist' style='display:"+(m.show_user_list?bH:s)+";'><a unselectable='on' style='"+G.other_buttons.states.link_css+"' href='javascript:void(0);' onclick='return fc_chat.tgl_info_panel(\"userlist\")' target=_blank>"+j(373,'User List')+"</a>&nbsp;&nbsp;</span><span unselectable='on' id='fc_exit_room2' style='display:"+(W==1?s:bH)+';'+G.other_buttons.states.link_css+";"+G.chatrooms_panel.exit_room_link_disabled_css+"'>"+j(395,'Exit Room')+"</span></div></div></div><div  id='fc_widgets' style='position:absolute;top:"+(fc_chat.bottom_section+k.window_height_offset)+"px;left:8px;height:16px;'><a id='fc_bld' style='margin-left:1px' href=\"javascript:fc_chat.insertTags(\'"+j(37)+"\',\'"+j(37)+"\',\' "+j(23)+" \',1);\" border=0><img title='"+j(23)+"' style='"+P+"' id='fc_e_bld' src='"+V+"text_bold.png'></a><a id='fc_it' style='margin-left:1px' href=\"javascript:fc_chat.insertTags(\'"+j(38)+"\',\'"+j(38)+"\',\' "+j(24)+" \',1);\" border=0><img title='"+j(24)+"' style='"+P+"' id='fc_e_it' src='"+V+"text_italic.png'></a><a id='fc_uln' style='margin-left:1px' href=\"javascript:fc_chat.insertTags(\'"+j(39)+"\',\'"+j(39)+"\',\' "+j(25)+" \',1);\" border=0><img title='"+j(25)+"' style='"+P+"' id='fc_e_uln' src='"+V+"text_underline.png'></a><a id='fc_img' style='margin-left:2px' href=\"javascript:fc_chat.insertTags(\'[[\',\']]\',\'"+j(36)+"\',1);\" border=0><img title='"+j(26)+"' id='fc_e_img' src='"+V+"image_1.png'></a><a class='fc_tools_a' style='margin-left:2px' href=\"javascript:void\" onclick=\"return fc_chat.tgl_tools(0,"+G.tools_panel.smileys.width+","+G.tools_panel.smileys.height+")\"><img id='fc_e_sml' src='"+V+"emoticon_smile.png'></a><a id='fc_vid' style='margin-left:1px"+(fc_chat.vidAcc>1?"":R)+"' "+bc+"launchVideoChat(0)'><img title='"+j(31)+r+"' id='fc_e_vid' src='"+V+"webcam.png'></a><div style='position:absolute;top:0px;left:107px;'><a title='"+j(303,"more")+"' style='"+G.widgets.more_icon_css+"' class='fc_tools_a' href=\"javascript:void\" onclick=\"return fc_chat.tgl_tools(1,"+G.tools_panel.icons.width+","+G.tools_panel.icons.height+")\">&raquo;&raquo</a></div><div id='fc_msg_to_outer' style='position:absolute;top:1px;left:125px;width:"+(bD-165)+"px;height:18px;overflow:hidden'><div id='fc_msg_to' style='position:absolute;top:0px;left:0px;width:400px;height:18px;'></div></div></div><div id='fc_dragger4' class='fc_drag' style='display: "+(T?s:C)+"; position: absolute;top: "+mR+"px;left: "+(bD-27)+"px;z-Index:"+(Q+600)+"; background-image: url("+V+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: 30px; height:4px; background-position: -142px -140px;cursor:s-resize;'></div><br><br>";var bo=kf+";font-size:"+G.text.font.size+"px";bL=document.createElement('div');bL.setAttribute('id','fc_bD0');bL.style.display=C;bL.style.position='absolute';bL.style.width=fP+'px';bL.style.height=k.chat_window_height+'px';bL.style.zIndex=Q+200;bL.style.top='0px';bL.style.left=mJ+'px';bL.style.backgroundColor='transparent';bL.style.borderLeft=bg.divider_border;bL[z]=""+(dv?"<div style='position:absolute;top:3px;left:3px;width:"+bU+"px;height:12px;'><span style='"+bo+"'>"+j(15)+"</span></div>":"")+"<div id='fc_ce_g' style='position:absolute;top:"+(dv?(23+Math.floor((cO+bT)/2)):3)+"px;left:3px;width:"+bU+"px;height:12px;'><span style='"+bo+"'>"+j((W==1?17:16))+"</span></div><div id='fc_ce_go' style='position:absolute;top:"+(dv?(24+Math.floor((cO+bT)/2)):4)+"px;left:3px;width:"+bU+"px;height:18px;'></div>"+F(3,6)+"<div id='fc_midsection2' style='position:absolute;top:"+mP+"px;left:0px'><div style='display:"+je+";position:absolute;top:21px;left:3px;width:"+bU+"px;height:12px;'><span style='"+bo+"'>"+j(17)+"</span></div><div id='fc_op1' style='position: absolute;top: 1px; left: "+(ks+j(0,0,'close_offset'))+"px'><div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+fR+"</a></div></div><div id='fc_tgl1' style='"+(L?"display:none;":"")+"position: absolute; top:1px; left: "+(mL+j(0,0,'close_offset'))+"px;'><div class='fc_obtn_dis'><a class='fc_obtn_disa'>"+j(8)+"</a></div></div></div><div id='fc_bottomsection' style='position:absolute;top:"+(kt+k.window_height_offset)+"px;left:0px;width:"+fP+"px'><div id='fc_sg1' style='display:none;position: absolute;top: 4px; left: 8px;'></div><div id='fc_sp1' style='display:"+(W==1?s:s)+";position: absolute;top: "+mS+"px; left: 8px;'><div class='fc_spbtn_dis' ><a class='fc_spbtn_disa' "+dM+">"+j(11)+"</a></div></div><div id='fc_dragger2' class='fc_drag' style='display: none; position: absolute;top: 42px;left: "+mK+"px;z-Index:"+(Q+600)+"; background-image: url("+V+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: 16px; height: 16px; background-position: -143px -102px;'></div></div><br><br>";bl=document.createElement('div');bI(bl,gF,'18','8',bD,hF,Y.chat_room_panel.border_css,'transparent',Y.font.size,'fc_d1');if(fi){bl.style.overflow='hidden'}if(fh){bm=document.createElement('div');bI(bm,gF,'0','0',bD,'',null,'transparent',Y.font.size,'fc_d1');bm.style.overflow='hidden'}else{bm=bl}fg=document.createElement('div');bI(fg,gF,'18','8',bD,hF,Y.chat_room_panel.border_css,Y.chat_room_panel.background_color,Y.font.size,'fc_d1');if(Y.chat_room_panel.background_image!=""){fg.style.background="url("+V+Y.chat_room_panel.background_image+")"}cS=document.createElement('div');cS.setAttribute('id','fc_it1');cS.style.display=s;cS.style.position='absolute';cS.style.width=bD+'px';cS.style.height=(fa+bT)+'px';cS.style.zIndex=Q+503;cS.style.top='18px';cS.style.left='8px';bp=document.createElement('div');bI(bp,gG,jf,'8',bD,gH,Y.private_chat_panel.border_css,'transparent',Y.font.size,'fc_d1');if(fi){bp.style.overflow='hidden'}if(fh){bO=document.createElement('div');bI(bO,gG,'0','0','','',null,'transparent',Y.font.size,'fc_d1');bO.style.overflow='hidden'}else{bO=bp}eA=document.createElement('div');bI(eA,gG,jf,'8',bD,gH,Y.private_chat_panel.border_css,Y.private_chat_panel.background_color,Y.font.size,'fc_d1');if(W==0){if(Y.private_chat_panel.background_image!=""){eA.style.background="url("+V+Y.private_chat_panel.background_image+")"}}else{if(Y.private_chat_panel.msgcenter_background_image!=""){eA.style.background="url("+V+Y.private_chat_panel.msgcenter_background_image+")"}}bO[z]="<IMG id='fc_img7' SRC='"+bw+"trans.gif' height=1 width=30 style='"+bC+"'>";kw=(W==1?bp:bl);eb=(W==1?bO:bm);eb[z]='<div style="'+bC+'width:'+bD+'px">'+he(j(120),1)+'</div>';cZ=document.createElement('div');cZ.setAttribute('id','fc_onl');bI(cZ,jb,'18','0',bU,Math.floor((cO+bT)/2),bg.border_css,'transparent',bg.font.size,'fc_d2',null,1);cZ[z]="";gK=document.createElement('div');bI(gK,jb,'18','0',bU,Math.floor((cO+bT)/2),bg.border_css,iS,bg.font.size,'fc_d2',null,1);da=document.createElement('div');da.setAttribute('id','fc_chatmem');bI(da,gF,(dv?38+Math.floor((cO+bT)/2):'18'),'0',bU,ky,bg.border_css,'transparent',bg.font.size,'fc_d2',null,1);da[z]="";gL=document.createElement('div');bI(gL,gF,(dv?38+Math.floor((cO+bT)/2):'18'),'0',bU,ky,bg.border_css,iS,bg.font.size,'fc_d2',null,1);cR=document.createElement('div');cR.setAttribute('id','fc_priv');bI(cR,gG,kx,'0',bU,jg,bg.private_group_panel.border_css,'transparent',bg.font.size,'fc_d2',null,1);cR[z]="";gM=document.createElement('div');bI(gM,gG,kx,'0',bU,jg,bg.private_group_panel.border_css,iS,bg.font.size,'fc_d2',null,1);bP=document.createElement('div');bP.setAttribute('id','fc_chat_arc');bP[z]="";bP.style.zIndex=Q+201;bQ=document.createElement('div');bQ.setAttribute('id','fc_priv_arc');bQ.style.zIndex=Q+201;bQ[z]="";cg=document.createElement('div');cg.setAttribute('id','fc_userlist');cg[z]="";cg.style.zIndex=Q+201;ed=document.createElement('div');ed.setAttribute('id','i8');bI(ed,C,'0','0','423',l,null,'black',Y.font.size,'fc_d1');ed.style.zIndex=Q+700;ed[z]="";if(fh){dw=document.createElement('div');dw.setAttribute('id','fc_onl_in');bI(dw,jb,'0','0',bU,'',null,'transparent',bg.font.size,'fc_d2');dw[z]="";dw.style.overflow='hidden';dn=document.createElement('div');dn.setAttribute('id','fc_chatmem_in');bI(dn,C,'0','0',bU,'',null,'transparent',bg.font.size,'fc_d2');dn[z]="";dn.style.overflow='hidden';db=document.createElement('div');db.setAttribute('id','fc_priv_in');bI(db,C,'0','0',bU,'',null,'transparent',bg.font.size,'fc_d2');db[z]="";db.style.overflow='hidden';bI(bP,s,'0','0','','',null,'transparent',Y.font.size,'fc_d1');bP.style.overflow='hidden';bI(bQ,s,'0','0','','',null,'transparent',Y.font.size,'fc_d1');bQ.style.overflow='hidden';bI(cg,s,'0','0',bD-20,'',null,G.info_panel.background_color,Y.font.size,'fc_d6');cg.style.overflow='hidden'}else{dw=cZ;dn=da;db=cR;bI(bP,s,'18','8',bD,fa+bT,Y.chat_room_panel.border_css,'transparent',Y.font.size,'fc_d1');bI(bQ,s,jf,'8',bD,gH,Y.private_chat_panel.border_css,'transparent',Y.font.size,'fc_d1');bI(cg,s,'18','8',bD,mT,Y.chat_room_panel.border_css,G.info_panel.background_color,Y.font.size,'fc_d6')}k.infoChatBox=k.createWidget('InfoBox',[i(J),lf,false]);bM=document.createElement('textarea');bM.className='fc_txt fc_input';bM.setAttribute('id','fc_chat');bM.style.display=C;bM.style.position='absolute';bM.style.top=(fc_chat.bottom_section+18+k.window_height_offset)+'px';bM.style.left='8px';bM.style.width=mE+'px';bM.style.height=(G.send_chat_panel.height+G.send_chat_panel.height_offset)+'px';bM.onkeypress=fc_chat.oKD2;bM.onkeydown=fc_chat.oKD;bM.onfocus=fc_chat.oF;i(bM).css('font','14px fc_icons');if(T)i(bM).css('font-size','16px');if(fh){bl.appendChild(bm);bl.appendChild(bP);bp.appendChild(bO);bp.appendChild(bQ);cZ.appendChild(dw);var bv=(W==1?bp:bl);bv.appendChild(cg);da.appendChild(dn);cR.appendChild(db)}else{J.appendChild(bP);J.appendChild(bQ);J.appendChild(cg)}bL.appendChild(gK);bL.appendChild(cZ);bL.appendChild(gL);bL.appendChild(da);bL.appendChild(gM);bL.appendChild(cR);J.appendChild(fg);J.appendChild(bl);J.appendChild(cS);J.appendChild(eA);J.appendChild(bp);J.appendChild(ed);J.appendChild(bM);J.appendChild(bL);J.style.left='0px';J.style.top='0px';J.style.borderLeft='0px';J.style.borderTop='0px';var bk='1px solid #444444';var bz=m.styles.chat_window.frame;var cb=!L&&!M&&m.pin_windows;var bt=cb&&m.pinned_by_default;if(!L){K=this.createWidget('DefaultWindow',["<span style='"+bz.title_css+"'>"+(W==1?j(388,'MsgCenter'):j(151))+"</span>",ea,fc-(bt?i(document).scrollTop():0),g,l,'default',bz.color,(bz.opacity*100),bk,'e3e3e3','','element',J,false,(L?false:true),iE,j(154),j(155),j(156),j(157),j(315,"pin to screen"),j(316,"unpin"),cb,bt]);K.mH=gC+45;K.MH=iZ+45;K.MW=10000;K.shieldOnDrag=true;if(jGo.browser.browser=='Firefox'){K.maxOpacity=.9999;K.cA.css({opacity:.9999})}if(L){K.eventsEnabled=false};K.onMouseDown=function(a){if(!B&&!cq){if(jGo.scripts.loadState('jGo.DefaultWindow.ext.min.js')=='loaded'){this.getDefault().onMouseDown.call(this,a)}}};K.raiseDragShield=function(){if(!B&&!cq){this.getDefault().raiseDragShield.call(this);if(di){k.oD.style.display=s;if(M){k.oIF.style.display=s}}di=false;if(M){bV.style.display=s}}};K.lowerDragShield=function(){if(!B&&!cq){this.getDefault().lowerDragShield.call(this);if(M){bV.style.display=C}}};K.onMinimize=function(){if(!B&&!cq){this.getDefault().onMinimize.call(this);var a=K.getBorderElements();var b=q("jGo_dragbm"+K.id);i(b).css("cursor","default");b.setAttribute("id","jGo_fixbm"+K.id);if(di){k.oD.style.display=s;if(M){k.oIF.style.display=s}}di=false;if(M){bV.style.display=s}}};K.restore=function(){if(!B&&!cq){this.getDefault().restore.call(this);var a=q("jGo_fixbm"+K.id);i(a).css("cursor","");a.setAttribute("id","jGo_dragbm"+K.id);if(M){bV.style.display=C}}};K.moveWindow=function(){if(!B&&!cq){this.getDefault().moveWindow.call(this,arguments[0],arguments[1])}};K.onMouseMoveResizeR=function(a){};K.onMouseMoveResizeB=function(a){};K.onMouseMoveResizeBR=function(a){};K.maximize=function(){if(!B&&!cq){fc_chat.toggleHide();K.lock=false}};K.togglePin=function(){if(!cq){var a=i('#fc_loginbox');var b=i('#fc_alertbox');var c=(K.fixed?"absolute":"fixed");var f=(!K.fixed?-jGo.$(document).scrollTop():0);if(k.oD!=null){i(k.oD).css({"position":c,"top":i(k.oD).offset().top+f-9+'px'})}if(a[0]!=null){a.css({"position":c,"top":a.offset().top+f+'px'})}if(b[0]!=null){b.css({"position":c,"top":b.offset().top+f+'px'})}this.getDefault().togglePin.call(this)}};K.close=function(){if(!cq){fc_chat.open_chat_box();return false}};K.destroy=function(){return false};K.cN.css({'background-color':'transparent'});var bA='jGo_fix';var bi=K.getBorderElements();bi[3].setAttribute("id",bA+"rl"+K.id);bi[5].setAttribute("id",bA+"bl"+K.id);i(bi[3]).css("cursor","default");i(bi[5]).css("cursor","default");K.resizable=false;if(M){bV=document.createElement("IFRAME");bV.className="jGo_app jGo_myapp";bV.frameBorder="0";bV.style.position='absolute';bV.style.scrolling='no';bV.style.zIndex=Q+99;bV.style.width=J.style.width;bV.style.height=J.style.height;bV.style.backgroundColor='transparent';bV.style.display=C;bV.style.top='40px';bV.style.left='5px';K.cA[0].appendChild(bV)}}else{if(T){J.style.top=dj.height+dj.border_height+'px'}i(document.body).append(J);if(T){bB.reposition();if(O(J.style.width)<i("#fc_toolbar").width()-1){J.style.width=Math.max(i("#fc_toolbar").width()-1,dk)+'px'}}}i('#fc_bDbackup').css('opacity',G.opacity);i(fg).css(Y.chat_room_panel.css);i(eA).css(Y.private_chat_panel.css);i(gL).css('opacity',bg.opacity);i(gK).css('opacity',bg.opacity);i(gM).css('opacity',bg.opacity);hn(.05);kK();bM.value=String.fromCharCode(0xe603);ji=1;k.img7=q('fc_img7');kz=q('fc_ce_g');dp[1]=bl.scrollHeight;lH=true;return false};function ho(){i(ed).css({display:s,"background-color":"transparent"})};function hn(a){i(ed).css({display:C,"border-radius":"0px",width:J.style.width,height:J.style.height,"background-color":"black",opacity:a})};var dE;this.omc;this.tgl_options=function(a){if(!a)a=0;var b=(k.m==0&&!L);var c=0;var f=k.optionsTop;c=i(bL).offset().left-km+(-10+ks+j(0,0,'close_offset'));f+=i(bL).offset().top+45;var d="fc_oD";var g=(k.m==0?'checked':'');var l=(k.m==1?'checked':'');var n=(fE==1?'checked':'');var r=(fE==0?'checked':'');k.oD=q(d);var t='';if(k.tPC!=null){k.tPC.style.display=s;if(M){k.tPB.style.display=s}}gq=false;if(k.oD!=null){if(k.oD.style.display==s){dE.target.removeEventHandler('mousedown');dE.target.removeEventHandler('touchstart');dE.target=i('*.fc_options_a');dE.target.onEvent('mousedown',dE,'mouseOn','');dE.target.onEvent('touchstart',dE,'mouseOn','');if(jGo.browser.browser=='Opera'){hf(0)}dR(k.oD,c,f);i(k.oD).fadeIn(a);if(M){dR(k.oIF,c,f);k.oIF.style.display=C}ba[6]=0;for(var y in cw){if(cw.hasOwnProperty(y)){t+='<div class="fc_'+y+'" id=fc_bl'+E[6]+' style="display:block; text-align:left;width:250px; z-Index:'+(Q+202)+';padding-top:2px;padding-bottom:2px;border-bottom:'+cF.separator+';background-color:'+cF.background_color+';'+cF.font_css+'" onMouseOver="this.style.backgroundColor=\''+cF.hover_color+'\';" onMouseOut="fc_chat.offBlk2(this)" onCLick="fc_chat.clickBlk2(this)"> &nbsp;'+h.snm[y]+'</div>';cw[y]='fc_bl'+E[6];E[6]++;ba[6]++}}dp[6]=o0.scrollHeight;o0[z]=t;di=true;if(jGo.browser.browser=='Explorer'){setTimeout("fc_chat.change_Border_oD(false)",200)}}else{if(jGo.browser.browser=='Opera'){hf(1)}di=false;if(dm!='0'){var x=q('fc_r');x[z]="<div class='fc_opbtn_dis' ><a class='fc_opbtn_disa'>"+j(135)+"</a></div>"}dm='0';i(k.oD).fadeOut(a);if(M){k.oIF.style.display=s}}i("#fc_op_nm").html(h.snm[k.uid]);return false}var o=fc_ex.oD(d,km,mG,Q,iW,g,l,n,r,cJ,dQ,M);k.oD=o[0];gN=o[1];mU=o[2];document.body.appendChild(k.oD);i(k.oD).fadeIn(a);dR(k.oD,c,f);if(M){k.oIF=fc_ex.oIF(Q,gN);document.body.appendChild(k.oIF);dR(k.oIF,c,f)}var u=cF.background_color;var H=cF.border;gO=document.createElement('div');bI(gO,C,'','','45','60',H,u,'7pt','fc_d3','');q('fc_opcnt1').appendChild(gO);gO[z]=fc_ex.i4o(bx,Q);o0=document.createElement('div');bI(o0,C,'','','130','85',H,u,'7pt','fc_d3','');o0[z]="";q('fc_opcnt3a').appendChild(o0);i([o0,gO]).css({'overflowX':'hidden','-moz-border-radius':'5px','-webkit-border-radius':'5px','border-radius':'5px'});ba[6]=0;for(var y in cw){if(cw.hasOwnProperty(y)){t+='<div class="fc_'+y+'" id=fc_bl'+E[6]+' style="display:block; text-align:left; width:250px; z-Index:'+(Q+202)+';padding-top:2px;padding-bottom:2px;border-bottom:'+cF.separator+';background-color:'+cF.background_color+';'+cF.font_css+'" onMouseOver="this.style.backgroundColor=\''+cF.hover_color+'\';" onMouseOut="fc_chat.offBlk2(this)" onCLick="fc_chat.clickBlk2(this)"> &nbsp;'+h.snm[y]+'</div>';cw[y]='fc_bl'+E[6];E[6]++;ba[6]++}}dp[6]=o0.scrollHeight;o0[z]=t;if(dE){dE.disableControl()}dE=new jGo.DefaultMenuController('fc_opt_cont','*.fc_options_a',k.oD,fc_chat,'tgl_options');this.omc=dE;di=true;i("#fc_op_nm").html(h.snm[k.uid]);setTimeout("fc_chat.change_Border_oD(false)",200);if(jGo.browser.browser=='Opera'){hf(0)}return false};var hp;var ny=function(a){var b=gZ(cs(a));hp=O(b[0].id);for(var c=0;c<b.length;c++){var f=O(b[c].id);D[f]={};D[f].next=(c+1<b.length?O(b[c+1].id):null);lI(c,f,b)}};var nz=function(a,b){if(!D)return;var c=gZ(cs(a));for(var f=0;f<c.length;f++){var d=0;var g=0;var l=O(c[f].id);if(!D[l]){d=1;g=1;D[l]={}}else{var n=parseInt(c[f].fl,16);if(!((n&cz[1])==cz[1])){g=2}}if(g!=2){lI(f,l,c,g)}var r=O(c[f].pos);var t=hp;if(r!=0&&g!=1){var y=1;while(true){var x=D[t].next;if(x==l){break}y++;t=x}if(y!=r||g==2){d=1;D[t].next=D[l].next}}if(d==1&&g!=2){t=hp;for(var o=0;o<r-1;o++){x=D[t].next;if(x==null){break}t=x}D[l].next=D[t].next;D[t].next=l}var u;var H;if(g==1){u=i(document.createElement('div'));u.attr('id','fc_grpo1'+l);H=i(document.createElement('div'));H.attr('id','fc_grpo0'+l)}else{u=i('#fc_grpo1'+l);H=i('#fc_grpo0'+l)}if(g!=2){u.html(jL(l,1));H.html(jL(l,0));if(D[l].next!=null){i('#fc_grpo1'+D[l].next).before(u);i('#fc_grpo0'+D[l].next).before(H)}else{i('div.fc_roomlist1').append(u);i('#fc_t6').append(H)}}else{u.remove();H.remove()}if(g==2){delete D[l]}if(bd==l){if(g==0){i('span.fc_room_name').html(D[l].nm)}else if(g==2){fc_chat.closeRoom()}}if(b=='2'){nO()}}};var lI=function(a,b,c,f){D[b].nm=c[a].nm;D[b].dsc=(c[a].desc?c[a].desc:'');D[b].lg=(c[a].lg?c[a].lg:'');if(f!=0){D[b].lastMsg={id:(c[a].lmsg?c[a].lmsg[0]:""),username:(c[a].lmsg?c[a].lmsg[1]:""),datetime:(c[a].lmsg?c[a].lmsg[2]:""),message:(c[a].lmsg?c[a].lmsg[3]:"")};var d=(f==1?0:c[a].msgC);D[b].baseMsgCount=d;D[b].lastMsgCount=d;D[b].msgCount=d}var g=parseInt(c[a].fl,16);D[b].l=((g&cz[3])==cz[3]?1:0);D[b].v=((g&cz[4])==cz[4]?1:0);D[b].d=0;for(var l=0;l<m.disabled_rooms.length;l++){if(m.disabled_rooms[l]==D[b].nm){D[b].d=1}}for(var l=0;l<m.hidden_rooms.length;l++){if(m.hidden_rooms[l]==D[b].nm){D[b].d=2}}};var jL=function(a,b){var c=(b?dZ:ev);var f=c.selected_color;var d="";var g="";var l=c.room_name_font_css;var n=a;if(n!=bd||U=='0'){f=c.background_color}if(D[a].l==1){d="<img src='"+V+"lock.png' height='1em' style='height: 1em; width: 1em;' align=absmiddle>&nbsp;"}if(D[a].v==0&&fc_chat.vidAcc>1&&m.show_a_v_icon){g='<span>'+j(85)+'</span>&nbsp;'}var r="";if(D[a].d==1){l=c.disabled_room_name_font_css;r=gR}if(D[a].d==2){r="display:none;"}var t='';for(var y in h.g){if(h.g.hasOwnProperty(y)){if(h.g[y]==n&&h.o[y]=='1'&&h.t[y]=='1'){t+=hq(y,b,n)}}}var x=s;var o='';if(D[a].msgCount!='0'){x=bH;o=eD(D[a].lastMsg.datetime,0,1)}var u=D[a].msgCount-D[a].baseMsgCount;if(cW[a]){if(cW[a]>D[a].msgCount){cW[a]=D[a].msgCount}u+=cW[a]}var H=c.room_passwords;var S=(b?60:50);var P='style="display:none;'+l+'">&nbsp;<a href="javascript:void" onclick="'+eV;return'<div  class="fc_grpt'+b+' fc_grp'+n+'" id="fc_grp'+b+n+'" style="border-bottom:'+c.separator+';'+r+';z-Index:'+(Q+202)+';background-color:'+f+'" onMouseOver="fc_chat.overGrp(this);" onMouseOut="fc_chat.offGrp(this);" '+(open_chatrooms_in_window?'':'onClick="fc_chat.c_g(this);"')+'><div style="padding-top:.833em;padding-bottom:.033em;margin-left:.25em;text-align:left;">'+(open_chatrooms_in_window?'<a style="cursor:default;text-decoration:none" onclick="fc_chat.openPopup();" target=_blank href="'+eN+'?rmid='+n+'" >':'')+'<div style="cursor:default;">'+(D[a].lg!=''?'<img src="'+D[a].lg+'" style="height:5.333em;float:left;padding:.333em .417em .417em .333em">':'')+d+'<span style="cursor:default;'+l+'">'+D[a].nm+'</span><span class="fc_rms'+a+'" style="cursor:default;'+c.count_font_css+'">&nbsp;('+ez[a-0]+')</span>&nbsp;'+(D[a].dsc!=''?'<span style="cursor:default;'+c.font_css+'">'+D[a].dsc+'</span>':'')+'<br>'+(D[a].l==1?'<div class="fc_locked_room" id="fc_locked_room'+b+n+'" style="display:none"><input onclick="'+eV+'" id="fc_rpass'+b+n+'" onkeypress="fc_chat.sendOnEnter(this,\'c_gL\',event,'+b+','+n+')" type=password name=password style="margin:.833em .417em .417em 0em;width:10em;height:1.5em;'+H.textfield_css+'" maxlength="15">&nbsp;<span style="'+H.font.textfield_description_css+'">'+j(90)+'</span>&nbsp;&nbsp;&nbsp;<span id="fc_passtxt'+b+n+'"></span></div>':'')+g+(!m.no_chat_history?'<span style="cursor:default;'+c.font_css+'" class="fc_msg_count'+n+'">'+j(396,'Msgs: ')+D[a].msgCount+'&nbsp;</span>':'')+'<span style="cursor:default;'+c.font_css+'" class="fc_new_msg_count'+n+'">'+j(397,'New: ')+(u)+'</span><br>'+(!m.no_chat_history?'<span style="cursor:default;'+c.font_css+';display:'+x+'" class="fc_last_msg'+n+'">'+j(398,'Last update ')+o+j(399,' by ')+eh(cs(D[a].lastMsg.username.split('&')[0]),'')+'</span>':'')+'</div>'+(open_chatrooms_in_window?'</a>':'')+'<span class="fc_edit_room'+b+'" '+P+'fc_chat.tgl_info_panel(\'createedit\',1,\''+a+'\');return false">'+j(86)+'</a></span>'+(a==hp?'':'<span class="fc_delete_room'+b+'" '+P+'fc_chat.admin_delete_room(\''+a+'\');return false">'+j(87)+'</a></span>')+'<span class="fc_clear_room'+b+'" '+P+'fc_chat.admin_clear_room(\''+a+'\');return false">'+j(88)+'</a></span><div style="margin-top:.167em;clear:left;" class="fc_room_members'+b+n+'" >'+t+'</div></div></div>'};var hq=function(a,b,c){var f=(b?fc_chat.uolnk(a,1,1):'onclick=\''+eV+'return fc_chat.toggleMenu(this,'+a+',"u1");\'');return'<span class="fc_rmid'+a+''+c+'" style="">'+bW(a,null,0,1,2,null,15)+'&nbsp;<a style="text-decoration:none" title="'+h.snm[a]+': '+j(282,"Click for options")+'" href="javascript:void" '+f+'>'+h.snm[a]+'</a>&nbsp;</span>'};var jI=function(a){var b=(a?dZ:ev);var c='';var f=hp;while(true){var d=f;c+='<div id="fc_grpo'+a+d+'" '+(W==1?'style="display:none"':'')+'>'+jL(f,a)+'</div>';f=D[f].next;if(!f){break}}return(W==1?"<div style='padding:.833em;"+b.room_name_font_css+"'>"+j(390,"Not In Use")+"</div>"+c:c)};var nO=function(){if(cM=='2'&&W!=1){i("span.fc_create_room1").css({display:bH});i("span.fc_edit_room1").css({display:bH});i("span.fc_delete_room1").css({display:bH});i("span.fc_clear_room1").css({display:bH})}};this.overGrp=function(a){var b=(i(a).hasClass('fc_grpt1')?dZ:ev);a.style.backgroundColor=b.hover_color};this.offGrp=function(a){var b=(i(a).hasClass('fc_grpt1')?dZ:ev);a.style.backgroundColor=((i(a).hasClass('fc_grp'+fc_chat.get('current_room'))&&U=='1')?b.selected_color:b.background_color)};var nN=function(){iu(0);i('#fc_grp0'+bd).css('backgroundColor',ev.background_color)};var nP=function(a,b){i('#fc_grp0'+a).css('backgroundColor',ev.background_color);i('#fc_grp1'+a).css('backgroundColor',dZ.background_color);i('#fc_grp0'+b).css('backgroundColor',ev.selected_color);i('#fc_grp1'+b).css('backgroundColor',dZ.selected_color)};function nL(a){var b=h.g[a];var c=O(h.s[a].substr(10));if(h.t[a]==h.s[a].charAt(3)){if(b!=c&&h.t[a]=='1'){ez[b]++;i('div.fc_room_members1'+b).prepend(hq(a,1,b));i('div.fc_room_members0'+b).prepend(hq(a,0,b));ez[c]--;i('span.fc_rmid'+a+''+c).remove();hJ=true}}else{if(h.t[a]=='1'){ez[b]++;i('div.fc_room_members1'+b).prepend(hq(a,1,b));i('div.fc_room_members0'+b).prepend(hq(a,0,b))}else{ez[c]--;i('span.fc_rmid'+a+''+c).remove()}hJ=true}};function nI(){for(var a in D){if(D.hasOwnProperty(a)){i('span.fc_rms'+a).html("&nbsp;("+ez[a-0]+")")}}};var nB=function(a){if(bK==0){for(var b=0;b<a.length-1;b+=2){var c=a[b]-0;if(!cW[c]){cW[c]=0}cW[c]+=a[b+1]-0}}else{for(var b=0;b<a.length-1;b+=4){var c=a[b]-0;if(D[c]){D[c].msgCount=a[b+2];i('span.fc_msg_count'+a[b]).html(j(396,'Msgs: ')+D[c].msgCount+'');if(D[c].msgCount<D[c].baseMsgCount){D[c].baseMsgCount=D[c].msgCount}var f=D[c].msgCount-D[c].baseMsgCount;if(cW[c]){if(cW[c]>D[c].msgCount){cW[c]=D[c].msgCount}f+=cW[c]}var d=D[c].msgCount-D[c].lastMsgCount;if(bd==c&&d>0){hk(d)}D[c].lastMsgCount=D[c].msgCount;i('span.fc_new_msg_count'+a[b]).html('&nbsp;'+j(397,'New: ')+f+'');var g=s;var l='';if(D[c].msgCount!='0'){g=bH;var n=a[b+3];D[c].lastMsg={id:n[0],username:n[1],datetime:n[2],message:n[3]};l=eD(D[c].lastMsg.datetime,0,1)};i('span.fc_last_msg'+a[b]).html(j(398,'Last update ')+l+j(399,' by ')+eh(cs(D[c].lastMsg.username.split('&')[0]),'')).css("display",g)}}}};var jK=function(a,b){b=b||G.other_buttons.states.link_css;var c="<a unselectable='on' style='"+b+ds;if(a==k.uid&&bJ&&U=='1'){c+="sign_in()'>"+j(43)+"</a>&nbsp;&nbsp;"}else if(a==k.uid&&!bJ&&bZ(14)!="3"&&U=='1'){c+="logout()'>"+j(44)+"</a>&nbsp;&nbsp;"}else{c=""}return c};var iu=function(a){i('#fc_exit_room').html((a?"<a class='fc_grpt0 fc_ext"+dY+"' style='"+A.chatrooms_box.text.link_css+"' href='javascript:void(0)' onclick='fc_chat.c_g(this);return false;'>"+j(400,'Exit Current Room')+"</a>":j(400,'Exit Current Room')));i('#fc_exit_room2').html((a?"<a class='fc_grpt1 fc_ext"+dY+"' style='"+G.other_buttons.states.link_css+"' href='javascript:void(0)' unselectable='on' onclick='fc_chat.c_g(this);return false;'>"+j(395,'Exit Room')+"</a>":j(395,'Exit Room')))};var fv=function(a,b){var c=j(0,0,'chat_room_width')+14;var f='3';var d='';if(b==7){c=j(0,0,'private_chat_width')+12;f=fQ;d='b'}if(a){i('#fc_cl'+b).html("<a id='fc_cli"+b+"' "+bc+"clearMsgs("+b+");' onmouseover='getElementById(\"fc_e_cl"+b+"\").className=\"fc_e fc_e_cl2"+d+"\"' onmouseout='getElementById(\"fc_e_cl"+b+"\").className=\"fc_e fc_e_cl"+d+"\"'><span class='fc_e fc_e_cl"+d+"' id='fc_e_cl"+b+"' title='"+j(18)+"' style='display:block;position:absolute;top:"+f+"px;left:"+c+"px;'></span></a>")}else{i('#fc_cl'+b).html("<span style='position:absolute;"+gR+"top:"+f+"px;left:"+c+"px;' class='fc_e fc_e_cl'></span>")}};this.tgl_full_chat=function(a){if(!B&&U=='0'){fc_chat.c_g(a)}};this.c_g=function(a){if(!B){ex={typ:(i(a).hasClass('fc_grpt1')?1:0),index:O(a.className.substr(15)),id:i(a).attr('id'),elem:a};var b=O(a.className.substr(15));if(b!=bd||U=='0'){if(b==dY){fc_chat.c_g2('0')}else{if(D[b]){if(D[b].d==1){bn(m.disabled_room_msg)}else{if(D[b].l==0){fc_chat.c_g2('0')}else{var c=ex.typ;if(i('#fc_locked_room'+c+''+b).css('display')==C){i('#fc_locked_room'+c+''+b).css('display',s)}else{i('div.fc_locked_room').css('display',s);i('#fc_locked_room'+c+''+b).css('display',C)}}}}}}}};this.c_g2=function(a){var b=ex.typ;var c=(b?dZ:ev);var f=ex.index;hk(-ff);if(U==0){if(bK<2&&f!=bd){bd=f;dt=f;et=true}fc_chat.open_chat_box();if(bK<2||f==bd){if(du()&&ex.id!='fc_open_full_chat')i(ex.elem).css("backgroundColor",c.selected_color);if(!du()){iu(1)}return false}}else if(f!=bd){cp='3'}if(f!=bd){jM();B=true;bl.scrollLeft=1;nP(bd,f);i('#fc_op1').html("<div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+fR+"</a></div>");i('#fc_co').html("<span class='fc_e fc_e_co3'></span>");fv(1,6);i('#fc_groupType').html("");clearTimeout(eC);lj(bd);if(fi){bl.style.overflow='hidden'}var d=[];for(var g in h.ge){if(h.ge.hasOwnProperty(g)){delete h.ge[g]}}cA[7]=0;for(var g in h.de){if(h.de.hasOwnProperty(g)){if(h.g[g]==bd){h.gre[g]=''}if(f!=dY){if(h.g[g]==f&&h.o[g]=='1'&&h.t[g]=='1'){var l=dq(g,0,4);var n='';n='&nbsp;&nbsp;'+bW(g,4,0,1);h.gre[g]='fc_gl'+E[4];var r=(bE==g?fL:eU);var t=bf(g)&&g!=k.uid;var y='<div class="fc_'+g+' fc_gst'+(t?1:0)+'" id=fc_gl'+E[4]+' style="display:'+(t&&!cU?'none':'block')+'; font-weight:bold;width:'+bU+'px;z-Index:'+(Q+202)+';'+hB+r+'" onClick="fc_chat.send_to('+g+')" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)">'+n+l+gg(g)+dD(g)+fw(g)+gf(g)+'<div id="fc_gl'+E[4]+gw+fx(g)+eJ(g)+fy(g)+hm(g)+'</div></div>';ga(g,d,y,7);E[4]++;ba[4]++}}}}if(fc_chat.cvu_priv==null&&m.videoconerence_only_in_designated_rooms){fc_chat.closeVid()}bd=f;i('div.fc_locked_room').css('display',s);lD(f,d);k.img1C=0;Z[6]=0;cm[6]=1;fe='1';bj[2]=f+1;I='000394'+bR(f,6)+jGo.MD5.hex_md5(gE);bh()}};var lD=function(a,b){var c='<div style="'+bC+'width:'+(bD-30)+'px">';var f=mX+'<span class="fc_room_name" style="'+iR+'">';if(du()){bm[z]=c+he(j(401,'Loading Room List...Please wait...'))+'</div>';dn[z]=f+j(402,'No Room Selected')+'<br><br>&nbsp;'+(!dv?bW(k.uid,4)+' <a href="javascript:void(0)" '+fc_chat.uolnk(k.uid,4,true)+' style="text-decoration:none;color;'+iR+'">'+j(473,'My Account Settings')+'</a><span></span></div>':'');i('#fc_top_info_inner').html('');fv(0,6);iu(0)}else{bm[z]=c+he(j(122))+'</div>';dn[z]=f+D[a].nm+'</span></span></div>'+fq(b,7);i('#fc_top_info_inner').html("<a class='fc_grpt0 fc_grp"+dY+"' style='"+G.other_buttons.states.link_css+";text-decoration:none' href='javascript:void(0)' onclick='fc_chat.c_g(this);'>&laquo;&laquo;</a> "+j(40,"Room")+": <span class='fc_room_name' style='font-weight:bold;font-style:italic;"+gv+"'>"+D[a].nm+"</span>");fv(1,6);iu(1)}};var ll=function(){var a=dZ.count_font_css;bm[z]="<div class='fc_roomlist1' style='padding:3px;width:100%;overflow:auto;line-height:120%'>&nbsp;"+(!eY?io():'')+"<div style='"+dZ.horizontal_rule+"'>"+j(403,"Select a Room")+"&nbsp;&nbsp;&nbsp;<span class='fc_create_room1' style='display:none;'><a style='text-decoration:none;"+a+"' href='javascript:void();' onclick='fc_chat.tgl_info_panel(\"createedit\",0,\"\");return false'>"+j(66)+"</a></span></div>"+jI(1)+"</div>";eC=setTimeout("fc_chat.showdiv(9)",20)};var em;this.c_gL=function(a,b,c,f,d){if(!B){em=f+''+d;B=true;clearTimeout(hi);q('fc_passtxt'+em)[z]=j(158);v=q('fc_rpass'+em);var g=v.value;v.value='';q('fc_rpass'+em).disabled=true;if(nQ(g)){I='00039\\'+bR(d,6)+jGo.MD5.hex_md5(gE);bh()}}};function nQ(a){if(a.length>2&&a.length<16){if(!kv.test(a)){gE=a;return true}}fc_chat.eS2(1);B=false;return false};var hi;this.eS2=function(a){var b;if(a==1){b=j(93)}if(a==2){b=j(94)}if(a==3){b=j(95)}clearTimeout(hi);q('fc_passtxt'+em)[z]='<br>'+b;q('fc_rpass'+em).disabled=false;hi=setTimeout("fc_chat.clearRoompassTxt('"+em+"')",7000)};this.clearRoompassTxt=function(a){q('fc_passtxt'+a)[z]=''};var gi=navigator.userAgent.toLowerCase();var nR=((gi.indexOf('gecko')!=-1)&&(gi.indexOf('spoofer')==-1)&&(gi.indexOf('khtml')==-1)&&(gi.indexOf('netscape/7.0')==-1));var nS=((gi.indexOf('AppleWebKit')!=-1)&&(gi.indexOf('spoofer')==-1));this.insertTags=function(a,b,c,f){var d;if(f==1){d=document.getElementById('fc_chat');fc_chat.oF()}else if(f==3){d=document.getElementById('fc_uChat2')}else if(f==4){d=document.getElementById('fc_sendpagechat')}else{d=document.getElementById('fc_uChat')}if(document.selection&&!nR){var g=document.selection.createRange().text;if(!g){g=c}d.focus();if(g.charAt(g.length-1)==" "){g=g.substring(0,g.length-1);document.selection.createRange().text=a+g+b+" "}else{document.selection.createRange().text=a+g+b}}else if(d.selectionStart||d.selectionStart=='0'){var l=d.selectionStart,n=d.selectionEnd,r=d.scrollTop,t=(d.value).substring(l,n);if(!t){t=c}if(t.charAt(t.length-1)==" "){subst=a+t.substring(0,(t.length-1))+b+" "}else{subst=a+t+b}d.value=d.value.substring(0,l)+subst+d.value.substring(n,d.value.length);d.focus();var y=l+(a.length+t.length+b.length);d.selectionStart=y;d.selectionEnd=y;d.scrollTop=r}else{var x=mW,o=new RegExp("\\$1","g"),u=new RegExp("\\$2","g");x=x.replace(o,c);x=x.replace(u,a+c+b);var H;if(c){H=prompt(x)}else{H=""}if(!H){H=c}H=a+H+b;document.infoform.infobox.value=H;if(!nS){d.focus()}mV=true}if(d.createTextRange)d.caretPos=document.selection.createRange().duplicate()};this.getPve=function(a){return h.pve[a]};this.getB=function(a){return h.b[a]};var ci=function(a){return(h.bg[a]&&h.bg[a]!='1'&&h.bs[a]!='1')};this.getO=function(a){return h.o[a]};this.getNm=function(a){return h.nm[a]};this.getAc=function(a){return h.ac[a]};this.getIdl=function(){if(h!=null&&h.idl[k.uid]==1){return true}return false};this.show_user_chat=function(a,b,c,f,d){var g="fc_uD";var l="fc_uD2";var n='';var r=false;var t=false;var y='0';var x=false;var o;var u="visible";var H=1;var S='';var P='';var R='';var F=G.user_pop_up_panel.font.links_css;var bb=(!M)?'jGo_ydsf':'';var bq=(!M)?'jGo_inner':'';this.uD=q(g);this.uDiv1=q(l);eP=18;fH.cU=f;var bo=false;if(!ci(f)){S=j(52);x=true;bo=true}if(f==k.uid){u="hidden";H=0;S=j(51);x=true;bo=true}if(cX[f]==1){r=true}if(fH.getB(f)=='1'){t=true}if(fH.getO(f)=='0'){S=j(53)+S;x=true;if(bf(f)){bo=true}}if(bo){o="<div class='fc_uspbtn_dis' ><a class='fc_uspbtn_disa'>"+j(264,'Send Message')+"</a></div>"}else{o="<div class='fc_uspbtn' >"+cG+" onClick='"+gr+"sendChat(false,false,"+iH+");return false'>"+j(264,'Send Message')+"</a></div>"}if(cK!=cL){y=window.parent.fc_chat.getAc(k.uid)}else{y=h.ac[k.uid]}if(cK!=cL){if(window.parent.fc_chat.uD!=null){window.parent.fc_chat.uD.style.display=s;if(M){window.parent.fc_chat.uIF.style.display=s}}}else if(k.m==1){k.odiv.style.display=C}var bv=jK(f,F);var bk="";if(O(y)>0){bk="<a style='"+F+ds+"toggleMenu(this,"+f+",\"mod\")'>"+j(45)+"</a>&nbsp;&nbsp;"}var bz=(kg?"' target=_blank href='"+iV+encodeURIComponent(h.nm[f])+"'>":ds+"showUP("+f+")'>");var cb="<a style='"+F+ds+"send_to("+f+")'>"+j(2,"Chat")+"</a>&nbsp;&nbsp;";var bt="<a style='"+F+bz+j(46)+"</a>&nbsp;&nbsp;";var bA=(m.change_avatar?"<a style='"+F+ds+"avaFWrapper()'>"+j(47)+"</a>&nbsp;&nbsp;":"");var bi="<a style='"+F+ds+"toggleMenu(this,"+f+",\"item2\")'>"+j(350,'Set Availability')+"</a>&nbsp;&nbsp;";var bu="<a style='"+F+ds+"remove_recent("+f+")'>"+j(432,'Remove from Recents')+"</a>&nbsp;&nbsp;";var cD="<a style='"+F+ds+"toggleMenu(this,"+f+",\"item3\")'>"+j(363,'Set Signature')+"</a>&nbsp;&nbsp;";var dF="<a style='"+F+ds+"showStatus("+f+","+iH+")'>"+j(48)+"</a>&nbsp;&nbsp;";var n0="<a style='"+F+ds+"tglNick(2,"+f+")'>"+j(422,'Set Nickname')+"</a>&nbsp;&nbsp;";var nT=(T?"<a style='"+F+ds+"hideUBox()'>"+j(54)+"</a>":"");var hr='&nbsp;&nbsp;';var iv='<span style="visibility:hidden">S</span><br>'+hr;if(T){if(this.uD!=null){fc_chat.hideUBox()}}if(this.uD!=null){iJ=true;q('fc_uName')[z]=bW(f,null,1,1)+' '+fH.getNm(f)+dD(f,1);q('fc_uName2')[z]=bW(f,null,1,1)+' '+fH.getNm(f)+dD(f,1);if(f==k.uid){q('fc_profile')[z]=hr+bk+bv+bA+bi+iv+bt+dF+(!bJ?cD:n0)}else{q('fc_profile')[z]=hr+bk+iv+cb+bt+dF+(bs[f]?bu:'')}q('fc_usp')[z]=o;q('fc_btm')[z]=S;q('fc_status').style.visibility='hidden';i("#fc_uvid").attr({"href":"javascript:fc_chat.launchVideoChat(0"+(f==k.uid?"":","+f)+")"});this.uD.style.top='-200px';this.uD.style.display=C;if(M){this.uIF.style.width=this.uDiv1.offsetWidth;this.uIF.style.height=this.uDiv1.offsetHeight;this.uIF.style.display=C}}else{if(jGo.browser.browser!='Explorer'){n=';width:290px'}if(f==k.uid){P=hr+bk+bv+bA+bi+iv+bt+dF+(!bJ?cD:n0)}else{P=hr+bk+iv+cb+bt+dF+(bs[f]?bu:'')}this.uD=document.createElement('div');this.uD.setAttribute('id',g);this.uD.style.position='absolute';this.uD.style.left='0px';this.uD.style.top='-200px';this.uD.style.display=C;this.uD.style.zIndex=jGo.config.max_z_index-90;var lJ=" style='"+G.user_pop_up_panel.font.screen_name_css+"'>"+bW(f,null,1,1)+" "+fH.getNm(f)+dD(f,1)+"</span>&nbsp;"+nT+"</b></td>"+fc_ex.fill_uD(P,F,gr,f,k.uid,iH,o,S)+"</table></td></tr></table></td></tr></table>";var nU="<table border=0 class='"+bq+" fc_table'  id='fc_table2' style='width:"+j(0,0,'user_dialog_width')+"px;padding:6px;vertical-align:middle;background-color:"+G.user_pop_up_panel.background_color+";border:"+kj+"'><tr><td><table class='fc_hidden_table' style='visibility: "+(hY?"visible":"hidden")+"'><tr><td colspan=2>&nbsp;&nbsp;<b><span id='fc_uName2'"+lJ;var nV="<table border=0 class='"+bq+" fc_table'  id='fc_table' style='width:"+j(0,0,'user_dialog_width')+"px;padding:6px;vertical-align:middle;"+bC+"border:"+kj+"'><tr><td><table><tr><td colspan=2>&nbsp;&nbsp;<b><span id='fc_uName'"+lJ;fk=document.createElement('div');this.uDiv1=document.createElement('div');fk.className='jGo_app jGo_myapp '+bb+' fc_'+f;this.uDiv1.className='jGo_app jGo_myapp '+bb+' fc_'+f;this.uDiv1.setAttribute('id',l);fk.style.position='absolute';this.uDiv1.style.position='absolute';fk.style.top='0px';fk.style.left='0px';this.uDiv1.style.top='0px';this.uDiv1.style.left='0px';fk[z]=nU;this.uDiv1[z]=nV;this.uD.appendChild(fk);document.body.appendChild(this.uD);i('#fc_table2').css({opacity:G.user_pop_up_panel.opacity});i('#fc_table2').contents().each(fc_chat.changeGhostIds);this.uD.appendChild(this.uDiv1);i(this.uD).hover(fc_chat.changebackstatus,fc_chat.changestatus);i(this.uD).onEvent('touchstart',fc_chat,'on_ubox','');if(M){this.uIF=fc_ex.createIF(2,Q,this.uDiv1,null,T);document.body.appendChild(this.uIF)}setTimeout('fc_chat.bckUsr()',40);iJ=true;gQ=q('fc_blk')}q('fc_atpg').checked=r;q('fc_blk').checked=t;i('#fc_atxt').css({"opacity":(f!=k.uid?1:.6)});i('#fc_atpg').css({"visibility":(f!=k.uid?"visible":"hidden")});lK(f,x);i('#fc_btxt').css({"opacity":(H?1:.6)});gQ.style.visibility=u;kK();jGo.UI.EventHandler('touchstart','ubox',jGo.UI,fc_chat,'off_ubox');iw=false;dK=dI-9;uPosY=dJ-9;hv=0;var nW=eZ();if(((nW-dK)<this.uDiv1.offsetWidth+30&&dK>this.uDiv1.offsetWidth)||k.m==1){hv=1}var lL=(jGo.browser.browser!='Explorer'?i(window).scrollTop():0)+ew();var lM=this.uDiv1.offsetHeight+uPosY;if(lL-45<lM){uPosY-=(lM-lL+45);if(T&&uPosY<35)uPosY=35};if(!jj){dK+=i(window).scrollLeft();uPosY+=i(window).scrollTop()}if(jGo.browser.browser!='Explorer'){if(hv==0){this.uD.style.left=dK+'px'}else{this.uD.style.left='auto';if(k.IFO!=null){cS.style.width=k.tIF.style.width;cS.style.display=C}this.uD.style.left=(dK+eP-O(this.uDiv1.offsetWidth))+'px'}this.uD.style.top=uPosY+'px';if(jGo.browser.browser=='Opera'){if(d>0){hf(0)}}}else{if(hv==0){this.uD.style.pixelLeft=dK;if(M){this.uIF.style.pixelLeft=dK}}else{this.uD.style.pixelLeft=dK+eP-this.uDiv1.offsetWidth;if(M){this.uIF.style.pixelLeft=dK+eP-this.uDiv1.offsetWidth}}this.uD.style.pixelTop=uPosY;if(M){this.uIF.style.pixelTop=uPosY}}if(M){this.uIF.style.width=this.uDiv1.offsetWidth;this.uIF.style.height=this.uDiv1.offsetHeight}return false};var iw=false;this.on_ubox=function(a){iw=true};this.off_ubox=function(a){if(!iw)k.hideUBox();iw=false};this.changeGhostIds=function(a){if(this.getAttribute&&this.getAttribute('id')!=null&&this.getAttribute('id')!='fc_uName2'){i(this).removeAttr('id')}i(this).contents().each(fc_chat.changeGhostIds)};this.enableScroll=function(a){var b;if(a==1||a==9){b=bl}if(a==2){b=bp}if(a==6){b=bP}if(a==7){b=bQ}if(a==8){b=cg}if(fi){b.style.overflow='auto'}if(a<3){b.scrollTop=b.scrollHeight-(cH?b.clientHeight+1:0)}};function hf(a){eK(bl,a);eK(bp,a);eK(cZ,a);eK(da,a);eK(cR,a);eK(bP,a);eK(bQ,a);eK(cg,a)};function eK(a,b){a.style.overflowX=(b==1?'auto':'hidden')};this.bckUsr=function(){if(M){this.uIF.style.width=this.uDiv1.offsetWidth;this.uIF.style.height=this.uDiv1.offsetHeight;this.uIF.style.display=C}};var lK=function(a,b){var c=(a==k.uid&&fc_chat.vidAcc>1)||(a!=k.uid&&fc_chat.vidAcc%2!=0);var f=((!b||k.uid==a)&&c);var d=(c?'':' '+j(32));i('#fc_uvid').css({"opacity":(f?1:.6),"cursor":(f?"pointer":"default")});i('#fc_e_uvid').attr({"title":(a==k.uid?j(31)+d:j(319,"Private Video Chat")+d)});i('#fc_uwhiteboard').attr({"title":(a==k.uid?j(288,"Open whiteboard"):j(289,"Invite to share a whiteboard"))});i('#fc_unote').attr({"title":(a==k.uid?j(295,"doodlepad"):j(296,"Send a doodle."))});i('a.fc_share').css({"cursor":(!b||k.uid==a?"pointer":"default")});if(!M)i('a.fc_share').css({"opacity":(!b||k.uid==a?1:.6)});i('a.fc_userme').css({"display":(k.uid==a?bH:s)});i('a.fc_usernotme').css({"display":(k.uid==a?s:bH),"opacity":(!b?1:.6),"cursor":(!b?"pointer":"default")})};function lB(a){var b="fc_uD";var c=false;var f=false;var d=false;var g;var l='';var n=q(b);if(n!=null){if(cX[a]==1){c=true}if(!ci(a)){l=j(52);f=true;d=true}if(h.o[a]=='0'){l=j(53)+l;f=true;if(bf(a)){d=true}}if(d){g="<div class='fc_uspbtn_dis' ><a class='fc_uspbtn_disa'>"+j(264,'Send Message')+"</a></div>"}else{g="<div class='fc_uspbtn' >"+cG+"' onClick='fc_chat.sendChat(false,false,document);return false'>"+j(264,'Send Message')+"</a></div>"}q('fc_usp')[z]=g;q('fc_btm')[z]=l;q('fc_atpg').checked=c;i('#fc_atxt').css({"opacity":(a!=k.uid?1:.6)});i('#fc_atpg').css({"visibility":(a!=k.uid?"visible":"hidden")});lK(a,f)}return false};this.a_r_pr=function(a){var b=a.getElementById('fc_atpg');if(!B){i(a.getElementById('fc_atxt')).css({opacity:.6});if(b.checked){fc_chat.add_friend(k.cU)}else{fc_chat.remove_friend(k.cU)}b.disabled=true;if(dV==1){this.filt(1)}if(a==document){setTimeout('fc_chat.releaseATPG(document)',500)}else{setTimeout('fc_chat.releaseATPG(fc_chat.getIFrameDoc())',500)}}else{b.checked=(b.checked==true?false:true)}return false};this.blk_ublk=function(a,b){var c;var f;var d;var g;var l=b.getElementById('fc_blk');if(!B){if(a){i(b.getElementById('fc_btxt')).css({opacity:.6});f=k.cU.toString();d=k.cU;l.disabled=true;if(b==document){setTimeout('fc_chat.releaseBLK(document)',500)}else{setTimeout('fc_chat.releaseBLK(fc_chat.getIFrameDoc())',500)}g=l.checked}else{f=dm.toString();d=dm}if(a&&g){I="0001171"+f.length;h.b[d]='1';h.s[d][3]='1';cw[d]='1';if(di){gh(d,6,'fc_bl')}}else{I="0001170"+f.length;h.b[d]='0';h.s[d][3]='0';if(di){dr(o0,6,cw[d],d);dm='0';var n=q('fc_r');n[z]="<div class='fc_opbtn_dis' ><a class='fc_opbtn_disa'>"+j(135)+"</a></div>"}if(cw[d]!=null){delete cw[d]}}I+=co(f);bh();if(h.ge[d]!=null){c=h.ge[d].split('&');for(var r=0;r<c.length-1;r++){bX(d,c[r],1,1)}}if(Z[6]!=0){if(h.gpe[d]!=null){c=h.gpe[d].split('&');for(var r=0;r<c.length-1;r++){bX(d,c[r],1,6)}}}if(h.pe[d]!=null){c=h.pe[d].split('&');for(var r=0;r<c.length-1;r++){bX(d,c[r],1,2)}}if(Z[7]!=0){if(h.ppe[d]!=null){c=h.ppe[d].split('&');for(var r=0;r<c.length-1;r++){bX(d,c[r],1,7)}}}if(h.de[d]!=null){bX(d,h.de[d],0,3)}if(h.gre[d]!=''){bX(d,h.gre[d],0,4)}if(h.pve[d]!=''){bX(d,h.pve[d],0,5)}if(h.pge[d]!=''){c=h.pge[d].split('&');for(var r=0;r<c.length-1;r++){bX(d,c[r],2,0)}}if(h.ife[d]!=null){c=h.ife[d].split('&');for(var r=0;r<c.length-1;r++){bX(d,c[r],3,0)}}}else{if(a){l.checked=(l.checked==true?false:true)}}return false};this.releaseATPG=function(a){i(a.getElementById('fc_atxt')).css({opacity:1});a.getElementById('fc_atpg').disabled=false};this.releaseBLK=function(a){i(a.getElementById('fc_btxt')).css({opacity:1});a.getElementById('fc_blk').disabled=false};this.tgl_ops=function(a){var b=q('fc_opcnt'+a);b.style.display=(b.style.display==C?s:C);q('fc_opimg'+a)[z]=(b.style.display==C?"<img height='12px' width='12px' class='fc_er fc_e_up' src='"+V+"trans.gif' border=0>":"<img height='12px' width='12px' class='fc_er fc_e_dwn' src='"+V+"trans.gif' border=0>");return false};this.c_px=function(a,b){if(!(b==bx&&b==Y.font.size&&!T)){bx=fc_ex.c_px(a,b,bx);ch(bx,16)}};this.toggleCensor=function(a,b,c){if(a.data){b=a.data[3];a=a.data[2];c=null}if(fm==2){i("#"+(c?"p":"")+"censor"+b)[0].style.display=(a?bH:s)}};this.offBlk=function(){this.style.backgroundColor=(this.className.substr(3)==dm?cF.selected_color:cF.background_color)};this.offBlk2=function(a){a.style.backgroundColor=(a.className.substr(3)==dm?cF.selected_color:cF.background_color)};this.overBlk=function(){this.style.backgroundColor=cF.hover_color};this.clickBlk=function(){dm=fc_ex.clickBlk(this,dm,cw)};this.clickBlk2=function(a){dm=fc_ex.clickBlk(a,dm,cw)};this.toggle=function(a,b,c){if(!B){if(q('fc_'+b+c).style.border=='red 1px solid'){if(ee[a]!=2){q('fc_'+b+c)[z]="<span class='fc_e fc_e_it2'></span>";ee[a]=1}}}};this.toggle2=function(a,b,c){if(!B){if(q('fc_'+b+c).style.border=='#aaaaaa 1px solid'){if(ee[a]!=2){q('fc_'+b+c)[z]="<span class='fc_e fc_e_"+b+"'></span>";ee[a]=0}}}};function nM(){i('#fc_op1').html("<div class='fc_obtn' >"+cG+jm+fR+"</a></div>");i('#fc_co').html("<span class='fc_e fc_e_co'></span>")};function is(a){var b=i(".fc_ob");if(a=='1'&&!fM){b.html(fc_chat.toggle_btn(1,1))}else{b.html(fc_chat.toggle_btn(1,0))}};function ge(a){var b=q('fc_op1');if(a=='1'){ho();ix();b[z]="<div class='fc_obtn' >"+cG+jm+fR+"</a></div>";b=q('fc_tgl1');b[z]="<div class='fc_obtn' >"+cG+" onClick='fc_chat.open_chat_box(this);return false'>"+j(8)+"</a></div>";if(bE=='0'){b=q('fc_sg1');b[z]="<div class='fc_srbtn' >"+cG+" onClick='fc_chat.sendChat(true,true,document);return false'>"+j(10)+"</a></div>"}else{b=q('fc_sp1');b[z]="<div class='fc_spbtn'>"+cG+dM+" onClick="+kB+j(11)+"</a></div>"}}else{if(b){b[z]="<div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+fR+"</a></div>";b=q('fc_tgl1');b[z]="<div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+j(8)+"</a></div>";b=q('fc_sg1');b[z]="<div class='fc_srbtn_dis' ><a class='fc_srbtn_disa'>"+j(10)+"</a></div>";b=q('fc_sp1');b[z]="<div class='fc_spbtn_dis'><a class='fc_spbtn_disa' "+dM+">"+j(11)+"</a></div>"}}};this.open_chat_box=function(a,b,c){if(!B){if(k.m==1&&!gz){return this.toggleHide()}else{if(k.oD!=null){k.oD.style.display=s;if(M){k.oIF.style.display=s}}}if(k.tPC!=null){k.tPC.style.display=s;if(M){k.tPB.style.display=s}}if(fB=='0'){this.tgl_chatcenter(jc,k.chat_window_height,b);kX();B=true}else{this.tgl_chatcenter(jc,k.chat_window_height,b);if(bK<2){lG()}B=true;if(et){bj[5]='1';et=false;var f='';var d='07';if(D[dt]&&D[dt].l!=0){f=jGo.MD5.hex_md5(gE);d='39'}I+=String.fromCharCode(10)+'000'+d+'4'+bR(dt,6)+f}bh(1)}}return false};var kX=function(){jGo.scripts.importClass('jGo.DefaultWindow.ext.min.js','dynamic',this,null);var a=document.getElementsByTagName("head")[0];hu=document.createElement('script');hu.type='text/javascript';hu.src=jX+'js/fcchat.ext.min.js';a.appendChild(hu)};var iy;this.setNickname=function(a){if(!B){iy=jGo.util.trim(jq(q('fc_nickname').value.substr(0,50)));I=bR(10+gX(iy));var b=a.toString();I+='x'+b.length+co(b)+iy;bh(I);q('fc_nickname').value='';q('fc_nickname_set').style.visibility='hidden';q('fc_nickname').disabled=true;setTimeout('fc_chat.unlockNickname('+a+')',250)}};this.unlockNickname=function(a){h.nk[a]=cs(iy);lC(a);q('fc_nickname').disabled=false;q('fc_nickname_set').style.visibility='visible'};var lC=function(a){i('.fc_'+a+'nick').html('&nbsp;'+j(1)+(h.nk[a]!=''?'&nbsp;('+h.nk[a]+')':'')+'&nbsp;&nbsp;')};var lN;var iz=0;var ih=function(a){clearTimeout(lN);if(m.prompt_nickname&&(!iz||(a&&iz<2))&&bf(k.uid)&&h.nk[k.uid]==''&&(a||i("#fc_onlinelist").css("display")==C)){lN=setTimeout("fc_chat.tgl_nick("+(a?a:"")+")",500)}};this.tglNick=function(a,b){if(a==1){X['u1'].hide();if(!gj){iz=1;fc_chat.tgl_online(dl)}fc_chat.tgl_nick()}else{fc_chat.hideUBox();fc_chat.tgl_nick(1)}return false};this.tgl_nick=function(a){if(a||i("#fc_onlinelist").css("display")==C){nt(k.uid,a);iz=(a?2:1)}};var lO=-1;this.setBusy=function(a){if(!B){if(a!=lO){var b=(a==1?'t':'s');I='00001'+b;bh(I)}a==lO}else{if(a==0){q('fc_avl1').checked=true}else{q('fc_avl2').checked=true}}};this.showStatus=function(a,b){if(!B){B=true;var c=a.toString();I='000119'+c.length+c;for(var f=0;f<8-c.length;f++){I+='0'}I+='2';bh(I);var d=b.getElementById('fc_status');if(d){d.style.visibility="visible";if(b==document){setTimeout('fc_chat.releaseStatus("fc_status",document)',1000)}else{setTimeout('fc_chat.releaseStatus("fc_status",fc_chat.getIFrameDoc())',1000)}}}return false};this.releaseStatus=function(a,b){var c=b.getElementById(a);c.style.visibility='hidden'};var nX=function(a,b){a=jGo.MD5.hex_md5(a);var c=bZ(19);var f=((bZ(14)!='3'||k.uid==-1||b)||(c!=a&&bZ(18)==''));return f};var nY=function(a){if(bZ(14)=='3'&&a=='default.gif'&&hM!=''){ch('',18);return hM}else{ch('1',18);return a}};this.launch_avatar=function(){if(!B){eg(bw+"html/Avatars."+m.script_type+"?id="+k.uid+"&ref=1&dummy=true",'fc_avwin','toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1',400,600)}};this.launch_uploads=function(){if(!B){eg(bw+"html/Upload."+m.script_type+"?id="+k.uid+"&ref=1&dummy=true",'fc_upwin','toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1',400,400)}};var lP=function(){if(cC['fc_avwin']){cC['fc_avwin'].close()}if(cC['fc_upwin']){cC['fc_upwin'].close()}};this.newAvatar=function(f,d,g,l,n,r){jY=l;mm=n;mn=r;if(!B){if(d==3&&cx){i.post(lQ(gx),{f:1},function(a){var b='';var c=a.split("<fcchatresponse>");if(c.length>1){b=c[1]}fc_chat.newAvatarcont(b,d,g)},"html")}else{fc_chat.newAvatarcont(f,d,g)}}};this.newAvatarcont=function(a,b,c){var f;if(c=='0'){lR();f=dx}else{f=cC['fc_avwin'].document}if(!B){a=a.replace(/%/g,'%25');a=nY(a);I=bR(a.length+1)+'T'+a;try{bh(I);if(b==1){f.getElementById('wait1').style.display=s;f.getElementById('content1').style.display=C}else{setTimeout('fc_chat.avatarSuccess('+b+',1,'+c+')',500)}}catch(err){bn(ec)}}};this.avatarSuccess=function(a,b,c){var f;if(c=='0'){lR();f=dx}else{f=cC['fc_avwin'].document}try{var d=f.getElementById('content1');var g=f.getElementById('wait1');if(a!=1){d.style.display=s;g.style.display=C;setTimeout('fc_chat.avatarSuccess(1,'+a+','+c+')',500)}else{var l=(b==2?j(204):j(205));if(b==4){l=j(206)};g.style.display=s;d[z]='<br><font face="Arial">'+j(203)+' '+l+'</b></font><br><br><br><a href="javascript:this.location.replace('+(c=='0'?'window.parent':'window.opener')+'.fc_chat.html_dir+\'Avatars.'+jY+'?ref='+c+'&id='+k.uid+'\')">'+j(181)+'</a>&nbsp;<a href="javascript:'+(c=='0'?'window.parent':'window.opener')+'.fc_chat.rem('+c+')">'+j(182)+'</a><br><br><div></div>';d.style.display=C}}catch(e){}};var bW=function(a,b,c,f,d,g,l){var n="";if(m.show_avatar_in_chats||f){l=l||m.avatar_sz;var r=iU;var t='px';if(d){l/=12;r=my;t='em'}var y=m.avatars_dir+'default.gif';if(h.av[a]!=''&&h.av[a]!='default.gif'){y=h.av[a];y=(y.indexOf('/')==0)?y.substr(1):m.avatars_dir+y}else{r+="background-color:#"+h.acl[a]+";"+jl}var x="";var o="";var u="";var H="";if(!g){var S="";x='<a href=\"javascript:void\" ';S=(!d?fc_chat.uolnk(a,b):'onclick=\''+(d==2?eV:'')+'return fc_chat.toggleMenu(this,'+a+',"u1");\'');if(a==k.uid&&c&&m.change_avatar){S='title="'+j(34)+'" onclick="return fc_chat.avaFWrapper();"'}if(!c){S+=' onmouseover="fc_chat.view_over(this,'+a+')" onmouseout="fc_chat.view_out()"'}x=x+S+'>';o='</a>';u='width='+(l*10/9)+t;H='width:'+(l*10/9)+t}n=dy(l,t)+x+'<img class="fc_t'+a+'avimg" src="'+y+'" border="0" '+u+' height="'+(l)+t+'" style="height:'+(l)+t+';'+H+';'+r+'">'+o}return n};this.oF=function(a){if(ji==1){i(bM).css('font','');if(T)i(bM).css({'font-size':'16px',padding:'3px 3px'});bM.value='';ji=0}};var lS=false;var nA=function(a){ey+=(a-0);i("span.fc_nc_count").html(eH(ey,j(367,"Chats")+" ("+ey+" "+j(267,"new")+")"))};var hk=function(a){if(a!=null){ff+=a}if(cf+ff>0)lS=true;if((L||m.set_tab)&&lS){document.title=j(407,"Room")+"("+ff+") "+j(408,"Msgs")+"("+cf+")"}};var ig=function(){i("span.fc_nm_count").html(eH(cf,"("+cf+" "+j(267,"new")+")"));hk()};var fz=function(){clearTimeout(jv);bB.close_dialogs()};var eq=!((N.config.layout==2||(N.config.small_screen&&!N.config.tablet))&&T);var gk=function(a){fc_chat.rescale();if(jGo.browser.webkit){var b='';if(de==1){b=':not(#fc_quickchat)'}i("div.fc_tldialog"+b+",#fc_loginbox,#fc_chatrooms").css("visibility","hidden");setTimeout("fc_chat.position_elements("+a+")",5)}else{k.position_elements(a)}};this.position_elements=function(a){if(jGo.browser.webkit){i("div.fc_tldialog,#fc_loginbox,#fc_chatrooms").css("visibility","visible")}var b=i("#fc_toolbar_inner");var c=M||T||N.config.fixed==0;var f=(c?"absolute":"fixed");if(a){var d=fp(q("fc_friendscenter_toolbar_item"),!(c)).x;if(T&&L){}var g=fp(b[0],!(c)).y;var l=fp(b[0],!(c)).x;var n=-i('#fc_toolbar').height()-4;var r=(N.config.layout==0?8:10);var t=r+A.online_box.height*(jGo._['scalefactor']||1)-dj.border_height;var y=(i("#fc_loginbox").parent()[0]==document.body?i("#fc_loginbox").height():150);i("#fc_loginbox").css({position:f,top:(g-(N.config.position.substr(0,1)=='t'?n:r+y))+'px',left:((T?d+A.online_box.toolbar_offset:l+bB.width-(i("#fc_loginbox").width()+3)))+'px'});i("#fc_chatrooms").css({position:f,top:(g-(N.config.position.substr(0,1)=='t'?n:t))+'px',left:(d+A.online_box.toolbar_offset)+'px'});i("#fc_onlinelist").css({position:f,top:(g-(N.config.position.substr(0,1)=='t'?n:t))+'px',left:(d+A.online_box.toolbar_offset)+'px'});i("#fc_quickchat").css({position:f,top:(g-(N.config.position.substr(0,1)=='t'?n:t))+'px',left:(d+(eq?A.online_box.width+7:0)+A.online_box.toolbar_offset)+'px'});i("#fc_friendslist").css({position:f,top:(g-(N.config.position.substr(0,1)=='t'?n:t))+'px',left:(d+A.friends_box.toolbar_offset)+'px'})}else{var x=nZ();if(q('fc_loginbox')){i("#fc_loginbox").css({position:"absolute",top:(i("div.fc_controlbox").offset().top+A.login_panel.top)+'px',left:(Math.max(5,i("div.fc_controlbox").offset().left+A.login_panel.left+x.pos3))+'px'})}i("#fc_chatrooms").css({position:"absolute",top:(i("div.fc_controlbox").offset().top+A.chatrooms_box.top)+'px',left:(Math.max(5,i("div.fc_controlbox").offset().left+A.chatrooms_box.left+x.pos2))+'px'});i("#fc_onlinelist").css({position:"absolute",top:(i("div.fc_controlbox").offset().top+A.online_box.top)+'px',left:(Math.max(5,i("div.fc_controlbox").offset().left+A.online_box.left+x.pos))+'px'});i("#fc_quickchat").css({position:"absolute",top:(i("div.fc_controlbox").offset().top+(A.new_messages_box.top||A.online_box.top))+'px',left:((eq?O(i("#fc_onlinelist").css("left"))+(x.left?(-A.new_messages_box.width-7):(A.online_box.width+7)):Math.max(5,i("div.fc_controlbox").offset().left+A.new_messages_box.left+x.pos4)))+'px'});i("#fc_friendslist").css({position:"absolute",top:(i("div.fc_controlbox").offset().top+A.friends_box.top)+'px',left:(Math.max(5,i("div.fc_controlbox").offset().left+A.friends_box.left+x.pos))+'px'})}dl=a};var nZ=function(){var a={left:false,pos:0,pos2:0,pos3:0,pos4:0};if(A.control.align_dialogs){a.left=(m.alignment=='left'?true:false);if(m.alignment=='auto'){a.left=i("div.fc_controlbox").offset().left>(eZ()/2)}a.pos=(!a.left?i("div.fc_controlbox").width()+7:-i("#fc_onlinelist").width()-7);a.pos2=(!a.left?i("div.fc_controlbox").width()+7:-i("#fc_chatrooms").width()-7);a.pos3=(!a.left?i("div.fc_controlbox").width()+7:-i("#fc_loginbox").width()-7);a.pos4=(!a.left?i("div.fc_controlbox").width()+7:-i("#fc_quickchat").width()-7)}return a};var gj=0;var gl=0;var de=0;var ib=0;var hg=0;var oH=0;var oI=0;var hh=0;this.tgl_chatrooms=function(a){if(!cq){if(m.skip_roomlist&&!L){if(bK!=3){ex={typ:0,index:(m.default_room_index+5),id:"fc_open_full_chat",elem:null};fc_chat.c_g2(0)}return}var b=(q('fc_chatrooms').style.display==s);fz();if(b){fA();eL();gm();if(!B){gk(a)}oa()}}};this.tgl_online=function(a){if(!cq){fz();if(gj){gm();eL()}else{fA();if(!eq)eL();if(!B){gk(a)}ob()}}};this.tgl_friends=function(a){if(!cq){fz();if(gl){fA();eL()}else{gm();if(!eq)eL();if(!B){gk(a)}if(eq&&!de){lT()}lU()}}};this.tgl_messages=function(a){if(!cq){fz();if(de){eL();if(eq){fA()}}else{if(!eq){fA();gm()}if(!B){gk(a)}if(eq&&!gj){lU()}lT()}}};this.close_boxes=function(a,b){fz();if(!b&&!cq&&!gc)eE();for(var c in X){if(X.hasOwnProperty(c)&&X[c].isOpen){X[c].hide()}}fA();eL();gm();lP()};var dy=function(a,b){width=(b?1/12:1);b=(b?b:'px');a+=b;width+=b;return"<div style='"+bN+";height: "+a+";'><IMG SRC='"+bw+"trans.gif' height='"+a+"' width='"+width+"' style='height:"+a+";width:"+width+";"+bC+"'></div>"};var oJ="<div class='fc_chat_container' id='fc_aG' style='font-style:italic;"+gD+";font-weight:bold;'>"+dy(16)+fr+" "+j(118)+"</div>";var oa=function(){if(!B){i("#fc_chatrooms").css("display",C);eE();hV()}};var gm=function(){i("#fc_onlinelist").css("display",s);gj=0};var ob=function(){if(q("fc_onlinelist").style.display==C){gm()}else{if(!B){i("#fc_onlinelist").css("display",C);lV();hV();eE();gj=1}}};var hV=function(){if(!ib){ib=1;i("#fc_t4").html(j(293,'Please wait'));i("#fc_t6").html(j(293,'Please wait'));if(bK<2){I='00001q';bh()}else{var a=[];cA[4]=0;for(var b in h.de){if(h.de.hasOwnProperty(b)){ga(b,a,dB(b,4),4)}}q('fc_t4')[z]=fq(a,4);hg=1;q('fc_t6')[z]=jI(0);ih()}}else{ih()}};this.add_online=function(a){if(q("fc_t4"+a)==null){if(!bf(a)){i("#fc_t4"+k.uid).after(dB(a,4))}else{hU("#fc_t4",dB(a,4),4,1)}}};this.view_out=function(){i('div.fc_view').remove()};var jD=0;this.view_over=function(a,b){jD=b;if(h.av[b]!='default.gif'&&h.av[b]!=''&&!i('#fc_view')[0]){i(document.body).append(i(document.createElement('div')).addClass('fc_view').css({'position':'absolute',top:(i(a).offset().top+15)+'px',left:(i(a).offset().left+15)+'px','height':'35px','background-color':'#eeeeee',height:'80px','border':'1px solid silver','z-index':jGo.config.max_z_index}).html(bW(b,null,0,1,null,1,80)))}};var oK=function(a){return dB(a,4)};this.remove_online=function(a){if(bf(a)&&q("fc_t4"+a)!=null){hd(4,-1)}le(a,"fc_t4")};var fA=function(){i("#fc_friendslist").css("display",s);gl=0};var lU=function(){if(q("fc_friendslist").style.display==C){fA()}else{if(!B){i("#fc_friendslist").css("display",C);hV();eE();gl=1}}};this.add_friend=function(a){if(X['u1']&&X['u1'].isOpen){X['u1'].hide()}if(U=='0')fz();cX[a]=1;if(cE==0){fc_chat.switch_contact_panel(1)}if(q("fc_t3"+a)==null){lW(true,a)}if(!gl&&!B&&U=='0'){i("#fc_friendslist").css("display",C);gl=1;i("#fc_quickchat").css("display",C);de=1;f0();i("#fc_onlinelist").css("display",s);gj=0}};this.remove_friend=function(a){if(X['u1']&&X['u1'].isOpen){X['u1'].hide()}delete cX[a];if(jD==a){i('#fc_view').remove()}lW(false,a)};var lW=function(a,b){if(a){jN(b);I='00011o1'}else{if(cE==1)lX(b);I='00011o0'}var c=b.toString();I+=c.length+co(c);bh()};var jN=function(a){var b=i("#fc_t3").html();i("#fc_t3").html(dB(a,3)+b);if(bK>1){gh(a,5,'fc_pl')}};var lX=function(a){i("#fc_t3"+a).remove();if(bK>1){dr(cR,5,h.pve[a],a)}};this.switch_contact_panel=function(a){cE=a;i('span.fc_contacts_links').html(iA());i('#fc_contact_selector').html(jO());var b=(a?cX:bs);jJ(b);if(bK>1){jH(b)}};var jJ=function(a){var b=[];i("#fc_t3").html('');if(cE==1){for(var c in a){if(a.hasOwnProperty(c)){lE(c,b,dB(c,3))}}q('fc_t3')[z]=fq(b)}else{if(cd.l){var f=cd.l;var d='';do{d+=dB(f,3);f=a[f].p}while(f);q('fc_t3')[z]=d}}};var jH=function(a){E[5]=0;ba[5]=0;for(var b in h.pve){if(h.pve.hasOwnProperty(b)){h.pve[b]=''}}db[z]='';var c=[];if(cE==1){for(var b in a){if(a.hasOwnProperty(b)){var f=lY(b);lE(b,c,f)}}}else{if(cd.l){var d=cd.l;c[0]='';do{c[0]+=lY(d);d=a[d].p}while(d)}}dp[5]=cR.scrollHeight;db[z]=lZ()+fq(c)};var lZ=function(){return'<div id="fc_contacts_top_main" style="width:'+bU+'px;z-Index:'+(Q+202)+';'+mv+'background-color:'+gu.background_color+'"><span id="fc_contacts_links_main" style="'+gu.css+'">&nbsp;'+iA(1)+'</span></div>'};var iA=function(a){var b=(a?gu.css:A.friends_box.text.css);var c='<span style="'+b;var f='&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;';var d=b+(a?gu.link_css:A.friends_box.greeting_box_link);if(cE==0){return c+';font-weight:bold;" >'+j(433,'Recents')+'</span>'+f+es+'switch_contact_panel(1)" style="'+d+'" >'+j(434,'Friends List')+'</a>'+(a?'<div id="fc_clp">'+es+'remove_recent(0);" onmouseover="getElementById(\'fc_e_clp\').className=\'fc_e fc_e_cl2b\'" onmouseout="getElementById(\'fc_e_clp\').className=\'fc_e fc_e_clb\'"><span class="fc_e fc_e_clb" id="fc_e_clp" title="Clear All" style="display: block;position:absolute;top:4px;left:'+(bU+j(0,0,'clear_recents_offset')-35)+'px;"></span></a></div>':'')}else{return es+'switch_contact_panel(0)" style="'+d+'" >'+j(433,'Recents')+'</a>'+f+c+';font-weight:bold;" >'+j(434,'Friends List')+'</span>'}};var jO=function(){if(cE==0){return j(435,'Recent Contacts')+'&nbsp;&nbsp;'+es+'remove_recent(0)" style="'+A.friends_box.text.css+A.friends_box.greeting_box_link+'" >'+j(273,'Clear')+'</a>'}else{return j(434,'Friends List')}};var lY=function(a){var b='';var c=m.avatars_dir+'default.gif';var f=bH;var d=iU;if(h.av[a]!=''&&h.av[a]!='default.gif'){c=h.av[a];c=(c.indexOf('/')==0)?c.substr(1):m.avatars_dir+c}else{d+="background-color:#"+h.acl[a]+";"+jl}var g='<a id="fc_';var l='av" style="display:'+f+';margin-left:15px;" href=\"javascript:void\" ';h.pve[a]='fc_pl'+E[5];var n=dq(a,0,5);var r=(bE==a?fL:eU);b='&nbsp;'+bW(a,5,0,1);var t='<div class="fc_'+a+'" id=fc_pl'+E[5]+' style="font-weight:bold;width:'+bU+'px;z-Index:'+(Q+202)+';'+hB+r+'" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)" onclick="fc_chat.send_to('+a+');">'+b+n+gg(a)+dD(a,null,1)+fw(a,1)+gf(a)+'<div id="fc_pl'+E[5]+gw+fx(a)+eJ(a)+fy(a)+hm(a)+'</div></div>';E[5]++;ba[5]++;return t};this.remove_recent=function(a){if(cd.f){if(X['u1']&&X['u1'].isOpen){X['u1'].hide()}if(this.uD!=null){this.uD.style.display=s;if(M){this.uIF.style.display=s}}if(a==0){hZ();i("#fc_t3").html('');i(db).html(lZ());for(var b in h.pve){if(h.pve.hasOwnProperty(b)){h.pve[b]=''}}}else{ma(a)}I='00011y0';var c=a.toString();I+=c.length+co(c);bh()}};var hZ=function(){cd.f=null;cd.l=null;delete bs;bs={}};var jA=function(a,b){if(bs[a]){if(cd.l!=a){ma(a,b);bs[cd.l].n=a;bs[a]={p:cd.l,n:null};if(cE==0&&!b){jN(a)}}}else{bs[a]={p:cd.l,n:null};if(cd.l){bs[cd.l].n=a}if(!cd.f){cd.f=a}if(cE==0&&!b){jN(a)}}cd.l=a};var ma=function(a,b){if(bs[a]){if(cd.l!=a){if(bs[a].p){bs[bs[a].p].n=bs[a].n;bs[bs[a].n].p=bs[a].p}else{bs[bs[a].n].p=null;cd.f=bs[a].n}}else{if(bs[a].p){bs[bs[a].p].n=null;cd.l=bs[a].p}else{hZ()}}bs[a]=null;if(cE==0&&!b){lX(a)}}};this.clear_nm=function(){i("#fc_t2").html("");cf=0;en=0;ig()};var eL=function(a){i("#fc_quickchat").css("display",s);de=0};var lT=function(){if(q("fc_quickchat").style.display==C){eL()}else{if(!B){k.cU=cT;lV();i("#fc_quickchat").css("display",C);eE();de=1;f0();setTimeout("fc_chat.scroll_nm()",100)}}};this.scroll_nm=function(){var a=i('#fc_view_msgs')[0];a.scrollTop=a.scrollHeight-(cH?a.clientHeight+1:0)};var eo='0';this.send_to=function(a){if(a.data){a=a.data[2]}if(!B&&a!=k.uid||a==0){var b=[cZ,da,cR];if(this.uD!=null){this.uD.style.display=s;if(M){this.uIF.style.display=s}}if(a!=0){jC(a,0,1)}if(a!=eo&&a!=0){if(!ci(a)||(bf(a)&&h.o[a]!='1')){if(dV==1){iq(a);i(b).find("div.fc_"+a).append("<div class='fc_current_chatee' unselectable='on' style='cursor:default;margin-left:3px;font-style:italic;"+hC+"'>"+j(429,"Conversation selected")+"</div>");eo=a}bn(j(409,"Sorry, this user is not available for private chat."))}else{if(bE!='0'){i(b).find("div.fc_"+bE).css("background-color",eU)}i("div.fc_current_chatee").remove();bE=eo=a;i(b).find("div.fc_"+bE).css("background-color",fL);i(b).find("div.fc_"+bE).append("<div class='fc_current_chatee' unselectable='on' style='cursor:default;margin-left:3px;font-style:italic;"+hC+"'>"+j(430,"Selected for chat")+"</div>");i('#fc_sp1').html("<div class='fc_spbtn' >"+cG+dM+" onClick="+kB+j(11)+"</a></div>");i('#fc_sg1').html("<div class='fc_srbtn_dis' ><a class='fc_srbtn_disa'>"+j(10)+"</a></div>");jF(a);if(dV==1){fc_chat.filt(1)}hE=1;fc_chat.talk(a,null,1)}}else{iq()}}};var jF=function(a){var b="<div style='position:absolute;top:0px;left:0px;height:30px;"+G.send_to_panel.css+G.send_to_panel.text_css+iT+"'>&nbsp;<span style='font-weight:bold;font-style:italic;"+G.send_to_panel.text_css+"'>"+j(276,'To')+":</span> "+h.snm[a]+(h.o[a]=='1'?'':'<i style="'+A.new_messages_box.text.offline_css+'">'+j(368,'Offline')+'</i>')+" <a style='"+G.send_to_panel.remove_button_css+"' "+bc+"send_to(0)'>X</a>&nbsp;</div>";i("#fc_msg_to").html(b)};var iq=function(a){var b=[cZ,da,cR];i(b).find("div.fc_"+bE).css("background-color",eU);i("div.fc_current_chatee").remove();i('#fc_sg1').html("<div class='fc_srbtn' >"+cG+" onClick='fc_chat.sendChat(true,true,document);return false'>"+j(10)+"</a></div>");i('#fc_sp1').html("<div class='fc_spbtn_dis'><a class='fc_spbtn_disa'"+dM+">"+j(11)+"</a></div>");i("#fc_msg_to").html("");bE=(a?a:'0');if(dV==1){fc_chat.filt(1)}bE=eo='0';hE=(W==1?1:0)};var nK=function(a){return'onmouseover="fc_chat.overUser(this)" onmouseout="fc_chat.offUser(this)" onclick="fc_chat.talk('+a+',1)"'};this.overUser=function(a){a.style.backgroundColor=eu.select_user.over_color};this.offUser=function(a){if(a.className.split(" ")[0].substr(6)==cT){a.style.backgroundColor=eu.select_user.selected_color}else{a.style.backgroundColor=eu.select_user.off_color}};this.talk=function(a,b,c){if(!B&&a!=k.uid){var f=[q("fc_t5"),q("fc_t4"),q("fc_t3")];jC(a,0,1);if(a!=cT){if(k.cU!='0'){i(f).find("div.fc_usr"+k.cU).css("background-color",eu.select_user.off_color)}i(f).find("div.fc_usr"+a).css("background-color",eu.select_user.selected_color);lA(a);cT=a;k.cU=a;mb(c)}else if(b){i(f).find("div.fc_usr"+k.cU).css("background-color",eu.select_user.off_color);jE(1)}else{mb(c)}if(ik==1){this.filt(1,1)}}};var mb=function(a){if(X['u1'])X['u1'].hide();if(!de&&!a){gk(dl);if(i("#fc_chatrooms").css("display")==C||i("#fc_page_discussion_dialog").css("display")==C){fz();i("#fc_friendslist").css("display",C);gl=1}if(!eq)fc_chat.close_boxes();i("#fc_quickchat").css("display",C);de=1;f0()}if(!a){q('fc_uChat2').focus()}};var lA=function(a){i('a.fc_share2').css({"opacity":.4,"cursor":"default"}).attr({"href":"javascript:void(0)"});if((h.o[a]!='1'&&bf(a))||!ci(a)){i("#fc_to_label").html(j(276,'To')+": "+h.snm[a]+' <i style="'+A.new_messages_box.text.offline_css+'">'+j(431,'Not Available')+'</i>');i('#fc_uChat2').html("")[0].disabled=true}else{if(h.o[a]=='1'){i("#fc_to_label").html(j(276,'To')+": "+h.snm[a]);i('#fc_uwhiteboard2').attr({"href":"javascript:fc_chat.wb()"});if(m.allow_games){i('#fc_ugame2').attr({"href":"javascript:fc_chat.m_games()"})}i('#fc_unote2').attr({"href":"javascript:fc_chat.note(2)"});i('#fc_utrlit2').attr({"href":"javascript:fc_chat.open_trlit()"});i('#fc_udoc2').attr({"href":"javascript:fc_chat.doc()"});if(fc_chat.vidAcc%2!=0){i('#fc_uvid2').attr({"href":"javascript:fc_chat.launchVideoChat(0,"+a+")"})}i('a.fc_share2').css({"opacity":1,"cursor":"pointer"})}else{if(jGo.browser.browser=="Explorer"){setTimeout("fc_chat.ie9idiotbrowserfixtolabel("+a+")",200)}else{i("#fc_to_label").html(j(276,'To')+": "+h.snm[a]+' <i style="'+A.new_messages_box.text.offline_css+'">'+j(368,'Offline')+'</i>')}}i('#fc_bld2').attr({"href":"javascript:fc_chat.insertTags(\'"+j(37)+"\',\'"+j(37)+"\',\' "+j(23)+" \',3);"}).css({"opacity":1,"cursor":"pointer"});i('#fc_it2').attr({"href":"javascript:fc_chat.insertTags(\'"+j(38)+"\',\'"+j(38)+"\',\' "+j(24)+" \',3);"}).css({"opacity":1,"cursor":"pointer"});i('#fc_uln2').attr({"href":"javascript:fc_chat.insertTags(\'"+j(39)+"\',\'"+j(39)+"\',\' "+j(25)+" \',3);"}).css({"opacity":1,"cursor":"pointer"});i('#fc_img2').attr({"href":"javascript:fc_chat.insertTags(\'[[\',\']]\',\'"+j(36)+"\',3);"}).css({"opacity":1,"cursor":"pointer"});i('#fc_e_sml2').attr({"href":"javascript:fc_chat.tgl_tools(0,"+G.tools_panel.smileys.width+","+G.tools_panel.smileys.height+",3)"}).css({"opacity":1,"cursor":"pointer"});q('fc_uChat2').disabled=false}};this.ie9idiotbrowserfixtolabel=function(a){i("#fc_to_label").html(j(276,'To')+": "+h.snm[a]+' <i style="'+A.new_messages_box.text.offline_css+'">'+j(368,'Offline')+'</i>')};var jE=function(a){var b='';if(a){cT=-1;k.cU=-1;i("#fc_to_label").html(j(276,'To')+": ");i('#fc_uChat2').html("")[0].disabled=true}else if(bf(cT)||!ci(cT)){i("#fc_to_label").html(j(276,'To')+": "+h.snm[cT]+' <i style="'+A.new_messages_box.text.offline_css+'">'+j(431,'Not Available')+'</i>');i('#fc_uChat2').html("")[0].disabled=true}else if(h.o[cT]!='1'){b=':not(a.fc_sh3)';i("#fc_to_label").html(j(276,'To')+": "+h.snm[cT]+' <i style="'+A.new_messages_box.text.offline_css+'">'+j(368,'Offline')+'</i>')}i('a.fc_share2'+b).css({"opacity":.4,"cursor":"default"}).attr({"href":"javascript:void(0)"})};this.clr_tlk=function(){i("div.fc_tlk_cont:visible").each(function(){var a=jGo.$(this).attr("class").split(" ")[0].substr(6);if(a!=k.uid){cf--}jGo.$(this).remove();en--});en=Math.max(0,en);cf=Math.max(0,cf);ig()};var lV=function(){var a=j(29);val=(m.change_avatar?"<a id='fc_avu' style='margin-left:.167em;' "+bc+"launch_avatar()'><img style='height:1.333em;' title='"+a+"'src='"+V+"add_avatar.png'></a>":"");i("span.fc_quick_chat_name").html("<b>"+eh((cB?cB:bG(m.session_cookie).split('>')[1]),'')+"</b>.&nbsp;"+(bJ?"&nbsp;<a style='"+A.online_box.text.css+A.online_box.greeting_box_link+"' HREF='javascript:void(0)' onclick='return fc_chat.sign_in()'>"+j(342,'Change name')+"</a>":val)+((!bJ&&bZ(14)!="3")?"&nbsp;<a style='"+A.online_box.text.css+A.online_box.greeting_box_link+"' href='javascript:void(0)' onclick='fc_chat.logout()'>"+j(44)+"</a>":''));i("span.fc_quick_chat_signin").html((bJ?"&nbsp;<a style='"+A.online_box.text.css+A.online_box.greeting_box_link+"' HREF='javascript:void(0)' onclick='return fc_chat.sign_in()'>"+j(342,'Change name')+"</a>":val)+((!bJ&&bZ(14)!="3")?"&nbsp;<a style='"+A.online_box.text.css+A.online_box.greeting_box_link+"' href='javascript:void(0)' onclick='fc_chat.logout()'>"+j(44)+"</a>":''))};this.setPng=function(){fJ=new Date().getTime()};this.setL=function(a){B=a};function mc(){this.id=[];this.nm=[];this.snm=[];this.at=[];this.o=[];this.ac=[];this.d=[];this.g=[];this.t=[];this.cc=[];this.ty=[];this.idl=[];this.pr=[];this.pro=[];this.ttl=[];this.ttlo=[];this.nk=[];this.nko=[];this.tag=[];this.tago=[];this.av=[];this.avo=[];this.acl=[];this.vsp=[];this.vcu=[];this.vs=[];this.vso=[];this.vsw=[];this.wl=[];this.vsw2=[];this.wl2=[];this.b=[];this.bg=[];this.bs=[];this.ge=[];this.gpe=[];this.pe=[];this.ppe=[];this.de=[];this.gre=[];this.pve=[];this.msgC=[];this.msgB=[];this.pge=[];this.ife=[];this.s=[];this.u=[];this.of=[];this.nw=[];this.pt=[];this.pid=[]};this.try_connection=function(a){if((a)&&!cx){return 1}return by.jsGetConnect()};this.jsTestConnection=function(){try{if(by.jsGetConnect()=='1'){var a=new Date().getTime();if((a-fJ)>30000){if(hx==dI&&hy==dJ){I='000016'}else{I='00001R'}hx=dI;hy=dJ;try{by.jsSendData(I);fJ=new Date().getTime()}catch(err){this.jsOnClose()}}fS=setTimeout('fc_chat.jsTestConnection()',3000)}else{jP(2)}}catch(err){cu(j((ht?258:104)));fZ(0);gp=1;this.opfxLoader()}};this.jsOnSuccess=function(){iG=1;fS=setTimeout('fc_chat.jsTestConnection()',3000)};this.jsOnFailure=function(){if(!fM){jP(2)}};this.jsOnClose=function(){if(!fc_chat.firstUpdateProcessed){bS(m.user_cookie,'-1');k.uid='-1'}jP(1)};var md;this.stop=function(){clearTimeout(md);fc_chat.connectionLost((!L?j(96):j(392,kE)))};function jP(a){B=true;clearTimeout(fS);if(!fM){if(!ef&&i("#fc_loginbox").css("display")==C&&a==1){i("#fc_logintxt").html(j(64));cu((L?j(393,'Please sign in'):gb(el)));fn(false);if(U==1){i(eb).html("");hn(.25)};cn=true;if(!m.require_login){bJ=true}}else{var b=gn==-1&&ef;var c=(b?j(414,"Connection lost... Trying again in 5 secs. <a "+bc+"stop()'>Stop</a>"):(!L?j(96):j(392,kE)));if(gn==1)c=j(441,"Sorry, you have been booted.");if(gn==2)c=j(442,"Sorry, you have been banned for 30 min.");fc_chat.connectionLost(c,b||gn>0);if(b){md=setTimeout('fc_chat.reqRecon()',5000)}}}else{if(cn&&!jk){bS(cv,'0');dG=0;jk=setTimeout('fc_chat.login()',20)}}gn=-1;gS=0};var hT=function(a){gn=a;I='00001[';bh(1)};this.closeRoom=function(){if(U=='1'){fc_chat.closeVid();bn(j(98));ex={typ:1,index:0,id:null,elem:null};fc_chat.c_g2('0')}else{bd=dY}};this.connectionLost=function(a,b){var c=j((ht?258:104));cu((b?a:c));fc_chat.close_boxes(1);eE();fc_chat.closeVid();fZ(0);if(U==1){fc_chat.prepare_disabled_mode();bS(cv,'0');dG=0}if(U==1||L){if(bm){bm[z]=''}iB(a)};ii(1)};var gn=-1;this.jsOnData=function(a){B=true;if(a.charAt(0)=='Q'){var b=a.substr(1);hT(b)}else{if(hx==dI&&hy==dJ){fJ=new Date().getTime()}nx(a);fc_chat.firstUpdateProcessed=true;if(m.prompt_user&&!m.require_login){fc_chat.startPromo()}ju=true;if(!ef||iX){oc();eO=1;if(!bJ&&!hD||U==1){if(q('fc_loginbox').style.display==C){fc_chat.toggle_login_box(0)}if(U==1){gz=true;ho()}if(gd==0){if(K&&k.m==0){K.cN[0].style.display=C}fc_chat.open_chat_box()}else{fc_chat.tgl_online(dl);gd=0}gz=false}hD=0;iX=false;ef=true}gS=0}};var oc=function(){var a=1;if(!bJ){a=2};if(hD){a=3};ch(a,14)};function jQ(){if(m.flashEnabled){if(navigator.appName.indexOf("Microsoft")>-1){by=window['fc_movie']}else{by=document['fc_movie']}if(by&&by.length){by=by[0]}}else if(m.websocketEnabled){by=jGo.fcchat_webSocket}else{iK=true}};function kU(a){if(navigator.appName.indexOf("Microsoft")>-1){return window[a+'Object']}else if(document.getElementById){var b=a+'Embed';return document.getElementById(b)}else{return null}};function hs(){if(m.flashEnabled){q('fc_flaToggle')[z]='';q('fc_flaToggle')[z]=fc_tag.toString()}else{if(by&&by.socket){by.jsCloseConnection();by.socket=null}}};this.begCon=function(){ki=false;try{if(!by.beginConnect||iK){fc_chat.rtryCon();return false}by.beginConnect(hz,m.host,m.port,m.policy_port,1);if(gy>0){gy=0;hX(1)}}catch(err){fc_chat.rtryCon()}};this.rtryCon=function(){if(gy<=m.retry[0]&&!iK){gy++;if(m.retry[2])cu('<b>&nbsp;'+j(105)+' '+gy+'</b>');hs();jQ();if(q('fc_opimg')){q('fc_opimg')[z]='<img src="javascript:location.href=\'javascript:fc_chat.opfxLoader();\';" style="position:absolute;left:-100px">'}setTimeout('fc_chat.begCon()',m.retry[1])}else{connnectionAttempt=0;fc_chat.connectionLost('<b>&nbsp;'+j(106)+'</b>',1)}};this.riniCon=function(){fc_chat.firstUpdateProcessed=false;hs();if(eO==1||bG(m.user_cookie)=="-1"){fF=1;this.opfxLoader()}else{this.loader()}i(".fc_ob").html(fc_chat.toggle_btn(1,0));if(!m.require_login||bZ(14)=="3"||bG(m.user_cookie)!="-1"){}else{i(".fc_ob").html(fc_chat.toggle_btn(1,1))}};this.reqRecon=function(){ht=0;if(!L&&k.m==0&&U==1){fc_chat.posWin()}bS(cv,'0');bS(dT,'1');dG=0;dU=1;if(L&&(m.require_login&&k.uid=='-1'&&!bJ)&&!cx){go()}else{if(U==0){fc_chat.riniCon()}else{fc_chat.firstUpdateProcessed=false;cn=true;iX=true;hn(.25);me();if(bJ){cB='g:'+j(1)}else{if(cB==null){cB=h.nm[k.uid]}}var a=0;if(cx){if(bZ(14)=='2'&&(m.require_login)){if(k.uid=='-1'){a=1;go()}else{cn=false;jR()}}else{cn=false;jR()}}else{if(m.require_login&&k.uid=='-1'){a=1;go()}else{cn=false;fc_chat.loader_cont()}}}}};this.closeChat=function(){if(!L){if(k.m==1){B=false;setTimeout("fc_chat.open_chat_box()",1500)}else{jS();U=0}}};this.unPause=function(){bS(cv,'0');dG=0;dU=(dU==1?0:1);fc_chat.toggle_on()};this.toggle_on=function(){if(dU==1){dU=0;clearTimeout(fS);try{by.jsCloseConnection()}catch(e){}i(".fc_ob1").html(fc_chat.toggle_btn(0,0));i(".fc_ob").html(fc_chat.toggle_btn(1,0))}else{dU=1;i(".fc_ob1").html(fc_chat.toggle_btn(0,1));i(".fc_ob").html(fc_chat.toggle_btn(2,0))}var a=bw+'ToggleChat.asp';setTimeout("fc_chat.toggle_delay()",500)};this.toggle_delay=function(){if(dU==1){bS(dT,"1");if(cx){gp=1}fc_chat.riniCon()}else if(dU==0){bS(dT,"0");B=true;i(".fc_ob").html(fc_chat.toggle_btn(2,1));cu(j(102));fZ(0);fc_chat.close_boxes(1)}};this.showUP=function(a){if(!B){if(U=='1'||k.m==1){if(er!=4||eX.u!=a){er=1;if(!bf(a)){fc_ex.showUP(eX,a,by,hH)}eX.u=a}this.createTopIFrame(bw+"html/Profile.html?u="+od(a)+'&dummy=true',4,0);return false}else{return true}}return false};this.createUP=function(a,b){return fc_ex.createUP(eX,a,b,by,hH)};this.loadUP=function(a,b){return fc_ex.loadUP(eX,a,b)};var gg=function(a){var b="display:none'>";if(h.pr[a]=='1'){b=bN+"'><span style='"+bg.profile_star.css+"'>&#42;</span>"}return"<span unselectable='on' class='fc_prast"+a+"' style='cursor:default;"+b+"</span>"};var fx=function(a,b,c){var f="display:none;'></span>";if(h.ttl[a]!=''){f=(c||hC)+";margin-left:"+(b?"0em;margin-right:1.25em;":"0em;")+"margin-top:.167em;cursor:default;font-style:italic;font-weight:bold' >"+h.ttl[a]+"</span>"}return"<span unselectable='on' class='fc_ttl"+a+"' style='"+f};var hm=function(a){return(bE==a?"<div class='fc_current_chatee' unselectable='on' style='cursor:default;margin-left:3px;font-style:italic;"+hC+"'>"+j(430,"Selected for chat")+"</div>":"")};function od(a){var b=m.avatars_dir+'default.gif';var c=0;var f=0;if(h.av[a]!=''){b=h.av[a];b=(b.indexOf('/')==0)?b.substr(1):m.avatars_dir+b}b=(b.indexOf('./')==0)?'./../../'+b.substr(2):b;if(bf(a)){c=1}if(a==k.uid){f=1}return a+'&nm='+encodeURIComponent(h.nm[a])+'&g='+c+'&own='+f+'&loc='+encodeURIComponent(b.replace(/http/g,'||protocol||').replace(/\./g,'||period||'))};var bf=function(a){return(h.at[a]==''&&(h.nm[a].substr(0,j(1).length)==j(1)||h.nm[a].indexOf('('+j(1))!=-1))};this.toggleDTM=function(a){if(!B){if(a==0){ch(s,0);fE=0;dW='display:'+s}else{ch(bH,0);fE=1;dW='display:inline'}}};this.createTopIFrame=function(a,b,c){if(!fB||!document.createElement){return false};if(b==er){er=1;this.rem();return false}er=b;if(k.m==1&&c==0){a+='&target=1'}if(!k.IFO&&document.createElement){k.tIF=fc_ex.createIF(0,Q,kw,c,hY);k.IFO=(hY?document.body.appendChild(k.tIF):J.appendChild(k.tIF));if(document.frames){k.IFO=document.frames['fc_UPIFrame']}}else{if(c==0){k.tIF.style.display=C}}if(hY){fc_ex.i_tIF(k.tIF,J)}if(navigator.userAgent.indexOf('Gecko')!=-1&&!k.IFO.contentDocument){setTimeout('fc_chat.createTopIFrame('+a+','+b+','+c+')',10);return false}if(k.IFO.contentDocument){dx=k.IFO.contentDocument}else if(k.IFO.contentWindow){dx=k.IFO.contentWindow.document}else if(k.IFO.document){dx=k.IFO.document}else{return false}dx.location.replace(a);if(c==0){jT(s,C)}return false};this.createMainIFrame=function(a){if(!fB||!document.createElement){return false};var b=window.location.href;if(b.indexOf('?')>=1){b+=''}else{b+='?d=true'}var c=ew()+'px';var f=O(J.style.height);if(!cr&&document.createElement){k.tempIFrame=fc_ex.createIF(1,Q,null,null,T);k.tempIFrame.style.width=a+'px';k.tempIFrame.style.height=c;cr=document.body.appendChild(k.tempIFrame);k.odiv=document.createElement('div');k.odiv.className="jGo_app jGo_myapp";k.odiv.style.width=a+'px';k.odiv.style.height=c;k.odiv.style.position='absolute';k.odiv.style.top='0px';k.odiv.style.left='0px';k.odiv.style.zIndex=Q+600;k.odiv.style.display=s;document.body.appendChild(k.odiv);if(document.frames){cr=document.frames['fc_RSIFrame']}}else{k.tempIFrame.style.width=a+'px';k.odiv.style.width=a+'px';k.tempIFrame.style.height=c;k.odiv.style.height=c}k.tempIFrame.style.display=C;if(navigator.userAgent.indexOf('Gecko')!=-1&&!cr.contentDocument){setTimeout('fc_chat.createMainIFrame('+a+')',10);return false}if(cr.contentDocument){dc=cr.contentDocument}else if(cr.contentWindow){dc=cr.contentWindow.document}else if(cr.document){dc=cr.document}else{return false}dc.location.replace(b);return false};this.getIFrameDoc=function(){return dc};function lR(){try{if(k.IFO.contentDocument){dx=k.IFO.contentDocument}else if(k.IFO.contentWindow){dx=k.IFO.contentWindow.document}else if(k.IFO.document){dx=k.IFO.document}else{dx=null;return false}}catch(err){dx=null;return false}return false};function mf(){try{if(cr.contentDocument){dc=cr.contentDocument}else if(cr.contentWindow){dc=cr.contentWindow.document}else if(cr.document){dc=cr.document}else{dc=null;return false}}catch(err){dc=null;return false}return false};this.breakOut=function(){if(!B){for(var a in h.ife){if(h.ife.hasOwnProperty(a)){delete h.ife[a]}}mf();var b=bw+"html/BreakOut.html";dc.location.replace(b)}return false};this.home=function(){if(!B){var a=q('fc_RSIFrame');a.parentNode.removeChild(a);cr=null;var b=eZ();this.createMainIFrame(O(J.style.left)-1)}return false};this.rem=function(a){if(!B){if(a==1){lP()}else{if(k.IFO==null){fc_chat.tgl_info_panel()}else{var b=q('fc_UPIFrame');er=1;if(k.sI==0)jT(C,s);k.IFO=null;b.parentNode.removeChild(b);if(kA){}}}}};var jM=function(){var a=B;B=false;if(k.IFO!=null){k.rem()}if(k.sI==1){k.rem()}B=a};var jT=function(a,b){i('#fc_gco').css("display",a);i('#fc_bck').css("display",b)};this.btr=jT;this.getTagString=function(){return fc_tag.toString()};this.getMode=function(){return k.m};this.get_ie_offset=function(){var a=0;if(jGo.browser.browser=="Explorer"){a=1}if(jGo.browser.browser=="Safari"){a=-1}return a};var nv=function(a,b){if(a){cH=true}if(b){fi=true}};var il=0;this.fade_new_msgs=function(){if(il<11){il++;i("span.fc_nm_count").fadeTo('fast',(il%2==0?.10:1),fc_chat.fade_new_msgs)}};this.sendOnEnter=function(a,b,c){var f;if(window.event)f=window.event.keyCode;else if(c)f=c.which;else return true;if(f==13){fc_chat[b].apply(this,arguments);return false}else return true};var mg=1;var mh=false;var mi=0;var jU=function(){clearTimeout(mi);mi=setTimeout(function(){fc_chat.banner_resize()},300)};var jV=function(){var a=document.createElement("div");a.style.cssText="position: fixed;top: 0;left: 0;bottom: 0;right: 0;";document.documentElement.insertBefore(a,document.documentElement.firstChild);var b={width:a.offsetWidth,height:a.offsetHeight};document.documentElement.removeChild(a);return b};this.banner_resize=function(){var a=window.orientation;var b=jV().width;var c=1;if(a){if(Math.abs(a)==90){b=jV().height*.8;c=1/.8}}mg=.9375*jV().width/300;width=b*m.mobile_banner_scale_factor;i('.jGo_app.jGo_myapp .fc_d5 *').css('font-size',Math.round(width*c/14.5)+'px');i('.jGo_app.jGo_myapp .fc_d5 span.fc_info_text').css('font-size',Math.round(width*c/32)+'px');i('#fc_t1a,#fc_topbanner').css({'height':Math.round(width*c/6)+'px','line-height':Math.round(width*c/6)+'px'});i('#fc_banner,#fc_toolbar').css('height',Math.round(width*c/6)+'px');i('#fc_banner_status_text, #fc_banner_status_text b, #fc_banner_status_text a, #fc_banner_status_text span,#fc_banner_status_text font,#fc_banner_status_text i').css('font-size',Math.round(width*c/32)+'px');if(!mh)i('#fc_banner,#fc_toolbar').css('display',C)};this.banner_hide=function(){i('#fc_banner,#fc_toolbar').css('display',s)};this.tgl_banner_events=function(b){i(window)[b]('resize',jU);i("body")[b]("touchend",jU);i("body")[b]("gestureend",jU);i("body")[b]("gesturestart",fc_chat.banner_hide);i(document).on('focus','input.fc_input',function(a){fc_chat.banner_hide()}).on('blur','input.fc_input',function(a){jGo.$(this).attr('disabled',true);fc_chat.banner_resize();setTimeout('fc_chat.enable_input("'+jGo.$(this).attr('id')+'")',300)})};this.enable_input=function(a){jGo.$('#'+a).attr('disabled',false)};this.rescale=function(){if(N.config.layout==2){var a=Math.round(mg*12);jGo._['scalefactor']=a/12;jGo.$('.jGo_app.jGo_myapp.jGo_em').css({'font-size':a+'px'})}};this.writeBox=function(){var d='';var g=A.control;var l=A.control.buttons;var n=A.control.info_box;var r=A.new_messages_box.text;var t=A.friends_box.text;var y=A.online_box.text;var x=A.chatrooms_box.text;var o=(fc_chat.vidAcc%2!=0?'':' '+j(32));var u=fc_chat.get_ie_offset();var H="width:1.333em;height:1.333em;";var S=G.widgets.text_icon_css;var P=fj+"cursor:default;margin-right:.167em";var R="float:right;margin-right:7px;"+x.link_css+";text-decoration:none;font-weight:bold;font-stretch:wider;";try{i('#fc_loginbox').remove();i('#fc_alertbox').remove();i('#fc_chatrooms').remove();i('#fc_onlinelist').remove();i('#fc_quickchat').remove();i('#fc_friendslist').remove();i('#fc_toolbar').remove();i('div.jGo_dialog').remove();if(k.infobox){k.infobox.remove();k.infobox.destroy()};if(k.nickBox){k.nickBox.remove();k.nickBox.destroy()}}catch(e){};var F=function(){var a="<div style='position:relative;top:0em;float:right'>"+(!L?"<a style='"+ca.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='fc_chat.toggle_login_exit();return false;'>x</a>":"")+"&nbsp;&nbsp;</div><table cellpadding='.25em' style='display:"+(cx?C:s)+";padding:.417em;margin-top:.833em;margin-left:.833em;margin-right:.417em;'><tr><td width="+(fb-10)+" style='width:"+(fb/12)+"em;'><div style='margin-bottom:.833em;margin-top:2.667em;width:100%;font-weight:bold' id='fc_logintxt2' class='fc_lb_text'><img style='height:2.667em;vertical-align: middle; margin-bottom: .25em' src='"+V+"signin.png' border=0'>&nbsp;&nbsp;"+m.loginText+"</div><center><input type=button id='fc_lexit2' name='Cancel' value='"+j(345,"OK")+"' onclick='fc_chat.redirect_login();return false;' style='font:12pt arial'></center></td></tr>"+(m.facebook_connect&&cx?bb()+"<tr><td><div style='margin-bottom:.583em' id='fc_logintxt' class='fc_lb_text'></div></td></tr>":"")+"</table><table cellpadding='.25em' style='display:"+(cx?s:C)+";padding:.417em;margin-left:.833em;margin-right:.417em;margin-top:.833em'><tr><td ><div style='margin-bottom:.583em;font-weight:bold' id='fc_logintxt1' class='fc_lb_text'>"+j(43)+"</div></td></tr><tr><td align='right' style='padding:.25em;padding-left:.417em'>&nbsp;<input id='fc_luname' onkeypress='fc_chat.sendOnEnter(this,\"sendLogin\",event)' type=text name=username maxlength='30' class='fc_lb_field'><span class='fc_lb_textfield'>&nbsp;"+j(56)+" </span></td></tr><tr><td align='right' style='padding:.25em;padding-left:.417em'>&nbsp;<input id='fc_lpass' onkeypress='fc_chat.sendOnEnter(this,\"sendLogin\",event)' type=password name=password maxlength='30' class='fc_lb_field'><span class='fc_lb_textfield'>&nbsp;"+j(57)+" </span></td></tr><tr><td style='padding:.417em;padding-left:3.333em'><nobr><input type=button id='fc_lenter' name='Enter' value='"+j(58)+"' style='font:12pt arial !important' onclick='fc_chat.sendLogin()'>&nbsp;<input type=button id='fc_lexit' name='Cancel' value='"+j(59)+"' onclick='fc_chat.toggle_login(0);return false;' style='font:12pt arial !important'></nobr></td></tr>"+(m.facebook_connect&&!cx?bb():"")+"<tr><td ><div style='margin-bottom:.583em' id='fc_logintxt' class='fc_lb_text'></div></td></tr></table>";return a};var bb=function(){return"<tr><td width="+fb+" style='width:"+(fb/12)+"em;padding:.083em'><br><div class='fc_lb_text' style='font-weight:bold'><img style='height:2.667em;vertical-align: middle; margin-bottom: .25em' src='"+V+"facebook_32.png' border=0>&nbsp;&nbsp;"+j(353,"Or...Use your Facebook account...")+" </div><div id='fc_fb_login'></div></td></tr>"};d="<div class='fc_controlbox' style='position:absolute;width: "+(L?'10':g.width)+"px;height: "+g.height+"px;top:0px;left:0px;display: "+(m.control_visible?C:s)+";"+g.css+";z-index: "+(m.is_drupal?0:(Q+99))+"'><IMG SRC='"+iE+"' id='fc_logo' border=0 height=16px style='position:absolute;top:"+g.logo.top+"px;left:"+g.logo.left+"px;"+g.logo.css+";height:16px;"+gR+"'><div id='fc_topband' style='position:absolute;top:"+g.title_box.top+"px;left:"+g.title_box.left+"px;width:"+g.title_box.width+"px;height:"+g.title_box.height+"px;"+g.title_box.css+"; z-index:"+(Q+100)+";overflow:hidden;'><div id='fc_topband_inner' style='margin-left: 1px;padding:3px 2px 2px 2px;line-height:160%;"+g.title_box.text.css+"'>"+m.widget_title+"&nbsp;&nbsp;<img class='fc_status_bullet' align=absmiddle style='padding-bottom:3px;"+g.status.css+"' src='"+V+"bullet_yellow.png'></div></div><div id='fc_control_buttons' class='fc_d4' style='position:absolute;display: block;text-align:left;top:"+g.buttons.top+"px;left:"+g.buttons.left+"px;width:"+g.buttons.width+"px;height:"+g.buttons.height+"px;z-index:"+(Q+103)+";overflow:hidden;'><div id='fc_control_buttons_inner' style='margin-left: 1px;padding:3px 2px 2px 2px;line-height:160%'><span class='fc_ob1' id='fc_ob1a' style='"+g.buttons.full_page_button.css+";z-index: "+(Q+102)+";' ><span class='fc_abbtn' ><a onclick='fc_chat.openPopup();' target=_blank href='"+eN+"' >"+gI+"</a></span></span><span class='fc_ob' style='"+g.buttons.on_off_button.css+";z-index: "+(Q+102)+";'><span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+this.obtn+"</a></span></span></div></div><div id='fc_sChat' class='fc_d4' style='position:absolute;display: block;text-align:left;width: "+n.width+"px;height: "+(n.height+u)+"px; top: "+n.top+"px; left: "+n.left+"px;"+g.info_box.css+"; z-index:"+(Q+103)+";overflow:hidden;'><div class='fc_t1' id='fc_t1' style='margin-left: 1px;padding:3px 2px 2px 2px;line-height:160%'>"+((!m.require_login||k.inSession==1)&&jGo.cookie.getCookie('fc_tglChat')!='0'&&jGo.cookie.getCookie('fc_pauseChat')!='1'?lp('..',1):el)+"</div></div></div><div class='jGo_app jGo_myapp jGo_em jGo_dialog' id='fc_chatrooms' style='position:absolute;display: none;visibility: visible;"+A.chatrooms_box.css+";text-align:left;width: "+(A.chatrooms_box.width/12)+"em;height:"+(A.chatrooms_box.height/12)+"em; top: "+A.new_messages_box.top+"em; left:"+(A.new_messages_box.width+A.new_messages_box.toolbar_offset+7)+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'><div id='fc_chatrooms_title' style='position:absolute;width:"+(A.chatrooms_box.width/12)+"em;"+A.chatrooms_box.title_box_css+";overflow:hidden'><div style='padding:.583em;'><a style='"+R+"' "+bc+"tgl_chatrooms()'>x</a><span style='"+x.title_css+"'>"+j(405,'Chat Rooms')+"</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id='fc_exit_room' style='"+x.link_css+";"+x.disabled_css+"'>"+j(400,'Exit Current Room')+"</span></div></div><div class='fc_d7' id='fc_view_chatrooms' style='position:absolute;width:"+(A.chatrooms_box.width/12)+"em;"+A.chatrooms_box.list_box_css+";overflow:auto'><div class='fc_roomlist0' id='fc_t6' style='padding:.25em;overflow:auto;line-height:120%'>&nbsp;&nbsp;"+j(293,'Please wait')+"</div></div></div><div class='jGo_app jGo_myapp jGo_em fc_tldialog' id='fc_onlinelist' style='position:absolute;display: none;visibility: visible;"+A.online_box.css+";text-align:left;width: "+(A.online_box.width/12)+"em;height:"+(A.online_box.height/12)+"em; top: "+A.new_messages_box.top+"px; left:"+(A.new_messages_box.width+A.new_messages_box.toolbar_offset+7)+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'><div id='fc_onlinelist_title' style='position:absolute;width:"+(A.online_box.width/12)+"em;"+A.online_box.title_box_css+";overflow:hidden'><div style='padding:.583em;'><a style='"+R+"' "+bc+"tgl_online()'>x</a><span style='"+y.title_css+"'>"+j(294,'Who\'s Online')+"</span></div></div><div id='fc_onlinelist_greeting' style='position:absolute;width:"+(A.online_box.width/12)+"em;"+A.online_box.greeting_box_css+";overflow:hidden'><div style='padding:.25em;"+y.css+y.info+"'>"+j(275,'You are currently chatting as ')+"<span style='"+y.css+"' class='fc_quick_chat_name'></span>&nbsp;</div></div><div class='fc_d7' id='fc_view_online' style='position:absolute;width:"+(A.online_box.width/12)+"em;"+A.online_box.list_box_css+";overflow:auto'><div id='fc_t4' style='padding:.25em;overflow:auto;line-height:120%'>&nbsp;"+j(293,'Please wait')+"</div></div><div id='fc_online_info' style='position:absolute;width:"+(A.online_box.width/12)+"em;"+A.online_box.info_box_css+";overflow:hidden'><div style='padding:.333em'><span id='fc_online_label' style='line-height:120%;"+y.css+y.info+"'>"+j(292,'<u>Underlined Users</u> are available for chat.<br>Click +/- to add/remove friends. Click name to chat.')+"</span></div></div></div><div class='jGo_app jGo_myapp jGo_em fc_tldialog' id='fc_quickchat' style='position:absolute;display: none;visibility: visible;"+A.new_messages_box.css+";text-align:left;width: "+(A.new_messages_box.width/12)+"em;height:"+(A.new_messages_box.height/12)+"em; top: "+A.new_messages_box.top+"px; left: "+A.new_messages_box.toolbar_offset+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'><div id='fc_quickchat_title' style='position:absolute;width:"+(A.new_messages_box.width/12)+"em;"+A.new_messages_box.title_box_css+";overflow:hidden'><div style='padding:.583em;'><a style='"+R+"' "+bc+"tgl_messages()'>x</a><span style='"+r.title_css+"'>"+j(272,'New Messages')+"</span>&nbsp;&nbsp;&nbsp;<span id='fc_talk_filter'><a style='"+r.link_css+"' "+bc+"filt(1,1)'>"+j(427,'Filter Off')+"</a></span>&nbsp;&nbsp;<a style='"+r.link_css+"' "+bc+"clr_tlk()'>"+j(273,'Clear')+"</a></div></div><div id='fc_quickchat_greeting' style='position:absolute;width:"+(A.new_messages_box.width/12)+"em;"+A.new_messages_box.greeting_box_css+";overflow:hidden'><div style='padding:.25em;"+r.css+"'><span style='"+A.online_box.text.css+"' class='fc_quick_chat_signin'></span>"+(!L?"&nbsp;&nbsp;<a style='"+A.online_box.text.css+A.online_box.greeting_box_link+"' class='fc_grpt0 fc_grp"+dY+"' id='fc_open_full_chat' "+(open_chatrooms_in_window?"onclick='fc_chat.openPopup();' target=_blank href='"+eN+"'":"href='javascript:void(0)' onclick='fc_chat.tgl_full_chat(this);return false;'")+">"+(W==1?j(415,'Open Your messages inbox.'):j(416,'Open Full Chat'))+"</a>":"")+"<img style='visibility:hidden;height:1em;width:.083em' src='"+V+"trans.gif'><div id='fc_conv_selector' style='padding-top:.167em;"+r.css+r.info+"'>"+j(425,'All Conversations')+":</div></div></div><div class='fc_d6' id='fc_view_msgs' style='position:absolute;width:"+(A.new_messages_box.width/12)+"em;"+A.new_messages_box.view_msg_box_css+"overflow:auto'><div id='fc_t2' style='padding:.25em;overflow:auto;line-height:1'><div class='fc_tlk0 fc_tlk_cont' style='"+r.info+"'>"+j(277,'You have no new messages.')+"</div></div></div><div id='fc_send_msgs' style='position:absolute;width:"+(A.new_messages_box.width/12)+"em;"+A.new_messages_box.send_msg_box_css+";overflow:hidden'><div style='padding:.333em'>&nbsp;<span style='"+r.css+"' id='fc_to_label'>"+j(276,'To')+":</span><div style='height:1.333em;margin-left:.167em;padding:.167em'><a class='fc_share2 fc_sh3' id='fc_bld2' href='javascript:void(0)' style='"+P+"'><img title='"+j(23)+"' style='"+H+S+"' id='fc_e_bld' src='"+V+"text_bold.png'></a><a class='fc_share2  fc_sh3' id='fc_it2' href='javascript:void(0)' style='"+P+"'><img title='"+j(24)+"' style='"+H+S+"' id='fc_e_it' src='"+V+"text_italic.png'></a><a class='fc_share2  fc_sh3' id='fc_uln2' href='javascript:void(0)' style='"+P+"'><img title='"+j(25)+"' style='"+H+S+"' id='fc_e_uln' src='"+V+"text_underline.png'></a><a class='fc_share2  fc_sh3' id='fc_img2' href='javascript:void(0)' style='"+P+"'><img style='"+H+"' title='"+j(26)+"' id='fc_e_img' src='"+V+"image_1.png'></a><a class='fc_share2 fc_sh3 fc_tools_a' id='fc_e_sml2' href='javascript:void(0)' style='"+P+"'><img style='"+H+"' id='fc_e_sml2a' src='"+V+"emoticon_smile.png'></a><a class='fc_share2' title='"+j(296,"Send a doodle.")+"' id='fc_unote2' href='javascript:void(0)' style='"+fj+"cursor:default'><img style='"+H+"' src='"+V+"pencil.png'></a>"+(m.transliteration_enabled?"<a class='fc_share2' title='"+j(304,"Type in your language")+"' id='fc_utrlit2' href='javascript:void(0)' style='"+fj+"cursor:default;'><img style='"+H+"' src='"+V+"google_transliteration.png'></a>":"")+"<a class='fc_share2' title='"+j(311,"Share a document")+"' id='fc_udoc2' href='javascript:void(0)' style='"+fj+"margin-left:.083em;cursor:default'><img style='"+H+"' src='"+V+"document.png'></a><a class='fc_share"+(fc_chat.vidAcc%2!=0?'2':'dis')+"' title='"+j(319,"Private Video Chat")+o+"' id='fc_uvid2' href='javascript:void(0)' style='"+fj+"margin-left:.083em;cursor:default'><img style='"+H+"' src='"+V+"webcam.png'></a>"+(m.allow_games?"<a class='fc_share2' title='"+j(330,"Invite to play a game.")+"' id='fc_ugame2' href='javascript:void(0)' style='"+fj+"margin-left:.083em;cursor:default'><img style='"+H+"' src='"+V+"playing_card.png'></a>":"")+"</div> <input id='fc_uChat2' class='fc_input' disabled onKeyPress='"+gr+"oKD(event)' onKeyDown='"+gr+"oKD2(event)' type=text style='"+A.new_messages_box.input_css+"width:"+((A.new_messages_box.width-(T?30:20))/(T?16:12))+"em !important'><br></div></div></div><div class='jGo_app jGo_myapp jGo_em fc_tldialog' id='fc_friendslist' style='position:absolute;display: none;visibility: visible;"+A.friends_box.css+";text-align:left;width: "+(A.friends_box.width/12)+"em;height:"+(A.friends_box.height/12)+"em; top: "+A.new_messages_box.top+"px; left:"+(A.new_messages_box.width+A.new_messages_box.toolbar_offset+7)+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'><div id='fc_friendslist_title' style='position:absolute;width:"+(A.friends_box.width/12)+"em;"+A.friends_box.title_box_css+";overflow:hidden'><div style='padding:.583em;'><a style='"+R+"' "+bc+"tgl_friends()'>x</a><span style='"+t.title_css+"'>"+j(283,'Friends')+"</span></div></div><div id='fc_friends_greeting' style='position:absolute;width:"+(A.friends_box.width/12)+"em;"+A.friends_box.greeting_box_css+";overflow:hidden'><div style='padding:.25em;'><span style='"+t.css+"' class='fc_contacts_links'>"+iA()+"</span><img style='height:1.333em;visibility:hidden' src='"+V+"add_avatar.png'><div id='fc_contact_selector' style='padding-top:.167em;"+t.css+t.info+"'>"+jO()+"</div></div></div><div class='fc_d7' id='fc_view_friends' style='position:absolute;width:"+(A.friends_box.width/12)+"em;"+A.friends_box.list_box_css+";overflow:auto'><div id='fc_t3' style='padding:.25em;overflow:auto;line-height:120%'></div></div><div id='fc_friends_info' style='position:absolute;width:"+(A.friends_box.width/12)+"em;"+A.friends_box.info_box_css+";overflow:hidden'><div style='padding:.333em'><span id='fc_friends_label' style='line-height:120%;"+t.css+t.info+"'>"+j(285,'<u>Underlined Users</u> are available for chat.<br>Click +/- to add/remove friends. Click name to chat.')+"</span></div></div></div>";d+="<div class='jGo_app jGo_myapp jGo_em' id='fc_loginbox' style='display: none;visibility: visible;position: absolute; width:"+(fb/12)+"em; height:"+(((m.facebook_connect?355:230)-(cx?80:0)+(T?30:0))/12)+"em;border:"+G.login_panel.border+"; top: "+A.login_panel.top+"px; left: "+A.login_panel.left+"px; background-color: "+G.login_panel.background_color+";z-index: "+(Q+150)+";overflow:hidden;"+iT+"'>"+F()+"</div><div class='jGo_app jGo_myapp' id='fc_alertbox' style='display: none;visibility: visible; position: "+(L||M||!m.pin_windows||!m.pinned_by_default?"absolute":"fixed")+"; width:"+j(0,0,'alert_dialog_width')+"px; height:100px;border:"+G.alert_panel.border+"; top: 0px; left: 0px; background-color: "+G.alert_panel.background_color+";z-index: "+(Q+150)+";overflow:hidden;"+iT+"'><center><table cellpadding='3' style='padding:5px;margin-top:40px;margin-left:10px'><tr><td><div id='fc_alerttxt' style='"+G.alert_panel.text_css+"'>"+j(97)+"</div></td></tr></table></center></div>";if(!eS){q('fastcatchatentry')[z]=d;}else{cy=document.createElement('div');cy.setAttribute('id','jGo_app');cy.className='jGo_myapp';cy.style.position='absolute';cy.style.width=(L?10:g.width)+'px';cy.style.height=g.height+'px';cy.style.top=kd+'px';cy.style.left=iO+'px';cy.style.zIndex=(L?0:Q+200);cy.style.display=(m.control_visible?C:s);cy[z]=d;document.body.appendChild(cy);}jGo.fcchat_toolbar.friendscenter={};jGo.fcchat_toolbar.friendscenter.style={menu_item:{width:cj.width}};var bq=function(a,b,c){return"<div id='fc_toolbar_inner'><div id = 'fc_friendscenter_toolbar_item'><div class='fc_d5 "+(a||b?"fc_toolbar":"")+"' id='fc_facade'"+(a?"":"style='position:absolute;width:"+(cj.info_box.width+(b&&fK?k.chat_params.button_width:10))+"px;"+cj.info_box.css)+";text-align:left;z-index:"+(Q+103)+";overflow:hidden;'>"+(a?"<div id='fc_topbanner' style='position:relative;float:right;'>"+(fK?"<span class='fc_disc_button'>"+N.chatbox.create_mobile_layout(bB.id)+"</span>":"")+"&nbsp;<a style='text-decoration:none;' target=_blank href='"+eN+"?rmid="+(m.default_room_index+5)+"' onclick='fc_chat.openPopup()'><span class='fc_icon fc_icon-fullscreen'></span></a>&nbsp;<a class = 'fc_topbannerlink' id='fc_bannerlink2' style='text-decoration:none;' "+bc+"hideToolbar();'><span class='fc_icon fc_icon-close'></span></a>&nbsp;</div>":"")+(c?c:"")+"<div class='fc_t1' id='fc_t1a' style='"+(a?"height:"+jGo.fcchat_toolbar.style.height+"px;":"position:absolute;"+cj.info_box.css+";top:0px;left:"+(b&&fK?k.chat_params.button_width:10)+"px;width:"+cj.info_box.width+"px;padding-top:"+(cj.info_box.padding_top+u)+"px")+"'>"+((!m.require_login||k.inSession==1)&&jGo.cookie.getCookie('fc_tglChat')!='0'&&jGo.cookie.getCookie('fc_pauseChat')!='1'?lp('..'):"&nbsp;<span id='fc_banner_status_text'>"+el+"</span>")+"</div></div></div></div>";};jGo.fcchat_toolbar.friendscenter.create=function(){return bq()+"<img class='fc_status_bullet' style='position:absolute;top:"+cj.status.top+"px;left:"+cj.status.left+"px;"+cj.status.css+"' src='"+V+"bullet_yellow.png'><img src='"+V+"trans.gif' style='position:absolute;top:"+cj.divider.top+"px;left:"+cj.divider.left+"px;"+cj.divider.css+"'><div class='fc_ob1' id='fc_ob1b' style='position: absolute;width:"+(cj.off_button.left-cj.open_chat_button.left)+"px;top: "+(cj.open_chat_button.top+u)+"px; left: "+cj.open_chat_button.left+"px;z-index: "+(Q+102)+";' ><span class='fc_abbtn' ><a onclick='fc_chat.openPopup();' target=_blank href='"+eN+"' >"+gI+"</a></span></div><div class='fc_ob' style='position: absolute;top: "+(cj.off_button.top+u)+"px; left: "+(cj.off_button.left)+"px;z-index: "+(Q+102)+";'><span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+fc_chat.obtn+"</a></span></div>";};jGo.fcchat_toolbar.style.icon_tray.restore.width+=j(0,0,"minimized_text_width_offset");bB=N.control=k.createWidget('DefaultToolbar',[jGo.fcchat_toolbar,(N.config.layout==2?[]:cN),N.config.position,j(290,"FriendCenter"),"friendscenter",(L?0:jGo.toolbar_top),(L?-2:jGo.toolbar_left),(L?false:N.config.show),(N.config.layout==0&&kc==0),null,'fc_',(N.config.show&&cK==cL),N.config]);if(N.config.layout==2){bB.frame.html(bq(1));fc_chat.banner_resize();}else if(N.config.mode==0){var bo='';if(fK)bo="<div class='"+bB.app_prefix+"toolbar_item' id='"+bB.app_prefix+"chatbox_toolbar_item' style='position:absolute;top:0px;left:0px'>"+N.chatbox.create('default_toolbar'+bB.id)+"</div>";bB.frame.html(bq(0,1,bo));}if(L){i('#fc_xxx,#fc_os_min,.fc_ob').css("display",s);i(".fc_ob1").html(fc_chat.toggle_btn(0,0));}bB.toggle_dialog=function(a,b,c,f){if(a.css("display")==s){fc_chat.close_boxes(null,1);}return this.getDefault().toggle_dialog.apply(this,arguments);};bB.hide=function(){if(!gc){mh=true;fc_chat.close_boxes();this.getDefault().hide.call(this);}};bB.toggle=function(){if(!gc){this.getDefault().toggle.call(this);ch((this.minimized?'0':'1'),12);}};bB.reposition=function(){if(T&&N.config.fixed==0){this.frame.css('width',jGo.$(document).width());}if(N.config.show&&!T){if(k.tPC!=null&&k.tPC.style.position=='fixed')gW();if(!M)fc_chat.close_boxes();if(k.m==0){this.getDefault().reposition.call(this);}}};k.toolbar=bB;if(M&&N.config.show&&cK==cL){setTimeout("fc_chat.toolbar.reposition()",2000);}if(T)bB.reposition();if(N.config.show&&!L&&cK==cL){i(window).scroll(function(){if(U==1&&k.m==0&&fc_ex&&fc_ex.toggleOpen){fc_ex.toggleOpen(K,cG);}});};for(var bv=0;bv<cN.length;bv++){if(cN[bv]!="friendscenter"){var bk=N[cN[bv]].create_dialogs();N[cN[bv]].append_dialogs(bk);}}if(N.config.layout==2){fc_chat.tgl_banner_events('on');}if(T)i('input.fc_input').css({'font-size':'1.333em',height:'1.125em'});document.body.appendChild(i("#fc_chatrooms")[0]);document.body.appendChild(i("#fc_onlinelist")[0]);document.body.appendChild(i("#fc_quickchat")[0]);document.body.appendChild(i("#fc_friendslist")[0]);if(m.prompt_user){var bk=N.prompt.create_dialogs();N.prompt.append_dialogs(bk);}k.infobox=k.createWidget('InfoBox',[i(document.body),lf]);k.nickBox=k.createWidget('InfoBox',[i(document.body),ha,null,null,0]);if(m.require_login&&!cx&&bG(dT)!="0"&&bG(cv)!="1"){if(bG(m.user_cookie)=="-1"){i(".fc_ob").html(fc_chat.toggle_btn(1,1));}}};this.hideToolbar=function(){bB.hide();};function oe(){fd=0;bd=0;dt=0;ib=0;hg=0;hh=0;this.userlist_state=0;cf=0;en=0;fW=0;nn=0;ej=0;this.discC='..';ey=0;ff=0;this.transliterator=null;this.transliteration=[0];this.currlang=null;fG=1;di=false;bldCount=0;itCount=0;uCount=0;a=0;delete h;dX='';eQ='0000';mo='';delete cw;cw={};cE=0;gt=0;hZ();delete cX;cX={};this.sI=0;if(!L&&!cn&&!gJ){U=0;}bK=0;this.cU='0';bE='0';dm='0';fe='0';cY=0;ck=0;Z[6]=0;Z[7]=0;cm[6]=0;cm[7]=0;E[0]='0';E[1]='0';E[2]='0';E[3]='0';E[4]='0';E[5]='0';E[6]='0';for(var a=0;a<50;a++){ez[a]=0}ba[1]=0;ba[2]=0;ba[3]=0;ba[4]=0;ba[5]=0;ba[6]=0;delete cl;cl=[];delete cQ;cQ=[];gq=false;delete cW;cW=[];cA=new Array(10);cU=m.show_guests;};function jS(){if(J!=null){if(!cn&&!gJ){if(K!=null){K.cN[0].style.display=s;K.frame[0].style.display=s;}if(!cq){ho();}}mj();fv(1,6);fv(1,7);q('fc_del')[z]="<a id='fc_dela' "+bc+"deletePrivateMsgs();' onmouseover='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del2\"' onmouseout='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del\"'><span class='fc_e fc_e_del' id='fc_e_del' title='"+j(21)+"' style='display: block;position:absolute;top:"+(fQ)+"px;left:"+(j(0,0,'private_chat_width')+27)+"px;'></span></a>";bP.style.display=s;eb.style.display=C;bQ.style.display=s;bO.style.display=C;cg.style.display=s;i('#fc_top_info_inner').html('');}if(k.oD!=null){k.oD.style.display=s;if(M){k.oIF.style.display=s;}}if(k.tPC!=null){k.tPC.style.display=s;if(M){k.tPB.style.display=s;}}if(!cn){ix();}if(cT!=-1){jE(1);}if(eo!=0){iq(0);}i('#fc_msg_selector,#fc_conv_selector').html(j(425,"All Conversations")+":");i('#fc_t2').html("<div class='fc_tlk0 fc_tlk_cont' style='"+A.new_messages_box.text.info+"'>"+j(277,'You have no new messages.')+"</div>");i("#fc_t3").html("");i('span.fc_contacts_links').html(iA());i('#fc_contact_selector').html(jO());if(W==1){ge(0);};fc_chat.close_boxes(1,1);jGo.hooks.doHooks('fcchat_reset_vars');};var mj=function(){if(bm){bm[z]='';bO[z]='';dw[z]='';dn[z]='';db[z]='';bP[z]='';bQ[z]='';cg[z]='';}};this.opfxLoader=function(){k.inSession=1;k.uid='-1';var a=bG(m.user_cookie);if((a!=null)&&(a!="")&&(a!="0")){k.uid=a;}if(k.uid=='-1'||k.uid==-1){k.inSession=0;el=gb(m.startText);}if(bG(dT)!="0"&&(a!="-1"||!m.require_login||cx)||hL==1){if((fF==1&&eO==1)||gp==1){clearTimeout(hK);if(cK==cL){clearTimeout(this.t);clearTimeout(fS);hs();oe();jS();if((ef||!m.require_login||cx)&&!cn&&!gJ){is('0');this.loader();}}else{fG=1;el=gb(m.startText);this.loader();}}else{fF=1;}}else{clearTimeout(this.t);clearTimeout(hK);clearTimeout(fS);if(q('fc_flaToggle')!=null){q('fc_flaToggle')[z]=''}jS();if(i(".fc_ob1")[0]!=null){if(bG(dT)=="0"){i(".fc_ob").html(fc_chat.toggle_btn(2,1));cu(j(102));}else{if(fF==1){fs(0);}}}fF=1;eO=1;}gp=0;};this.toggle_btn=function(a,b,c){var f;if(a==0){if(b){f="<span class='fc_abbtn' ><a onclick='fc_chat.openPopup();' target=_blank href='"+eN+"' >"+gI+"</a></span>";}else{f="<span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+gI+"</a></span>";}}if(a==1||a==2){var d=(a==1?j(5):j(4));if(b){f="<span class='fc_abbtn' >"+cG+" onClick='fc_chat.toggle_on();return false' >"+d+"</a></span>";}else{f="<span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+d+"</a></span>";}}return f;};function iB(a){fc_chat.close_boxes();v=q('fc_alertbox');q('fc_alerttxt')[z]=a;document.body.appendChild(v);var b=(L?kQ(i(v)):fp((k.m==0?K.frame[0]:J)));v.style.display=C;v.style.top=(L?b.y:(b.y+Math.floor((O(J.style.height)+45)/2)-Math.floor(100/2)))+'px';v.style.left=(L?b.x:(b.x+Math.floor((O(J.style.width)+10)/2)-Math.floor(j(0,0,'alert_dialog_width')/2)))+'px';v.style.zIndex=Q+1010;};var ix=function(){i('#fc_alertbox').css("display",s);i('#fc_alerttxt').html("");};this.prepare_disabled_mode=function(){fc_chat.closeVid();jM();if(k.m==1){k.odiv.style.display=s;}if(this.uD!=null){this.uD.style.display=s;if(M){this.uIF.style.display=s;}}if(k.oD!=null){k.oD.style.display=s;if(M){k.oIF.style.display=s;}}if(k.tPC!=null){k.tPC.style.display=s;if(M)k.tPB.style.display=s;}if(U=='1'){hn(.25);}};this.loader=function(){if(cK==cL){if(!q("fc_hideContent")&&!gA){gA=document.createElement('div');gA.setAttribute('id','fc_install');document.body.insertBefore(gA,document.body.firstChild);gA.appendChild(q("fc_package"));}if(!i('div.fc_controlbox')[0]&&!eS&&!m.noshow&&q('fastcatchatentry')!=null){fc_chat.writeBox();}if(m.chat_id==''){of();return false;};if(m.no_support){og(j(436,"Sorry, browser does not support real time chat."));return false;};if(L||fl){bS(cv,'0');dG=0;if(!cx){if((m.require_login)&&k.inSession==0||fl){fc_chat.toggle_login_box(0);return false;}else if(L){window['set_popup_header'](150,"");}}}if(cx){var a=null;try{a=q('fc_sChat');}catch(err){}if(bG(dT)!="0"&&bG(cv)!="1"&&a!=null){if(document.getElementById&&document.getElementsByTagName&&document.createElement){if(!m.noshow&&(eS||q('fastcatchatentry')!=null||k.m==1)){jR();return false;}}}}fc_chat.loader_cont();}else{hP();}};this.loader_cont=function(){if(!m.require_login&&k.inSession==0){fc_chat.login();return false;}ef=true;var a=null;try{a=q('fc_sChat');}catch(err){}if(bG(dT)!="0"&&bG(cv)!="1"&&a!=null){hs();jQ();if(document.getElementById&&document.getElementsByTagName&&document.createElement){B=true;cp='1';h=new mc();hP();if(k.inSession==1&&!m.noshow&&(eS||q('fastcatchatentry')!=null)){if(iN==s){dL="1"}for(var b=0;b<22;b++){bj[b]='0';}if(fG=='1'){kJ();bj[6]='1';}else{eQ='000>';}lg();var c=bZ(0);if(c==s){dW='display:'+s;fE=0;}br=bG(m.session_cookie).split('>')[0];if((br==null)||(br=="0")){br=""}if(dL!='0'){if(true){var f=10+br.length;var d='.>'+m.chat_id+'000'+f+'1'+k.uid.length+co(k.uid)+br+String.fromCharCode(10);var g=34+eQ.length;var l;l='000'+g;d+=l+'2'+dL+iM+eQ+dd;dd='';hz=d;eO=1;this.t=setTimeout("fc_chat.begCon()",1000);hX();if((U=='1'||L)&&i('#fc_loginbox').css('display')==s){iB(j(100)+jx)};}else{fs(-1);}}}else{if(L&&m.require_login&&k.inSession==0&&!cx){go();}if(m.prompt_user&&m.require_login){jv=setTimeout("fc_chat.startPromo()",3000);}}}}else{if(a!=null){if(bG(cv)!="1"){i(".fc_ob").html(fc_chat.toggle_btn(2,1));cu(j(102));}else{cu(j(103));}i(".fc_ob1").html(fc_chat.toggle_btn(0,0));}}if(L){bS(cv,'1');}};this.begConPre=function(){clearTimeout(this.t);if(FCChatConfig.show_country_flags){var a=bZ(13).split('/')[0];if(a!=''){hz+=String.fromCharCode(10)+'00004r'+bR(a,3);}}this.t=setTimeout("fc_chat.begCon()",50);};this.toggleHide=function(){if(L){if(q('fc_m1')!=null){q('fc_m1').checked=true;}bn(j(134));return;}if(!B){if(!m.allow_split_screen_mode||T){if(q('fc_m1')!=null){q('fc_m1').checked=true;}bn(j(134));return false;}if(!mD){fc_chat.closeVid();}if(!iI){iI=true;k.m=1;var b=fc_ex.getScrollerWidth();var c=eZ()-2;var f=ew();var d=q('fc_loginbox');var g=q('fc_alertbox');var l=i('div.fc_controlbox')[0];if(!eS&&q('fastcatchatentry')!=null){cy=q('fastcatchatentry');}k.chat_window_height=Math.max(gC,Math.min(iZ,f))-2;if(f>k.chat_window_height){b=0;}if(k.oD!=null){di=false;}if(k.tPC!=null){k.tPC.parentNode.removeChild(k.tPC);if(M){k.tPB.parentNode.removeChild(k.tPB);}}k.tPC=null;if(this.uD!=null){if(this.uD.parentNode){this.uD.parentNode.removeChild(this.uD);if(M){this.uIF.parentNode.removeChild(this.uIF);}}}this.uD=null;jM();q('fc_op1')[z]="<div class='fc_obtn' >"+cG+jm+fR+"</a></div>";K.frame[0].style.display=s;K.cN[0].style.display=s;for(var n=0;n<10;n++){q('jGo_win'+n).style.display=s;}i(document.body).contents().each(function(a){if(!this.getAttribute||(this.getAttribute('id')!='fc_install')){i(this).css('display',s);}});if(O(J.style.height)!=k.chat_window_height){var r={type:'mousedown',target:q('jGo_dragbm'+K.id),clientX:0,clientY:0,button:0};fc_ex.mouseEvents(r);r.clientY=k.chat_window_height-O(J.style.height);fc_ex.drag_window(r);fc_ex.OnMouseUp(r);}J.style.visibility="visible";document.body.appendChild(J);if(k.oD!=null){document.body.appendChild(k.oD);q('fc_m2').checked=true;q('fc_oD').style.display=s;}if(l!=null){l.style.display=s;document.body.appendChild(l);}if(d!=null){document.body.appendChild(d);}if(g!=null){document.body.appendChild(g);}i([k.oD,d,g]).css("position","absolute");K.fixed=false;if(M){bV.style.display=s;}if(M){if(k.oIF!=null){k.oIF.style.display=s;document.body.appendChild(k.oIF);}}i(document.body).css("background-color",m.styles.split_screen.background_color);this.createMainIFrame(c-(bY+21+fP)-b);fc_chat.c_w(c,b);bl.scrollTop+=25;bp.scrollTop+=25;}else if(iI){mf();try{if(jGo.browser.browser=='Opera'){window.location=window.location.href;}else{window.location=dc.location.href;}}catch(r){window.location=window.location.href;}return true;}}else{if(k.m==0){q('fc_m1').checked=true;}else{q('fc_m2').checked=true;}}};this.elimBar=function(){if(k.IFO==null){fc_chat.createTopIFrame(bw+'html/Dummy.html',6,0);this.rem();}};this.c_w=function(a,b){k.optionsTop=Math.floor((this.chat_window_height-fN)/2)+40;i(k.img6).css({width:(k.img1C==0?'30px':(bY+11)+'px')});k.img7.style.width=(k.img2C==0?'30px':(bY+11)+'px');bl.style.width=bY+'px';fg.style.width=bY+'px';bp.style.width=bY+'px';eA.style.width=bY+'px';if(!fh){bP.style.width=bY+'px';bQ.style.width=bY+'px';}cg.style.width=(bY-20)+'px';bM.style.width=(bY-1)+'px';q('fc_dragger').style.display=C;q('fc_dragger2').style.display=C;q('fc_dragger4').style.left=(bY-28)+"px";q('fc_dragger5').style.left=(bY-33)+"px";q('fc_top_info_outer').style.width=bY-((j(0,0,'chat_room_width')+50))+'px';q('fc_msg_selector_outer').style.width=(bY-jh)+'px';q('fc_msg_to_outer').style.width=bY-165+'px';q('fc_bottom_info_outer').style.left=bY-38-j(0,0,'functions_bar_width')+"px";bL.style.left=(bY+20)+'px';J.style.width=(bY+20+fP)+'px';J.style.borderTop='0px';J.style.top='0px';J.style.left=(a-(bY+20+fP)-b)+'px';return false;};var og=function(a){cu("&nbsp;"+a);i(".fc_ob1").html(fc_chat.toggle_btn(0,0));i(".fc_ob").html(fc_chat.toggle_btn(1,0));};function of(){cu("&nbsp;<a href='http://www.fastcatsoftware.com/chat/activation.aspx' target=_blank style='font-weight:bold'>Click Here To Activate</a>");i(".fc_ob1").html(fc_chat.toggle_btn(0,0));i(".fc_ob").html(fc_chat.toggle_btn(1,0));};this.redirect_login=function(){if(L){if(m.login_redirect){window.location.replace(m.login_redirect);}else{window.open('','_parent','');window.close();}}else{fc_chat.toggle_login(0);}};this.toggle_login=function(a){if(!fl&&!(L&&m.require_login&&a==0)){if(U==0){if(q('fc_loginbox').style.display==C){i(".fc_ob").html(fc_chat.toggle_btn(1,1));}else{i(".fc_ob").html(fc_chat.toggle_btn(1,0));}}fc_chat.toggle_login_box(a);}return false;};var gd=0;this.sign_in=function(a,b){if(!B){if(U=='1'){jW(true);fc_chat.prepare_disabled_mode();gd=0;}else{gd=1;if(b){dl=b;}if(a){dl=(i(a).parent().parent().attr("id")=='fc_t1a'?1:0);}}fc_chat.toggle_login(dl);}return false;};var jW=function(a){cq=a;gc=a;if(K)K.eventsEnabled=!a;};var gc=false;var fn=function(a){q('fc_lenter').disabled=a;oh((a?0:1));oi(a);gc=a;};var oi=function(a){q('fc_lexit').disabled=a;q('fc_lexit2').disabled=a;};var oh=function(a){if(m.facebook_connect&&jo){mZ('toggle'+a);}};this.toggle_login_exit=function(){if(i('#fc_lexit').attr('disabled')!='disabled'){fc_chat.toggle_login(0);}};var eE=function(a){var b=a;if(!a){b=q('fc_loginbox');}if(b.style.display==C){jW(false);if(U==1){ho();}}if(!a){b.style.display=s;}};this.toggle_login_box=function(a){v=q('fc_loginbox');eE(v);v.style.display=(v.style.display==C?s:C);if(v.style.display==C){if(!jn){document.body.appendChild(v);}q('fc_logintxt1')[z]="<img style='vertical-align:text-bottom;' src='"+V+"signin.png' border=0>&nbsp;&nbsp;"+j(60);q('fc_logintxt')[z]='';fc_chat.close_boxes(null,1);if(U==1||L||fl){if(L||fl){var b=Math.max(10,(i(document).height()-i(v).height())/2);if(U!=1&&b<120)b=120;i(v).css({"top":b+"px","left":Math.max(10,(i(document).width()-i(v).width())/2)+"px"});if(L){window['set_popup_header'](Math.max(50,b-70),m.full_page_login);jW(true);}if(fl){k.uid='-1';window['set_login_header']();}}else{var c=fp((k.m==0&&K?K.frame[0]:J));v.style.position=(K&&K.fixed?'fixed':'absolute');v.style.top=(c.y+Math.floor((O(J.style.height)+45)/2)-Math.floor(i(v).height()/2))+'px';v.style.left=(c.x+Math.floor((O(J.style.width)+10)/2)-hN(fb,2))+'px';}}else{gk(a);}v.style.zIndex=Q+1010;var f=(U==0?A.login_panel:G.login_panel);i('#fc_loginbox').css({"box-shadow":f.box_shadow,"-webkit-box-shadow":f.box_shadow,"background-color":f.background_color,"border":f.border});if(m.facebook_connect&&!jn){i("#fc_fb_login").html("<div id='fc_fb_load' style='position:relative;left:60px;height:15px;font-size:10pt'>"+j(356,'Loading...')+"</div><iframe id='fc_fb_frame' onload='fc_chat.fb_loaded()' src='"+kF+"'scrolling='no' frameborder='0' style='border:none; visibility:hidden;overflow:hidden; width:"+(fb-35)+"px; height:45px;' allowTransparency='true'></iframe>");}i('div.fc_lb_text').css(f.font.smalltext_css);i('span.fc_lb_textfield').css(f.font.textfield_description_css);i('input.fc_lb_field').attr("style",f.textfield_css+(T?';font-size:1.333em':''));i('#fc_lenter').val((gd?j(340,"Set"):j(58)));fn(false);jn=true;}else{if(U==1&&k.uid=='-1'||gS==1){if(m.require_login){hL=0;fs(1);}else{cu(j(104));}cn=false;gS=0;fc_chat.closeChat();}}};this.logout=function(){if(!B){fc_chat.prepare_disabled_mode();if(U=='1'){iB(j(97));ge('0');}else{fc_chat.close_boxes();}ii(1);cu(j(97));if(bG(m.user_cookie)!='-1'){fM=true;}bS(m.user_cookie,'-1');hT(0);setTimeout("fc_chat.logout2()",2000);}return false;};this.logout2=function(){if(cn){fM=true;}bS(m.user_cookie,'-1');ix();B=false;if(k.m==1&&!cn){I='00001[';fc_chat.toggleHide();}else{if(!L&&U=='1'&&!bJ){ho();this.open_chat_box();}k.uid='-1';if(!m.require_login){i(".fc_ob").html(fc_chat.toggle_btn(1,0));}else{i(".fc_ob").html(fc_chat.toggle_btn(1,1));}if(cn){hT(0);}var a=gb(m.startText);if(!m.require_login){a=j(101);}if(bJ){a=j(159)+hW;}cu(a);if(L&&m.require_login){go();}}B=true;};var go=function(){gS=1;ix();mj();fc_chat.toggle_login(1);cu(j(393,'Please sign in.'));};this.login=function(a){ef=false;var b=true;if(k.uid=='-1'&&m.require_login){b=fc_chat.setLogin(a);cB=dO;cI=dP;}if(b){if(!m.require_login&&k.uid=='-1'&&!cn){cB='g:'+j(1);cI='';for(var c=0;c<15;c++){cI+=Math.floor(Math.random()*9);cI=jGo.MD5.hex_md5(cI);}}else{me();hL=0;}eO=1;k.inSession=1;this.loadFromLogin();}fM=false;jk=null;cn=false;};this.sendLogin=function(){fc_chat.login2();};this.login2=function(a){bS(cv,'0');if(m.require_login){fc_chat.login(a);return false;}B=true;if(fc_chat.setLogin(a)){if(cn){B=false;cB=dO;cI=dP;fc_chat.login(a);bJ=false;}else{fc_chat.closeVid();if(a){fc_chat.loginAfterServerValidation();}else{fc_chat.requestServerValidation();}}}else{B=false;}};var me=function(){fF=1;gp=1;hL=1;if(cH&&U==1){bm.style.display=s;bO.style.display=s;bP.style.display=s;bQ.style.display=s;cg.style.display=s;}fc_chat.opfxLoader();if(eb){eb[z]='<div style="'+bC+'width:'+bD+'px">'+he(j(120),1)+'</div>';}};this.requestServerValidation=function(){var a=gX(dO);var b=3+a+dP.length;I=bR(b)+'f'+bR(a,2)+dO+dP;bh(1);};this.loginAfterServerValidation=function(){cn=true;ii(1);fc_chat.logout2();cB=dO;cI=dP;bJ=false;};var dO;var dP;this.setLogin=function(a){if(!a){v=q('fc_luname');dO=v.value;v.value='';v=q('fc_lpass');dP=v.value;v.value='';}i(".fc_ob").html(fc_chat.toggle_btn(1,0));q('fc_logintxt')[z]="<b>"+j(158)+"</b>"+jx;fn(true);dO=jGo.util.trim(dO);if(!a){if(oj(dO,dP)){dP=jGo.MD5.hex_md5(dP);return true;}else{return false;}}else{return true;}};function oj(a,b){if(a.length>2&&a.length<21&&b.length>2&&b.length<21){if(!mN.test(a)&&!kv.test(b)){if(a.length>=j(1).length&&a.toLowerCase().substr(0,j(1).length)==j(1)){setTimeout("fc_chat.errString(2)",500);return false;}else{return true;}}}setTimeout("fc_chat.errString(1)",500);return false;};this.errString=function(a){v=q('fc_logintxt');if(a==1){v[z]=j(61);}else if(a==2){v[z]=j(62);}else if(a==3){v[z]=j(63);}else if(a==4){v[z]=j(64);}fn(false);return true;};var oL=function(a){};this.loadFromLogin=function(){if(cK==cL){var a=null;try{a=q('fc_sChat');}catch(err){}if(bG(dT)!="0"&&(L||bG(cv)!="1")&&a!=null){hs();jQ();if(document.getElementById&&document.getElementsByTagName&&document.createElement){B=true;cp='1';h=new mc();hP();if(k.inSession==1){if(iN==s){dL="1"}for(var b=0;b<22;b++){bj[b]='0';}if(fG=='1'){kJ();bj[6]='1';}else{eQ='000>';}lg();var c=bZ(0);if(c==s){dW='display:'+s;fE=0;}k.uid='-1';if(dL!='0'){if((cI!=null)&&(cI!="")&&(cI!="0")){var f=gX(cB);var d=fU.length;br='';for(var b=0;b<8;b++){br+=String.fromCharCode((parseInt(Math.random()*1000)%93)+34);}br=br.replace(/>/g,'!');var g=7+f+d+cI.length+br.length+gU.length+gT.length;var l=(gU==''?0:1);l+=(gT==''?0:2);str='.>'+m.chat_id+bR(g)+'V'+bR(f,3)+bR(d,2);str+=''+cI+''+br+''+cB+''+fU+''+l+''+gU+''+gT+String.fromCharCode(10);fU='';gT='';gU='';var n=34+eQ.length;var r;r='000'+n;str+=r+'2'+dL+iM+eQ+dd;dd='';hz=str;et=true;dt=bd;this.t=setTimeout("fc_chat.begConPre()",1000);hX();if((U=='1'||L)&&i('#fc_loginbox').css('display')==s){iB(j(100)+jx)};}else{fs(-1);}}}}}else{if(a!=null&&k.inSession==1){if(bG(cv)!="1"){i(".fc_ob").html(fc_chat.toggle_btn(2,1));}}}}else{hP();};};var lQ=function(a){var b="http://www.";var c="https://www.";var f=window.location.href;if(f.indexOf(b)==-1&&f.indexOf(c)==-1){if(a.indexOf(c)==0){a=a.replace(c,"https://");}if(a.indexOf(b)==0){a=a.replace(b,"http://");}}return a;};function jR(){B=true;var a=window.location.href.split("?");i.post(lQ(gx)+(a.length>1?'?'+a[1]:''),{f:0},fc_chat.auth,"html");return false;};this.auth=function(a){B=false;kH(a,0);};var kH=function(a,b){var c='';var f=a.split("<fcchatresponse>");if(f.length>1){c=f[1];}if(c==''){if(b){q('fc_logintxt')[z]="<b>"+j(355,'Authorization Failed')+"...</b><br>";fn(false);return false;}if(bZ(14)=='3'){mk();k.uid='-1';k.inSession=0;if(m.require_login){bS(m.user_cookie,'-1');if(k.m==0&&U==0){fs(1);}if(U==1){bm[z]='';go();return false;}}}if(bZ(14)=='2'&&k.uid=='-1'&&U==0){ch(0,14);k.inSession=0;if(m.require_login){bS(m.user_cookie,'-1');if(k.m==0&U==0){fs(1);}}}if(L){if((m.require_login)&&k.inSession==0){fc_chat.toggle_login_box(0);return false;}window['set_popup_header'](150,"");}if(k.uid=='-1'&&m.require_login){fs(1);}else{fc_chat.loader_cont();}return false;}var d=c.split('&');fU=d[0];cI=d[1];c=c.substr(fU.length+cI.length+2);var g=parseInt(c.substr(0,3),10);var l=c.substr(3,g);br=bG(m.session_cookie);var n=0;if(br&&(br.split('>')).length>2){var r=br.split('>');if(r[1].toLowerCase()!=l.toLowerCase()||r[2].toLowerCase()!=fU.toLowerCase()){n=1;}}if(!b){hD=1;}if(L){window['set_popup_header'](150,"");}dd='';hM='';if(m.import_default_avatar){var t=a.split("<fcchatresponse2>");if(t.length>1){dd=t[1];}hM=dd;if(dd!=''&&nX(dd,n)){ch('',18);var y=dd.length+1;dd=String.fromCharCode(10)+bR(y)+'T'+dd;}else{dd='';}}if(bZ(14)!='3'||k.uid=='-1'||n){cB=l;gT=c.substr(3+g);mk();ef=false;eO=1;k.inSession=1;if(b){na();}else{hX(1);fc_chat.loadFromLogin();}}else{fc_chat.loader_cont();return false;}};var mk=function(){br=bG(m.session_cookie);if(br){br=br.split('>')[0];}if((br==null)||(br=="0")){br=""}if(br!=""&&k.uid!='-1'){k.uid=k.uid+'';var a=k.uid.length+''+co(k.uid)+br;gU=a}};window['jsOnSuccess']=this.jsOnSuccess;window['jsOnFailure']=this.jsOnFailure;window['jsOnClose']=this.jsOnClose;window['jsOnData']=this.jsOnData;window['fcc_createSounds']=this.createSounds};fcchat.prototype=jGo.UI;var fc_chat=new fcchat();fc_chat.init();