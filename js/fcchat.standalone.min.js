jGo.cookie={setCookie:function(a,b,c,d,e){document.cookie=a+"="+escape(b)+((c==null)?"":"; expires="+c.toGMTString())+((d==null)?"":"; path="+d)+((e==null)?"":"; domain="+e)},setCookiePath:function(a,b,c,d,e){document.cookie=a+"="+getCookie(a)+((c==null)?"":"; expires="+c.toGMTString())+((d==null)?"":"; path="+d)+((e==null)?"":"; domain="+e)},getCookie:function(a){var b=document.cookie;var c=a+"=";var d=b.length;var e=0;while(e<d){var f=e+c.length;if(b.substring(e,f)==c){var g=b.indexOf(";",f);if(g==-1)g=d;return unescape(b.substring(f,g))}e=b.indexOf(" ",e)+1;if(e==0)break}return null}};if(jGo.scripts)jGo.scripts.onLoad('jGo.cookie.min.js');jGo.MD5={};(function(){var l=0;var m="";jGo.MD5.hex_md5=function(s){return rstr2hex(rstr_md5(str2rstr_utf8(s)))};jGo.MD5.b64_md5=function(s){return rstr2b64(rstr_md5(str2rstr_utf8(s)))};jGo.MD5.any_md5=function(s,e){return rstr2any(rstr_md5(str2rstr_utf8(s)),e)};jGo.MD5.hex_hmac_md5=function(k,d){return rstr2hex(rstr_hmac_md5(str2rstr_utf8(k),str2rstr_utf8(d)))};jGo.MD5.b64_hmac_md5=function(k,d){return rstr2b64(rstr_hmac_md5(str2rstr_utf8(k),str2rstr_utf8(d)))};jGo.MD5.any_hmac_md5=function(k,d,e){return rstr2any(rstr_hmac_md5(str2rstr_utf8(k),str2rstr_utf8(d)),e)};jGo.MD5.md5_vm_test=function(){return jGo.MD5.hex_md5("abc").toLowerCase()=="900150983cd24fb0d6963f7d28e17f72"};function rstr_md5(s){return binl2rstr(binl_md5(rstr2binl(s),s.length*8))};function rstr_hmac_md5(a,b){var c=rstr2binl(a);if(c.length>16)c=binl_md5(c,a.length*8);var d=Array(16),opad=Array(16);for(var i=0;i<16;i++){d[i]=c[i]^0x36363636;opad[i]=c[i]^0x5C5C5C5C}var e=binl_md5(d.concat(rstr2binl(b)),512+b.length*8);return binl2rstr(binl_md5(opad.concat(e),512+128))};function rstr2hex(a){try{l}catch(e){l=0}var b=l?"0123456789ABCDEF":"0123456789abcdef";var c="";var x;for(var i=0;i<a.length;i++){x=a.charCodeAt(i);c+=b.charAt((x>>>4)&0x0F)+b.charAt(x&0x0F)}return c};function rstr2b64(a){try{m}catch(e){m=''}var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var c="";var d=a.length;for(var i=0;i<d;i+=3){var f=(a.charCodeAt(i)<<16)|(i+1<d?a.charCodeAt(i+1)<<8:0)|(i+2<d?a.charCodeAt(i+2):0);for(var j=0;j<4;j++){if(i*8+j*6>a.length*8)c+=m;else c+=b.charAt((f>>>6*(3-j))&0x3F)}}return c};function rstr2any(a,b){var c=b.length;var i,j,q,x,quotient;var d=Array(Math.ceil(a.length/2));for(i=0;i<d.length;i++){d[i]=(a.charCodeAt(i*2)<<8)|a.charCodeAt(i*2+1)}var e=Math.ceil(a.length*8/(Math.log(b.length)/Math.log(2)));var f=Array(e);for(j=0;j<e;j++){quotient=Array();x=0;for(i=0;i<d.length;i++){x=(x<<16)+d[i];q=Math.floor(x/c);x-=q*c;if(quotient.length>0||q>0)quotient[quotient.length]=q}f[j]=x;d=quotient}var g="";for(i=f.length-1;i>=0;i--)g+=b.charAt(f[i]);return g};function str2rstr_utf8(a){var b="";var i=-1;var x,y;while(++i<a.length){x=a.charCodeAt(i);y=i+1<a.length?a.charCodeAt(i+1):0;if(0xD800<=x&&x<=0xDBFF&&0xDC00<=y&&y<=0xDFFF){x=0x10000+((x&0x03FF)<<10)+(y&0x03FF);i++}if(x<=0x7F)b+=String.fromCharCode(x);else if(x<=0x7FF)b+=String.fromCharCode(0xC0|((x>>>6)&0x1F),0x80|(x&0x3F));else if(x<=0xFFFF)b+=String.fromCharCode(0xE0|((x>>>12)&0x0F),0x80|((x>>>6)&0x3F),0x80|(x&0x3F));else if(x<=0x1FFFFF)b+=String.fromCharCode(0xF0|((x>>>18)&0x07),0x80|((x>>>12)&0x3F),0x80|((x>>>6)&0x3F),0x80|(x&0x3F))}return b};function str2rstr_utf16le(a){var b="";for(var i=0;i<a.length;i++)b+=String.fromCharCode(a.charCodeAt(i)&0xFF,(a.charCodeAt(i)>>>8)&0xFF);return b};function str2rstr_utf16be(a){var b="";for(var i=0;i<a.length;i++)b+=String.fromCharCode((a.charCodeAt(i)>>>8)&0xFF,a.charCodeAt(i)&0xFF);return b};function rstr2binl(a){var b=Array(a.length>>2);for(var i=0;i<b.length;i++)b[i]=0;for(var i=0;i<a.length*8;i+=8)b[i>>5]|=(a.charCodeAt(i/8)&0xFF)<<(i%32);return b};function binl2rstr(a){var b="";for(var i=0;i<a.length*32;i+=8)b+=String.fromCharCode((a[i>>5]>>>(i%32))&0xFF);return b};function binl_md5(x,e){x[e>>5]|=0x80<<((e)%32);x[(((e+64)>>>9)<<4)+14]=e;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;for(var i=0;i<x.length;i+=16){var f=a;var g=b;var h=c;var j=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=md5_ff(b,c,d,a,x[i+15],22,1236535329);a=md5_gg(a,b,c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i+0],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);b=md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=md5_hh(a,b,c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i+0],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);b=md5_hh(b,c,d,a,x[i+2],23,-995338651);a=md5_ii(a,b,c,d,x[i+0],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=safe_add(a,f);b=safe_add(b,g);c=safe_add(c,h);d=safe_add(d,j)}return Array(a,b,c,d)};function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)};function md5_ff(a,b,c,d,x,s,t){return md5_cmn((b&c)|((~b)&d),a,b,x,s,t)};function md5_gg(a,b,c,d,x,s,t){return md5_cmn((b&d)|(c&(~d)),a,b,x,s,t)};function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)};function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|(~d)),a,b,x,s,t)};function safe_add(x,y){var a=(x&0xFFFF)+(y&0xFFFF);var b=(x>>16)+(y>>16)+(a>>16);return(b<<16)|(a&0xFFFF)};function bit_rol(a,b){return(a<<b)|(a>>>(32-b))}})();if(jGo.scripts)jGo.scripts.onLoad('jGo.MD5.min.js');function fcchat(){var U=FCChatConfig;U.chat_id=jGo.util.trim(U.chat_id);U.host=jGo.util.trim(U.host);var V=U.chat_id.split('_');var W=jGo.$;var X=window['fcchat_domain']=='fullpage';var Y=0;var Z=U.dir;var ba=(window['fcchat_debug_main']?Z+"dev/":Z);var bb=(U.alt_dir!=''?U.alt_dir:Z+'html/');var bc=this;var bd=U.styles.widget;this.alt_dir=bb;var be=U.images_dir;var bf=U.prof_subdir;var bg=(U.full_page_url!=""?U.full_page_url:Z+'html/chat/index.html');var bh=(U.small_logo!=''?U.small_logo:Z+"current_skin/"+U.styles.chat_window.frame.logo);if(U.avatars_dir=='')U.avatars_dir=(window["fc_chat_path"]||"/FCChat/")+"html/images/avatars/";if(U.images_dir=='')U.images_dir=(window["fc_chat_path"]||"/FCChat/")+"html/images/";if(U.smileys_dir=='')U.smileys_dir=(window["fc_chat_path"]||"/FCChat/")+"html/images/smileys/";var bi;var bj="";var bk=0;var bl=false;var bm=false;var bn=0;var bo;this.firstUpdateProcessed=false;var bp;var bq='fc_pauseChat';var br='fc_tglChat';var bs=0;var bt=1;var bu;var bv=0;var bw=0;this.img6;this.img7;var bx;var by=0;var bz=1;this.img1C=0;this.img2C=0;var bA;var bB;var bC;var bD=0;var bE='display:inline';var bF=1;var bG=[];var bH=[];var bI=0;var bJ=0;var l=false;var bK=false;var bM=0;var bN=0;var bO=1;var bP=false;var bQ=false;var bR='0';this.m=0;var bS=window.top;var bT=window.self;var bU="";if(window['fcchat_embed']=="true"){bS=bT;bU="target=_blank"}var f=(bS==bT?this:window.parent.fc_chat);var g=(bS==bT?'fc_chat.':'window.parent.fc_chat.');var h=(bS==bT?'document':'window.parent.fc_chat.getIFrameDoc()');var bV="' HREF='javascript:void(0)' onclick='return "+g;var bW="href='javascript:fc_chat.";var bX='<a href="javascript:fc_chat.';var bY=[];var bZ=[];var ca=1;var cb=false;var cc=new Date().getTime();var cd=new Date().getTime();var ce=false;var cf=false;var cg=0;var ch=0;var ci=0;var cj=0;var ck=0;var cl=0;var cm=15;var cn='op2';var co='2';var cp;var cq;var cr=false;var cs;var a;var ct='';var cu='0000';var cv='';var cw={};var cx=0;var cy=0;var cz={f:null,l:null};var cA={};var cB={};var cC=(U.chatbox.page_discussion.use_querystring_in_url?window.location.href.match(/^[^\#]+/)[0]:window.location.href.match(/^[^\#\?]+/)[0]);var cD=true;var cE=false;var cF;this.chat_params;var cG=function(t){return t.replace(/[\u201C|\u201D|\u201E]/g,"\"")};var cH=function(){var b=null;W("span.fc_chat_params").each(function(a){var p;if(W(this).html()==''){p={}}else{try{p=W.parseJSON(cG(W(this).html()))}catch(e){alert(e);return}}if(!b||(!b.all&&p.page&&(p.page.toLowerCase()==cC.toLowerCase()||p.page.toLowerCase()=="all"))){b=p;if(p.page&&p.page.toLowerCase()=="all"){b.all=true}}});var c=U.chatbox;var d=false;if(!b){if(c.require_tag&&!(c.sitewide.full_page&&(window['fcchat_domain']=="fullpage"||window['fcchat_domain']=="admin")))d=true;b={}}var f=(b.mode||c.mode);bc.chat_params=(f==0?c.sitewide:c.page_discussion);W.extend(true,bc.chat_params,b);if(b.id){cC=b.id}else if(f==0){cC="Sitewide Discussion"}cD=b.no_discussion||d;cE=jGo.fcchat_toolbar.config.items.toString().indexOf('chatbox')!=-1&&!cD;if(!cE){cC="0"}else{jGo.fcchat_toolbar.chatbox.style.menu_item.width=bc.chat_params.button_width}cF=jGo.MD5.hex_md5(cC)};var cI='1';var cJ='0';var cK;this.textSetter=function(a,b,c){if(c!=null&&U.txt[c]){return U.txt[c]}else if(U.txt['t'+a]!=null){return U.txt['t'+a]}else{if(b!=null){return b}}return"Undefined"};var cL=this.textSetter;U.txt['t1000']="<a "+bW+"share_wb(";U.txt['t1001']=")'>";U.txt['t1002']="</a>.";U.txt['t1003']="<a "+bW+"share_doc(";U.txt['t1004']="<a "+bW+"subscribePriv(";U.txt['t1005']="<a "+bW+"play_game(";if(!U.txt.t260){U.txt.t260="has invited you to share a";U.txt.t261="whiteboard.";U.txt.t262="Click here to accept";U.txt.t263="has been invited to share a whiteboard";U.txt.t268=" is now viewing your whiteboard";U.txt.t270="This user is currently offline."}if(!U.txt.t312){U.txt.t312="document.";U.txt.t313=" is now viewing your document";U.txt.t317="has been invited to share a document"}if(!U.txt.t320){U.txt.t320="has invited you to a 1 on 1 video chat.",U.txt.t321="has been invited to a 1 on 1 video chat.",U.txt.t322="is now viewing your webcam"}if(!U.txt.t333){U.txt.t333="has invited you to play ",U.txt.t334="",U.txt.t335="has been invited to play a game.",U.txt.t336=" has accepted your invitation to play a game.",U.txt.t337="Click here to start the game."}var cM=jGo.mobile;var cN=false;var cO=0;var cP=0;var cQ=0;var cR=function(){return(cP==cO)};this.nlrm=cR;if(X&&U.skip_roomlist){cQ=U.default_room_index+5;cN=true}if(window['fcchat_room_transfer']){cQ=window['fcchat_room_transfer'];cN=true}var cS;this.toolbar;var cT=1;var cU=jGo.fcchat_toolbar;var cV=cU.style;var cW=cU.config.items;for(var i=0;i<cW.length;i++){if(cW[i].indexOf("custombutton:")>=0){var cX=cW[i].split(":")[1];cU['custombutton'+i]=new cU.custombutton(i,U.custom_buttons[cX]);cW[i]='custombutton'+i}}var cY=function(){for(var i=0;i<cW.length;i++){if(cW[i]!="friendscenter"){if(!cU[cW[i]]||(cD&&cW[i]=="chatbox")){cW.splice(i,1);i--}}}};var cZ=U.absolute_positioning||!U.control_visible;var da=bd.control.top;var db=bd.control.left;var dc=U.styles.chat_window.main_panel;var dd=dc.chat_panels;var de=dc.side_panels;var df=jGo.fcchat_toolbar.style.dialog_box;var dg=dc.options_panel;var dh=dg.selectors;var di=dc.chatrooms_panel;var dj=bd.chatrooms_box;var dk="background-color:transparent;";var dl=' style="'+dk+'display:inline;font-style:italic"';var dm=' style="display:none;'+dk+'"';var dn='color:'+dd.font.color.timestamp_color+';';var dp=cV.dialog_box.text.timestamp_css;var dq='padding-top:4px;padding-bottom:0px;border-bottom:';var dr=dq+de.screen_name_dividers.border+';background-color:';var ds=dq+de.room_display_panel.divider_color+';';var dt=de.private_group_panel.header;var du=dq+dt.divider_color+';';var dv=de.room_display_panel.background_color;var dw=de.room_display_panel.text_css;var dx=de.screen_name_dividers.border;var dy=de.background_color;var dz=de.screen_name_dividers.background_color;var dA=de.screen_name_dividers.hover_color;var dB=de.private_group_panel.selected_user.background_color;var dD="font-family:"+dc.text.font.family+";color:"+dc.text.font.color+";font-weight:"+dc.text.font.weight;var dE=dD+";font-size:"+dc.text.font.size;var dF="-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius:5px;";var dG="-moz-border-radius: 2px;-webkit-border-radius: 2px;border-radius:2px;";var dH="if (event && event.stopPropagation){event.stopPropagation()}else{event.cancelBubble=true}";var dI='href="javascript:void(0)" onclick="'+dH+'fc_chat.subscribe';var dJ=de.font.style.title_css+";";var dK;this.vidAcc=(U.video_enabled?U.video_access_level:0);var dL=Z+"proxies/";var dM={"wordpress":dL+"fcchat_wordpress_proxy.php","wordpress2":dL+"fcchat_wordpress_proxy2.php","joomla":dL+"joomla.php","phpbb":dL+"fcchat_phpbb3_proxy.php","smf":dL+"fcchat_smf_proxy.php","mybb":dL+"mybb.php"};var dN=dM[U.user_integration_bridge]||U.user_integration_bridge;if(dN==''){dN=U.forum_proxy||''}var dO=(dN!='');var dP={};var dQ=dP[U.import_profiles]||U.import_profiles;var dR=(dQ!='');var dS=true;var dT=true;var dU=dc.user_pop_up_panel.border;var dV=dc.options_panel.outer_border;var dW=['6','7','8','9','A','B','C','D','E','F'];var dX=false;var dY=0;var dZ=0;var ea=false;var eb=false;var ec=false;var ed=false;var ee={u:"",p:"",fn:0};var ef=null;var eg=false;var eh=0;var ei=false;var ej=0;var ek=0;var el="";var em=jGo.util.getSWidth;var en=jGo.util.getSHeight;this.screen_width=em();var eo=653;if(window['fcchat_width']){U.window_width=window['fcchat_width'];eo=600}var ep=(cM?535:Math.max(eo,U.window_width));this.d_c_window_width=ep;var eq=571;var er=238+(cL(0,170,'functions_bar_width')-170);var et=(X?1050:573);var eu=400;var ev=310;var ew=ep-243+(X?Math.max((this.screen_width-1)-ep,0):0);this.chat_container_width=(Math.max(ep-308,Math.floor(.8*ew)));var ex="display:block;"+dk+"width:"+this.chat_container_width+"px;z-Index:"+(fS+202)+";margin-left:5px;";var ey=ep-242+dc.send_chat_panel.width_offset+(X?Math.max((this.screen_width-1)-ep,0):0);var ez=137;var eA=60;var eB=20;var eC=(cM?300:350);var eD=425;var eE=505;var eF=(cM?310:320);var eG=36;if(window['fcchat_show_toolbar']=="false"){cU.config.show=false;eG=0}var eH=35;var eI=(X?(en()-36>eu?en()-eG:eu)-eq:U.window_height_offset);this.window_height_offset=Math.min(et-eq,Math.max(eu-eq,eI));if(cM&&!jGo.fcchat_toolbar.config.tablet&&X){eI=0;this.window_height_offset=0}this.chat_window_height=eq+bc.window_height_offset;var eJ=(X?Math.max(this.screen_width-1,ep):ep);var eK=U.chat_room_height_offset+Math.max(0,eA-ev-bc.window_height_offset);eK=Math.min(ez-eB,Math.max(eA-ev-bc.window_height_offset,eK));if(cM&&X){eK=-20}var eL=bc.window_height_offset+eK;this.smYOffset=eE+bc.window_height_offset-dc.tools_panel.smileys.height;this.optionsTop=Math.floor((this.chat_window_height-eq)/2)+20;var eM=334;var eN=370;this.bottom_section=513;var eO=20;this.upd=eO;var eP=ev-eO;this.upl=eP;var eQ=221;var eR=(X?Math.max((this.screen_width-1)-eQ,ep-221):ep-221);var eS=211;var eT=175;var eU=206;var eV=(X?168:108);var eW=155;var eX=0;var eY=514;this.border_padding=4;var eZ=1;var fa=0;var fb=0;var fc;var fd='0';var fe=new RegExp("[^A-Za-z0-9 _]");var ff=new RegExp("[^A-Za-z0-9_]");var fg='block';var fh='none';var fi='inline';var fj='display:inline';var fk=U.chatcenter_layout;var fl;var fm;var fn=(fk==0?bd.toolbar_item.chatcenter_layout:bd.toolbar_item.msgcenter_layout);var fo=(fk==0?fg:fh);var fp=(fk==1?fh:fg);var fq=(fk==2?fh:fg);var fr=(fk!=0?bc.bottom_section+bc.window_height_offset-22:eM+eL);var fs=(fk==1?3:20);var ft=(fk!=0?eY+bc.window_height_offset-20:eM+eL);var fu=(fk!=0?18:eN+eL);var fv=ez-eK+(fk!=0?22+ev+eL:0);var fw=(fk==0?ev+eL:fv);var fx=(fk==1?38+Math.floor((eP+eL)/2):eN+eL);var fy=ez-eK+eX+(fk!=0?22+Math.floor((eP+eL)/2):0);var fz=(fk==0?eP+eL-Math.floor((eP+eL)/2):fy);var fA=(fk!=0?2:19);var fB=(fk!=0?125:161);var fC=(fk!=0?3:20);var fD=(fk!=0?141:141);var fE=bc.bottom_section+1+bc.window_height_offset-(fk==1?18:0);var fF=(fk==1?19:28);var fG="style='"+(fk==1?dc.send_private_button.single_button_css:"")+"'";this.pblay=fG;var fH=(fk==1?fv:ev+eL);var fI=cL(6);var fJ=(fk==1?fh:fi);if(fk==1){eh=1}this.obtxt=fI;var fK=cL(161);var fL='<b>&nbsp;'+fK+'</b>';var fM='innerHTML';var fN="<a href='javascript:void' ";var fO;this.ww2;var fP=0;var fQ=false;var fR;var fS=U.zindex_base;var fT=0;var fU=false;var fV=document.all;var fW=U.dir+"current_skin/";var fX="<p style='color:"+dc.options_button.color+";position:absolute;top:1px;left:10px;font:12px arial;font-weight:bold'>&lsaquo;&nbsp;</p><img style='position:absolute;top:2px;left:15px' src='"+fW+dc.options_button.icon+"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";var fY=0;this.tg_vid=0;var fZ=0;var ga='0';var gb='0';var gc=[];var gd=[];var ge=[];var gf='0';var gg=0;var gh=0;var gj=0;var gk=0;var gl=0;var gm=[];var gn=[];var go=[];var gp=[];var gq=[];var gr=[];var gs=[];var gt=false;var gu;var gv;var gw;var gx;var gy;var gz;var gA;var gB;var gC;var gD;var gE;var gF;var gG;var gH;var gI;var gJ;var gK;var gL;var gM;var gN;this.sI=0;var gO;var gP;var gQ=0;var gR;this.oD;var gS;var gT;this.tPC;var gU;var gV;var gW;var gX;var gY;this.odiv;var gZ;var ha;this.tempIFrame;this.IFO;this.oIF;this.tPB;var hb;var hc=false;var hd=false;var he=false;var hf=false;var hg=false;var hh;this.tIF;var hi=[];var t;var hj;var hk;var hl=null;var hm=null;var hn;var ho;var hp=null;var hq;var hr;var hs=null;var ht=new Array();var hu=0;var hv=false;var hw;var hx=[];hx[1]=0;hx[2]=0;hx[3]=0;hx[6]=0;hx[7]=0;gm[6]=0;gm[7]=0;gp[6]=0;gp[7]=0;gq[0]='0';gq[1]='0';gq[2]='0';gq[3]='0';gq[4]='0';gq[5]='0';gq[6]='0';var hy=[];var hz=[];hz[0]=0;hz[1]=1;for(var i=2;i<32;i++){hz[i]=hz[i-1]*2}this.obtn=cL(5);for(var i=0;i<U.smileys.length;i++){bY[U.smileys[i][1]]=U.smileys[i][0];bZ[U.smileys[i][1]]=U.smileys[i][2]}var hA=dc.options_panel.color_selector.color_values;for(var i=0;i<50;i++){gr[i]=0}gs[1]=0;gs[2]=0;gs[3]=0;gs[4]=0;gs[5]=0;gs[6]=0;var hB="filter:alpha(opacity=60); -moz-opacity:.60; opacity:.60;";var hC="filter:alpha(opacity=60); -moz-opacity:.60; opacity:.60;";var hD="filter:alpha(opacity=80); -moz-opacity:.80; opacity:.80;";var hE=" class='fc_options_a' onClick='fc_chat.tgl_options();return false'>";var hF="'fc_chat.sendChat(true,false,document);return false'>";var hG="<INPUT TYPE=checkbox id='fc_atpg' name='ATPG' VALUE='1' style='height:20px;width:20px;margin-right:0px' onclick=";var hH='<div class="fc_gst0" id="fc_groupType" style="display:block;width:'+eS+'px;z-Index:'+(fS+202)+';'+ds+'background-color:'+dv+'"><span style="'+dw+'">&nbsp;<IMG SRC="'+fW+'rmarrow.gif" style="'+fj+';'+hC+'" border=0> ';this.t;this.uid;this.inSession;this.cU='0';var hI=-1;var hJ=new Array(10);var hK=U.show_guests;this.broadcastStatus=1;this.cvu_priv=null;var hL;var hM=null;this.uD;this.uDiv1;var hN;this.uDb;this.uIF;this.browser;this.version;this.monitor_state=0;this.page_manager_state=0;this.userlist_state=0;var hO=window['fc_mod_backdoor'];var hP=0;this.adminLoaded=function(){hP=2};var hQ=false;var hR=true;var hS=0;var hT=0;var hU;var hV='';var hW;var hX='';var hY='';var hZ='';var ia='';var ib=false;var ic="<font style='color:red;font-weight:700'>Connection lost...</font> <a "+bW+"reqRecon()'>Reconnect</a>";open_chatrooms_in_window=(!X&&(cM||U.open_chatcenter_in_new_tab));var id=function(a,b){jGo.cookie.setCookie(a,b,ig(),'/',U.domain)};var ie=function(a){return jGo.cookie.getCookie(a)};var ig=function(){var a=new Date();a.setTime(a.getTime()+(365*24*60*60*1000));return(U.cookie_expires==0?null:a)};var ih=function(a){return ie(U.data_cookie).split('&')[a]};var ii=function(a,b){var c=ie(U.data_cookie).split('&');c[b]=a;var d=c[0];for(var i=1;i<c.length;i++){d+='&'+c[i]}id(U.data_cookie,d)};this.put_c=ii;var ij=function(){var a=(U.display_timestamp?fi:fh);a+=(U.sounds_on?"&1":"&0");a+="&1&1&1&1&&&&";a+=(U.trans_default_on?"&1":"&0");a+="&"+U.trans_default_language_code;a+="&"+U.toolbar_default_display;a+="&";a+="&";a+="&";a+="&";a+="&";a+="&";a+="&";jGo.cookie.setCookie(U.data_cookie,a,ig(),"/",U.domain)};var ik=U.fb_connection_url+'/proxies/facebook/facebook_login.php?url='+encodeURIComponent(document.location.href.split('#')[0])+"&btn="+encodeURIComponent(cL(352,'Connect with Facebook'));var il;var im=false;this.fb_loaded=function(){var a=W('#fc_fb_frame').css("visibility","visible")[0];W('#fc_fb_load').css("visibility","hidden");il=a.contentWindow;if(!im){jGo.postMessage.receive(function(e){if(e.data.indexOf('<fcchatresponse>')!=-1){fc_chat.init_fb_login(e.data)}else if(e.data=='lockauth'){$('fc_logintxt')[fM]="<b>"+cL(354,'Authorizing')+"...</b><br>";nc(true);l=true}else if(e.data=='unlockauth'){$('fc_logintxt')[fM]="";nc(false);l=false}},U.fb_connection_url);im=false}};var io=function(a){jGo.postMessage.post(a,ik,il)};this.init_fb_login=function(a){nm(a,1)};var ip=function(){ni=hU;nj=hW;fU=true;fc_chat.login2(1);fU=false};var iq=function(d,m,k){d=d-0;var a=new Date(d);var b=new Date();var c=b.getTime()-d;var e=iO(c,60000);var f=e;var g='';if(m=='1'||(k&&f>1440)){if(e<60){var h=cL(136);var i=cL(138);if(e!=1){h=cL(137);i=cL(139)}if(e>=1){g=" ("+h+e+i+")"}else{g=" ("+cL(148)+")"}}else{e=iO(c,3600000);if(e>=1&&e<24){var h=cL(140);var i=cL(142);if(e!=1){h=cL(141);i=cL(143)}g=" ("+h+e+i+")"}else{e=iO(c,86400000);var h=cL(144);var i=cL(146);if(e!=1){h=cL(145);i=cL(147)}g=" ("+h+e+i+")"}}}if(bE==fj||(k&&f<=1440)){var j=cL(149);var l=a.getHours();if(l>11){j=cL(150)}if(l>12){l=l-12}if(l==0){l=12}if(a.getMinutes()>=10){return(g+'( '+l+':'+a.getMinutes()+j+')')}else{return(g+' ('+l+':0'+a.getMinutes()+j+')')}}else{return g}};var ir=function(a,b,k,n,c,d){if(a.substring(0,2)=='%%'){a=a.substr(2);c=1}var e=0;var f=[];f[0]=cL(37);f[1]=cL(38);f[2]=cL(39);var g=[];g[0]="strong";g[1]="i";g[2]="u";if(a.indexOf('%a')!=-1){a=a.replace(/%a/g,'<a').replace(/%~a/g,'</a>').replace(/%g/g,'>').replace(/%i/g,'<img').replace(/%d/g,'<div').replace(/%~d/g,'</div>');if(a.indexOf('<img')!=-1){e=1}}a=iM(a);for(var j=0;j<3;j++){var h=a.split(f[j]);if(h.length>1){a='';var l='<'+g[j]+((j==0)?' style="font-weight:bold;"':'')+'>';for(var i=0;i<h.length-1;i++){a+=h[i]+l;l=(l=='</'+g[j]+'>'?'<'+g[j]+((j==0)?' style="font-weight:bold;"':'')+'>':'</'+g[j]+'>')}a+=h[h.length-1]+(h.length%2==0?l:'')}}var m=0;var o=0;var p=0;var q=0;var r=0;var s='';var t=fj+';';var u=false;if(b==0){s='width:'+(iT(gA.style.width)+11)+'px';t=''}while(true){m=a.indexOf('[[');if(m!=-1&&m>=o){o=m;m=a.indexOf(']]');if(m!=-1&&m>=o){var v=a.substring(o+2,m);var w=v.replace(/'/g,'\\\'');if(bY[w]!=null){a=a.replace('[['+v+']]','<div style="'+fj+';'+dk+'height:'+bZ[w]+'px;">'+md(bZ[w])+'<img border="0" height="'+bZ[w]+'px" src="'+U.smileys_dir+bY[w]+'">&nbsp;</div>')}else if(r<3){var w=v;v=v.replace(/%/g,'%25');var x=be;if(v.indexOf("/")>=0){v=v.substr(v.indexOf('_')+1);if(!U.allow_crossdomain_images){if(iS(v).indexOf('fastcatsoftware.com')<0&&iS(v).indexOf(U.current_domain)<0){v=""}}x=''}if(!u){a=a.replace('[[','<div style="'+t+dk+'height:42px;'+s+'">'+md(42)+'<a href="'+x+v+'" target="_blank"><img alt="'+cL(406,"Image")+'" style="margin-top:2px;border:1px solid lightgray"  height="40px" src="'+x);p=a.indexOf(']]');q=a.indexOf('[[');a=a.replace(w+']]',v+'"></a></div>');e=1}bw=1;t=fj+';';s='';r++}o=m}else{break}}else{break}}if(c==1){a=is(a)}if(iB.on==1&&k){var y=a;var z=(k==6?'fc_gm':'fc_pm')+n+'t';if(k==8){z='fc_tm'+n+'t'};if(k==9){z='fc_discm'+n+'t'};if(k==10){z='fc_discmod'+n+'t'};m=0;o=0;while(true){m=y.indexOf('<');if(m!=-1&&m>=o){o=m;m=y.indexOf('>');if(m!=-1&&m>=o){y=y.substring(0,o)+y.substr(m+1)}else{break}}else{break}}y=y.replace(/&nbsp;/gi,"");a+="<span style='font-style:italic' id='"+z+"'></span>";iC(y,z,k)}if(c==1){a=it(a)}if(e==1&&d){a='<br>&nbsp;'+a}return a};var is=function(a){var b;var c=-1;while((c=a.indexOf('{{!*',c+1))!=-1){b=a.indexOf('*!}}',c);if(b!=-1){var d=a.substring(c+4,b).split("::");a=a.substring(0,c)+cL(iT(d[0]),(d.length>1?d[1]:''))+a.substring(b+4,a.length)}}return a};var it=function(a){var b;var c=-1;c=a.indexOf('{{');if(c!=-1){b=a.indexOf('}}');if(b>=c){var d=(iT(a.substring(c+2,b))!=0?bG[iT(a.substring(c+2,b))].nm:fh);a=a.substring(0,c)+d+a.substring(b+2,a.length)}}return a};var iu=function(){var x;try{x=$("fc_p1")}catch(err){bO=0}if(x==null){bO=0}cK=$("fc_domain")[fM];return true};function getNewPageUsers(){};function getPageUsers(){};this.sendNewPageReq=function(){};var iv={};var iw="http://www.fastcatsoftware.com/plugins/";var ix='toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1';var iy=function(a,b,c,x,y){if(iv[b]&&iv[b].closed){iv[b]=null}if(!iv[b]){iv[b]=window.open(a,b,c+',width = '+(x?x:650)+',height = '+(y?y:470)+',left='+(window.screen.width-582)/2+',top='+(window.screen.height-605)/2);iv[b].focus();return true}else{iv[b].focus();return false}};this.transliterator;this.transliteration=[0];this.currlang;this.trlit=function(){fc_chat.transliteration[0]=1;W.getScript("http://www.google.com/jsapi").done(function(a,b){setTimeout("fc_chat.trload()",20)}).fail(function(a,b,c){console.log("Triggered ajaxError handler."+c)})};this.trload=function(){google.load("elements","1",{packages:"transliteration",callback:this.trld})};this.trld=function(){var a={sourceLanguage:'en',destinationLanguage:fc_chat.currlang||'ar',transliterationEnabled:true,shortcutKey:'ctrl+g'};fc_chat.transliterator=new google.elements.transliteration.TransliterationControl(a)};this.open_trlit=function(n){if(n){iK()}if(!l){iy(Z+"html/transliteration_menu.html",'fc_trlitwin',ix)}};this.makeTransliteratable=function(){var a=["fc_chat"];if($('fc_chat')){fc_chat.transliterator.makeTransliteratable(["fc_chat"])}if($('fc_uChat')){fc_chat.transliterator.makeTransliteratable(["fc_uChat"])}if($('fc_uChat2')){fc_chat.transliterator.makeTransliteratable(["fc_uChat2"])}if($('fc_sendpagechat')){fc_chat.transliterator.makeTransliteratable(["fc_sendpagechat"])}W("#fc_chat,#fc_uchat,#fc_uchat2,#fc_sendpagechat").css({"font-size":(cM?16:12)+"px","line-height":"1.2em"})};this.setLang=function(){fc_chat.transliterator.enableTransliteration();fc_chat.transliterator.setLanguagePair(google.elements.transliteration.LanguageCode.ENGLISH,fc_chat.currlang)};var iz=function(){if(fc_chat.transliterator&&fc_chat.currlang){fc_chat.makeTransliteratable();setTimeout("fc_chat.setLang()",200)}};this.doc=function(n){var b=bc.uid;var c=(!n?bc.cU:bc.uid);if(n==1){iK()}if(!l&&lB(c)&&a.o[c]=='1'){l=true;var d=jGo.MD5.hex_md5(U.chat_id)+b;iA(b,d,1);if(b!=c){var e=c.toString();cs='000'+(43+(b.toString()).length)+'n'+e.length+iR(e)+'4'+d;kc()}else{l=false}}};var iA=function(u,p,a){return iy(Z+"html/document.html?a="+a+"&user_id="+encodeURIComponent(kq(jL(),''))+"&pad_id="+p,'fc_docwin'+u,ix)};this.share_doc=function(a,b){if(!l){if(iA(a,b,0)){clearTimeout(jZ);jZ=setTimeout("fc_chat.viewing("+a+",'"+'fc_docwin'+a+"','5')",3000)}}};this.note=function(b){var c=(b==2?bc.cU:bc.uid);if(b==0){iK()}if(!l&&lB(c)&&a.o[c]=='1'){iy(Z+"html/notepad.html?dest="+b+"&uid="+c+"&host="+jGo.MD5.hex_md5(U.chat_id),'fc_notewin'+c,ix)}};this.p_note=function(b,c,d){if(!l){if(b=='2'&&!lB(c)){jP(cL(265,'Unable to send this message. The user is not available.'))}else if(c==bc.uid&&b=='2'||(cP==cO&&b=='0')||(jy!=1&&b=='1')){jP(cL(341,'Sorry, unable to send this message.'))}else if(b=='2'&&a.o[c]!='1'){jP(cL(130))}else{var u=(c!=bc.uid||b=='2'?c:'').toString();var e=63+d.length;cs=iQ(e)+'n'+u.length+iR(u)+'3'+b+'[['+iw+'notepad/'+d+']]';kc()}}};this.m_games=function(){var b=bc.cU;try{iv['fc_gamewin'].close()}catch(err){}if(!l&&lB(b)&&a.o[b]=='1'){iy(Z+"html/game_menu.html?uid2="+b+"&nm="+encodeURIComponent(a.snm[b]),'fc_gamewin',ix)}};this.inv_game=function(b,c,d){if(!l&&b!=bc.uid){if(!lB(b)){jP(cL(265,'Unable to send this message. The user is not available.'))}else if(a.o[b]!='1'){jP(cL(130))}else{var u=b.toString();var e=44+d.length+c.length;cs=iQ(e)+'n'+u.length+iR(u)+'8'+jGo.MD5.hex_md5(U.chat_id)+c+'.'+d;kc()}}};this.play_game=function(u,b,c,d,e,f){if(!l){if(!(a.o[u]=='1'&&lB(u))){jP(cL(338),"Sorry, this user is not able to play at the moment.")}else{if(iy(Z+"html/games.html?x="+c+"&y="+d+"&id="+b+"&domain="+e+"&typ="+f+"&uid="+bc.uid+"&uid2="+u+"&nm="+encodeURIComponent(kq(jL(),'')),'fc_gamewin'+u,ix,c,d)){if(f==0){var g=u.toString();vars=b+','+c+','+d;var h=43+vars.length;cs='000'+h+'n'+g.length+iR(g)+'9'+e+vars;kc()}}}}};this.wb=function(n){var b=bc.uid;var c=(!n?bc.cU:bc.uid);if(n){iK()}if(!l&&lB(c)&&a.o[c]=='1'){l=true;var d=encodeURIComponent(jL()+' at '+jGo.MD5.hex_md5(window.location.hostname));var e=jGo.MD5.hex_md5("1");var f="1";var g=jGo.MD5.hex_md5("1");iy(iw+"whiteboard.html?user_id="+d+"&user_key="+e+"&drawing_user_id="+d+"&drawing_user_key="+e+"&drawing_id="+f+"&drawing_key="+g,'fc_whiteboardwin'+b,ix);if(b!=c){var h=c.toString();cs='00043n'+h.length+iR(h)+'1'+jGo.MD5.hex_md5(U.chat_id);kc()}else{l=false}}};this.share_wb=function(a,b,c){if(!l){var d=encodeURIComponent(jL()+' at '+jGo.MD5.hex_md5(window.location.hostname));var e=jGo.MD5.hex_md5("1");var f=jGo.MD5.hex_md5("1");var g=c.replace(/%22/g,'"').replace(/%27/g,"'").replace(/%25/g,'%');var h="1";var i=jGo.MD5.hex_md5("1");var j=iw+"whiteboard.html?uid="+b+"&user_id="+d+"&user_key="+e+"&drawing_user_id="+g+"&drawing_user_key="+f+"&drawing_id="+h+"&drawing_key="+i;var k='fc_whiteboardwin'+b;if(iy(j,k,ix)){clearTimeout(jZ);jZ=setTimeout("fc_chat.viewing("+b+",'"+k+"','2')",3000)}}};this.viewing=function(u,a,b){if(iv[a]&&iv[a].closed){return false}var c=u.toString();cs='00011n'+c.length+iR(c)+b;kc()};var iB={on:0,cur_lang:'en',init:0};var iC=function(d,e,f){(function(){var b=e;var k=f;var c=d;var s=document.createElement("script");s.src=U.trans_url+"Detect?oncomplete=fc_detect_"+b+"&appId="+U.trans_appid+"&text="+c;document.getElementsByTagName("head")[0].appendChild(s);window['fc_detect_'+b]=function(a){if(a!=iB.cur_lang){var s=document.createElement("script");s.src=U.trans_url+"Translate?oncomplete=fc_translate_"+b+"&appId="+U.trans_appid+"&from="+encodeURIComponent(a)+"&to="+iB.cur_lang+"&text="+c;document.getElementsByTagName("head")[0].appendChild(s)}};window['fc_translate_'+b]=function(a){if(a!=""){a=a.replace(/</g,'%26lt;').replace(/>/g,'%26gt;');if(gA&&k<8)scr2($(b),(k==6?gx:gA),1,"<br>("+a+")");if(k==8&&(fY=='0'||lX)){scr2($(b),W('#fc_view_msgs')[0],3,"<br>("+a+")")}if(k==9){scr2($(b),W('#fc_page_chat_wrapper')[0],3,"<br>("+a+")")}if(k==10){scr2($(b),gN,3,"<br>("+a+")")}}}})()};this.set_translator=function(a){iB.on=(a=='_off'?0:1);ii((a=='_off'?'0':'1'),10);iB.cur_lang=a;ii(a,11)};this.textelem;this.clearText=function(){W(bc.textelem).val('')};this.oKD=function(e){var a=window.event;if(a){if(a.keyCode==13){fc_chat.sendMsgOnEnter(a.srcElement)}}else{if(e.which==13){fc_chat.sendMsgOnEnter(e.target)}}};this.oKD2=function(e){if(!l&&!bK&&U.showTyping){cs='00001S';kc();bK=true;setTimeout('fc_chat.releaseOKD()',1000)}};this.refocus=function(a,b,d,n){var c=b||'fc_uChat';var v=(a?$('fc_chat'):d.getElementById(c));v.focus()};this.releaseChat=function(a,d){var v=(a?$('fc_sp1'):d.getElementById('fc_usp'));var b=(a?'':'u');if(d==document){v[fM]="<div class='fc_"+b+"spbtn' >"+fN+(a?fG:"")+" onClick='fc_chat.sendChat("+a+",false,document);return false'>"+(a?cL(11):cL(264,'Send Message'))+"</a></div>"}else{v[fM]="<div class='fc_"+b+"spbtn' >"+fN+(a?fG:"")+" onClick='window.parent.fc_chat.sendChat("+a+",false,window.parent.fc_chat.getIFrameDoc());return false'>"+(a?cL(11):cL(264,'Send Message'))+"</a></div>"}};this.releaseChat2=function(){var v=$('fc_sg1');v[fM]="<div class='fc_srbtn' >"+fN+fG+" onClick='fc_chat.sendChat(true,true,document);return false'>"+cL(10)+"</a></div>"};this.releaseOKD=function(){bK=false};this.sendMsgOnEnter=function(a){if(a.getAttribute('id')=='fc_chat'){if(eh==0){if($('fc_sg1')[fM].indexOf("fc_srbtn_dis")==-1){this.sendChat(true,true,document,a)}}else{if($('fc_sp1')[fM].indexOf("fc_spbtn_dis")==-1){this.sendChat(true,false,document,a)}else{jP(cL(389,"To send a message, highlight a user first. To add a user to your friends list, click on their screen name, and then select 'add to Friends'."))}}}else{if(a.getAttribute('id')=='fc_uChat2'||a.getAttribute('id')=='fc_sendpagechat'||$('fc_usp')[fM].indexOf("fc_uspbtn_dis")==-1){this.sendChat(false,false,document,a)}}};this.sendChat=function(b,g,d,c){var e;var v;var f=false;if(c){v=c;f=(c.getAttribute('id')=='fc_sendpagechat')}else{v=(b?$('fc_chat'):d.getElementById('fc_uChat'))};if(!l){e=v.value;e=iL(e);if(U.allow_links){e=iY(e)}if(U.upload_images_enabled){e=e.replace(/\[\[/g,'[['+bc.uid+'_')}var h=0;var j=0;while(true){h=e.indexOf('{{');if(h!=-1&&h>=j){j=h;h=e.indexOf('}}');if(h!=-1&&h>=j){var k=e.substring(j+2,h);var m=k.replace(/'/g,'\\\'');if(bY[m]!=null){e=e.replace('{{'+k+'}}','[['+k+']]')}j=h}else{break}}else{break}}e=e.replace(/^\s+/,'');for(var i=e.length-1;i>=0;i--){if(/\S/.test(e.charAt(i))){e=e.substring(0,i+1);break}}if(!cR()||!g||f){if(e.length>0&&(e.length>1||e.charCodeAt(0)!=10)){if(e.length<U.max_chat_size){if(!((g||f)&&mQ(bc.uid)&&!U.guests_can_chat)){if(g||f||!mQ((b?ga:bc.cU))||a.o[(b?ga:bc.cU)]=='1'){if(g||f||lB((b?ga:bc.cU))){cs=iQ(iN(e)+11);if(g){cs+='8'+'000000000'+'0'}else if(f){cs+='8'+'000000000'+'1'}else{var n=(b?ga.toString():bc.cU.toString());cs+='8'+n.length+iR(n)+'2'}cs+=e;kc();if(!c||(c.getAttribute('id')!='fc_uChat2'&&!f)){var o;if(!g){o=(b?$('fc_sp1'):d.getElementById('fc_usp'));var p=(b?'':'u');o[fM]="<div class='fc_"+p+"spbtn_dis' ><a class='fc_"+p+"spbtn_disa' "+(b?fG:"")+">"+(b?cL(11):cL(264,'Send Message'))+"</a></div>";if(d==document){setTimeout('fc_chat.releaseChat('+b+',document)',500)}else{setTimeout('fc_chat.releaseChat('+b+',fc_chat.getIFrameDoc())',500)}}else{o=$('fc_sg1');o[fM]="<div class='fc_srbtn_dis' ><a class='fc_srbtn_disa'>"+cL(10)+"</a></div>";setTimeout('fc_chat.releaseChat2()',500)}}}else{jP(cL(265,'Unable to send this message. The user is not available for chat.'))}}else{jP(cL(130))}}else{if(f){jP(cL(410,'Please sign in to chat'))}else{jN(cL(410,'Please sign in to chat'),{x:40,y:iT(gP.style.top)-50})}}}else{jP(cL(131)+U.max_chat_size+cL(132))}}else{jP(cL(133))}}else{jN(cL(411,'Please select a room'),{x:40,y:iT(gP.style.top)-50})}v.blur();bc.textelem=v;setTimeout('fc_chat.clearText()',20);var q='null';if(c){q=c.getAttribute('id')}if(d==document){setTimeout('fc_chat.refocus('+b+',"'+q+'",document)',50)}else{setTimeout('fc_chat.refocus('+b+',"'+q+'",fc_chat.getIFrameDoc())',50)}}};var iE={on:0,a:[1,1,1,1],init:0};var iF=function(n){if(fk==1&&n!=1)return;try{if(iE.on==1&&iE.a[n]==1){W('#fc_sounds').fc_play(n)}}catch(e){}};this.createSounds=function(){setTimeout("fc_chat.mkSounds()",250)};this.mkSounds=function(){W("#fc_sounds").fc_createSound("../html/sounds/chatroommessagealert.mp3");W("#fc_sounds").fc_createSound("../html/sounds/privatemessagealert.mp3");W("#fc_sounds").fc_createSound("../html/sounds/enterroomalert.mp3");W("#fc_sounds").fc_createSound("../html/sounds/leavingroomalert.mp3")};this.setSounds=function(a,b){if(a!=null){iE.a[a]=(iE.a[a]==1?0:1);ii(iE.a[a],a+2)}if(b!=null){iE.on=b;ii(iE.on,1)}};var iG;var iH=function(u){var b=(a.tag[u]!=''?fi:fh);W('.fc_'+u+'tag').css("display",b).html('&nbsp;&bull;&nbsp;'+a.tag[u]+'&nbsp;&bull;&nbsp;')};this.setTagline=function(u){if(!l){iG=jGo.util.trim(iL($('fc_tagline').value.substr(0,50)));cs=iQ(10+iN(iG));var a=u.toString();cs+='u'+a.length+iR(a)+iG;kc(cs);$('fc_tagline').value='';$('fc_tagline_set').style.visibility='hidden';$('fc_tagline').disabled=true;setTimeout('fc_chat.unlockTagline('+u+')',250)}};this.unlockTagline=function(u){a.tag[u]=iM(iG);iH(u);$('fc_tagline').disabled=false;$('fc_tagline_set').style.visibility='visible'};var iI=null;var iJ;this.tgl_tools=function(a,b,c,d){var e="fc_tools";var f=bc.smYOffset+(a==0?0:dc.tools_panel.smileys.height-dc.tools_panel.icons.height);var g=eH;var h="#fc_e_sml2a";var i="#fc_quickchat";if(d==4){h="#fc_e_sml3";i="#fc_page_discussion_dialog"}if(d){f=W(h).offset().top-dc.tools_panel.smileys.height-10;g=W(h).offset().left-Math.floor(dc.tools_panel.smileys.width/2)+65}var j=(a==0?"auto":"hidden");bc.tPC=$(e);if(bc.tPC!=null){iJ.target.removeEventHandler('mousedown');iJ.target=W("a.fc_tools_a");iJ.target.onEvent('mousedown',iJ,'mouseOn','');iJ.enableControl();if(bc.tPC.style.display==fh||(a!=null&&a!=iI)){iI=a;gU.style.width=b+'px';gU.style.height=c+'px';gU.style.overflow=j;gU[fM]=fc_chat.fill_tool_panel(a,b,c,d);if(d){bc.tPC.style.position=W(i).css("position");document.body.appendChild(bc.tPC)}else{bc.tPC.style.position="absolute";gu.appendChild(bc.tPC)}move_box(bc.tPC,g,f);bc.tPC.style.display=fg;if(hc){bc.tPB.style.width=b+'px';bc.tPB.style.height=c+'px';if(d){bc.tPB.style.position=W(i).css("position");document.body.appendChild(bc.tPB)}else{bc.tPB.style.position="absolute";gu.appendChild(bc.tPB)}move_box(bc.tPB,g,f);bc.tPB.style.display=fg}bQ=true}else{bQ=false;bc.tPC.style.display=fh;if(hc){bc.tPB.style.display=fh}}if(!d){return false}else{return}}iI=a;var k=fc_chat.create_tool_panel(e,b,c,j,fS,hc);bc.tPC=k[0];gU=k[1];gU[fM]=fc_chat.fill_tool_panel(a,b,c,d);if(d){bc.tPC.style.position=W(i).css("position");document.body.appendChild(bc.tPC)}else{bc.tPC.style.position="absolute";gu.appendChild(bc.tPC)}move_box(bc.tPC,g,f);if(hc){bc.tPB=fc_chat.create_tool_panel_backing(fS,gU);if(d){bc.tPB.style.position=W(i).css("position");document.body.appendChild(bc.tPB)}else{bc.tPB.style.position="absolute";gu.appendChild(bc.tPB)}move_box(bc.tPB,g,f)}if(iJ){iJ.disableControl()}iJ=new jGo.DefaultMenuController('fc_tools','a.fc_tools_a',bc.tPC,fc_chat,'tgl_tools');bQ=true;setTimeout("fc_chat.change_Border_sD(false)",200);if(!d)return false};this.create_tool_panel=function(a,b,c,d,e,f){var g=this.tool_menu=document.createElement('div');g.setAttribute('id',a);var h=(!f)?'jGo_ydsf':'';var i=(!f)?'jGo_inner':'';g.className='jGo_app jGo_myapp '+h;if(f){g.style.position='absolute'}g.style.display=fg;g.style.zIndex=jGo.config.max_z_index-91;var j=document.createElement('div');j.className=i;j.style.width=b+'px';j.style.height=c+'px';j.style.zIndex=jGo.config.max_z_index-91;j.style.border=dc.tools_panel.border;j.style.backgroundColor=dc.tools_panel.background_color;j.style.overflow=d;g.appendChild(j);return[g,j]};this.fill_tool_panel=function(a,b,c,d){var e='<center><table style="padding:5px;width:'+(b-5)+'px;height:'+(c-5)+'px;"><tr>';var f=0;if(a==0){for(var i=0;i<U.smileys.length;i++){e+='<td>'+bX+'insertTags(\'{{\',\'}}\',\''+U.smileys[i][1]+'\','+(d?d:'1')+');"><img '+(U.smileys[i][3]?'height="'+U.smileys[i][3]+'px" style="height:'+U.smileys[i][3]+'px"':'')+' border="0" src="'+U.smileys_dir+U.smileys[i][0]+'"></a></td>';f++;if(f==6&&i<U.smileys.length-1){e+='</tr><tr>';f=0}}if(f!=0){e+='<td colspan='+(6-f)+'>&nbsp;</td>'}e+='</tr></table></center>'}else{var g=hB+";cursor:default";var h=(U.upload_images_enabled?cL(27):cL(28));var j=cL(29);e+="<td>"+"<a id='fc_imgu' style='margin-left:1px;"+(U.upload_images_enabled?"":g)+"' href=\"javascript:void\" onclick=\"return fc_chat.imgFWrapper()\">"+"<img title='"+h+"'src='"+fW+"upload_image.png'>"+"</a>"+(U.change_avatar?"<a id='fc_avu' style='margin-left:2px;' href=\"javascript:void\" onclick=\"return fc_chat.avaFWrapper();\">"+"<img title='"+j+"'src='"+fW+"add_avatar.png'>"+"</a>":"")+(U.transliteration_enabled?"<a  id='fc_trlit' style='margin-left:2px;' "+bW+"open_trlit(1)'>"+"<img title='"+cL(304,"Type in your language")+"' src='"+fW+"google_transliteration.png'>"+"</a>":"")+(U.chatcenter_layout==0&&!fc_chat.nlrm()?"<a title='"+cL(295,"doodlepad")+"' id='fc_note' style='margin-left:2px' "+bW+"note(0)'>"+"<img src='"+fW+"pencil.png'>"+"</a>":"")+"<a title='"+cL(311,"Share a document")+"' id='fc_doc' style='margin-left:2px;' "+bW+"doc(1)'>"+"<img src='"+fW+"document.png'>"+"</a>"+"</td></tr></table>"}return e};this.create_tool_panel_backing=function(a,b){var c=document.createElement("IFRAME");c.className="jGo_app jGo_myapp";c.style.position='absolute';c.style.scrolling='no';c.style.zIndex=a+1900;c.style.width=b.style.width;c.style.height=b.style.height;c.style.backgroundColor='transparent';c.style.display=fg;return c};var iK=function(){bc.tPC.style.display=fh;if(hc){bc.tPB.style.display=fh}};this.eval_script=function(a){eval(a)};var iL=function(a){return a.replace(/%/g,'%25').replace(/&/g,'%26amp;').replace(/</g,'%26lt;').replace(/>/g,'%26gt;').replace(/\\/g,'\\\\')};var iM=function(a){return a.replace(/%26/g,'&').replace(/%25/g,'%')};var iN=function(a){var b=encodeURI(a);if(b.indexOf("%")!=-1){var c=b.split("%").length-1;if(c==0){c++}var d=b.length-(c*3);c=c+d}else{c=b.length}return c};var iO=function(a,b){return(Math.round(a/b-a%b/b))};var iP=function(s){var j;try{j=(s!="{}"?W.parseJSON(jb(s,'\\"').replace(/>/g,'"')):null)}catch(e){alert(e)}return j};var iQ=function(n,z){if(!z){z=5}return String("0000000000"+n).slice(-z)};var iR=function(n,z){if(!z){z=8}return String(n+"0000000000").slice(0,z)};var iS=function(b){var a=document.createElement('a');a.href=b;return a.hostname};var iT=function(a){var n=parseInt(a,10);return(n==null||isNaN(n)?0:n)};var iU=18000*(13&65535)+(13>>16);var iV=function(n){var a='';n=36969*(n&65535)+(n>>16);n=Math.abs((n<<16)+iU);var s='000000'+n;for(var i=s.length-6;i<s.length;i++){a+=dW[s.substr(i,1)]}return a};function $(a){return document.getElementById(a)};function $2(a){return ha.getElementById(a)};var iW=function(a,b){var c={};c.y=(a.height()-b.height())/2;c.x=(a.width()-b.width())/2;return c};var iX=function(a){var b={};b.y=(jGo.util.getInnerHeight()-a.height())/2;if(hc){b.y+=W(document).scrollTop()}b.x=(jGo.util.getSWidth()-a.width())/2;return b};var iY=function(f){var g=/(([a-z]+:\/\/)?(([a-z0-9\-]+\.)+([a-z]{2}|aero|arpa|biz|com|coop|edu|gov|info|int|jobs|mil|museum|name|nato|net|org|pro|travel|local|internal))(:[0-9]{1,5})?(\/[a-z0-9_\-\.~]+)*(\/([a-z0-9_\-\.]*)(\?[a-z0-9+_\-\.%=&amp;]*)?)?(#[a-zA-Z0-9!$&'()*+.=-_~:@/?]*)?)(\s+|$)/gi;return f.replace(g,function(a){if(!(/[a-z]+:\/\//.test(a))){a="http://"+a}var b=a.replace(/^https?:\/\//,'');var c="youtube.com/watch?v=";var d=a.toLowerCase().indexOf(c);if(d>0){var e=a.substr(d+20).split('%26amp;')[0];var h=60;return'%d style="'+fj+';height: '+h+'px;"%g%i SRC="'+Z+'trans.gif" height="'+h+'px" width="1px" style="height:'+h+'px;width:1px;'+dk+'"%g%~d%a href="http://www.youtube.com/watch?v='+e+'" target=_blank%g%i height="'+h+'px" style="height:'+h+'px" src="http://img.youtube.com/vi/'+e+'/default.jpg" alt="" %g%~a =i=('+cL(418,'YouTube video')+')=i='}return'%a target=_blank href="'+a+'"%g'+b+'%~a'})};var iZ=/["\\\x00-\x1f\x7f-\x9f]/g;var ja={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','\\':'\\\\'};var jb=function(b,s){ja['"']=s;if(b.match(iZ)){return b.replace(iZ,function(a){var c=ja[a];if(typeof c==='string'){return c}c=a.charCodeAt();return'\\u00'+Math.floor(c/16).toString(16)+(c%16).toString(16)})}return b};var jc=function(a,b){return jGo.util.returnElementCoordinates(a,(b!=null?b:(W(a).css("position")=="fixed")))};this.c_Vs=function(u){W('a.fc_'+u+'_cam').css('display',ko(u));if(a.wl[u]=='1'&&a.vs[u]!=''&&a.vs[u]!=a.vsw[u]){if(a.vsp[u]==1||a.vcu[u]==bc.uid){var b=gFL('fc_video');if(b!=null){b.startSubscription("rtmp://"+a.vs[u]+"/FCVideoChat1.2",jd(u),a.snm[u])}}a.wl[u]=='0';a.vsw[u]=''}if(a.wl2[u]=='1'&&a.vs[u]!=''&&a.vs[u]!=a.vsw2[u]){if(a.vsp[u]==1||a.vcu[u]==bc.uid){var b=gFL('fc_expand');if(b!=null){b.startSubscription("rtmp://"+a.vs[u]+"/FCVideoChat1.2",jd(u),a.snm[u])}}a.wl2[u]=='0';a.vsw2[u]=''}};this.closeVid=function(){try{fc_ex.closeVid()}catch(err){}};var jd=function(u){u=u+'';var a='1';for(var i=0;i<8-u.length;i++){a+='0'}u=a+u;u+=(V.length>1?V[0]:V[0].substr(0,3));return u};var je=function(u){if(mQ(u)&&!U.guests_can_video_chat){jP(cL(413,"Guests cannot video chat. Please sign in."));return false}return true};this.jsA=function(a){jP(a)};this.jsB=function(){fc_ex.jsB(cp,fK)};this.jsLV2=function(u){fc_ex.jsLV2(u,fO,el,X)};this.jsR=function(a){fc_ex.jsR(a)};this.jsSt=function(a,b){fc_ex.jsSt(a,b,cp,fK)};this.jsStp=function(a){fc_ex.jsStp(a,cp,fK)};this.jsV=function(){$('fc_vidchat2').style.display=fh};this.jsW=function(a,b,c){fc_ex.jsW(a,b,c)};this.jsW2=function(a,b,c){fc_ex.jsW2(a,b,c)};var jf;this.launchChatWindow=function(u,a,k){if(!l){if(fc_chat.ww2==null){l=true;var b='1px solid #444444';var c=!X&&!hc&&U.pin_windows;var d=c&&U.pinned_by_default;var e=(bc.m==0&&fO?iT(fO.frame[0].style.top)+200:200);var f=W(document).scrollTop();if(fO){e+=(fO.fixed?f:0)+(d?-f:0)}else{e+=(!d?f:0)}var g="<div style='padding:10px;font-family:arial;font-size:14px;color:black;font-weight:bold'><div style='margin-top:55px;margin-left:100px;'>"+cL(329,"Loading...Please Wait")+"</div></div>";fc_chat.ww2=fc_chat.createWidget('DefaultWindow',["<span style='"+U.styles.chat_window.frame.title_css+"'>"+cL(152)+"</span>",200,e,368,163,'default',U.styles.chat_window.frame.color,U.styles.chat_window.frame.opacity*100,b,'e3e3e3','','html',g,false,false,bh,cL(154),cL(155),cL(156),cL(157),cL(315,"pin to screen"),cL(316,"unpin"),c,(c?U.pinned_by_default:false)]);fc_chat.tg_vid=1;fc_chat.setPaused();fc_chat.ww2.mH=38;fc_chat.ww2.MH=800;fc_chat.ww2.close=function(){this.getDefault().close.call(this);fc_chat.ww2=null;fc_chat.tg_vid=0;fc_chat.setPaused();invitePriv=false;return true};fc_chat.ww2.maximize=function(){this.lock=false}}if(!bm){if(k){bn=2;jf=u}else{bn=1}lD()}else{fc_ex.initVideoChat(fc_chat.ww2,u,a);l=false}}};this.launchVideoChat=function(u,b,k){if(!je(bc.uid)){return}if(!l&&(!b||((lB(b)||b==bc.uid)&&a.o[b]=='1'))){if((!b&&fc_chat.vidAcc>1)||(b&&fc_chat.vidAcc%2!=0)){if(ek>U.max_video_streams){jP(cL(228));return}if(b&&mQ(b)&&!U.guests_can_video_chat){jP(cL(412,"Video chat is disabled for guest accounts."));return}if(!b&&fc_chat.vidAcc>1&&(U.videoconerence_only_in_designated_rooms&&(!bG[cP]||bG[cP].v==1))){jP(cL(225));return}if(fc_chat.ww2&&(fc_chat.cvu_priv||b)&&b!=fc_chat.cvu_priv){fc_chat.ww2.close()}hL=u;if(b){fc_chat.cvu_priv=b}else{fc_chat.cvu_priv=null}clearTimeout(hM);hM=setTimeout('fc_chat.launchChatWindow('+u+','+b+','+k+')',250)}}};this.launchVideoChatCont=function(u){fc_ex.launchVideoChatCont(u,el,cp,fK)};this.removeAllStreams=function(){fc_ex.removeAllStreams(cp,fK)};function returnBroadcastParams(a){fc_ex.returnBroadcastParams(a,bc.uid)};this.subscribe=function(u){if(!je(bc.uid)){return}if(u!=bc.uid){if(bG[a.g[u]]&&((bG[a.g[u]].l)==1||(bG[a.g[u]].d)==1)&&a.g[u]!=cP){fc_chat.showInfo(cL(226)+bG[a.g[u]].nm+cL(227));return false}if((U.videoconerence_only_in_designated_rooms&&a.g[u]!=cP)){fc_chat.showInfo(cL(417,"This user is chating in room: ")+bG[a.g[u]].nm+cL(227));return false}if(bm){fc_ex.subscribe(u,bc.uid,ek,bG,cP)}else{fc_chat.launchVideoChat(u)}}};this.subscribePriv=function(u){if(!je(bc.uid)){return}if(!(a.o[u]=='1'&&a.vcu[u]==bc.uid&&a.vs[u]!=''&&lB(u))){jP(cL(323),"Sorry, this user is not available for video chat at the moment.")}else{if(ek<=U.max_video_streams){fc_chat.launchVideoChat(u,u)}else{jP(cL(228))}}};var jg=[];var jh=0;var ji=cV.menus.user_options;var jj=cV.menus.set_availability;var jk=cV.menus.set_signature;var jl=cV.menus.mod_menu;var jm=cV.menus.set_nickname;var jn=function(a){return"style='position:relative;left:0px;"+a.menu_item.dim+"'><div style='"+a.menu_item.css};var jo=function(a,b){return"<div class = 'fc_menu_item"+(b?b:'')+"' "+jn(a)+"color:"+a.menu_item.link_color+"'>&nbsp;&nbsp;"};this.toggleMenu=function(a,u,b){if(!jg[b]||!jg[b].isOpen){jh=u,this.createMenu(a,b)}else{jg[b].hide()}return false};this.createMenu=function(b,c){var p,s;if(c=='u1'){s=W.extend(true,{},ji);if(jh!=bc.uid&&!cM){s.css.height=(iT(s.css.height)-60)+'px'}jg[c]=jp(this,s,b,jh)}else if(c=='item2'){s=W.extend(true,{},jj);jg[c]=this.createWidget('DefaultMenu',[s,(cM?"<div style='position:relative;top:"+(iT(jj.css.height)-24)+"px;float:right'><a style='"+jj.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='return fc_chat.toggleMenu(null,null,\"item2\")'>x</a>&nbsp;&nbsp;</div>":"")+"<div style='"+jj.menu_item.css+"'><INPUT TYPE=radio "+(a.bs[jh]=='1'?'':"checked")+" id='fc_avl1' onclick='fc_chat.setBusy(0);' name='fc_avl'>"+cL(348,"Available")+"<br><br>"+"<INPUT TYPE=radio "+(a.bs[jh]!='1'?'':"checked")+" id='fc_avl2' onclick='fc_chat.setBusy(1);' name='fc_avl'>"+cL(349,"Busy")+"</div>",null,W(b),p=(jg['u1']&&jg['u1'].isOpen?jg['u1'].frame:W(bc.uD)),false,cM])}else if(c=='item3'){s=W.extend(true,{},jk);jg[c]=this.createWidget('DefaultMenu',[s,(cM?"<div style='position:relative;top:"+(iT(jk.css.height)-24)+"px;float:right'><a style='"+jk.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='return fc_chat.toggleMenu(null,null,\"item3\")'>x</a>&nbsp;&nbsp;</div>":"")+"<div style='"+jk.menu_item.css+"'>"+cL(361,"Signature (50 chars max)")+"&nbsp;<form action='javascript:fc_chat.setTagline("+jh+");'><INPUT TYPE=text value='' maxlength='50' style='margin-top:10px;width:"+(iT(jk.css.width)-24)+"px' id='fc_tagline' name='fc_tagline'></form><div id='fc_tagline_set' style='visibility:hidden;"+jk.menu_item.set_notice.css+"'>"+cL(362,'Signature Set')+"</div></div>",null,W(b),p=(jg['u1']&&jg['u1'].isOpen?jg['u1'].frame:W(bc.uD)),false,cM])}else if(c=='mod'){s=W.extend(true,{},jl);jg[c]=this.createWidget('DefaultMenu',[s,(cM?"<div style='position:relative;top:"+(iT(jl.css.height)-24)+"px;float:right'><a style='"+jl.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='return fc_chat.toggleMenu(null,null,\"mod\")'>x</a>&nbsp;&nbsp;</div>":"")+"<div id='fc_kickban'>"+jr(jl,(jh!=bc.uid&&iT(a.ac[jh])<iT(a.ac[bc.uid])&&a.o[jh]=='1'&&hP==2?1:0),jh,"kick("+jh+")",cL(439,"Kick and ban"),'_mod')+"</div>"+"<div id='fc_blockip'>"+jr(jl,(jh!=bc.uid&&a.o[jh]=='1'&&hP==2&&a.ac[bc.uid]=='2'?1:0),jh,"blockip("+jh+")",cL(440,"Block IP (30 min)"),'_mod')+"</div>"+"<a "+bU+" style='"+jl.menu_item.link_css+"' HREF='"+bb+"Mod.html'>"+jo(jl,'_mod')+cL(438,"Admin Panel")+"</div></div></a>",null,W(b),p=(jg['u1']&&jg['u1'].isOpen?jg['u1'].frame:W(bc.uD)),false,cM]);js('fc_menu_item_mod',jl)}else if(c=='pg_info'){var d=cU.chatbox.style.infobox_menu;s=W.extend(true,{},d);jg[c]=cU.chatbox.create_infobox(this,s,b,d);js('fc_menu_item_pginfo',d)}jg[c].hide=function(){this.getDefault().hide.call(this);this.getDefault().close.call(this)};jg[c].show();return false};var jp=function(a,s,b,u){var c=a.createWidget('DefaultMenu',[s,jq(u),null,W(b),p=W(document.body),(hc||(cM)?0:fT),cM]);js('fc_menu_item',ji);return c};var jq=function(u){var b="style='"+ji.menu_item.link_css+"' HREF='javascript:void' onclick=";return(cM?"<div style='position:relative;top:"+(iT(ji.css.height)-24)+"px;float:right'>"+"<a style='"+ji.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='return fc_chat.toggleMenu(null,null,\"u1\")'>x</a>"+"&nbsp;&nbsp;"+"</div>":"")+"<div id='fc_menu_item1'>"+jr(ji,(lB(u)&&u!=bc.uid&&(!mQ(u)||a.o[u]=='1')?1:0),u,"talk("+u+")",cL(351,"Send message)"))+"</div>"+(iT(a.ac[bc.uid])>0?"<a "+b+"\"return fc_chat.toggleMenu(this,"+u+",'mod');\">"+jo(ji)+cL(45)+""+"</div></div></a>":"")+(!dX&&u==bc.uid?"<a "+b+"'return fc_chat.logout()'>"+jo(ji)+cL(44)+"</div></div></a>"+"<a "+b+"\"return fc_chat.toggleMenu(this,"+u+",'item3');\">"+jo(ji)+cL(363,'Set Signature')+"</div></div></a>":"")+(!mQ(u)&&dR?"<a style='"+ji.menu_item.link_css+"' target=_blank href='"+dQ+encodeURIComponent(a.nm[u])+"'>"+jo(ji)+cL(46)+"</div></div></a>":"")+"<a "+b+"'return fc_chat.getMenuStatus("+u+")'>"+jo(ji)+cL(48)+"</div></div></a>"+(u==bc.uid?"<a "+b+"\"return fc_chat.toggleMenu(this,"+u+",'item2');\">"+jo(ji)+cL(350,'Set Availability')+"</div></div></a>"+(mQ(u)?"<a "+b+"\"return fc_chat.tglNick(1,"+u+");\">"+jo(ji)+cL(422,'Set Nickname')+"</div></div></a>":""):"<a style='"+ji.menu_item.link_css+"' "+bW+(cB[u]?"remove_friend":"add_friend")+"("+u+");'>"+jo(ji)+(cB[u]?cL(286,"Remove from Friends"):cL(281,"Add to Friends"))+"</div></div></a>"+(cA[u]?"<a style='"+ji.menu_item.link_css+"' "+bW+"remove_recent("+u+");'>"+jo(ji)+cL(432,"Remove from Recents")+"</div></div></a>":''))};var jr=function(a,n,u,b,c,d){return(n?"<a style='"+a.menu_item.link_css+"' "+bW+b+"'>"+jo(a,d)+c+"</div></div></a>":"<div class = 'fc_menu_item_dis' "+jn(a)+"color:"+a.menu_item.disabled_link_color+"'>&nbsp;&nbsp;"+c+"</div></div>")};var js=function(a,b){W('div.'+a).hover(function(){W(this).css("background-color",b.menu_item.hover_color)},function(){W(this).css("background-color",b.css["background-color"])})};this.getMenuStatus=function(u){jg['u1'].hide();if(!lX){fc_chat.tgl_messages(fT)}return fc_chat.showStatus(u,document)};this.openPopup=function(){Y=1;W(".fc_ob").html(fc_chat.toggle_btn(1,0));if(bc.m==0){mK(0);ka(0)}if(fY==1){fc_chat.closeChat();W('#fc_m1').attr({"checked":true});id(bq,'0');bs=0}fc_chat.close_boxes(1);if(U.requre_login){W("div.fc_t1").html(cL(258))}dX=false};var jt=false;var ju;this.startPromo=function(){if(jv()){cU.prompt.render_promo(kq(jL(),''));cU.prompt.tgl_dialog();ju=setTimeout("fc_chat.endPromo()",15000);ii(1,15)}jt=true};this.promo_change_name=function(){if(cS.minimized){cS.toggle()}fc_chat.sign_in(null,1)};this.promo_close=function(){fc_chat.close_boxes()};var jv=function(){if(!jt&&ih(15)!=1&&!U.noshow&&cU.config.show&&!cM&&!X&&dX){return true}else{return false}};this.endPromo=function(){cU.prompt.tgl_dialog()};var jw={"I":0,"L":0};var jx=0;var jy=0;var jz=-1;var jA=0;this.discC='..';var jB=function(b,c,d,e){var v=$('fc_page_chat');var f;var g=b.split('>');var h='';var j=jz;var k=0;var l=cU.chatbox;if(d=='1'){jz=-1;W("#fc_disc_pg").html((jw.I!='0'?l.set_more_msgs(jw.I):''))}for(var i=g.length-4;i>0;i=i-4){if(c=='0'){if(a.of[g[i]]=='0'){a.o[g[i]]='1';a.s[g[i]][0]='1'}}kp(g,i,1,0);g[i+1]=a.snm[g[i]];f=' <i class="fc_aside" style="'+dp+(d=='1'?fj:bE)+'">'+iq(g[i+2],(d=='1'?1:0))+'</i>';var m=!(jA!=0&&jz==g[i]);var n=(m?'1px 0px 3px 37px':'0px 0px 2px 37px');var o=(m?'-37px':'0px');var p='';var q='';var r=jC(e,k);if((a.ac[g[i]]!='2'&&cJ=='1')||cJ=='2'){p=' <span id="censor'+r+'"'+dm+'>'+bX+'adminDeleteMsg(1,'+a.pid[bc.uid]+','+jD(e,k)+',\''+r+'\')" style="'+l.style.dialog_box.text.secondary_link_css+'">'+cL(240)+'</a> </span> ';q='onmouseover="fc_chat.toggleCensor(1,\''+r+'\')" onmouseout="fc_chat.toggleCensor(0,\''+r+'\')"'}jz=g[i];h+='<div class="fc_disc'+g[i]+' fc_disc_cont" id="fc_disc'+jA+'" '+q+' style="padding:'+n+';text-indent:'+o+';">';var s='<span class="fc_dmu fc_dmu'+g[i]+'" '+(!m?'style="display:none"':'')+'>'+lM(g[i],null,0,1,1)+' <div class="fc_t2'+g[i]+'" style="'+fj+'">'+kR(g[i])+'</div>: </span>';var t=kC(m)+'<span class="msg'+r+'">'+ir(g[i+3],1,9,jA,null,m)+'</span>'+f+p+'</div>';h+='&nbsp;'+s+t;jA++;k++;if(d=='0'){scr2(v,W('#fc_page_chat_wrapper')[0],4,h);h='';iF(0)}}if(d=='1'){if(!e){scr2(v,W('#fc_page_chat_wrapper')[0],4,h);jz=j}else{W('#fc_disc_pghdr').after(h)}}};var jC=function(b,c){return'pg'+'_'+a.pid[bc.uid]+'_'+jD(b,c)};var jD=function(a,b){return(iT(jw.I)+(a?b:jA))};var jE=function(){var b=[];var c=0;hJ[5]=0;for(var d in a.pid){if(a.pid.hasOwnProperty(d)){if(a.pid[d]==a.pid[bc.uid]&&a.o[d]!='0'){bldOr(d,b,kN(d,5),5);c++}}}var e=cU.chatbox.style.dialog_box.text;$('fc_disc_userlist')[fM]="<span style='"+e.info+"'>"+bc.chat_params.connected_text+"</span><span id='fc_disc_ucount' style='"+e.info+"'>("+c+")</span>"+(cJ>0?"<span style='"+e.info+";margin-left:10px'>"+cL(444,'Page ID: ')+a.pid[bc.uid]+"</span>":"")+"<span style='margin-left:10xp' class='fc_disc_signin'></span>"+getConts(b,5);W("span.fc_disc_signin").html((dX?"<a style='margin-left:10px;"+e.css+e.secondary_link_css+"' HREF='javascript:void(0)' onclick='return fc_chat.sign_in()'>"+cL(342,'Change name')+"</a>":""));disc_user=c};var jF=function(c){disc_user+=c;$('fc_disc_ucount')[fM]="("+disc_user+")"};var jG=function(c){bc.discC=c;W('span.fc_disc_count').html("("+c+")")};var jH=function(u){if(jy==1){if(a.o[u]=='1'&&a.pid[u]==a.pid[bc.uid]){if(!W("#fc_t5"+u)[0]){jF(1);if(!mQ(u)){W("#fc_t5"+bc.uid).after(kN(u,5))}else{kY("#fc_disc_userlist",kN(u,5),5,1)}}else{if(u!=bc.uid){if(a.pt[u]=='0'){if(mQ(u)){W("#fc_disc_userlist div.fc_shw_gst").before(W("#fc_t5"+u))}}else{if(!mQ(u)){W("#fc_t5"+bc.uid).after(W("#fc_t5"+u))}else{kY("#fc_disc_userlist",W("#fc_t5"+u),5,0)}}}jJ(u)}}else{if(W("#fc_t5"+u)[0]){jF(-1);if(mQ(u)){kX(5,-1)}kO(u,'fc_t5')}}}};this.cDisc=function(){cs='00010{7'+iQ(jw.I,8);kc();W("#fc_disc_pg").html(cL(445,"Loading More Chats..."))};this.tgl_disc=function(){mi();nf();fT=1;setTimeout("fc_chat.scroll_disc()",100)};this.scroll_disc=function(){var a=W('#fc_page_chat_wrapper')[0];a.scrollTop=a.scrollHeight-(hf?a.clientHeight+1:0)};var jI=function(k){if(jy==1){if(!k||k==a.pid[bc.uid]){jP(cL(446,'The Page Discussion has been Cleared'),1);jG(0);W("#fc_disc_pg").html('');jw.I=0;jA=0;bc.clr_disc()}}};this.clr_disc=function(){var a=W("#fc_disc_pghdr").detach();W('#fc_page_chat').html('').append(a);jw.I-=0;jw.I+=jA;jA=0;if(jw.I!=0)W("#fc_disc_pg").html(cU.chatbox.set_more_msgs(jw.I))};var jJ=function(u){W('span.fc_eye_'+u).css('display',(a.pt[u]=='1'?fi:fh))};var jK=function(u){return"&nbsp;<span class='fc_eye_"+u+"' style='display:"+(a.pt[u]=='1'?fi:fh)+"'><img title='"+bc.chat_params.viewing_text+"' src='"+fW+"eye.png'></span>"};var jL=function(){return(hU?hU:ie(U.session_cookie).split('>')[1])};this.gsn=function(){var n=jL();if(n.length>18){n=n.substr(0,18)+'..'}return n};var jM={css:"box-shadow:0px 0px 2px 2px rgba(0,0,0,0.5);-webkit-box-shadow:0px 0px 2px 2px rgba(0,0,0,0.5);padding:15px;border:1px solid black;background-color:#ddddE1;"+dG};this.infoChatBox;var jN=function(a,b){a=a+"&nbsp;&nbsp;<a href='javascript:void(0)' onclick ='fc_chat.infoChatBox.hide();return false'>"+cL(391,"Dismiss")+"</a>";bc.infoChatBox.fill(a);var c=(b?b:iW(W(gu),bc.infoChatBox.frame));bc.infoChatBox.show(null,c.y,c.x)};this.nickBox;var jO=function(u,k){msg=cL(419,"Enter your nickname")+": <br><br><form action='javascript:fc_chat.setNickname("+u+");'>"+"<INPUT TYPE=text style='"+jm.menu_item.input_css+"' value='' maxlength='50' id='fc_nickname' name='fc_nickname'></form>"+"<br> <a style='"+jm.menu_item.link_css+"' href='javascript:void(0)' onclick='fc_chat.nickBox.hide();return fc_chat.sign_in()'>"+cL(43)+"</a> &nbsp;&nbsp;<a style='"+jm.menu_item.link_css+"' href='javascript:void(0)' onclick ='fc_chat.nickBox.hide();return false'>"+cL(391,"Dismiss")+"</a>&nbsp;&nbsp;"+"<span id='fc_nickname_set' style='visibility:hidden;"+jm.menu_item.set_notice.css+"'>"+cL(421,'Nickname Set')+"</span>";var a=W("#fc_onlinelist");var b=W(document.body);if(k){a=b=W(gu)}bc.nickBox.fill(msg);bc.nickBox.frame.css({position:a.css("position")});var c={x:iT(a.css("left"))+20,y:iT(a.css("top"))+130};if(k){c=iW(W(gu),bc.nickBox.frame)}bc.nickBox.show(b,c.y,c.x)};this.infobox;var jP=function(a,k,b){if(!cM&&!hc){a=a+"&nbsp;&nbsp;<a href='javascript:void(0)' onclick ='fc_chat.infobox.hide();return false'>"+cL(391,"Dismiss")+"</a>";bc.infobox.fill(a,b);var c=iX(bc.infobox.frame);bc.infobox.show(null,c.y,c.x)}else if(!k){alert(a)}};var jQ=function(a){jP(a,null,1)};this.showInfo=jP;this.debug=jQ;var jR="<img style='height:16px;width:16px;' src='"+fW+"info.png'>&nbsp;";var jS="&nbsp;<img height='24px' onload='this.style.visibility=\"visible\";' style='visibility:hidden;width:24px;height:24px' ALIGN='absmiddle' src='"+fW+"ajax-loader.gif'>";var jT="&nbsp;&nbsp;<img height='16px' onload='this.style.visibility=\"visible\";' style='visibility:hidden;width:16px;height:16px'ALIGN='absmiddle' src='"+fW+"snakeloader.gif'>";var jU=function(k){if(k||!dT){var a="";if(cS&&cS.frame.css("visibility")=="hidden"){a=":not(#fc_t1a)"}W("div.fc_t1"+a).html(cL(159)+jT)}};var jV=function(a,b){return"<div style='margin-left:10px;margin-top:10px;font-size:12pt;'>&nbsp;"+a+(b?jT:"")+"</div>"};var jW=U.txt.t100+jT;var jX=function(k){if(k!=-1)W(".fc_ob").html(fc_chat.toggle_btn(1,k));W("div.fc_t1").html(jY(U.startText))};var jY=function(a){return"<a href='javascript:void(0)' style='text-decoration:none' onclick='return fc_chat.sign_in_start(this)'>"+a+"</a>"};this.sign_in_start=function(a){if(!nb){var n=0;if(W(a).parent().attr('id')=='fc_t1a')n=1;fc_chat.toggle_login(n);na=1}return false};var jZ;var ka=function(n){W('img.fc_status_bullet').attr({"src":(n==1?fW+"bullet_green.png":fW+"bullet_yellow.png")})};this.setPaused=function(){if(fY==1||this.tg_vid==1){id(bq,'1');bs=1}else{id(bq,'0');bs=0}};var kb=function(){var a=ie(U.data_cookie).split('&');if(iE.init==0){jGo.sound(W);W("#fc_sounds").fc_sound({basedir:Z+"flash/"});iE.on=a[1]-0;iE.a[0]=a[2]-0;iE.a[1]=a[3]-0;iE.a[2]=a[4]-0;iE.a[3]=a[5]-0;iE.init=1;if(jGo.browser.browser=='Opera'){var b=document.body;var c=document.documentElement;var d=(b.scrollHeight>=c.scrollHeight)?b:c;W("#fc_fla").css("top",getWindowTop(d,100))}}if(iB.init==0){if(U.trans_enabled){iB.on=a[10]-0;iB.cur_lang=a[11];iB.init=1}}};this.initialized=false;this.init=function(){fc_chat.inSession=1;fc_chat.uid='-1';if(!U.default_on){if(jGo.cookie.getCookie("fc_tglChat")!='1'){jGo.cookie.setCookie("fc_tglChat",'0',ig(),'/',U.domain)}}if(jGo.cookie.getCookie(U.data_cookie)==null||jGo.cookie.getCookie(U.data_cookie).split('&').length!=20){ij()}if(!X){cT=ih(12)}bu=(ih(16)==''?dd.font.size:(ih(16)-0));if(jGo.country_code!=''){ii(jGo.country_code,13)}var a=jGo.cookie.getCookie(U.user_cookie);if((a!=null)&&(a!="")&&(a!="0")){fc_chat.uid=a};if(fc_chat.uid=='-1'||fc_chat.uid==-1){fc_chat.inSession=0;if(U.require_login){jW=jY(U.startText)}}jGo.cookie.setCookie(U.user_cookie,fc_chat.uid,ig(),'/',U.domain);W(document).bind('mousemove',fc_chat.mtrack);fc_chat.browser=fc_chat.BrowserDetectBrowser();fc_chat.version=fc_chat.BrowserDetectVersion();if(fc_chat.browser=='Explorer'&&(fc_chat.version=='5'||fc_chat.version=='6')){hc=true;cU.config.layout=0}if(fc_chat.browser!='Explorer'&&fc_chat.browser!='Opera'){hd=true}if(fc_chat.browser=='Safari'||fc_chat.browser=='Mozilla'){he=true}if(fc_chat.browser=='Netscape'){ca=120;cm=35}if(fc_chat.browser=='Opera'){cm=20}if(fc_chat.browser=='Firefox'){cm=25;mT((fc_chat.version-0)>3&&(fc_chat.version-0)<8,fc_chat.version=='3.6')}if(jGo.cookie.getCookie("fc_browser")==null||jGo.cookie.getCookie("fc_browser")==""){jGo.cookie.setCookie("fc_browser",fc_chat.browser,ig(),"/",U.domain)}cH();cY();if(bS==bT){if(jGo.cookie.getCookie('fc_tglChat')=='0'){fc_chat.setTgl(0);fc_chat.obtn=cL(4);jW=cL(102)}if(jGo.cookie.getCookie('fc_pauseChat')=='1'&&!X){jW=cL(103)}if(X&&U.require_login)jW=cL(393,'Please sign in.');if(cZ&&!U.noshow){fc_chat.writeBox()}}fc_chat.initialized=true;if(jGo.domIsReady&&!jGo.loadCalled){setTimeout("fc_chat.loader()",250)}};this.getexp6=function(){return hc};this.BrowserDetectInit=function(){jGo.browser.init()};this.BrowserDetectBrowser=function(){return jGo.browser.browser};this.BrowserDetectVersion=function(){return jGo.browser.version};this.sendMsg=function(a,n){cs=a;kc(n)};var kc=function(n){try{cp.jsSendData(cs);cc=new Date().getTime()}catch(err){if(!n){jP(fK);if(fY==1){fl[fM]=fL}}}};var kd=jGo.iphone;var ke=function(a){if(cM){W(a).animate({scrollTop:a.scrollHeight})}};this.hideUBox=function(){cf=false;fc_chat.leavingUser();if(cM){if(this.uD!=null){if(this.uD.parentNode){this.uD.parentNode.removeChild(this.uD);if(hc){this.uIF.parentNode.removeChild(this.uIF)}}}this.uD=null};return false};this.posWin=function(){var a=document.body;var b=document.documentElement;var c=(a.scrollHeight>=b.scrollHeight)?a:b;if(!fO.fixed){fc_ex.posWin(fO,getWindowTop(c,bc.chat_window_height),getWindowLeft(c,ep),bc.oD,bc.optionsTop,gu)}};var kf;W(window).resize(function(){if(bc.m==1){clearTimeout(kf);kf=setTimeout(kg,50)}});var kg=function(){clearTimeout(kf);W(bc.tempIFrame).css({height:en()});W(bc.odiv).css({height:en()})};this.leavingUser=function(){var a="fc_uD";ce=false;if(cf==false){if(jGo.browser.browser=='Firefox'){if(hq.disabled!=true){hq.style.visibility='visible';hq.focus()}else{if(fY==1){$('fc_chat').focus()}}}if(bc.m==1){bc.odiv.style.display=fh}if(bc.IFO!=null){gR.style.display=fh}$(a).style.display=fh;if(jGo.browser.browser=='Opera'&&!bP){disableScroll(1)}if(hc){this.uIF.style.display=fh}}return true};this.changestatus=function(){cf=false;clearTimeout(hj);hj=setTimeout('fc_chat.leavingUser()',ca);return true};this.changebackstatus=function(){cf=true};this.posx2;this.posy2;this.mtrack=function(e){if(e==null)e=window.event;if(hd){cg=e.pageX;ch=e.pageY}else{cg=e.clientX;ch=e.clientY}posx2=e.clientX;posy2=e.clientY;if(bS==bT){if(a!=null&&a.idl[bc.uid]==1){fc_chat.chkIdl(cg,ch)}}else{if(window.parent.fc_chat.getIdl()){window.parent.fc_chat.markpos(cg,ch,posx2,posy2);window.parent.fc_chat.chkIdl(cg,ch)}}};this.markpos=function(a,b,c,d){cg=a;ch=b;posx2=c;posy2=d};this.chkIdl=function(a,b){var c=new Date().getTime();if((c-cd)>10000){cs='00001R';ck=a;cl=b;try{cp.jsSendData(cs);cc=new Date().getTime();cd=new Date().getTime()}catch(err){this.jsOnClose()}}};this.get=function(a){switch(a){case'l':return l;case'px':return bu;case'clr':return bv;case'current_room':return cP;case'cPU':return ga;case'mobile':return cM;case'login_lock':return ed;default:}};this.getPause=function(){return bs};this.setTgl=function(a){bt=a};var kh=function(b){var c=b.substr(15).split('<');var d=parseInt(b.substr(6,8),16);var e=parseInt(b.substr(4,2),16);var f=0;for(var i=1;i<6;i++){gd[i]=((d&hz[i])==hz[i]?'1':'0')}for(var i=9;i<32;i++){if((d&hz[i])==hz[i]){hy[i]='1';ge[i]=f;if(i==23||i==24){f++}f++}else{hy[i]='0'}}for(var i=1;i<5;i++){if((e&hz[i])==hz[i]){hy[i+31]='1';ge[i+31]=f;f++}else{hy[i+31]='0'}}var g=c[c.length-1];var h=iP(g);fZ=parseInt(b.charAt(0));cJ=b.charAt(14);if(fZ==parseInt(gc[0])){gc[0]='0'}if(gd[1]==gc[4]){gc[4]='0'}if(gd[3]==gc[6]){gc[6]='0'}var k=[26,27,12,13,14];for(var i=0;i<k.length;i++){if(hy[k[i]]=='1'){if(k[i]==26){cy=1;cB={}}if(k[i]==27){cy=1;mw()}kl(c[ge[k[i]]],k[i])}}k=[9,10,21,16,19,29,31,25,35];for(var i=0;i<k.length;i++){if(hy[k[i]]=='1'){if(lY==1&&lZ==0&&k[i]==21){mc=1;hJ[4]=0}kl(c[ge[k[i]]],k[i])}}if(hy[23]=='1'){gc[19]='0';kl(c[ge[23]+1],23)}if(hy[24]=='1'){kl(c[ge[24]+1],24)}if(hy[22]=='1'){lh(c[ge[22]])}if(hy[11]=='1'){if(gc[7]=='1'){gc[7]='0';l=false;fc_chat.tgl_info_panel();l=true}li(c[ge[11]],'0')}if(h){if(h.RM!=null){if(gd[2]==gc[5]&&gc[2]=='0'){cP=iT(h.RM);gc[5]='0'}if(iT(h.RM)+1==iT(gc[2])){eg=true;gc[2]='0'}}if(h.REQ){cs=iQ(2+cC.length)+'{1'+cC;kc()}if(h.Q!=null){jG(h.Q)}if(h.PI){jw=h.PI}if(h.NPC){gh=1;ks=1;W('#fc_t2').html("<div class='fc_tlk0 fc_tlk_cont' style='margin-bottom:3px'><b>"+cL(404,'You have unread messages in your Messages Box. Click "Open Full Chat" above to view.')+"</b></div>");fQ=true}if(h.RUP){if(W("span.fc_nc_count")[0]){lO(h.RUP.N)}if(h.RUP.R){lq(h.RUP.R)}}if(h.RTMP){returnBroadcastParams(h.RTMP)}if(h.RA){if(h.RA=='1'){fc_chat.eS2(2)}else if(h.RA=='2'){setTimeout("fc_chat.c_g2()",50);$('fc_rpass'+lw).disabled=false;clearTimeout(lx);lx=setTimeout("fc_chat.clearRoompassTxt('"+lw+"')",7000)}else if(h.RA=='3'){fl[fM]=fL}}if(h.LD){if(h.LD=='1'){fc_chat.errString(3)}else if(h.LD=='2'){fc_chat.errString(4)}else if(h.LD=='3'){fc_chat.loginAfterServerValidation()}}if(h.SMS){var m=h.SMS.split('/');for(var i=1;i<m.length-1;i+=3){}}if(h.CMDS){var j=h.CMDS;for(var i=0;i<j.length;i++){if(j[i].TYP=='CLRRM'){clearRoom(iT(j[i].ID))}if(j[i].TYP=='CNSRRM'){censor(iT(j[i].ID),j[i].IND)}if(j[i].TYP=='CNSRPG'){censorPG(iT(j[i].ID),j[i].IND)}if(j[i].TYP=='CLRPG'||j[i].TYP=='CLRALLPG'){jI(j[i].ID)}}}if(h.PROF){fc_ex.clbkUP(ee,h.PROF.U,h.PROF.PR,bz)}if(h.UPROF){fc_ex.clbkUP(ee,h.UPROF,'',bz)}if(h.TS){ek=h.TS}if(h.VI){el=h.VI}if(h.GL){if(h.GL.G=='0'){dX=true}var n=h.GL.N.split('&');hU=iM(n[0]);bc.uid=h.GL.U;if(bp!=null){id(U.user_cookie,bc.uid);id(U.session_cookie,bp)}}if(h.NO){fP=h.NO-0}if(h.USR){kM(h.USR)}}render_users(gd[2]);if(hy[15]=='1'){var o=gd[2];if(gd[4]=='1'){gq[2]=0;gs[2]=0;delete go;go=[];bc.img2C=0;for(var p in a.pe){if(a.pe.hasOwnProperty(p)){delete a.pe[p]}}gz[fM]='';if(gm[7]!=0){clearTimeout(hm);hm=null;l=false;fc_chat.cP(0,7);l=true}o='1'}if(gs[2]>=U.room_message_limit&&gm[7]==0&&bD!=1){var s=gA.scrollTop;if(gA.scrollHeight-s<gA.clientHeight+50){fc_ex.cropMsgs(gz,'p',7,fS,gq[2]);gs[2]=U.min_room_messages-0;delete go;go=[];gp[7]=g_p(2)}}var q=1;if(hy[17]=='1'){gg=c[ge[17]];q=0}ky(c[ge[15]],hy[16],o,q,gd[1])}else{if(hy[17]=='1'){gg=c[ge[17]]}if(gd[2]=='1'&&gg>0){gp[7]=g_p(2);if(!U.no_chat_history){gz[fM]=getPrevious('p',7)}if(bu){fc_chat.c_px(null,bu)}}if(gd[2]=='1'){if(fk==1){var r='';kK(7,r)}ho=setTimeout("fc_chat.showdiv(2)",20)}}if(gc[2]=='0'){if(hy[18]=='1'){if(gd[5]=='1'){gq[1]=0;gs[1]=0;delete gn;gn=[];bc.img1C=0;for(var p in a.ge){if(a.ge.hasOwnProperty(p)){delete a.ge[p]}}gw[fM]='';if(gm[6]!=0){clearTimeout(hl);hl=null;l=false;fc_chat.cP(0,6);l=true}gf='1'}if(gs[1]>=U.room_message_limit&&gm[6]==0){var s=gx.scrollTop;if(gx.scrollHeight-s<gx.clientHeight+50){fc_ex.cropMsgs(gw,'g',6,fS,gq[1]);gs[1]=U.min_room_messages-0;delete gn;gn=[];gp[6]=g_p(1)}}var q=1;if(gf=='0'){gf=gd[2]}if(hy[20]=='1'){gl=c[ge[20]];q=0}if(cR()){lv()}else{kA(c[ge[18]],hy[19],gf,q)}}else{if(hy[20]=='1'){gl=c[ge[20]]}if(eg||gd[2]=='1'){var t='';gp[6]=1;if(gl>0){gp[6]=g_p(1);if(!U.no_chat_history){t=getPrevious('g',6)}}if(!cR()){kK(6,t);hn=setTimeout("fc_chat.showdiv(1)",20)}else{lv()}}}gf='0'}eg=false;if(hy[23]=='1'){if(gm[7]!=0){applyPageMsgs(c[ge[23]],'fc_p',7,gM,gA)}}if(hy[24]=='1'&&gc[20]=='1'){gc[20]='0';if(gm[6]!=0){applyPageMsgs(c[ge[24]],'fc_g',6,gL,gx)}}if(hy[28]=='1'){jB(c[ge[28]],hy[29],jw.L)}if(hy[30]=='1'){jB(c[ge[30]],hy[31],1,1)}if(jw.L=='1'){if(!jy)jE();W('#fc_page_chat_loading').remove();jy=1;jw.L='0'}if(a.nm[bc.uid]&&bp!=null){id(U.session_cookie,bp+'>'+a.nm[bc.uid]+'>'+a.at[bc.uid])}ct="";if(hy[9]=='1'){var u=c[ge[9]].split('>');for(var i=0;i<u.length-1;i=i+2){a.of[u[i]]='0'}}if(gt){disRmC();gt=false}if(bM==1){kj(fP);if(gh==0){fQ=false}ka(1)}bM=0;if(W("span.fc_online_count")[0]){W("span.fc_online_count").html("("+fP+")")}if(fZ==3){ku()}unLockDom();if(gh!=0){lQ()}if(fZ==3&&eZ==1&&U.show_settings_on_open){if(ih(17)==''){fc_chat.tgl_options(1000)}ii(1,17);eZ=0}if(gd[2]=='1'){lI(1)};if(hP==0&&iT(cJ)>0){hP=1;W.ajax({url:ba+'js/fcchat.admin.min.js',success:fc_chat.eval_script,dataType:'text'})};if(dS){if(hO){window.location.replace(bb+"Mod.html");hR=true}if(X){if(cU.config.show)cS.show();window['clear_popup_header']();fc_chat.open_chat_box()}dS=false}};this.hideChatPanel=function(){gu.style.display=fh};this.showChatPanel=function(){setTimeout("fc_chat.showChat()",2000)};this.showChat=function(){gu.style.display=fg};var ki=(cU.config.mode==0&&!cU.config.noclose?"<a id='fc_close_toolbar' style='"+cV.icon_tray.hide_icon.css+"' "+bW+"hideToolbar();'>X</a>&nbsp;&nbsp;":"");var kj=function(a){jGo.hooks.doHooks('fcchat_enable_toolbar_fn');var b=bd.control.info_box.linebreak;var c="<span class='fc_abbtn'><a "+bW+"tgl_online(";var d=")'>"+cL(3)+"</a></span> <span class='fc_online_count fc_info_text'>("+a+")</span>&nbsp;&nbsp;&nbsp;";var e="<span class='fc_abbtn'><a "+bW+"tgl_friends(";var f=")'>"+cL(269,"Friends")+"</a></span>&nbsp;&nbsp;&nbsp;";var g="<span class='fc_abbtn'><a "+bW+"tgl_messages(";var h=")'>"+cL(266,"Check Messages")+"</a></span>&nbsp;<span class='fc_nm_count fc_info_text'>("+gh+" "+cL(267,"new")+")</span>&nbsp;&nbsp;&nbsp;";var i="<span style='display:"+fJ+"' class='fc_abbtn'><a "+(open_chatrooms_in_window&&U.skip_roomlist?"target=_blank href='"+bg+"?rmid="+(U.default_room_index+5)+"' onclick='fc_chat.openPopup(":bW+"tgl_chatrooms(");var j=")'>"+cL(405,"Chat Rooms")+"</a></span>&nbsp;&nbsp;&nbsp;";var k="<span style='display:"+fJ+"' class='fc_nc_count fc_info_text'>"+cL(367,"Chats")+" ("+gj+" "+cL(267,"new")+")</span>&nbsp;";W("#fc_t1").html(c+d+b+e+f+b+g+h+b+i+j+b+k);W("#fc_t1a").html(ki+c+"1"+d+e+"1"+f+g+"1"+h+i+"1"+j+k)};var kk=function(a,k){jGo.hooks.doHooks('fcchat_disable_toolbar_fn');var b='';if(k)b=bd.control.info_box.linebreak;var c="<span class='fc_abbtn_dis'><a class='fc_abbtn_disa'";var d=c+" href='javascript::void(0";var e=")'>"+cL(3)+"</a></span> <span class='fc_online_count fc_info_text'>("+a+")</span>&nbsp;&nbsp;&nbsp;";var f=c+" href='javascript::void(0";var g=")'>"+cL(269,"Friends")+"</a></span>&nbsp;&nbsp;&nbsp;";var h=c+" href='javascript:void(0";var i=")'>"+cL(266,"Check Messages")+"</a></span>&nbsp;<span class='fc_nm_count fc_info_text'>("+gh+" "+cL(267,"new")+")</span>&nbsp;&nbsp;&nbsp;";var j=c+" style='display:"+fJ+"' href='javascript::void(0";var l=")'>"+cL(405,"Chat Rooms")+"</a></span>&nbsp;&nbsp;&nbsp;";var m="<span style='display:"+fJ+"' class='fc_nc_count fc_info_text'>"+cL(367,"Chats")+" ("+gj+" "+cL(267,"new")+")</span>&nbsp;";return ki+d+e+b+f+g+b+h+i+b+j+l+b+m};var kl=function(b,c){var q=b.split('>');switch(c){case 14:for(var i=0;i<q.length-1;i=i+3){if(a.nm[q[i]]==null){createURec(q[i])}kp(q,i,1,0);a.b[q[i]]=q[i+2];cw[q[i]]='1';if(a.u[q[i]]=='0'){ct+=q[i]+'&';a.u[q[i]]='1'}}break;case 12:case 13:for(var i=0;i<q.length-1;i=i+2){if(a.nm[q[i]]==null){createURec(q[i])}a.bg[q[i]]=q[i+1];if(a.u[q[i]]=='0'){ct+=q[i]+'&';a.u[q[i]]='1'}}break;case 10:var d=iP(b);for(var i=0;i<d.length;i++){var e=d[i].u;if(a.nm[e[0]]==null){createURec(e[0])}a.o[e[0]]='1';kp(e,0,1,0);a.d[e[0]]=e[2];a.g[e[0]]=iT(e[3]);kr(e,0,4,0);kn(e[0],d[i].i);if(a.u[e[0]]=='0'){ct+=e[0]+'&';a.u[e[0]]='1'}}break;case 9:var d=iP(b);for(var i=0;i<d.length;i++){var e=d[i].u;if(a.nm[e[0]]==null){createURec(e[0])}if(e[2]=='1'){a.o[e[0]]='1';fP++}else if(e[2]=='0'){a.o[e[0]]='0';a.d[e[0]]='0';a.g[e[0]]=0;a.t[e[0]]='0';a.pt[e[0]]='0';a.pid[e[0]]='0';fP--}a.of[e[0]]='1';kr(e,0,3,0);kp(e,0,1,0);a.cc[q[i]]=q[i+2];kn(e[0],d[i].i);if(a.u[e[0]]=='0'){ct+=e[0]+'&';a.u[e[0]]='1'}}break;case 21:case 26:case 27:for(var i=0;i<q.length-1;i=i+5){if(a.nm[q[i]]==null){createURec(q[i])}if(c==26){cB[q[i]]=1}if(c==27){mx([q[i]],1)}kp(q,i,1,0);a.d[q[i]]=cI;a.o[q[i]]=q[i+2].charAt(0);a.g[q[i]]=iT(q[i+2].substr(1));kr(q,i,3,0);a.cc[q[i]]=q[i+3].substr(3);km(q[i],q[i+4]);if(a.u[q[i]]=='0'){ct+=q[i]+'&';a.u[q[i]]='1'}}break;case 16:case 19:case 29:case 31:case 35:case 23:case 24:case 25:for(var i=0;i<q.length-1;i=i+3){if(a.nm[q[i]]==null){createURec(q[i])}kr(q,i,1,0,1);a.cc[q[i]]=q[i+1].substr(3);km(q[i],q[i+2],1);if(a.u[q[i]]=='0'){ct+=q[i]+'&';a.u[q[i]]='1'}}break;default:jP('bad case')}};var km=function(u,s,k){var b;try{b=(s!="{}"?W.parseJSON(jb(s,'"')):{})}catch(e){}if(b.AV!=null){a.av[u]=b.AV}if(!k){if(b.RTMP){a.vsp[u]=b.RTMP.substr(0,1);a.vcu[u]=b.RTMP.split("_")[1];a.vs[u]=b.RTMP.substr(b.RTMP.indexOf("_",2)+1)}else{a.vs[u]=''}}if(b.TL!=null){a.ttl[u]=iM(b.TL)}if(b.TAG!=null){a.tag[u]=iM(b.TAG)}if(b.NK!=null){a.nk[u]=iM(b.NK)}if(b.PG!=null){a.pid[u]=b.PG;jH(u)}};var kn=function(u,b,k){if(b.a!=null){a.av[u]=b.a}if(!k){if(b.b){a.vsp[u]=b.b.s;a.vcu[u]=(b.b.t?b.b.t:'');a.vs[u]=b.b.r}else{a.vs[u]=''}}if(b.c!=null){a.cc[u]=b.c}if(b.t!=null){a.ttl[u]=iM(b.t)}if(b.tg!=null){a.tag[u]=iM(b.tg)}if(b.n!=null){a.nk[u]=iM(b.n)}if(b.pg!=null){a.pid[u]=b.pg;jH(u)}};var ko=function(u){return(a.vs[u]!=''&&a.vsp[u]==1?'inline':fh)};var kp=function(q,i,n,k){var b=q[i+n].substr(k).split('&');var c=iM(b[0]);a.nm[q[i]]=c;if(b.length>1){a.at[q[i]]=b[1]}a.snm[q[i]]=kq(c,a.at[q[i]])};this.sNm=kp;var kq=function(n,t){if(t==''&&n.indexOf('('+cL(1))!=-1){n=n.substr(0,n.indexOf('('+cL(1))-1)}if(n.length>16){n=n.substr(0,16)+'..'}return n};var kr=function(q,i,k,n,x){var b=parseInt(q[i+k].substr(n,3),16);a.ac[q[i]]=(b&3)+'';if(x)a.o[q[i]]=((b&4)==4?'1':'0');a.t[q[i]]=((b&8)==8?'1':'0');a.ty[q[i]]=((b&16)==16?'1':'0');a.idl[q[i]]=((b&32)==32?'1':'0');a.pr[q[i]]=((b&64)==64?'1':'0');a.bs[q[i]]=((b&128)==128?'1':'0');a.pt[q[i]]=((b&256)==256?'1':'0')};function createURec(u){a.id[u]=u;a.nm[u]='';a.snm[u]='';a.at[u]='';a.o[u]='0';a.ac[u]='0';a.d[u]='0';a.g[u]=0;a.t[u]='0';a.cc[u]='';a.ty[u]='0';a.idl[u]='0';a.pr[u]='0';a.pro[u]='0';a.ttl[u]='';a.ttlo[u]='';a.nk[u]='';a.nko[u]='';a.tag[u]='';a.tago[u]='';a.av[u]='';a.avo[u]='';a.acl[u]=iV(u);a.vsp[u]='1';a.vcu[u]='';a.vs[u]='';a.vso[u]='';a.vsw[u]='';a.wl[u]='0';a.vsw2[u]='';a.wl2[u]='0';a.b[u]='0';a.bg[u]='0';a.bs[u]='0';a.gre[u]='';a.pve[u]='';a.msgC[u]=0;a.msgB[u]=0;a.pge[u]='';a.s[u]='00000000000';a.u[u]='0';a.of[u]='0';a.nw[u]='0';a.pt[u]='0';a.pid[u]='0'};this.toggleAlerts=function(){if(!l){fc_ex.toggleAlerts()}};var ks=0;var kt=function(){if(fZ==3||lX==1){ks=0;cs='00001p';kc()}else{ks=1}};var ku=function(){if(ks==1)kt()};var kv=0;var kw=-1;var kx=-1;var ky=function(b,c,d,e,f){var v;var g;var z;var h='30px';msgto='<span style="font-style:italic" class="fc_msgto_';var j=((d=='1'&&gg>50&&!U.no_chat_history)?'<div id="fc_pPg" style="display:block; width:100%; z-Index:'+(fS+202)+';'+dk+'margin-left:5px"><a href="javascript:void" onclick="fc_chat.cP(1,7);return false">&laquo;&laquo; '+cL(111)+' 50</a></div>':'');if(d=='1'){j+="<IMG id='fc_img7' SRC='"+Z+"trans.gif' height=1 width="+h+" style='"+dk+"'>"}var k;var l;var m=b.split('>');for(var i=m.length-6;i>0;i=i-6){if(m[i+1]==m[i+2]){m[i]=bc.uid}if(c=='0'){if(a.nm[m[i]]==null){createURec(m[i]);a.nw[m[i]]='1'}if(a.of[m[i]]=='0'){a.o[m[i]]='1';a.s[m[i]][0]='1'}}kp(m,i,1,0);m[i+1]=a.snm[m[i]];var n=m[i+2].split('&');var o='';if(n.length>1){o=n[1]}m[i+2]=iM(kq(n[0],o));var p=bD&&kE[0]!=-1;var q=gq[2]==0||(p&&m[i]!=kE[0])||(!p&&kw!=m[i]);kE[0]=-1;var r=m[i+1]==m[i+2];kw=(r?-1:m[i]);z=c_i(m[i],1,0);if(d!='1'){p=kD&&kE[1]!=-1;var s=kv==0||(p&&m[i]!=kE[1])||(!p&&kx!=m[i]);kE[1]=-1;var t=(s?'1px 0px 3px 37px':'0px 0px 2px 37px');if(r){t='1px 0px 3px 0px'}var u=(s&&!r?'-37px':'0px');kx=(r?-1:m[i]);v=$('fc_t2');if(!fQ){v[fM]=""}l=' <i class="fc_aside" style="'+dp+(f=='1'?fj:bE)+'">'+iq(m[i+4],(f=='1'?1:0))+'</i>';var w=1;var x='';var y='';var A='';var B=dd.private_chat_panel.msg_interrupt;if(!r&&kD&&bc.cU!=0&&m[i]!=bc.uid&&m[i]!=bc.cU){x=bd.new_messages_box.msg_interrupt.css;if(s){y='<span class="fc_pmsg_inrpt" style="float:right;margin-right:10px;"> <a style="'+bd.new_messages_box.msg_interrupt.respond_css+'" href="JavaScript:void()" onclick="fc_chat.talk('+m[i]+');return false;">'+cL(423,"Respond")+'</a>&nbsp;&nbsp;<a class="fc_close_msg" style="'+bd.new_messages_box.msg_interrupt.close_css+'" href="JavaScript:void()" onclick="return fc_chat.remove_msg(this,'+m[i]+')">x</a></span>';A='<br class="fc_pmsg_brk">'}}var C='<div class="fc_tlk'+(r?0:m[i])+' fc_tlk_cont" style="'+x+';padding:'+t+';text-indent:'+u+';">';var j='';if(r){j=C+'&nbsp;<div class="fc_t20" style="'+fj+';">'+md(16)+jR+'</div> '+kC(s)+ir(m[i+5],1,8,kv,1,s)+l+'</div>';gh++}else{var D='<span class="fc_pmu fc_pmu'+m[i+3]+'" '+(!s?'style="display:none"':'')+'>'+lM(m[i],null,0,1,1)+' <div class="fc_t2'+m[i]+'" style="'+fj+'">'+kR(m[i])+'</div>: </span>';var E=kC(s)+y+A+ir(m[i+5],1,8,kv,null,s)+l+'</div>';if(m[i]==bc.uid){w=0;j=C+'&nbsp;'+D+msgto+m[i+3]+'">('+cL(115)+' '+m[i+2]+kH(m[i+3],1)+')</span> '+E;mx(m[i+3])}else{j=C+'&nbsp;'+D+E;gh++;mx(m[i]);kW(m[i],1)}}kv++;scr2(v,W('#fc_view_msgs')[0],3,j);fQ=true;if(f!='1'&&fY=='0'){iF(1);if(w){mU=0;fc_chat.fade_new_msgs()}}if(w&&cU.config.show){if(cS.minimized){cS.toggle()}cS.show()}}if(fZ>1&&gc[5]=='0'){l=' <i class="fc_aside" style="'+dn+(d=='0'?bE:fj)+'">'+iq(m[i+4],d)+'</i>';z=c_i(m[i],1,2);var F=(m[i+1]==m[i+2]?'0':m[i]);if(q){if(a.pe[F]!=null){a.pe[F]+='fc_pm'+gq[2]+'&'}else{a.pe[F]='fc_pm'+gq[2]+'&'}}var G=(40+U.avatar_sz-18);var t=(q?'1px 0px 3px '+G+'px':'0px 0px 2px '+G+'px');if(r){t='1px 0px 3px 0px'}var u=(q&&!r?'-'+G+'px':'0px');if(d=='0'&&bR!=2){if(gq[2]!='0'){g=$('fc_pmo'+(gq[2]-1))}x='transparent;';y='';A='';if(!r&&bD&&mB!=0&&m[i]!=bc.uid&&m[i]!=mB){x=B.background;if(q){y='<span class="fc_pmsg_inrpt" style="float:right;margin-right:10px;"> <a style="'+B.respond_css+'" href="JavaScript:void(0)" onclick="fc_chat.send_to('+m[i]+');return false;">'+cL(423,"Respond")+'</a>&nbsp;&nbsp;<a class="fc_close_msg" style="'+B.close_css+'" href="JavaScript:void(0)" onclick="return fc_chat.remove_msg(this,'+m[i]+')">x</a></span>';A='<br class="fc_pmsg_brk">'}}v=document.createElement('div');W(v).addClass("fc_"+(r?0:m[i])+" fc_chat_container fc_prmsg").attr('id','fc_pmo'+gq[2]).css({display:fg,'margin-left':'5px',padding:t,'text-indent':u,'background-color':x,align:'top',width:bc.chat_container_width+'px','z-index':fS+202});if(r){v[fM]=' <b><div class="fc_0" id=fc_pm'+gq[2]+dl+'>'+md(16)+jR+'</div></b> '+kC(q)+ir(m[i+5],bc.img2C,7,gq[2],1,q)+l}else{var D='<span class="fc_pmu fc_pmu'+m[i+3]+'" '+(!q?'style="display:none"':'')+'>'+lM(m[i],7)+' <div id=fc_pm'+gq[2]+dl+'>'+z+'</div>: </span>';var E=kC(q)+y+A+ir(m[i+5],bc.img2C,7,gq[2],null,q)+l;if(m[i]==bc.uid){v[fM]=D+msgto+m[i+3]+'">('+cL(115)+' '+m[i+2]+kH(m[i+3])+')</span> '+E}else{v[fM]=D+E}}if(bc.img2C==0&&bw==1){by=1}if(bu){v=kG(v,null)}scr(gz,gA,2,v,g,1);if(bc.img2C==0&&bw==1){bc.img7.style.width=(iT(gA.style.width)+11)+'px';bc.img2C=1}iF(1);bw=0;by=0}else{j=j+'<div class="fc_'+(r?0:m[i])+' fc_chat_container fc_prmsg" id="fc_pmo'+gq[2]+'" style="padding:'+t+';text-indent:'+u+';'+ex+'">';var H=' <b><div ';if(r){j=j+H+' id=fc_pm'+gq[2]+dl+'>'+md(16)+jR+'</div></b> '+kC(q)+ir(m[i+5],1,null,null,1,q)+l+'</div>'}else{var D='<span class="fc_pmu fc_pmu'+m[i+3]+'" '+(!q?'style="display:none"':'')+'>'+lM(m[i],7)+' <div id=fc_pm'+gq[2]+dl+'>'+z+'</div>: </span>';var E=kC(q)+ir(m[i+5],1,null,null,null,q)+l+'</div>';if(m[i]==bc.uid){j=j+D+msgto+m[i+3]+'">('+cL(115)+' '+m[i+2]+')</span> '+E}else{j=j+D+E}}if(e=='1'){gg++}}gq[2]++;gs[2]++}}if(d=='1'){kw=-1;j=(fk==1?j+kI():j);gp[7]=g_p(2);hi[2]=gA.scrollHeight;if(bw==1){bc.img2C=1;bw=0;h=(iT(gA.style.width)+11)+'px'}if(hf){gz.style.display=fh}gz[fM]=j;if(bu){fc_chat.c_px(null,bu)}if(bv){}bc.img7=$('fc_img7');ho=setTimeout("fc_chat.showdiv(2)",20)}else{if(bR==2&&fZ>1){if(bc.img2C==0&&bw==1){by=1}if(bu){j=kG(null,j)}scr2(gz,gA,2,j);if(bc.img2C==0&&bw==1){bc.img7.style.width=(iT(gA.style.width)+11)+'px';bc.img2C=1}bw=0;by=0}}kt()};var kz=-1;var kA=function(b,c,d,e){var v;var f;var z;var g=' style="'+fj+';'+dk+'"';var h='<div style="'+fj+';padding-left:22px">';var j='30px';var k=((d=='1'&&gl>50&&!U.no_chat_history)?'<div id="fc_gPg" style="display:block; width:100%; z-Index:'+(fS+202)+';'+dk+'margin-left:5px"><a href="javascript:void" onclick="fc_chat.cP(1,6);return false">&laquo;&laquo; '+cL(111)+' 50</a></div>':'');if(d=='1'){k+="<IMG id='fc_img6' SRC='"+Z+"trans.gif' height='1px' width="+j+" style='"+dk+"'>"}var l;var m=b.split('>');for(var i=m.length-4;i>0;i=i-4){if(c=='0'){if(a.of[m[i]]=='0'){a.o[m[i]]='1';a.s[m[i]][0]='1'}}kp(m,i,1,0);m[i+1]=a.snm[m[i]];z=c_i(m[i],1,1);l=' <i class="fc_aside" style="'+dn+(d=='0'?bE:fj)+'">'+iq(m[i+2],d)+'</i>';var n=!(gq[1]!=0&&kz==m[i]);kz=m[i];if(n){if(a.ge[m[i]]!=null){a.ge[m[i]]+='fc_gm'+gq[1]+'&'}else{a.ge[m[i]]='fc_gm'+gq[1]+'&'}}var o='';var p='';if((a.ac[m[i]]!='2'&&cJ=='1')||cJ=='2'){o=' <span id="censor'+gq[1]+'"'+dm+'>'+bX+'deleteMsg(0,'+gq[1]+',\''+bG[cP].nm+'\')">'+cL(240)+'</a> </span> ';p='onmouseover="fc_chat.toggleCensor(1,'+gq[1]+')" onmouseout="fc_chat.toggleCensor(0,'+gq[1]+')"'}var q=(40+U.avatar_sz-18);var r=(n?'1px 0px 3px '+q+'px':'0px 0px 2px '+q+'px');var s=(n?'-'+q+'px':'0px');if(d=='0'&&bR!=2){if(gq[1]!='0'){f=$('fc_gmo'+(gq[1]-1))}v=document.createElement('div');W(v).addClass("fc_"+m[i]+" fc_chat_container").attr('id','fc_gmo'+gq[1]).css({display:fg,'margin-left':'5px',padding:r,'text-indent':s,'background-color':'transparent',align:'top',width:bc.chat_container_width+'px','z-index':(fS+202)});if(p!='')W(v).onEvent('mouseover',fc_chat,'toggleCensor',1,gq[1]).onEvent('mouseout',fc_chat,'toggleCensor',0,gq[1]);v[fM]=(n?lM(m[i],6)+' <div id=fc_gm'+gq[1]+g+'>'+z+'</div>: ':'')+kC(n)+ir(m[i+3],bc.img1C,6,gq[1],null,n)+l+o;if(bc.img1C==0&&bw==1){by=1}if(bu){v=kG(v,null)}scr(gw,gx,1,v,f,1);if(bc.img1C==0&&bw==1){bc.img6.style.width=(iT(gx.style.width)+11)+'px';bc.img1C=1}iF(0);bw=0;by=0}else{k=k+'<div class="fc_'+m[i]+' fc_chat_container" id="fc_gmo'+gq[1]+'" '+p+' style="padding:'+r+';text-indent:'+s+';'+ex+'">'+(n?lM(m[i],6)+' <div id=fc_gm'+gq[1]+g+'>'+z+'</div>: ':'')+kC(n)+ir(m[i+3],1,null,null,null,n)+l+o+'</div>';if(e=='1'){gl++}}gq[1]++;gs[1]++}if(d=='1'){kz=-1;k=k+kI();gp[6]=g_p(1);hi[1]=gx.scrollHeight;if(bw==1){bc.img1C=1;bw=0;j=(iT(gx.style.width)+11)+'px'}if(hf){gw.style.display=fh}gw[fM]=k;if(bu){fc_chat.c_px(null,bu)}if(bv){}bc.img6=$('fc_img6');hn=setTimeout("fc_chat.showdiv(1)",20)}else{if(bR==2){if(bc.img1C==0&&bw==1){by=1}if(bu){k=kG(null,k)}scr2(gw,gx,1,k);if(bc.img1C==0&&bw==1){bc.img6.style.width=(iT(gx.style.width)+11)+'px';bc.img1C=1}bw=0;by=0}}};var kB=-1;function applyPageMsgs(b,d,k,e,f){var g=0;var z;var h='';var j='';var c='';var l=4;if(k==6){if(gn[gm[k]]==null){gn[gm[k]]=b}}else{if(go[gm[k]]==null){go[gm[k]]=b}l=6}if(gm[k]<(gp[k]-1)){c='<a href="javascript:void" onclick="fc_chat.cP(1,'+k+');return false">&laquo;&laquo; '+cL(111)+' 50</a>&nbsp;&nbsp;&nbsp;'}if(gm[k]!=1){j='<a href="javascript:void" onclick="fc_chat.cP(-1,'+k+');return false">'+cL(113)+' 50 &raquo;&raquo;</a>&nbsp;&nbsp;&nbsp;'}var m=b.split('>');if(m.length-4>80){h='<div id="'+d+'Pg3" style="display:block; width:'+ew+'px; z-Index:'+(fS+202)+';'+dk+'margin-left:5px;font-weight:bold">'+cL(116)+' '+gm[k]+'&nbsp;&nbsp;&nbsp;'+c+j+'<a href="javascript:void" onclick="fc_chat.cP(0,'+k+');return false">'+(k==6?cL(117):cL(271,'New Messages'))+' &raquo;&raquo;&raquo;</a></div><br>'}for(var i=m.length-l;i>0;i=i-l){if(m[i+1]!=m[i+2]){kp(m,i,1,0);z=c_i(m[i],1,k)}m[i+1]=a.snm[m[i]];var n=m[i+2].split('&');var o='';if(n.length>1){o=n[1]}m[i+2]=iM(kq(n[0],o));var p=(k==7&&m[i+1]==m[i+2]);var q=!(g!=0&&kB==m[i]);var r=(40+U.avatar_sz-18);var s=(q?'1px 0px 3px '+r+'px':'0px 0px 2px '+r+'px');if(p){s='1px 0px 3px 0px'}var t=(q&&!p?'-'+r+'px':'0px');kB=(p?-1:m[i]);var u='" class="fc_'+(p?0:m[i])+' fc_chat_container '+(k==7?'fc_pgmsg':'')+'" style="padding:'+s+';text-indent:'+t+';'+ex+'">';var v=' <div ';if(k==6){if(q){if(a.gpe[m[i]]!=null){a.gpe[m[i]]+='fc_gpm'+g+'&'}else{a.gpe[m[i]]='fc_gpm'+g+'&'}}var w='';var x='';if((a.ac[m[i]]!='2'&&cJ=='1')||cJ=='2'){w=' <span id="pcensor'+g+'"'+dm+'>'+bX+'deleteMsg('+gm[6]+','+g+',\''+bG[cP].nm+'\')">'+cL(240)+'</a> </span> ';x='onmouseover="fc_chat.toggleCensor(1,'+g+',1)" onmouseout="fc_chat.toggleCensor(0,'+g+',1)"'}h=h+'<div '+x+' id="'+d+'pmo'+g+u+(q?lM(m[i],k)+v+' id="'+d+'pm'+g+'"'+dl+'>'+z+'</div>: ':'')+kC(q)+ir(m[i+3],1,null,null,null,q)+' <i class="fc_aside" style="'+dn+fj+'">'+iq(m[i+2],1)+w+'</i></div>'}else{if(q){if(a.ppe[m[i]]!=null){a.ppe[m[i]]+='fc_ppm'+g+'&'}else{a.ppe[m[i]]='fc_ppm'+g+'&'}}h=h+'<div id="'+d+'pmo'+g+u;var y=' <i class="fc_aside" style="'+dn+fj+'">'+iq(m[i+4],1)+'</i>';var A='<span class="fc_pmu fc_pmu'+m[i+3]+'" '+(!q?'style="display:none"':'')+'>'+lM(m[i],k)+v+' id="'+d+'pm'+g+'"'+dl+'>'+z+'</div>: </span>';if(p){h=h+v+' id="'+d+'pm'+g+'"'+dl+'>'+md(16)+jR+'</div></b> '+kC(q)+ir(m[i+5],1,null,null,1,q)+y+'</div>'}else if(m[i]==bc.uid){h=h+A+'<span style="font-style:italic" class="fc_msgto_'+m[i+3]+'">('+cL(115)+' '+m[i+2]+')</span> '+kC(q)+ir(m[i+5],1,null,null,null,q)+y+'</div>'}else{h=h+A+kC(q)+ir(m[i+5],1,null,null,null,q)+y+'</div>'}}g++}h=h+'<br><div id="'+d+'Pg3" style="display:block; width:'+ew+'px; z-Index:'+(fS+202)+';'+dk+'height:27px;margin-left:5px;font-weight:bold">'+cL(116)+' '+gm[k]+'&nbsp;&nbsp;&nbsp;'+c+j+'<a href="javascript:void" onclick="fc_chat.cP(0,'+k+');return false">'+(k==6?cL(117):cL(271,'New Messages'))+' &raquo;&raquo;&raquo;</a></div>';hi[k]=f.scrollHeight;if(hf){e.style.display=fh}e[fM]=h;if(bu){fc_chat.c_px(null,bu)}if(bv){}if(k==6){hn=setTimeout("fc_chat.showdiv(6)",20)}else{ho=setTimeout("fc_chat.showdiv(7)",20)}};var kC=function(a){return(a?"":"")};this.startblock;var kD=0;var kE=[-1,-1];this.filt=function(w,k){var c=(k?bc.cU:ga);var d=(k?1:0);fc_chat.startblock=true;kE[d]=0;if(k){kD=(w==1?1:0);W('#fc_conv_selector').html((w==1&&c>0?cL(424,"Conversation with ")+a.snm[c]:cL(425,"All Conversations"))+":");W('#fc_talk_filter').html("<a style='"+bd.new_messages_box.text.link_css+"' "+bW+"filt("+(w?0:1)+",1)'>"+(w?cL(426,'Filter On'):cL(427,'Filter Off'))+"</a>")}else{if(ga=='0'&&mB!='0'&&w!=1){W("div.fc_current_chatee").remove();mB='0'}$('fc_flt')[fM]=(w==1?"<a style='position:absolute;display:block;top:0px;left:0px' "+bW+"filt(0);'><span class='fc_e fc_e_flt2'></span></a>":"<a style='position:absolute;display:block;top:0px;left:0px' "+bW+"filt(1);'><span class='fc_e fc_e_flt'></span></a>");bD=(w==1?1:0);W('#fc_msg_selector').html((w==1&&c>0?cL(424,"Conversation with ")+a.snm[c]:cL(425,"All Conversations"))+":")}if(c<=0){w=0}var e=(gm[7]==0?'fc_prmsg':'fc_pgmsg');W((!k?"div.fc_chat_container."+e:"div.fc_tlk_cont")).each(function(){jGo.$(this).css("display",fh);var a=jGo.$(this).attr("class").split(" ")[0].substr((k?6:3));var b=false;if(!w){b=true}else if(a==bc.uid){jGo.$(this).find("span.fc_pmu.fc_pmu"+c).each(function(){b=true})}else{if(jGo.$(this).hasClass((!k?"fc_":"fc_tlk")+c)){b=true}}if(b){jGo.$(this).css({display:fg,"background-color":"transparent"}).find("span.fc_pmsg_inrpt").remove();jGo.$(this).find("br.fc_pmsg_brk").remove();if(a!=kE[d]){jGo.$(this).css("text-indent",-(40+U.avatar_sz-18)+"px").find("span.fc_pmu").css("display",fi);fc_chat.startblock=false}else{jGo.$(this).css("text-indent","0px").find("span.fc_pmu").css("display",fh)}kE[d]=a}})};this.remove_msg=function(a,i,k){W(a).parent().parent().css('display',fh).nextUntil(":not(div.fc_"+(k?"":"tlk")+i+")").css('display',fh);var b=(k?0:1);kE[b]=0;var c=W((k?"div.fc_chat_container.fc_prmsg":"div.fc_tlk_cont")+":visible").last();if(c[0]){var d=c.attr("class").split(" ")[0].substr((k?3:6));kE[b]=d}return false};var kF;var kG=function(a,b){if(!cM){if(!kF){kF=document.createElement('div');kF.style.display=fh;document.body.appendChild(kF);W(kF).addClass('fc_d1')}W(kF).empty();if(a){W(kF).append(a)}else{W(kF).html(b)}fc_chat.c_px(null,bu);if(a){return a}else{return W(kF).html()}}else{return a}};var kH=function(u,n){return(a.o[u]=='1'?"":"<i class='fc_aside' style='"+(n?bd.new_messages_box.text.offline_css:dd.font.color.offline_css)+"'>"+cL(368,' Offline')+"</i>")};var kI=function(){return"<div class='fc-triangle-right3' style='"+ex+";width:"+(W(gw).width()-90)+"px;padding:10px;border:"+dd.chat_room_panel.infobox.border+";margin:10px 0 15px 22px'>"+(U.autoGreet!=''&&!eg?U.autoGreet:'')+(!eg?kJ()+(dX?(U.guests_can_chat?cL(108):cL(394,'Guests may observe rooms only. To chat, please sign in.')):''):'')+(fk==1?'<br><br>'+cL(389,"To send a message, highlight a user first. To add a user to your friends list, click on their screen name, and then select 'add to Friends'."):(cR()?'':cL(109)+bG[cP].nm+'.'))+"</div>"};var kJ=function(){return cL(107)+' <span style="font-weight:bold;font-style:italic;">'+a.snm[bc.uid]+'</span>. '};var kK=function(k,a){a+="<IMG id='fc_img"+k+"' SRC='"+Z+"trans.gif' height=1 width=30 style='"+dk+"'>"+kI();fl[fM]=a;if(bu){fc_chat.c_px(null,bu)}if(k==6){bc.img6=$('fc_img6')}else{bc.img7=$('fc_img7')}};var kL=function(){if(mQ(bc.uid))jN(kJ())};function aRA(u,b){if(fZ==3&&fc_ex.getRmAl()&&u!=bc.uid&&!cR()){var v;var c;var d;if(gq[1]!='0'){c=$('fc_gmo'+(gq[1]-1))}v=document.createElement('div');W(v).addClass("fc_chat_container").css({display:fg,'margin-left':'5px',padding:'1px 0px 3px 0px','background-color':'transparent',align:'top',width:bc.chat_container_width+'px','z-index':fS+202,'font-style':'italic'});if(b==0){v[fM]=md(16)+jR+a.nm[u]+cL(127)}else{v[fM]=md(16)+jR+a.nm[u]+cL(128)}iF((b==0?3:2));if(bu){v=kG(v,null)}kz=-1;scr(gw,gx,1,v,c,1)}};this.clearMsgs=function(n,b){if(!l){var c='';var d=(n==6?gw:gz);if(hf){d.style.display=fh}if(gs[n-5]>0){gq[n-5]=0;gs[n-5]=0;var e;if(n==6){for(var f in a.ge){if(a.ge.hasOwnProperty(f)){delete a.ge[f]}}delete gn;gn=[];e='g';bc.img1C=0;gp[6]=g_p(1)}else{for(var f in a.pe){if(a.pe.hasOwnProperty(f)){delete a.pe[f]}}delete go;go=[];e='p';bc.img2C=0;gp[7]=g_p(2)}if(!U.no_chat_history&&!b){c=getPrevious(e,n)}}else{if((n==6&&gl*1>0)||(n==7&&gg*1>0)){if(!U.no_chat_history&&!b){c=getPrevious(e,n)}}}d[fM]='';if(hf){if(n==6){hn=setTimeout("fc_chat.showdiv(1)",20)}else{ho=setTimeout("fc_chat.showdiv(2)",20)}}else{if(n==6){fc_chat.showdiv(1)}else{fc_chat.showdiv(2)}}c+='<IMG id="fc_img'+n+'" SRC="'+Z+'trans.gif" height=1 width="30px" style="'+dk+'">';d[fM]=c;if(n==6){lP(-gk);bc.img6=$('fc_img6')}else{this.clear_nm();bc.img7=$('fc_img7')}if(bu&&!b){fc_chat.c_px(null,bu)}}};function clearRoom(b){if(b==cP&&gc[2]=='0'&&eg==false){gc[20]='0';clearTimeout(hl);hl=null;if(gm[6]!=0){l=false;fc_chat.cP(0,6);l=true}if(hg){gw.style.overflow='auto'}if(hf){gw.style.display=fh}gq[1]=0;gs[1]=0;gl=0;for(var c in a.ge){if(a.ge.hasOwnProperty(c)){delete a.ge[c]}}delete gn;gn=[];bc.img1C=0;gp[6]=1;lP(-gk);gw[fM]='';if(hf){hn=setTimeout("fc_chat.showdiv(1)",20)}else{fc_chat.showdiv(1)}}};this.deletePrivateMsgs=function(){if(!l&&gg!=0){if(gm[7]!=0){fc_chat.cP(0,7)}fc_chat.clearMsgs(7,1);gq[2]=0;gs[2]=0;for(var b in a.ppe){if(a.ppe.hasOwnProperty(b)){delete a.ppe[b]}}delete go;go=[];gp[7]=1;var c=Math.ceil(Math.log((gg*1+2))/Math.log(10))+1;cs='0000'+c+'e'+gg;kc();gg=0}};function getPrevious(a,n){return'<span id="fc_'+a+'Pg" style="width:100%; z-Index:'+(fS+202)+';'+dk+'margin-left:5px"><a href="javascript:void" onclick="fc_chat.cP(1,'+n+');return false">&laquo;&laquo; '+cL(112)+'</a></span>'};this.showdiv=function(n){var a=null;if(n==1||n==9){if(fk==1)return;if(gm[6]==0){a=gw}es(n)}else if(n==2){if(fk==2)return;if(gm[7]==0){a=gz}es(2)}else if(n==3){a=gC}else if(n==4){a=gF}else if(n==5){a=gI}else if(n==6){if(gm[6]!=0&&bc.sI==0){a=gL;gL.style.visibility="visible"}es(6)}else if(n==7){if(gm[7]!=0&&bc.sI==0){a=gM;gM.style.visibility="visible"}es(7)}else{if(bc.sI){a=gN;gN.style.visibility="visible"}es(8)}if(a){a.style.display=fg;if(n<3){a.scrollTop=a.scrollHeight-(hf?a.clientHeight+1:0)}}};function es(k){setTimeout('fc_chat.enableScroll('+k+')',200)};function g_p(k){var a=(k==1?gl:gg);return Math.floor(((a-gs[k])*1-1)/50)+2};this.cP=function(b,k){if(!l){var c;var d;var e;if(k==6){d=gL;e=gx;c=gw}else{d=gM;e=gA;c=gz};if(k==7&&bD==1){fc_chat.filt(0)}l=true;if(b==0){gm[k]=0}else{gm[k]+=b}if(gm[k]==0){d.style.display=fh;c.style.display=fg;lt(1,k);l=false;return false}c.style.display=fh;if(hg){d.style.overflow='hidden'}d.style.display=fh;d[fM]='<div style="'+dk+'width:'+ew+'px">'+jV(cL(121))+'</div>';if(k==6){for(var f in a.gpe){if(a.gpe.hasOwnProperty(f)){delete a.gpe[f]}}clearTimeout(hn);hl=setTimeout("fc_chat.cP2("+b+","+k+")",20)}else{for(var f in a.ppe){if(a.ppe.hasOwnProperty(f)){delete a.ppe[f]}}clearTimeout(ho);hm=setTimeout("fc_chat.cP2("+b+","+k+")",20)}}return false};this.cP2=function(a,k){if(k==6){gL.style.display=fg;hl=setTimeout("fc_chat.cP3("+a+","+k+")",20)}else{gM.style.display=fg;hm=setTimeout("fc_chat.cP3("+a+","+k+")",20)}};this.cP3=function(a,k){var b;var c;if(k==6){iD=gL;c=gx;bw=0;b=gw}else{iD=gM;c=gA;bw=0;b=gz};hl=null;hm=null;if(gm[k]!=0){lt(0,k)}var d;if(k==6){if(gn[gm[k]]!=null){applyPageMsgs(gn[gm[k]],'fc_g',k,iD,c);l=false;return false}gc[20]='1';d=(gl-gs[1])-(gm[k]-1)*50}else{if(go[gm[k]]!=null){applyPageMsgs(go[gm[k]],'fc_p',k,iD,c);l=false;return false}gc[19]='1';d=(gg-gs[2])-(gm[k]-1)*50}tCL('0');bR='4';var e=iQ(d,6);if(k==6){cs="0000850"+e}else{cs="0000851"+e}kc();return false};this.tgl_info_panel=function(){if(!l){fc_ex.tgl_info_panel.apply(fc_ex,arguments)}return false};this.search_userlist=function(a,b){if(!l){fc_ex.search_userlist(a,b,cp,fK)}};var kM=function(a){fc_ex.applyUserListResults(a)};var kN=function(a,k){var b=mQ(a)&&a!=bc.uid&&k>3;var c=bd.friends_box;var d=2;if(k>=4){c=bd.online_box;d=1}var e=df.select_user;return'<div class="fc_usr'+a+' fc_gst'+(b?1:0)+'" id="fc_t'+k+''+a+'" '+mE(a)+' style="padding-top:3px;'+c.list_divider_css+';display:'+(b&&!hK?'none':'block')+';background-color:'+(a==hI?e.selected_color:e.off_color)+'">'+lM(a,null,0,1,1)+'<div class="fc_t2'+a+'"  style="'+fj+'">&nbsp;'+kR(a)+'</div>'+kP(a,1)+kQ(a)+kU(a,d)+(k==5?jK(a):'')+kV(a)+'<br>'+lb(a,d)+'</div>'};this.build_userlist=function(a){return'<div id="fc_t5'+a+'" style="padding-top:3px;margin-left:10px;'+dc.info_panel.list_divider_css+'">'+lM(a,null,0,1)+'&nbsp;<div class="fc_t2'+a+'"  style="'+fj+'">'+kR(a,1)+'</div>'+kP(a,1)+kQ(a)+kU(a,3)+mN(a)+'<br>'+mO(a,1,dc.info_panel.user_info_css)+lb(a,3)+'<br></div>'};var kO=function(a,b){W("#"+b+a).remove();if(mj==a){W('#fc_view').remove()}};var kP=function(u,n){if((a.cc[u]!=''||a.cc[u]==null)&&U.show_country_flags){return'<img unselectable="on" align=absmiddle title="'+a.cc[u].toUpperCase()+'" alt=" " style="width:16px;height:11px;margin-left:5px" SRC="'+fW+'flags/'+a.cc[u]+'.png" border=0>'}else{return''}};var kQ=function(u){return'<a '+dI+'('+u+');return false;" class="fc_'+u+'_cam" style="display:'+ko(u)+';margin-left:3px;" title="'+cL(33)+'"><img height="18px" style="height:18px" SRC="'+fW+'webcam_on.png" border=0></a>'};var kR=function(u,n){var b='class="fc_online"';var c=(n?fc_chat.uolnk(u,1):'onclick=\''+dH+'return fc_chat.toggleMenu(this,'+u+',"u1");\'');var d=kS(u,5);if(u==bc.uid){d='margin-left:.1em;'+d;b='class="fc_online2"'}return'<span class="fc_usertag"><IMG SRC="'+Z+'trans.gif" style="'+d+';margin-right:.3em;" '+b+'><a style="'+(n?dc.info_panel.screen_name_css:cV.dialog_box.text.screen_name_css)+'" title="'+a.nm[u]+': '+cL(282,"Click for options")+'" href="javascript:void" '+c+'>'+a.snm[u]+'</a></span>'};var kS=function(u,k){var b=(k>2&&k<6?de:dd);var c=b.user_icon.offline_css;if(a.o[u]=='1'){c=b.user_icon.online_css;if(a.bg[u]=='1'){c=b.user_icon.blocked_css}else if(a.bs[u]=='1'){c=b.user_icon.busy_css}}return c};var kT=function(u){W("div.fc_t2"+u).html(kR(u));if(lZ){if(a.o[u]=='0'){fc_chat.remove_online(u)}else{if(!W("#fc_t4"+u)[0]){fc_chat.add_online(u)}}}if(a.o[u]=='0'||a.s[u].charAt(9)!=a.pt[u]){jH(u)}var b=0;if((!mQ(u)||a.o[u]=='1')&&lB(u)&&u!=bc.uid){b=1}if(jg['u1']&&jg['u1'].isOpen&&jh==u){W('#fc_menu_item1').html(jr(ji,b,u,"talk("+u+")",cL(351,"Send message)")))}if(u!=bc.uid&&hP==2&&jg['mod']&&jg['mod'].isOpen&&jh==u){W('#fc_kickban').html(jr(jl,(a.o[u]=='1'?1:0),u,"kickban("+u+")",cL(439,"Kick and ban"),'_mod'));if(a.ac[bc.uid]=='2'){W('#fc_blockip').html(jr(jl,(a.o[u]=='1'?1:0),u,"blockip("+u+")",cL(440,"Block IP (30 min)"),'_mod'))}}if((a.o[u]=='0'||!lB(u))){if(hI==u){mH()}if(fZ>1&&ga==u){if(!lB(u)||(mQ(u)&&a.o[u]!='1')){mD();jP(a.nm[u]+cL(428," is no longer available for private chat."))}else{mC(u)}}}if(hI==u&&a.o[u]=='1'){mG(u)}if(ga==u&&a.o[u]=='1'){mC(u)}};var kU=function(u,k){var b='';var c=de.font.style.mod_css;if(k==1){c=bd.online_box.text.user_info_css}else if(k==2){c=bd.friends_box.text.user_info_css}else if(k==3){c=dc.info_panel.user_info_css}var d='<span unselectable="on" style="cursor:default;margin-left:3px;'+c+'"> &lt;';if(a.ac[u]=='1'){b=d+cL(123)+'&gt;</span>'}else if(a.ac[u]=='2'){b=d+cL(124)+'&gt;</span>'}else if(u==bc.uid&&mQ(u)){b=d+cL(448,'me')+'&gt;</span>'}return b};var kV=function(u){var b=(a.msgB[u]!=0?'style="font-weight:bold"':'');var c='&nbsp;<span class="fc_u_msgC fc_u_msgC'+u+'" '+b+'>';var d='</span>';var e='';if(a.msgC[u]!=0){e='(<span class="fc_u_msgC_inner" '+b+'>'+a.msgC[u]+'</span>)'}return c+e+d};var kW=function(u,k,n){var b=(!n?'bold':'normal');if(!n){if(k==0){a.msgC[u]=0;W('span.fc_u_msgC'+u).html('')}else{a.msgC[u]+=k;W('span.fc_u_msgC'+u).html('(<span class="fc_u_msgC_inner">'+a.msgC[u]+'</span>)')}};a.msgB[u]=(n?0:1);W('span.fc_u_msgC'+u+',span.fc_u_msgC'+u+' span').css('font-weight',b)};function render_users(b){var c=[];var d=[];var e=[];var u=ct.split('&');if(b=='1'){hJ[6]=0;hJ[7]=0}for(var i=0;i<u.length-1;i++){if(b=='1'){if(a.s[u[i]].charAt(0)!=a.o[u[i]]||a.s[u[i]].charAt(4)!=a.b[u[i]]||a.s[u[i]].charAt(5)!=a.bg[u[i]]||a.s[u[i]].charAt(8)!=a.bs[u[i]]||a.s[u[i]].charAt(9)!=a.pt[u[i]]){kT(u[i]);if(a.pge[u[i]]!=''){var f=a.pge[u[i]].split('&');for(var j=0;j<f.length-1;j++){uE(u[i],f[j],2,0)}}if(a.ife[u[i]]!=null){var g=a.ife[u[i]].split('&');for(var j=0;j<g.length-1;j++){uE(u[i],g[j],3,0)}}if(u[i]==bc.cU){cUB(u[i])}}if(a.o[u[i]]=='1'){if(a.d[u[i]]==cI){var h='';var k=U.avatars_dir+'default.gif';var l=fi;var m=dG;if(a.av[u[i]]!=''&&a.av[u[i]]!='default.gif'){k=a.av[u[i]];k=(k.indexOf('/')==0)?k.substr(1):U.avatars_dir+k}else{m+="background-color:#"+a.acl[u[i]]+";"+hD}var n='<a id="fc_';var o='av" style="display:'+l+';margin-left:15px;" href=\"javascript:void\" ';a.de[u[i]]='fc_dl'+gq[3];var z=c_i(u[i],0,3);var p=fc_chat.uolnk(u[i],3);h='&nbsp;'+lM(u[i],3,0,1);var q=(ga==u[i]?dB:dz);var r=mQ(u[i])&&u[i]!=bc.uid;var s='<div class="fc_'+u[i]+' fc_gst'+(r?1:0)+'" id=fc_dl'+gq[3]+' style="display:'+(r&&!hK?'none':'block')+';font-weight:bold;width:'+eS+'px;z-Index:'+(fS+202)+';'+dr+q+'" onClick="fc_chat.send_to('+u[i]+')" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)">'+h+z+mN(u[i])+kP(u[i])+kQ(u[i])+kV(u[i])+'<div id="fc_dl'+gq[3]+'ico" style="padding-top:1px;padding-bottom:3px">'+kU(u[i])+lb(u[i])+mO(u[i])+mP(u[i])+'</div></div>';bldOr(u[i],c,s,6);gq[3]++;gs[3]++;if(a.g[u[i]]==cP&&!cR()&&a.t[u[i]]=='1'){a.gre[u[i]]='fc_gl'+gq[4];z=c_i(u[i],0,4);p=fc_chat.uolnk(u[i],4);h='&nbsp;'+lM(u[i],4,0,1);s='<div class="fc_'+u[i]+' fc_gst'+(r?1:0)+'" id=fc_gl'+gq[4]+' style="display:'+(r&&!hK?'none':'block')+'; font-weight:bold; width:'+eS+'px; z-Index:'+(fS+202)+';'+dr+q+'" onClick="fc_chat.send_to('+u[i]+')" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)">'+h+z+mN(u[i])+kP(u[i])+kQ(u[i])+kV(u[i])+'<div id="fc_gl'+gq[4]+'ico" style="padding-top:1px;padding-bottom:3px">'+kU(u[i])+lb(u[i])+mO(u[i])+mP(u[i])+'</div></div>';bldOr(u[i],d,s,7);gq[4]++;gs[4]++}}}}else{if(a.s[u[i]].charAt(0)!=a.o[u[i]]||a.s[u[i]].charAt(4)!=a.b[u[i]]||a.s[u[i]].charAt(5)!=a.bg[u[i]]||a.s[u[i]].charAt(8)!=a.bs[u[i]]||a.s[u[i]].charAt(9)!=a.pt[u[i]]){kT(u[i]);if(a.pge[u[i]]!=''){var f=a.pge[u[i]].split('&');for(var j=0;j<f.length-1;j++){uE(u[i],f[j],2,0)}}if(a.ife[u[i]]!=null){var g=a.ife[u[i]].split('&');for(var j=0;j<g.length-1;j++){uE(u[i],g[j],3,0)}}if(u[i]==bc.cU){cUB(u[i])}if(fZ>1){if(a.pe[u[i]]!=null){var t=a.pe[u[i]].split('&');for(var j=0;j<t.length-1;j++){uE(u[i],t[j],1,2)}}if(gm[7]!=0){if(a.ppe[u[i]]!=null){var v=a.ppe[u[i]].split('&');for(var j=0;j<v.length-1;j++){uE(u[i],v[j],1,7)}}}if(a.ge[u[i]]!=null){var w=a.ge[u[i]].split('&');for(var j=0;j<w.length-1;j++){uE(u[i],w[j],1,1)}}if(gm[6]!=0){if(a.gpe[u[i]]!=null){var x=a.gpe[u[i]].split('&');for(var j=0;j<x.length-1;j++){uE(u[i],x[j],1,6)}}}if(a.o[u[i]]=='1'){if(a.d[u[i]]==cI){if(a.de[u[i]]==null){aTC(u[i],3,'fc_dl')}else{uE(u[i],a.de[u[i]],0,3)}if(a.g[u[i]]==cP&&a.t[u[i]]=='1'){if(a.gre[u[i]]==''){aTC(u[i],4,'fc_gl');aRA(u[i],1)}else{uE(u[i],a.gre[u[i]],0,4)}}else{if(a.gre[u[i]]!=''){r_e('fc_chatmem',4,a.gre[u[i]],u[i]);aRA(u[i],0)}}}else{if(a.de[u[i]]!=null){r_e('fc_onl',3,a.de[u[i]],u[i]);if(a.gre[u[i]]!=''){r_e('fc_chatmem',4,a.gre[u[i]],u[i]);aRA(u[i],0)}}}}else{if(a.de[u[i]]!=null){r_e('fc_onl',3,a.de[u[i]],u[i]);if(a.gre[u[i]]!=''){r_e('fc_chatmem',4,a.gre[u[i]],u[i]);aRA(u[i],0)}}}if(a.pve[u[i]]!=''){uE(u[i],a.pve[u[i]],0,5)}}}else{if((a.s[u[i]].charAt(0)!=a.o[u[i]]||a.s[u[i]].charAt(1)!=a.d[u[i]]||iT(a.s[u[i]].substr(10))!=a.g[u[i]]||a.s[u[i]].charAt(3)!=a.t[u[i]])&&fZ>1){if(a.o[u[i]]=='1'){if(a.d[u[i]]==cI){if(a.de[u[i]]==null){aTC(u[i],3,'fc_dl')}if(a.g[u[i]]==cP&&a.t[u[i]]=='1'){if(a.gre[u[i]]==''){aTC(u[i],4,'fc_gl');aRA(u[i],1)}}else{if(a.gre[u[i]]!=''){r_e('fc_chatmem',4,a.gre[u[i]],u[i]);aRA(u[i],0)}}}else{if(a.de[u[i]]!=null){r_e('fc_onl',3,a.de[u[i]],u[i]);if(a.gre[u[i]]!=''){r_e('fc_chatmem',4,a.gre[u[i]],u[i]);aRA(u[i],0)}}}}else{if(a.de[u[i]]!=null){r_e('fc_onl',3,a.de[u[i]],u[i]);if(a.gre[u[i]]!=''){r_e('fc_chatmem',4,a.gre[u[i]],u[i]);aRA(u[i],0)}}}if(a.pve[u[i]]!=''){uE(u[i],a.pve[u[i]],0,5)}}}}if(mc&&a.o[u[i]]=='1'){var s=kN(u[i],4);bldOr(u[i],e,s,4)}if(a.nw[u[i]]=='1'){if(a.idl[u[i]]!=a.s[u[i]].charAt(7)){la(u[i],'idl')}if(a.ty[u[i]]!=a.s[u[i]].charAt(6)){la(u[i],'ty')}if(a.nk[u[i]]!=a.nko[u[i]]){lF(u[i])}if(a.tag[u[i]]!=a.tago[u[i]]){iH(u[i])}if(a.vs[u[i]]!=a.vso[u[i]]){fc_chat.c_Vs(u[i])}}if(b=='0'){if(fZ>1){if(a.av[u[i]]!=a.avo[u[i]]){ii(jGo.MD5.hex_md5(a.av[u[i]]),19);fc_ex.c_Av(u[i])}if(a.pr[u[i]]!=a.pro[u[i]]){fc_ex.c_Pr(u[i])}if(a.ttl[u[i]]!=a.ttlo[u[i]]){fc_ex.c_Ttl(u[i])}}}if(fZ<2&&a.av[u[i]]!=a.avo[u[i]]){ii(jGo.MD5.hex_md5(a.av[u[i]]),19);W('img.fc_t'+u[i]+'avimg').attr({src:(a.av[u[i]].indexOf('/')==0)?a.av[u[i]].substr(1):U.avatars_dir+a.av[u[i]]})}uRmC(u[i]);a.nw[u[i]]='1';a.nko[u[i]]=a.nk[u[i]];a.tago[u[i]]=a.tag[u[i]];a.avo[u[i]]=a.av[u[i]];a.pro[u[i]]=a.pr[u[i]];a.ttlo[u[i]]=a.ttl[u[i]];a.vso[u[i]]=a.vs[u[i]];a.s[u[i]]=a.o[u[i]]+a.d[u[i]]+'0'+a.t[u[i]]+a.b[u[i]]+a.bg[u[i]]+a.ty[u[i]]+a.idl[u[i]]+a.bs[u[i]]+a.pt[u[i]]+a.g[u[i]];a.u[u[i]]=0}if(b=='1'){hi[3]=gD.scrollHeight;gC[fM]=getConts(c,6);hi[4]=gG.scrollHeight;lu(cP,d);if(cx==1){mr(cB)}if(cx==0){mr(cA)}}if(mc){$('fc_t4')[fM]=getConts(e,4);$('fc_t6')[fM]=lm(0);lI();mc=0;lZ=1}if(cy==1){if(cx==1){mq(cB)}if(cx==0){mq(cA)}cy=0}};function bldOr(u,b,c,d){var e=mQ(u);if(d&&e&&u!=bc.uid){hJ[d]++}var f=(a.idl[u]!='1'?7:6);if(u==bc.uid){f=0}else if(a.ac[u]=='2'){f=1}else if(a.ac[u]=='1'){f=2}else if(a.ttl[u]!=''){f=3}else if(!e){f=(f==6?4:5)}if(!b[f]){b[f]=''}b[f]+=c};var kX=function(a,b){hJ[a]+=b;W("#fc_shw_gst"+a).css("display",(!hK&&hJ[a]?fg:fh)).html(cL(469,'+')+" "+hJ[a]+" "+cL(470,'more guests.')+" <a href='javascript:fc_chat.tgl_guests(1)' style='"+kZ(a)+"'>"+cL(471,'Show')+"</a>.");W("#fc_hd_gst"+a).css("display",(hK&&hJ[a]?fg:fh))};var kY=function(a,b,k,c){kX(k,c);var d=W(a+" div.fc_gst0").last();if(k==7&&!d[0]){W('#fc_groupType').after(b)}else{d.after(b)}};this.tgl_guests=function(a){hK=(a?true:false);for(var i=1;i<10;i++){if(hJ[i]){W("#fc_shw_gst"+i).css("display",(hK?fh:fg));W("#fc_hd_gst"+i).css("display",(hK?fg:fh))}}W("div.fc_gst1").css("display",(hK?fg:fh))};function bldOrPriv(u,b,c){var d=2;if(a.o[u]=='1'&&!(mQ(u))){d=1}else if(a.o[u]=='1'){d=0}else if(a.o[u]=='0'&&mQ(u)){d=3}if(!b[d]){b[d]=''}b[d]+=c};function getConts(a,k){var b='';for(i=0;i<8;i++){if(a[i]!=null){b+=a[i]}}b+="<div style='display:"+(k&&hJ[k]&&!hK?fg:fh)+";"+kZ(k,1)+"' class='fc_shw_gst' id='fc_shw_gst"+(k||0)+"'>"+cL(469,'+')+" "+hJ[k||0]+" "+cL(470,'more guests.')+" <a href='javascript:fc_chat.tgl_guests(1)' style='"+kZ(k)+"'>"+cL(471,'Show')+"</a>.</div><div style='display:"+(k&&hJ[k]&&hK?fg:fh)+"' id='fc_hd_gst"+(k||0)+"'><a href='javascript:fc_chat.tgl_guests(0)' style='"+kZ(k)+"'> "+cL(472,'Hide Guests')+"</a>.</div>";return b};var kZ=function(k,j){var a=de.font.style;if(k==4){a=bd.online_box.text}else if(k==5){a=cU.chatbox.style.dialog_box.text}a=(j?a.info:a.secondary_link_css);return a};var la=function(u,b,c){var d=(((b=='idl'&&a.idl[u]=='1')||(b=='ty'&&a.ty[u]=='1'))?fi:fh);if(c){d=c}W('.fc_'+u+b).css("display",d)};var lb=function(u,k){var b=de.font.style.user_info_css;if(k==1){b=bd.online_box.text.user_info_css}else if(k==2){b=bd.friends_box.text.user_info_css}else if(k==3){b=dc.info_panel.user_info_css}var c=';'+b+';cursor:default;'+dk;var d=fh;if(a.idl[u]=='1'){d=fi}var e=fh;if(a.ty[u]=='1'){e=fi}var f=fh;if(a.tag[u]!=''){f=fi}return'<span class="fc_'+u+'nick" style="'+c+';font-style:italic;">'+(mQ(u)?'&nbsp;'+cL(1)+(a.nk[u]!=''?'&nbsp;('+a.nk[u]+')':'')+'&nbsp;&nbsp;':'')+'</span><span class="fc_'+u+'idl" style="display:'+d+c+'">&nbsp; '+cL(126)+'...</span> <span class="fc_'+u+'ty" style="display:'+e+c+'">&nbsp; '+cL(125)+'...</span><span class="fc_'+u+'tag" style="display:'+f+c+'">&nbsp; &bull;&nbsp;'+a.tag[u]+'&nbsp;&bull;&nbsp;</span>'};function unLockDom(){var a=0;for(var i=0;i<22;i++){a+=gc[i]-0}if(a==0){if(!hl&&!hm){l=false};if(bR!='0'){if(bR=='1'){tTC((fY=='1'?'0':'1'))}else if(bR=='2'){tCL('1')}else if(bR=='3'){rCG()}else if(bR=='4'){tCL('1')}bR='0'}}};function aTC(u,k,p){var z;if(k==3){z=c_i(u,0,k);a.de[u]=p+gq[k];nC(gC,gD,k,p,u,z,0)}else if(k==4){if(!cR()){z=c_i(u,0,k);a.gre[u]=p+gq[k];nC(gF,gG,k,p,u,z,0)}}else if(k==5){z=c_i(u,0,k);a.pve[u]=p+gq[k];nC(gI,gJ,k,p,u,z,0)}else{cw[u]=p+gq[k];nC(gX,gX,k,p,u,a.snm[u],0)}};function nC(a,b,k,p,u,z,i){var c;var d;if(gs[k]!='0'&&i==1){d=$(p+(gq[k]-1))}c=document.createElement('div');var e=mQ(u)&&u!=bc.uid;c.className='fc_'+u+(k==3||k==4?' fc_gst'+(e?1:0):'');c.setAttribute('id',p+gq[k]);c.style.display=((k==3||k==4)&&e&&!hK?fh:fg);if(k>2){c.style.fontWeight='bold'}c.style.align='top';c.style.textAlign='left';c.style.width=eS+'px';c.style.zIndex=fS+202;c.style.paddingTop='4px';c.style.paddingBottom='0px';c.style.borderBottom=dx;if(k==5){c.style.backgroundColor=(ga==u?dB:dz);c.onmouseover=fc_ex.overSide;c.onmouseout=fc_ex.offSide;W(c).onEvent('click',fc_chat,'send_to',u)}else if(k==6){c.onmouseover=fc_chat.overBlk;c.onmouseout=fc_chat.offBlk;c.onclick=fc_chat.clickBlk;c=fc_ex.mk_bL_div(c);z=' &nbsp;'+z}else{c.style.backgroundColor=(ga==u?dB:dz);c.onmouseover=fc_ex.overSide;c.onmouseout=fc_ex.offSide;W(c).onEvent('click',fc_chat,'send_to',u)}if(k>2&&k<6){var f='';f='&nbsp;'+lM(u,k,0,1);c[fM]=f+z+mN(u)+kP(u)+kQ(u)+kV(u)+'<div id="'+p+gq[k]+'ico" style="padding-top:1px;padding-bottom:3px">'+kU(u)+lb(u,fh,fh)+mO(u)+mP(u)+'</div>'}else{c[fM]=z+kP(u)+kU(u)}scr(a,b,k,c,d,i,u);gq[k]++;gs[k]++};function c_i(u,b,k){var c;var d='&nbsp;';var e=(k>2&&k<6?'class="fc_onlinesp"':'class="fc_online"');var f=(k<=2||k==6||k==7?'font-weight:bold':'');var g=fc_chat.uolnk(u,k,(k>2&&k<6));var h='fc_u';var i=(b==1?'2':'');var j='javascript:void';if(k==0){i='3'}var l=kS(u,k);if(a.o[u]=='1'){h+='o';if(a.b[u]=='1'){h='fc_ublk'}}else{if(a.b[u]=='1'){h='fc_ublko'}}h+=i;if(b>1||u==bc.uid){l='margin-left:.'+(k>2&&k<6?'3':'2')+'em;'+l;e=(k>2&&k<6?'class="fc_onlinesp2"':'class="fc_online2"');d=''}else{h+=(b==1?' fc_a1':' fc_a2')}var m=(u==bc.uid&&b<2?'<small>':'');var n=(u==bc.uid&&b<2?'</small>':'');c='<span class="fc_usertag">'+d+'<IMG SRC="'+Z+'trans.gif" style="'+l+';margin-right:.3em;" '+e+'>'+m+'<a HREF="'+j+'" '+g+' class="'+h+'" style="'+f+'">'+a.snm[u]+'</a>'+n+'</span>';return c};this.uolnk=function(u,k){var a=dH;return(U.userbox_mode==1?'onMouseOver="clearTimeout(fc_chat.t2);setTimeout(\'fc_chat.show_user_chat(this,400,80,'+u+','+k+')\',2);" onmouseout="setTimeout(\'fc_chat.leavingUser()\',10);"':'onClick="'+a+'clearTimeout(fc_chat.t2);setTimeout(\'fc_chat.show_user_chat(this,400,80,'+u+','+k+')\',2);return false;" ')};function uE(u,b,c,k){var v;var d='';if(c<3){v=$(b)}else{try{v=$2(b);$2(b+'img').style.display=fh;if(v.className.substr(3)!=u){return true}}catch(err){}}if(k==5&&a.o[u]!='1'){la(u,'idl',fh)}var e=c_i(u,c,k);if(c==2){$(b+'img').style.display=fh}try{W(v).find("span.fc_usertag").replaceWith(e)}catch(err){}};function r_e(b,k,p,u){var s;var v=$(p);s=b.scrollTop;hi[k]=b.scrollHeight;if(b.scrollTop!='0'&&v.style.display==fg){v.parentNode.removeChild(v);if(fV){b.scrollTop-=b.scrollHeight-hi[k]}else{b.scrollTop=s-(b.scrollHeight-hi[k])}}else{v.parentNode.removeChild(v)}gs[k]--;if(k==3){if(a.de[u]&&mQ(u)){kX(6,-1)}delete a.de[u]}else if(k==4){if(a.gre[u]&&a.gre[u]!=''&&mQ(u)&&u!=bc.uid){kX(7,-1)}a.gre[u]=''}else if(k==5){a.pve[u]=''}};var lc=function(b,c,k,u){if(k==3||k==4){if(u==bc.uid){if(k==3){b.insertBefore(c,b.firstChild)}else{W('#fc_groupType').after(c)}}else{if(mQ(u)){kY("#"+W(b).attr("id"),c,k+3,1)}else{var d=(k==3?a.de[bc.uid]:a.gre[bc.uid]);if(d&&d!=''){W('#'+d).after(c)}else{if(k==3){b.insertBefore(c,b.firstChild)}else{W('#fc_groupType').after(c)}}}}}else if(k==5){W('#fc_contacts_top_main').after(c)}else{b.appendChild(c)}};function scr(a,b,k,c,d,i,u){var s=b.scrollTop;if((i==1&&b.scrollHeight-s<b.clientHeight+50)||(i==0&&s!=0)){lc(a,c,k,u);if(i==1){b.scrollTop=b.scrollHeight-(hf?b.clientHeight+1:0);if(by){setTimeout("fc_chat.delayScroll("+k+")",50)}ke(b)}}else{lc(a,c,k,u)}if(bu!=dd.font.size){}if(bv!=dd.font.color.default_text_color){}};function scr2(a,b,k,c){if(b.scrollHeight-b.scrollTop<b.clientHeight+50){a[fM]+=c;b.scrollTop=b.scrollHeight-(hf?b.clientHeight+1:0);if(by){setTimeout("fc_chat.delayScroll("+k+")",50)}ke(b)}else{a[fM]+=c}if(bu!=dd.font.size){}if(bv!=dd.font.color.default_text_color){}};this.delayScroll=function(k){if(k==1){gx.scrollTop+=1000}else if(k==2){gA.scrollTop+=1000}else if(k==3){W('#fc_view_msgs')[0].scrollTop+=1000}else{W('#fc_page_chat_wrapper')[0].scrollTop+=1000}};this.change_Border_oD=function(a){gS.style.border=dV;gS.style.borderTop='0px';if(!a){gS.style.borderTop=dV}};this.change_Border_sD=function(a){gU.style.border=dc.tools_panel.border;gU.style.borderTop='0px';if(!a){gU.style.borderTop=dc.tools_panel.border}};function move_box(a,b,c){if(a.style.position=='fixed'){c-=W(document).scrollTop()}a.style.left=b+'px';a.style.top=c+'px'};function s_d_s(a,b,t,l,w,h,c,d,e,f,g,i){a.className=f;a.style.display=b;a.style.position=(g?g:'absolute');if(t!=''){a.style.top=t+'px';a.style.left=l+'px'}a.style.width=w+'px';a.style.height=h+'px';if(c){W(a).css(c)}a.style.backgroundColor=d;a.style.fontSize=e;a.style.overflow='auto';if(i){a.style.overflowX='hidden'}};function censorPG(a,b){W("span.msgpg_"+a+"_"+b).html(' '+cL(119)+' ')};function censor(a,b){if(a==cP){var c;var p;var d;if(b>=gl-gs[1]){c=b-(gl-gq[1]);p=$('fc_gmo'+c);d=$('fc_gm'+c)}else if((b>=gl-gs[1]-gm[6]*50)&&(b<gl-gs[1]-gm[6]*50+50)){c=b-(gl-gs[1]-gm[6]*50);if((gl-gs[1]-gm[6]*50)<0){c=b}p=$('fc_gpmo'+c);d=$('fc_gpm'+c);delete gn;gn=[]}else{delete gn;gn=[];return true}if(p){var v=p[fM];if(d){var e=v.substring(0,(v.indexOf('>:')+2));var f=v.substring((v.indexOf('<i ')));v=e+' '+cL(119)+' '+f;p[fM]=v}else{var e=v.substring((v.indexOf('<i ')));v=cL(119)+' '+e;p[fM]=v}}}};this.imgFWrapper=function(){if(U.upload_images_enabled&&!l){var a=bb+"Upload."+U.script_type+"?id="+bc.uid+"&dummy=true";fc_chat.createTopIFrame(a,2,0)}return false};this.avaFWrapper=function(){if(!l){var a=bb+"Avatars."+U.script_type+"?id="+bc.uid+"&dummy=true";fc_chat.createTopIFrame(a,3,0)}return false};this.t5=null;this.t6=null;var ld=function(){fc_ex.init(a,gu,gv,gx,gy,gA,gB,gD,gE,gG,gH,gJ,gK,gw,gz,gL,gM,gN,gO,gP,gR,hb,fR,hc,he,fO)};this.scriptLoaded=function(){bm=true;ld();if(bn==0){if(cN){cN=false;var a='';var b='07';if(bG[cQ]&&bG[cQ].l!=0){a=jGo.MD5.hex_md5(fd);b='39'}cs+=String.fromCharCode(10)+'000'+b+'4'+iQ(cQ,6)+a}kc()}else if(bn==1){l=false;if(fc_chat.ww2){fc_ex.initVideoChat(fc_chat.ww2,hL,fc_chat.cvu_priv)}}else if(bn==2){l=false;if(fc_chat.ww2){fc_ex.subscribe(jf,bc.uid,ek,bG,cP)}}bn=0};function getWindowTop(a,b){var c;var d;if(a.scrollTop==0&&W(document).scrollTop()&&W(document).scrollTop()>0){d=W(document).scrollTop()}else{d=a.scrollTop}c=(true)?Math.max(50+d,d+Math.round((en()-b)/2)):Math.max(50+d,mouseY-b+50);if(c<50){c=50}return c};function getWindowLeft(a,b){var c;var d;if(a.scrollLeft==0&&W(document).scrollLeft()&&W(document).scrollLeft()>0){d=W(document).scrollLeft()}else{d=a.scrollLeft}c=(true)?Math.max(100+d,d+Math.round((em()-b)/2)):Math.max(100+d,mouseX-b+50);if(c<100){c=100}else if(c>a.scrollWidth-(100+b)){c=a.scrollWidth-(100+b);if(c<100)c=100}return c};var le=false;this.tgl_chatcenter=function(f,g,n){var h=(fc_chat.vidAcc>1?'':' '+cL(32));var j=(U.upload_images_enabled?"return fc_chat.createTopIFrame('"+bb+"Upload."+U.script_type+"?id="+bc.uid+"&dummy=true',2,0);":"");var k="return fc_chat.createTopIFrame('"+bb+"Avatars."+U.script_type+"?id="+bc.uid+"&dummy=true',3,0);";var m=em();var o;if(!cZ&&$('fastcatchatentry')!=null){o=jc($('fastcatchatentry'));if(((m-o.x)<f)&&((f-$('fastcatchatentry').offsetWidth)<o.x)){fb=o.x-(f-$('fastcatchatentry').offsetWidth)}else{fb=o.x}fa=o.y}else{o=jc(gV);if(((m-o.x)<f)&&((f-gV.offsetWidth)<o.x)){fb=db-(f-gV.offsetWidth)}else{fb=db}fa=da}var p=document.body;var q=document.documentElement;var r=(p.scrollHeight>=q.scrollHeight)?p:q;if(!X){fa=getWindowTop(r,g)-40;fb=getWindowLeft(r,f)}kj(fP);ka(1);gh=0;lQ();if(fY=='0'){fc_chat.close_boxes(1,fY)}if(le){if((fO&&fO.frame[0].style.display==fh)||eb){if(!eb){tTC('0');fO.cN[0].style.display=fg;fO.frame[0].style.display=fg;move_box(fO.frame[0],fb,fa);move_box(fO.cN[0],fb+5,fa+40);if(hc){hb.style.display=fg}setOverlay(.05)}gc[0]='3';fY='1';W("#fc_sign_in_out").html("&bull; "+lr(bc.uid));fc_chat.setPaused();cs="0000231";bR='2'}else{tCL('0');fO.frame[0].style.display=fh;fO.cN[0].style.display=fh;if(fc_chat.cvu_priv==null){fc_chat.closeVid()}if(hc){hb.style.display=fh}gc[0]='2';fY='0';lo();if(bs==1){fc_chat.setPaused()}cs="0000230";bR='1'}return false}else{tTC('0');gc[5]='1';gc[0]='3';fY='1';fc_chat.setPaused();cs="0000231";bR='2'}var s=dc.widgets.text_icon_css;var t=hC+";cursor:default";gu=document.createElement('div');gu.setAttribute('id','fc_bd');gu.className="jGo_app jGo_myapp";if(dc.background_image!=''){gu.style.backgroundImage='url('+fW+dc.background_image+')'}gu.style.display=fg;gu.style.position='absolute';gu.style.overflow='hidden';gu.style.textAlign='left';gu.style.left=fb+'px';gu.style.top=fa+'px';gu.style.width=f+'px';gu.style.height=g+'px';gu.style.backgroundColor='transparent';gu.style.border=dc.border;var u=function(a,b){var c=[];c[0]={id:'dragger5',c:"",d:(cM?fh:fo),t:2,l:ew-28,w:30,h:4,x:-142,y:-140,crs:"s-resize",evt:""};c[1]={id:'tab10',c:"",d:(cM?fg:fh),t:2,l:ew-7,w:15,h:7,x:-99,y:-137,crs:"default",evt:"onmousedown='fc_ex.tab_chat(0,-1)'"};c[2]={id:'tab11',c:"",d:(cM?fg:fh),t:2,l:ew-35,w:15,h:7,x:-119,y:-137,crs:"default",evt:"onmousedown='fc_ex.tab_chat(1,1)'"};c[3]={id:'dragger3',c:" fc_side_drag",d:(cM?fh:fg),t:(24+Math.floor((eP+eL)/2)),l:eT,w:30,h:4,x:-142,y:-140,crs:"s-resize",evt:""};c[4]={id:'tab12',c:" fc_side_drag",d:(cM?fg:fh),t:(24+Math.floor((eP+eL)/2)),l:eT+21,w:15,h:7,x:-99,y:-137,crs:"default",evt:"onmousedown='fc_ex.tab_chat(2,-1)'"};c[5]={id:'tab13',c:" fc_side_drag",d:(cM?fg:fh),t:(24+Math.floor((eP+eL)/2)),l:eT-7,w:15,h:7,x:-119,y:-137,crs:"default",evt:"onmousedown='fc_ex.tab_chat(3,1)'"};var d="";for(var i=a;i<b;i++){d+="<div id='fc_"+c[i].id+"' class='fc_drag"+c[i].c+"' style='display:"+c[i].d+";position: absolute;top: "+c[i].t+"px;left:"+c[i].l+"px;z-Index:"+(fS+600)+"; background-image: url("+fW+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: "+c[i].w+"px; height:"+c[i].h+"px; background-position: "+c[i].x+"px "+c[i].y+"px;cursor:"+c[i].crs+";' "+c[i].evt+"></div>"}return d};var v="<div id='fc_gc' style='position:absolute;top:3px;left:8px;width:200px;height:20px;"+dE+"'>"+cL(12)+"</div>"+"<div id='fc_cl6'>"+"<a id='fc_cli6' "+bW+"clearMsgs(6);' onmouseover='getElementById(\"fc_e_cl6\").className=\"fc_e fc_e_cl2\"' onmouseout='getElementById(\"fc_e_cl6\").className=\"fc_e fc_e_cl\"'>"+"<span class='fc_e fc_e_cl' id='fc_e_cl6' title='"+cL(18)+"' style='position:absolute;display:block;top:3px;left:"+(cL(0,0,'chat_room_width')+14)+"px'></span>"+"</a>"+"</div>"+"<div id='fc_plmn6'>"+"<a id='fc_plmni6' "+bW+"toggleAlerts();'>"+"<span class='fc_e fc_e_pl' id='fc_e_pl6' title='"+cL(19)+"' style='display: block;position:absolute;top:3px;left:"+(cL(0,0,'chat_room_width')+29)+"px;'></span>"+"</a>"+"</div>"+"<div id='fc_top_info_outer' style='position:absolute;top:3px;left:"+(cL(0,0,'chat_room_width')+50)+"px;width:"+(ew-(cL(0,0,'chat_room_width')+50))+"px;height:18px;overflow:hidden'><div id='fc_top_info_inner' style='position:absolute;top:0px;left:0px;width:400px;height:18px;font-weight:bold;font-style:italic;"+dE+"'></div></div>";var w="<div class='' style='position:absolute;top:"+(fs)+"px;left:8px;width:200px;height:20px;"+dE+"'>"+cL(14)+"</div>"+"<div id='fc_cl7'>"+"<a id='fc_cli7' "+bW+"clearMsgs(7);' onmouseover='getElementById(\"fc_e_cl7\").className=\"fc_e fc_e_cl2b\"' onmouseout='getElementById(\"fc_e_cl7\").className=\"fc_e fc_e_clb\"'>"+"<span class='fc_e fc_e_clb' id='fc_e_cl7' title='"+cL(18)+"' style='display: block;position:absolute;top:"+(fs)+"px;left:"+(cL(0,0,'private_chat_width')+12)+"px;'></span>"+"</a>"+"</div>"+"<div id='fc_flt' class = 'fc_cborder' style='position:absolute;top:"+(fs)+"px;left:"+(cL(0,0,'private_chat_width')+42)+"px;'>"+"<a style='position:absolute;display:block;top:0px;left:0px' "+bW+"filt(1);'>"+"<span title='"+cL(22)+"' class='fc_e fc_e_flt'></span>"+"</a>"+"</div>"+"<div id='fc_del'>"+"<a id='fc_dela' "+bW+"deletePrivateMsgs();' onmouseover='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del2\"' onmouseout='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del\"'>"+"<span class='fc_e fc_e_del' id='fc_e_del' title='"+cL(21)+"' style='display: block;position:absolute;top:"+(fs)+"px;left:"+(cL(0,0,'private_chat_width')+27)+"px;'></span>"+"</a>"+"</div>"+"<div id='fc_msg_selector_outer' style='position:absolute;top:"+fC+"px;left:"+fD+"px;width:"+(ew-fD)+"px;height:18px;overflow:hidden;'>"+"<div id='fc_msg_selector' style='position:absolute;top:0px;left:0px;height:18px;width:400px;"+dE+";font-weight:normal;font-style:italic;'>"+cL(425,'All Conversations')+":</div>"+"</div>";gu[fM]="<div id='fc_bDbackup' style='position:relative;top:0px;left:0px;width:100%;height:100%;background-color:"+dc.background_color+"'></div>"+"<div id='fc_gco' style='position:absolute;top:0px;left:0px;'>"+(fk==1?w:v)+"</div>"+"<div id='fc_bck' style='display:none;position:absolute;top:3px;left:5px;height:20px;'><a style='"+dc.links.css+";' "+bW+"rem();'>&laquo;&laquo;"+cL(13)+"</a></div>"+"<div id='fc_midsection' style='position:absolute;top:"+(fr)+"px;left:0px'>"+"<div id='fc_dragger' class='fc_drag' style='display: none; position: absolute;top: 4px;left: 8px;z-Index:"+(fS+600)+"; background-image: url("+fW+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: 16px; height:13px; background-position: -143px -88px;cursor:e-resize;'></div>"+u(0,3)+"<div id='fc_gco' style='display:"+fo+";position:absolute;top:0px;left:0px;'>"+(fk==1?v:w)+"</div>"+"<div id='fc_bottom_info_outer' style='position:absolute;top:2px;left:"+(ew-33-cL(0,0,'functions_bar_width'))+"px;width:"+cL(0,0,'functions_bar_width')+"px;height:18px;overflow:hidden'>"+"<div id='fc_bottom_info_inner' style='position:absolute;top:0px;left:0px;width:370px;height:18px;'>"+"<span unselectable='on' id='fc_sign_in_out' style='"+dc.other_buttons.states.link_css+"'>&bull; "+lr(bc.uid)+"</span>"+"<span unselectable='on' id='fc_usrlist' style='display:"+(U.show_user_list?fi:fh)+";'>"+"<a unselectable='on' style='"+dc.other_buttons.states.link_css+"' href='javascript:void(0);' onclick='return fc_chat.tgl_info_panel(\"userlist\")' target=_blank>"+cL(373,'User List')+"</a>&nbsp;&nbsp;"+"</span>"+"<span unselectable='on' id='fc_exit_room2' style='display:"+(fk==1?fh:fi)+';'+dc.other_buttons.states.link_css+";"+dc.chatrooms_panel.exit_room_link_disabled_css+"'>"+cL(395,'Exit Room')+"</span>"+"</div>"+"</div>"+"</div>"+"<div  id='fc_widgets' style='position:absolute;top:"+(fc_chat.bottom_section+bc.window_height_offset)+"px;left:8px;height:16px;'>"+"<a id='fc_bld' style='margin-left:1px' href=\"javascript:fc_chat.insertTags(\'"+cL(37)+"\',\'"+cL(37)+"\',\' "+cL(23)+" \',1);\" border=0>"+"<img title='"+cL(23)+"' style='"+s+"' id='fc_e_bld' src='"+fW+"text_bold.png'>"+"</a>"+"<a id='fc_it' style='margin-left:1px' href=\"javascript:fc_chat.insertTags(\'"+cL(38)+"\',\'"+cL(38)+"\',\' "+cL(24)+" \',1);\" border=0>"+"<img title='"+cL(24)+"' style='"+s+"' id='fc_e_it' src='"+fW+"text_italic.png'>"+"</a>"+"<a id='fc_uln' style='margin-left:1px' href=\"javascript:fc_chat.insertTags(\'"+cL(39)+"\',\'"+cL(39)+"\',\' "+cL(25)+" \',1);\" border=0>"+"<img title='"+cL(25)+"' style='"+s+"' id='fc_e_uln' src='"+fW+"text_underline.png'>"+"</a>"+"<a id='fc_img' style='margin-left:2px' href=\"javascript:fc_chat.insertTags(\'[[\',\']]\',\'"+cL(36)+"\',1);\" border=0>"+"<img title='"+cL(26)+"' id='fc_e_img' src='"+fW+"image_1.png'>"+"</a>"+"<a class='fc_tools_a' style='margin-left:2px' href=\"javascript:void\" onclick=\"return fc_chat.tgl_tools(0,"+dc.tools_panel.smileys.width+","+dc.tools_panel.smileys.height+")\">"+"<img id='fc_e_sml' src='"+fW+"emoticon_smile.png'>"+"</a>"+"<a id='fc_vid' style='margin-left:1px"+(fc_chat.vidAcc>1?"":t)+"' "+bW+"launchVideoChat(0)'>"+"<img title='"+cL(31)+h+"' id='fc_e_vid' src='"+fW+"webcam.png'>"+"</a><div style='position:absolute;top:0px;left:107px;'><a title='"+cL(303,"more")+"' style='"+dc.widgets.more_icon_css+"' class='fc_tools_a' href=\"javascript:void\" onclick=\"return fc_chat.tgl_tools(1,"+dc.tools_panel.icons.width+","+dc.tools_panel.icons.height+")\">"+"&raquo;&raquo</a></div>"+"<div id='fc_msg_to_outer' style='position:absolute;top:1px;left:125px;width:"+(ew-165)+"px;height:18px;overflow:hidden'><div id='fc_msg_to' style='position:absolute;top:0px;left:0px;width:400px;height:18px;'></div></div>"+"</div>"+"<div id='fc_dragger4' class='fc_drag' style='display: block; position: absolute;top: "+fE+"px;left: "+(ew-27)+"px;z-Index:"+(fS+600)+"; background-image: url("+fW+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: 30px; height:4px; background-position: -142px -140px;cursor:s-resize;'></div>"+"<br><br>";var x=dD+";font-size:"+(dc.text.font.size-2)+"px;";gv=document.createElement('div');gv.setAttribute('id','fc_bD0');gv.style.display=fg;gv.style.position='absolute';gv.style.width=eQ+'px';gv.style.height=bc.chat_window_height+'px';gv.style.zIndex=fS+200;gv.style.top='0px';gv.style.left=eR+'px';gv.style.backgroundColor='transparent';gv[fM]=""+"<div style='position:absolute;top:3px;left:3px;width:"+eS+"px;height:12px;'><span style='"+x+"'>"+cL(15)+"</span></div>"+"<div id='fc_ce_g' style='position:absolute;top:"+(23+Math.floor((eP+eL)/2))+"px;left:3px;width:"+eS+"px;height:12px;'><span style='"+x+"'>"+cL((fk==1?17:16))+"</span></div>"+"<div id='fc_ce_go' style='position:absolute;top:"+(24+Math.floor((eP+eL)/2))+"px;left:3px;width:"+eS+"px;height:18px;'></div>"+u(3,6)+"<div id='fc_midsection2' style='position:absolute;top:"+ft+"px;left:0px'>"+"<div style='display:"+fo+";position:absolute;top:21px;left:3px;width:"+eS+"px;height:12px;'><span style='"+x+"'>"+cL(17)+"</span></div>"+"<div id='fc_op1' style='position: absolute;top: 1px; left: "+(eV+cL(0,0,'close_offset'))+"px'>"+"<div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+fX+"</a></div>"+"</div>"+"<div id='fc_tgl1' style='"+(X?"display:none;":"")+"position: absolute; top:1px; left: "+(eW+cL(0,0,'close_offset'))+"px;'>"+"<div class='fc_obtn_dis'><a class='fc_obtn_disa'>"+cL(8)+"</a></div>"+"</div>"+"</div>"+"<div id='fc_bottomsection' style='position:absolute;top:"+(eY+bc.window_height_offset)+"px;left:0px;width:"+eQ+"px'>"+"<div id='fc_sg1' style='display:"+fp+";position: absolute;top: 4px; left: 8px;'>"+"<div class='fc_srbtn_dis'><a class='fc_srbtn_disa'>"+cL(10)+"</a></div>"+"</div>"+"<div id='fc_sp1' style='display: block; position: absolute;top: "+fF+"px; left: 8px;'>"+"<div class='fc_spbtn_dis' ><a class='fc_spbtn_disa' "+fG+">"+cL(11)+"</a></div>"+"</div>"+"<div id='fc_dragger2' class='fc_drag' style='display: none; position: absolute;top: 42px;left: "+eU+"px;z-Index:"+(fS+600)+"; background-image: url("+fW+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: 16px; height: 16px; background-position: -143px -102px;'></div>"+"</div>"+"<br><br>";gx=document.createElement('div');s_d_s(gx,fp,'18','8',ew,fw,dd.chat_room_panel.border_css,'transparent',dd.font.size,'fc_d1');if(hg){gx.style.overflow='hidden'}if(he){gw=document.createElement('div');s_d_s(gw,fp,'0','0',ew,'',null,'transparent',dd.font.size,'fc_d1');gw.style.overflow='hidden'}else{gw=gx}gy=document.createElement('div');s_d_s(gy,fp,'18','8',ew,fw,dd.chat_room_panel.border_css,dd.chat_room_panel.background_color,dd.font.size,'fc_d1');if(dd.chat_room_panel.background_image!=""){gy.style.background="url("+fW+dd.chat_room_panel.background_image+")"}gR=document.createElement('div');gR.setAttribute('id','fc_it1');gR.style.display=fh;gR.style.position='absolute';gR.style.width=ew+'px';gR.style.height=(ev+eL)+'px';gR.style.zIndex=fS+503;gR.style.top='18px';gR.style.left='8px';gA=document.createElement('div');s_d_s(gA,fq,fu,'8',ew,fv,dd.private_chat_panel.border_css,'transparent',dd.font.size,'fc_d1');if(hg){gA.style.overflow='hidden'}if(he){gz=document.createElement('div');s_d_s(gz,fq,'0','0','','',null,'transparent',dd.font.size,'fc_d1');gz.style.overflow='hidden'}else{gz=gA}gB=document.createElement('div');s_d_s(gB,fq,fu,'8',ew,fv,dd.private_chat_panel.border_css,dd.private_chat_panel.background_color,dd.font.size,'fc_d1');if(fk==0){if(dd.private_chat_panel.background_image!=""){gB.style.background="url("+fW+dd.private_chat_panel.background_image+")"}}else{if(dd.private_chat_panel.msgcenter_background_image!=""){gB.style.background="url("+fW+dd.private_chat_panel.msgcenter_background_image+")"}}gz[fM]="<IMG id='fc_img7' SRC='"+Z+"trans.gif' height=1 width=30 style='"+dk+"'>";fm=(fk==1?gA:gx);fl=(fk==1?gz:gw);fl[fM]='<div style="'+dk+'width:'+ew+'px">'+jV(cL(120),1)+'</div>';gD=document.createElement('div');gD.setAttribute('id','fc_onl');s_d_s(gD,fg,'18','0',eS,Math.floor((eP+eL)/2),de.border_css,'transparent',de.font.size,'fc_d2',null,1);gD[fM]="";gE=document.createElement('div');s_d_s(gE,fg,'18','0',eS,Math.floor((eP+eL)/2),de.border_css,dy,de.font.size,'fc_d2',null,1);gG=document.createElement('div');gG.setAttribute('id','fc_chatmem');s_d_s(gG,fp,38+Math.floor((eP+eL)/2),'0',eS,fz,de.border_css,'transparent',de.font.size,'fc_d2',null,1);gG[fM]="";gH=document.createElement('div');s_d_s(gH,fp,38+Math.floor((eP+eL)/2),'0',eS,fz,de.border_css,dy,de.font.size,'fc_d2',null,1);gJ=document.createElement('div');gJ.setAttribute('id','fc_priv');s_d_s(gJ,fq,fx,'0',eS,fy,de.border_css,'transparent',de.font.size,'fc_d2',null,1);gJ[fM]="";gK=document.createElement('div');s_d_s(gK,fq,fx,'0',eS,fy,de.border_css,dy,de.font.size,'fc_d2',null,1);gL=document.createElement('div');gL.setAttribute('id','fc_chat_arc');gL[fM]="";gL.style.zIndex=fS+201;gM=document.createElement('div');gM.setAttribute('id','fc_priv_arc');gM.style.zIndex=fS+201;gM[fM]="";gN=document.createElement('div');gN.setAttribute('id','fc_userlist');gN[fM]="";gN.style.zIndex=fS+201;gO=document.createElement('div');gO.setAttribute('id','i8');s_d_s(gO,fg,'0','0','423',g,null,'black',dd.font.size,'fc_d1');gO.style.zIndex=fS+700;gO[fM]="";if(he){gC=document.createElement('div');gC.setAttribute('id','fc_onl_in');s_d_s(gC,fg,'0','0',eS,'',null,'transparent',de.font.size,'fc_d2');gC[fM]="";gC.style.overflow='hidden';gF=document.createElement('div');gF.setAttribute('id','fc_chatmem_in');s_d_s(gF,fg,'0','0',eS,'',null,'transparent',de.font.size,'fc_d2');gF[fM]="";gF.style.overflow='hidden';gI=document.createElement('div');gI.setAttribute('id','fc_priv_in');s_d_s(gI,fg,'0','0',eS,'',null,'transparent',de.font.size,'fc_d2');gI[fM]="";gI.style.overflow='hidden';s_d_s(gL,fh,'0','0','','',null,'transparent',dd.font.size,'fc_d1');gL.style.overflow='hidden';s_d_s(gM,fh,'0','0','','',null,'transparent',dd.font.size,'fc_d1');gM.style.overflow='hidden';s_d_s(gN,fh,'0','0',ew-20,'',null,dc.info_panel.background_color,dd.font.size,'fc_d6');gN.style.overflow='hidden'}else{gC=gD;gF=gG;gI=gJ;s_d_s(gL,fh,'18','8',ew,ev+eL,dd.chat_room_panel.border_css,'transparent',dd.font.size,'fc_d1');s_d_s(gM,fh,fu,'8',ew,fv,dd.private_chat_panel.border_css,'transparent',dd.font.size,'fc_d1');s_d_s(gN,fh,'18','8',ew,fH,dd.chat_room_panel.border_css,dc.info_panel.background_color,dd.font.size,'fc_d6')}bc.infoChatBox=bc.createWidget('InfoBox',[W(gu),jM,false]);gP=document.createElement('textarea');gP.className='fc_txt fc_input';gP.setAttribute('id','fc_chat');gP.style.display=fg;gP.style.position='absolute';gP.style.top=(fc_chat.bottom_section+18+bc.window_height_offset)+'px';gP.style.left='8px';gP.style.width=ey+'px';gP.style.height=dc.send_chat_panel.height+'px';gP.onkeypress=fc_chat.oKD2;gP.onkeydown=fc_chat.oKD;gP.onfocus=fc_chat.oF;if(cM)W(gP).css('font-size','16px');if(he){gx.appendChild(gw);gx.appendChild(gL);gA.appendChild(gz);gA.appendChild(gM);gD.appendChild(gC);var y=(fk==1?gA:gx);y.appendChild(gN);gG.appendChild(gF);gJ.appendChild(gI)}else{gu.appendChild(gL);gu.appendChild(gM);gu.appendChild(gN)}gv.appendChild(gE);gv.appendChild(gD);gv.appendChild(gH);gv.appendChild(gG);gv.appendChild(gK);gv.appendChild(gJ);gu.appendChild(gy);gu.appendChild(gx);gu.appendChild(gR);gu.appendChild(gB);gu.appendChild(gA);gu.appendChild(gO);gu.appendChild(gP);gu.appendChild(gv);gu.style.left='0px';gu.style.top='0px';gu.style.borderLeft='0px';gu.style.borderTop='0px';var z='1px solid #444444';var A=U.styles.chat_window.frame;var B=!X&&!hc&&U.pin_windows;var C=B&&U.pinned_by_default;if(!X){fO=this.createWidget('DefaultWindow',["<span style='"+A.title_css+"'>"+(fk==1?cL(388,'MsgCenter'):cL(151))+"</span>",fb,fa-(C?W(document).scrollTop():0),f,g,'default',A.color,(A.opacity*100),z,'e3e3e3','','element',gu,false,(X?false:true),bh,cL(154),cL(155),cL(156),cL(157),cL(315,"pin to screen"),cL(316,"unpin"),B,C]);fO.mH=eu+45;fO.MH=et+45;fO.MW=10000;fO.shieldOnDrag=true;if(jGo.browser.browser=='Firefox'){fO.maxOpacity=.9999;fO.cA.css({opacity:.9999})}if(X){fO.eventsEnabled=false};fO.onMouseDown=function(e){if(!l){if(jGo.scripts.loadState('jGo.DefaultWindow.ext.min.js')=='loaded'){this.getDefault().onMouseDown.call(this,e)}}};fO.raiseDragShield=function(){if(!l&&!ed){this.getDefault().raiseDragShield.call(this);if(bP){bc.oD.style.display=fh;if(hc){bc.oIF.style.display=fh}}bP=false;if(hc){hb.style.display=fh}}};fO.lowerDragShield=function(){if(!l&&!ed){this.getDefault().lowerDragShield.call(this);if(hc){hb.style.display=fg}}};fO.minimize=function(){if(!l&&!ed){this.getDefault().minimize.call(this);var a=fO.getBorderElements();var b=$("jGo_dragbm"+fO.id);W(b).css("cursor","default");b.setAttribute("id","jGo_fixbm"+fO.id);if(bP){bc.oD.style.display=fh;if(hc){bc.oIF.style.display=fh}}bP=false;if(hc){hb.style.display=fh}}};fO.restore=function(){if(!l&&!ed){this.getDefault().restore.call(this);var a=$("jGo_fixbm"+fO.id);W(a).css("cursor","");a.setAttribute("id","jGo_dragbm"+fO.id);if(hc){hb.style.display=fg}}};fO.moveWindow=function(){if(!l&&!ed){this.getDefault().moveWindow.call(this,arguments[0],arguments[1])}};fO.onMouseMoveResizeR=function(e){};fO.onMouseMoveResizeB=function(e){};fO.onMouseMoveResizeBR=function(e){};fO.maximize=function(){if(!l&&!ed){fc_chat.toggleHide();fO.lock=false}};fO.togglePin=function(){if(!ed){var a=W('#fc_loginbox');var b=W('#fc_alertbox');var c=(fO.fixed?"absolute":"fixed");var d=(!fO.fixed?-jGo.$(document).scrollTop():0);if(bc.oD!=null){W(bc.oD).css({"position":c,"top":W(bc.oD).offset().top+d-9+'px'})}if(a[0]!=null){a.css({"position":c,"top":a.offset().top+d+'px'})}if(b[0]!=null){b.css({"position":c,"top":b.offset().top+d+'px'})}this.getDefault().togglePin.call(this)}};fO.close=function(){if(!ed){fc_chat.open_chat_box();return false}};fO.destroy=function(){return false};fO.cN.css({'background-color':'transparent'});var D='jGo_fix';var E=fO.getBorderElements();E[3].setAttribute("id",D+"rl"+fO.id);E[5].setAttribute("id",D+"bl"+fO.id);W(E[3]).css("cursor","default");W(E[5]).css("cursor","default");fO.resizable=false;if(hc){hb=document.createElement("IFRAME");hb.className="jGo_app jGo_myapp";hb.frameBorder="0";hb.style.position='absolute';hb.style.scrolling='no';hb.style.zIndex=fS+99;hb.style.width=gu.style.width;hb.style.height=gu.style.height;hb.style.backgroundColor='transparent';hb.style.display=fg;hb.style.top='40px';hb.style.left='5px';fO.cA[0].appendChild(hb)}}else{if(cM){gu.style.top=cV.height+cV.border_height+'px'}W(document.body).append(gu);if(cM){cS.reposition()}}W('#fc_bDbackup').css('opacity',dc.opacity);W(gy).css(dd.chat_room_panel.css);W(gB).css(dd.private_chat_panel.css);W(gH).css('opacity',de.opacity);W(gE).css('opacity',de.opacity);W(gK).css('opacity',de.opacity);setOverlay(.05);iz();gP.value=cL(35);gQ=1;bc.img7=$('fc_img7');fR=$('fc_ce_g');hi[1]=gx.scrollHeight;le=true;return false};function clrOverlay(){W(gO).css({display:fh,"background-color":"transparent"})};function setOverlay(a){W(gO).css({display:fg,"border-radius":"0px",width:gu.style.width,height:gu.style.height,"background-color":"black",opacity:a})};var lf;this.omc;this.tgl_options=function(b){if(!b)b=0;var c=(bc.m==0&&!X);var d=0;var e=bc.optionsTop;d=W(gv).offset().left-eC+(-10+eV+cL(0,0,'close_offset'));e+=W(gv).offset().top+45;var f="fc_oD";var g=(bc.m==0?'checked':'');var h=(bc.m==1?'checked':'');var i=(bF==1?'checked':'');var j=(bF==0?'checked':'');bc.oD=$(f);var k='';if(bc.tPC!=null){bc.tPC.style.display=fh;if(hc){bc.tPB.style.display=fh}}bQ=false;if(bc.oD!=null){if(bc.oD.style.display==fh){lf.target.removeEventHandler('mousedown');lf.target=W('*.fc_options_a');lf.target.onEvent('mousedown',lf,'mouseOn','');if(jGo.browser.browser=='Opera'){disableScroll(0)}move_box(bc.oD,d,e);W(bc.oD).fadeIn(b);if(hc){move_box(bc.oIF,d,e);bc.oIF.style.display=fg}gs[6]=0;for(var l in cw){if(cw.hasOwnProperty(l)){k+='<div class="fc_'+l+'" id=fc_bl'+gq[6]+' style="display:block; text-align:left;width:250px; z-Index:'+(fS+202)+';padding-top:2px;padding-bottom:2px;border-bottom:'+dh.separator+';background-color:'+dh.background_color+';'+dh.font_css+'" onMouseOver="this.style.backgroundColor=\''+dh.hover_color+'\';" onMouseOut="fc_chat.offBlk2(this)" onCLick="fc_chat.clickBlk2(this)"> &nbsp;'+a.snm[l]+'</div>';cw[l]='fc_bl'+gq[6];gq[6]++;gs[6]++}}hi[6]=gX.scrollHeight;gX[fM]=k;bP=true;if(jGo.browser.browser=='Explorer'){setTimeout("fc_chat.change_Border_oD(false)",200)}}else{if(jGo.browser.browser=='Opera'){disableScroll(1)}bP=false;if(gb!='0'){var m=$('fc_r');m[fM]="<div class='fc_opbtn_dis' ><a class='fc_opbtn_disa'>"+cL(135)+"</a></div>"}gb='0';W(bc.oD).fadeOut(b);if(hc){bc.oIF.style.display=fh}}W("#fc_op_nm").html(a.snm[bc.uid]);return false}var n=fc_ex.oD(f,eC,eD,fS,dV,g,h,i,j,iE,iB,hc);bc.oD=n[0];gS=n[1];gT=n[2];document.body.appendChild(bc.oD);W(bc.oD).fadeIn(b);move_box(bc.oD,d,e);if(hc){bc.oIF=fc_ex.oIF(fS,gS);document.body.appendChild(bc.oIF);move_box(bc.oIF,d,e)}var o=dh.background_color;var p=dh.border;gY=document.createElement('div');s_d_s(gY,fg,'','','45','60',p,o,'7pt','fc_d3','');$('fc_opcnt1').appendChild(gY);gY[fM]=fc_ex.i4o(bu,fS);gX=document.createElement('div');s_d_s(gX,fg,'','','130','85',p,o,'7pt','fc_d3','');gX[fM]="";$('fc_opcnt3a').appendChild(gX);W([gX,gY]).css({'overflowX':'hidden','-moz-border-radius':'5px','-webkit-border-radius':'5px','border-radius':'5px'});gs[6]=0;for(var l in cw){if(cw.hasOwnProperty(l)){k+='<div class="fc_'+l+'" id=fc_bl'+gq[6]+' style="display:block; text-align:left; width:250px; z-Index:'+(fS+202)+';padding-top:2px;padding-bottom:2px;border-bottom:'+dh.separator+';background-color:'+dh.background_color+';'+dh.font_css+'" onMouseOver="this.style.backgroundColor=\''+dh.hover_color+'\';" onMouseOut="fc_chat.offBlk2(this)" onCLick="fc_chat.clickBlk2(this)"> &nbsp;'+a.snm[l]+'</div>';cw[l]='fc_bl'+gq[6];gq[6]++;gs[6]++}}hi[6]=gX.scrollHeight;gX[fM]=k;if(lf){lf.disableControl()}lf=new jGo.DefaultMenuController('fc_opt_cont','*.fc_options_a',bc.oD,fc_chat,'tgl_options');this.omc=lf;bP=true;W("#fc_op_nm").html(a.snm[bc.uid]);setTimeout("fc_chat.change_Border_oD(false)",200);if(jGo.browser.browser=='Opera'){disableScroll(0)}return false};var lg;var lh=function(a){var b=iP(iM(a));lg=iT(b[0].id);for(var i=0;i<b.length;i++){var j=iT(b[i].id);bG[j]={};bG[j].next=(i+1<b.length?iT(b[i+1].id):null);lj(i,j,b)}};var li=function(a,b){if(!bG)return;var c=iP(iM(a));for(var i=0;i<c.length;i++){var d=0;var e=0;var f=iT(c[i].id);if(!bG[f]){d=1;e=1;bG[f]={}}else{var g=parseInt(c[i].fl,16);if(!((g&hz[1])==hz[1])){e=2}}if(e!=2){lj(i,f,c,e)}var h=iT(c[i].pos);var k=lg;if(h!=0&&e!=1){var l=1;while(true){var m=bG[k].next;if(m==f){break}l++;k=m}if(l!=h||e==2){d=1;bG[k].next=bG[f].next}}if(d==1&&e!=2){k=lg;for(var j=0;j<h-1;j++){m=bG[k].next;if(m==null){break}k=m}bG[f].next=bG[k].next;bG[k].next=f}var n;var o;if(e==1){n=W(document.createElement('div'));n.attr('id','fc_grpo1'+f);o=W(document.createElement('div'));o.attr('id','fc_grpo0'+f)}else{n=W('#fc_grpo1'+f);o=W('#fc_grpo0'+f)}if(e!=2){n.html(lk(f,1));o.html(lk(f,0));if(bG[f].next!=null){W('#fc_grpo1'+bG[f].next).before(n);W('#fc_grpo0'+bG[f].next).before(o)}else{W('div.fc_roomlist1').append(n);W('#fc_t6').append(o)}}else{n.remove();o.remove()}if(e==2){delete bG[f]}if(cP==f){if(e==0){W('span.fc_room_name').html(bG[f].nm)}else if(e==2){fc_chat.closeRoom()}}if(b=='2'){ln()}}};var lj=function(i,j,a,k){bG[j].nm=a[i].nm;bG[j].dsc=(a[i].desc?a[i].desc:'');bG[j].lg=(a[i].lg?a[i].lg:'');if(k!=0){bG[j].lastMsg={id:(a[i].lmsg?a[i].lmsg[0]:""),username:(a[i].lmsg?a[i].lmsg[1]:""),datetime:(a[i].lmsg?a[i].lmsg[2]:""),message:(a[i].lmsg?a[i].lmsg[3]:"")};var b=(k==1?0:a[i].msgC);bG[j].baseMsgCount=b;bG[j].lastMsgCount=b;bG[j].msgCount=b}var c=parseInt(a[i].fl,16);bG[j].l=((c&hz[3])==hz[3]?1:0);bG[j].v=((c&hz[4])==hz[4]?1:0);bG[j].d=0;for(var z=0;z<U.disabled_rooms.length;z++){if(U.disabled_rooms[z]==bG[j].nm){bG[j].d=1}}for(var z=0;z<U.hidden_rooms.length;z++){if(U.hidden_rooms[z]==bG[j].nm){bG[j].d=2}}};var lk=function(j,b){var c=(b?di:dj);var d=c.selected_color;var e="";var f="";var g=c.room_name_font_css;var h=j;if(h!=cP||fY=='0'){d=c.background_color}if(bG[j].l==1){e="<img src='"+fW+"lock.png' height='16px' style='height: 16px; width: 16px;' align=absmiddle>&nbsp;"}if(bG[j].v==0&&fc_chat.vidAcc>1&&U.show_a_v_icon){f='<span>'+cL(85)+'</span>&nbsp;'}var i="";if(bG[j].d==1){g=c.disabled_room_name_font_css;i=hC}if(bG[j].d==2){i="display:none;"}var k='';for(var l in a.g){if(a.g.hasOwnProperty(l)){if(a.g[l]==h&&a.o[l]=='1'&&a.t[l]=='1'){k+=ll(l,b,h)}}}var m=fh;var n='';if(bG[j].msgCount!='0'){m=fi;n=iq(bG[j].lastMsg.datetime,0,1)}var o=bG[j].msgCount-bG[j].baseMsgCount;if(bH[j]){if(bH[j]>bG[j].msgCount){bH[j]=bG[j].msgCount}o+=bH[j]}var p=c.room_passwords;var q=(b?60:50);var r='style="display:none;'+g+'">&nbsp;<a href="javascript:void" onclick="'+dH;return'<div  class="fc_grpt'+b+' fc_grp'+h+'" id="fc_grp'+b+h+'" style="border-bottom:'+c.separator+';'+i+';z-Index:'+(fS+202)+';background-color:'+d+'" onMouseOver="fc_chat.overGrp(this);" onMouseOut="fc_chat.offGrp(this);" '+(open_chatrooms_in_window?'':'onClick="fc_chat.c_g(this);"')+'>'+'<div style="padding-top:10px;padding-bottom:10px;margin-left:3px;text-align:left;">'+(open_chatrooms_in_window?'<a style="cursor:default;text-decoration:none" onclick="fc_chat.openPopup();" target=_blank href="'+bg+'?rmid='+h+'" >':'')+'<div style="cursor:default;'+g+'">'+(bG[j].lg!=''?'<img src="'+bG[j].lg+'" height="'+q+'" style="height:'+q+'px;float:left;padding:4px 5px 5px 4px">':'')+e+'<span style="cursor:default;'+g+'">'+bG[j].nm+'</span>'+'<span class="fc_rms'+j+'" style="cursor:default;'+c.count_font_css+'">&nbsp;('+gr[j-0]+')'+'</span>&nbsp;'+(bG[j].dsc!=''?'<span style="cursor:default;'+c.font_css+'">'+bG[j].dsc+'</span>':'')+'<br>'+(bG[j].l==1?'<div class="fc_locked_room" id="fc_locked_room'+b+h+'" style="display:none"><input onclick="'+dH+'" id="fc_rpass'+b+h+'" onkeypress="fc_chat.sendOnEnter(this,\'c_gL\',event,'+b+','+h+')" type=password name=password style="margin:10px 0px 5px 0px;width:120px;'+p.textfield_css+'" maxlength="15">&nbsp;<span style="'+p.font.textfield_description_css+'">'+cL(90)+'</span>&nbsp;&nbsp;&nbsp;<span id="fc_passtxt'+b+h+'"></span></div>':'')+f+(!U.no_chat_history?'<span style="cursor:default;'+c.font_css+'" class="fc_msg_count'+h+'">'+cL(396,'Msgs: ')+bG[j].msgCount+'&nbsp;</span>':'')+'<span style="cursor:default;'+c.font_css+'" class="fc_new_msg_count'+h+'">'+cL(397,'New: ')+(o)+'</span><br>'+(!U.no_chat_history?'<span style="cursor:default;'+c.font_css+';display:'+m+'" class="fc_last_msg'+h+'">'+cL(398,'Last update ')+n+cL(399,' by ')+kq(iM(bG[j].lastMsg.username.split('&')[0]),'')+'</span>':'')+'</div>'+(open_chatrooms_in_window?'</a>':'')+'<span class="fc_edit_room'+b+'" '+r+'fc_chat.tgl_info_panel(\'createedit\',1,\''+j+'\');return false">'+cL(86)+'</a></span>'+(j==lg?'':'<span class="fc_delete_room'+b+'" '+r+'fc_chat.admin_delete_room(\''+j+'\');return false">'+cL(87)+'</a></span>')+'<span class="fc_clear_room'+b+'" '+r+'fc_chat.admin_clear_room(\''+j+'\');return false">'+cL(88)+'</a></span>'+'<div style="margin-top:2px;clear:left;" class="fc_room_members'+b+h+'" >'+k+'</div>'+'</div>'+'</div>'};var ll=function(b,n,c){var d=(n?fc_chat.uolnk(b,1,1):'onclick=\''+dH+'return fc_chat.toggleMenu(this,'+b+',"u1");\'');return'<span class="fc_rmid'+b+''+c+'" style="">'+lM(b,null,0,1,2,null,15)+'&nbsp;<a style="text-decoration:none" title="'+a.snm[b]+': '+cL(282,"Click for options")+'" href="javascript:void" '+d+'>'+a.snm[b]+'</a>&nbsp;</span>'};var lm=function(a){var b=(a?di:dj);var c='';var j=lg;while(true){var d=j;c+='<div id="fc_grpo'+a+d+'" '+(U.chatcenter_layout==1?'style="display:none"':'')+'>'+lk(j,a)+'</div>';j=bG[j].next;if(!j){break}}return(U.chatcenter_layout==1?"<div style='padding:10px;"+b.room_name_font_css+"'>"+cL(390,"Not In Use")+"</div>"+c:c)};var ln=function(){if(cJ=='2'&&U.chatcenter_layout==0){W("span.fc_create_room1").css({display:fi});W("span.fc_edit_room1").css({display:fi});W("span.fc_delete_room1").css({display:fi});W("span.fc_clear_room1").css({display:fi})}};this.overGrp=function(v){var a=(W(v).hasClass('fc_grpt1')?di:dj);v.style.backgroundColor=a.hover_color};this.offGrp=function(v){var a=(W(v).hasClass('fc_grpt1')?di:dj);v.style.backgroundColor=((W(v).hasClass('fc_grp'+fc_chat.get('current_room'))&&fY=='1')?a.selected_color:a.background_color)};var lo=function(){ls(0);W('#fc_grp0'+cP).css('backgroundColor',dj.background_color)};var lp=function(a,b){W('#fc_grp0'+a).css('backgroundColor',dj.background_color);W('#fc_grp1'+a).css('backgroundColor',di.background_color);W('#fc_grp0'+b).css('backgroundColor',dj.selected_color);W('#fc_grp1'+b).css('backgroundColor',di.selected_color)};function uRmC(i){var b=a.g[i];var c=iT(a.s[i].substr(10));if(a.t[i]==a.s[i].charAt(3)){if(b!=c&&a.t[i]=='1'){gr[b]++;W('div.fc_room_members1'+b).prepend(ll(i,1,b));W('div.fc_room_members0'+b).prepend(ll(i,0,b));gr[c]--;W('span.fc_rmid'+i+''+c).remove();gt=true}}else{if(a.t[i]=='1'){gr[b]++;W('div.fc_room_members1'+b).prepend(ll(i,1,b));W('div.fc_room_members0'+b).prepend(ll(i,0,b))}else{gr[c]--;W('span.fc_rmid'+i+''+c).remove()}gt=true}};function disRmC(){for(var a in bG){if(bG.hasOwnProperty(a)){W('span.fc_rms'+a).html("&nbsp;("+gr[a-0]+")")}}};var lq=function(a){if(fZ==0){for(var j=0;j<a.length-1;j+=2){var b=a[j]-0;if(!bH[b]){bH[b]=0}bH[b]+=a[j+1]-0}}else{for(var j=0;j<a.length-1;j+=4){var b=a[j]-0;if(bG[b]){bG[b].msgCount=a[j+2];W('span.fc_msg_count'+a[j]).html(cL(396,'Msgs: ')+bG[b].msgCount+'');if(bG[b].msgCount<bG[b].baseMsgCount){bG[b].baseMsgCount=bG[b].msgCount}var c=bG[b].msgCount-bG[b].baseMsgCount;if(bH[b]){if(bH[b]>bG[b].msgCount){bH[b]=bG[b].msgCount}c+=bH[b]}var d=bG[b].msgCount-bG[b].lastMsgCount;if(cP==b&&d>0){lP(d)}bG[b].lastMsgCount=bG[b].msgCount;W('span.fc_new_msg_count'+a[j]).html('&nbsp;'+cL(397,'New: ')+c+'');var e=fh;var f='';if(bG[b].msgCount!='0'){e=fi;var g=a[j+3];bG[b].lastMsg={id:g[0],username:g[1],datetime:g[2],message:g[3]};f=iq(bG[b].lastMsg.datetime,0,1)};W('span.fc_last_msg'+a[j]).html(cL(398,'Last update ')+f+cL(399,' by ')+kq(iM(bG[b].lastMsg.username.split('&')[0]),'')).css("display",e)}}}};var lr=function(u,a){a=a||dc.other_buttons.states.link_css;var b="<a unselectable='on' style='"+a+bV;if(u==bc.uid&&dX&&fY=='1'){b+="sign_in()'>"+cL(43)+"</a>&nbsp;&nbsp;"}else if(u==bc.uid&&!dX&&ih(14)!="3"&&fY=='1'){b+="logout()'>"+cL(44)+"</a>&nbsp;&nbsp;"}else{b=""}return b};var ls=function(k){W('#fc_exit_room').html((k?"<a class='fc_grpt0 fc_ext"+cO+"' style='"+bd.chatrooms_box.text.link_css+"' href='javascript:void(0)' onclick='fc_chat.c_g(this);return false;'>"+cL(400,'Exit Current Room')+"</a>":cL(400,'Exit Current Room')));W('#fc_exit_room2').html((k?"<a class='fc_grpt1 fc_ext"+cO+"' style='"+dc.other_buttons.states.link_css+"' href='javascript:void(0)' unselectable='on' onclick='fc_chat.c_g(this);return false;'>"+cL(395,'Exit Room')+"</a>":cL(395,'Exit Room')))};var lt=function(a,k){var c=cL(0,0,'chat_room_width')+14;var d='3';var b='';if(k==7){c=cL(0,0,'private_chat_width')+12;d=fs;b='b'}if(a){W('#fc_cl'+k).html("<a id='fc_cli"+k+"' "+bW+"clearMsgs("+k+");' onmouseover='getElementById(\"fc_e_cl"+k+"\").className=\"fc_e fc_e_cl2"+b+"\"' onmouseout='getElementById(\"fc_e_cl"+k+"\").className=\"fc_e fc_e_cl"+b+"\"'><span class='fc_e fc_e_cl"+b+"' id='fc_e_cl"+k+"' title='"+cL(18)+"' style='display:block;position:absolute;top:"+d+"px;left:"+c+"px;'></span></a>")}else{W('#fc_cl'+k).html("<span style='position:absolute;"+hC+"top:"+d+"px;left:"+c+"px;' class='fc_e fc_e_cl'></span>")}};this.tgl_full_chat=function(a){if(!l&&fY=='0'){fc_chat.c_g(a)}};this.c_g=function(v){if(!l){fc={typ:(W(v).hasClass('fc_grpt1')?1:0),index:iT(v.className.substr(15)),id:W(v).attr('id'),elem:v};var a=iT(v.className.substr(15));if(a!=cP||fY=='0'){if(a==cO){fc_chat.c_g2('0')}else{if(bG[a]){if(bG[a].d==1){jP(U.disabled_room_msg)}else{if(bG[a].l==0){fc_chat.c_g2('0')}else{var b=fc.typ;if(W('#fc_locked_room'+b+''+a).css('display')==fg){W('#fc_locked_room'+b+''+a).css('display',fh)}else{W('div.fc_locked_room').css('display',fh);W('#fc_locked_room'+b+''+a).css('display',fg)}}}}}}}};this.c_g2=function(b){var c=fc.typ;var d=(c?di:dj);var e=fc.index;lP(-gk);if(fY==0){if(fZ<2&&e!=cP){cP=e;cQ=e;cN=true}fc_chat.open_chat_box();if(fZ<2||e==cP){if(cR()&&fc.id!='fc_open_full_chat')W(fc.elem).css("backgroundColor",d.selected_color);if(!cR()){ls(1)}return false}}else if(e!=cP){bR='3'}if(e!=cP){mR();l=true;gx.scrollLeft=1;lp(cP,e);W('#fc_op1').html("<div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+fX+"</a></div>");W('#fc_co').html("<span class='fc_e fc_e_co3'></span>");lt(1,6);W('#fc_groupType').html("");clearTimeout(hn);clearRoom(cP);if(hg){gx.style.overflow='hidden'}var f=[];for(var g in a.ge){if(a.ge.hasOwnProperty(g)){delete a.ge[g]}}hJ[7]=0;for(var g in a.de){if(a.de.hasOwnProperty(g)){if(a.g[g]==cP){a.gre[g]=''}if(e!=cO){if(a.g[g]==e&&a.o[g]=='1'&&a.t[g]=='1'){var z=c_i(g,0,4);var h='';h='&nbsp;&nbsp;'+lM(g,4,0,1);a.gre[g]='fc_gl'+gq[4];var i=(ga==g?dB:dz);var j=mQ(g)&&g!=bc.uid;var k='<div class="fc_'+g+' fc_gst'+(j?1:0)+'" id=fc_gl'+gq[4]+' style="display:'+(j&&!hK?'none':'block')+'; font-weight:bold;width:'+eS+'px;z-Index:'+(fS+202)+';'+dr+i+'" onClick="fc_chat.send_to('+g+')" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)">'+h+z+mN(g)+kP(g)+kQ(g)+kV(g)+'<div id="fc_gl'+gq[4]+'ico" style="padding-top:1px;padding-bottom:3px">'+kU(g)+lb(g)+mO(g)+mP(g)+'</div></div>';bldOr(g,f,k,7);gq[4]++;gs[4]++}}}}if(fc_chat.cvu_priv==null&&U.videoconerence_only_in_designated_rooms){fc_chat.closeVid()}cP=e;W('div.fc_locked_room').css('display',fh);lu(e,f);bc.img1C=0;gm[6]=0;gp[6]=1;gf='1';gc[2]=e+1;cs='000394'+iQ(e,6)+jGo.MD5.hex_md5(fd);kc()}};var lu=function(a,b){var c='<div style="'+dk+'width:'+(ew-30)+'px">';var d=hH+'<span class="fc_room_name" style="'+dw+'">';if(cR()){gw[fM]=c+jV(cL(401,'Loading Room List...Please wait...'))+'</div>';gF[fM]=d+cL(402,'No Room Selected')+'<span></span></div>';W('#fc_top_info_inner').html('');lt(0,6);ls(0)}else{gw[fM]=c+jV(cL(122))+'</div>';gF[fM]=d+bG[a].nm+'</span></span></div>'+getConts(b,7);W('#fc_top_info_inner').html("<a class='fc_grpt0 fc_grp"+cO+"' style='"+dc.other_buttons.states.link_css+";text-decoration:none' href='javascript:void(0)' onclick='fc_chat.c_g(this);'>&laquo;&laquo;</a> "+cL(40,"Room")+": <span class='fc_room_name' style='font-weight:bold;font-style:italic;"+dE+"'>"+bG[a].nm+"</span>");lt(1,6);ls(1)}};var lv=function(){var a=di.count_font_css;gw[fM]="<div class='fc_roomlist1' style='padding:3px;width:100%;overflow:auto;line-height:120%'>&nbsp;"+(!eg?kI():'')+"<div style='"+di.horizontal_rule+"'>"+cL(403,"Select a Room")+"&nbsp;&nbsp;&nbsp;<span class='fc_create_room1' style='display:none;'><a style='text-decoration:none;"+a+"' href='javascript:void();' onclick='fc_chat.tgl_info_panel(\"createedit\",0,\"\");return false'>"+cL(66)+"</a></span></div>"+lm(1)+"</div>";hn=setTimeout("fc_chat.showdiv(9)",20)};var lw;this.c_gL=function(a,b,c,d,e){if(!l){lw=d+''+e;l=true;clearTimeout(lx);$('fc_passtxt'+lw)[fM]=cL(158);v=$('fc_rpass'+lw);var f=v.value;v.value='';$('fc_rpass'+lw).disabled=true;if(v2(f)){cs='00039\\'+iQ(e,6)+jGo.MD5.hex_md5(fd);kc()}}};function v2(a){if(a.length>2&&a.length<16){if(!ff.test(a)){fd=a;return true}}fc_chat.eS2(1);l=false;return false};var lx;this.eS2=function(i){var a;if(i==1){a=cL(93)}if(i==2){a=cL(94)}if(i==3){a=cL(95)}clearTimeout(lx);$('fc_passtxt'+lw)[fM]='<br>'+a;$('fc_rpass'+lw).disabled=false;lx=setTimeout("fc_chat.clearRoompassTxt('"+lw+"')",7000)};this.clearRoompassTxt=function(a){$('fc_passtxt'+a)[fM]=''};var ly=navigator.userAgent.toLowerCase();var lz=((ly.indexOf('gecko')!=-1)&&(ly.indexOf('spoofer')==-1)&&(ly.indexOf('khtml')==-1)&&(ly.indexOf('netscape/7.0')==-1));var lA=((ly.indexOf('AppleWebKit')!=-1)&&(ly.indexOf('spoofer')==-1));this.insertTags=function(a,b,c,d){var e;if(d==1){e=document.getElementById('fc_chat');fc_chat.oF()}else if(d==3){e=document.getElementById('fc_uChat2')}else if(d==4){e=document.getElementById('fc_sendpagechat')}else{e=document.getElementById('fc_uChat')}if(document.selection&&!lz){var f=document.selection.createRange().text;if(!f){f=c}e.focus();if(f.charAt(f.length-1)==" "){f=f.substring(0,f.length-1);document.selection.createRange().text=a+f+b+" "}else{document.selection.createRange().text=a+f+b}}else if(e.selectionStart||e.selectionStart=='0'){var g=e.selectionStart,endPos=e.selectionEnd,scrollTop=e.scrollTop,myText=(e.value).substring(g,endPos);if(!myText){myText=c}if(myText.charAt(myText.length-1)==" "){subst=a+myText.substring(0,(myText.length-1))+b+" "}else{subst=a+myText+b}e.value=e.value.substring(0,g)+subst+e.value.substring(endPos,e.value.length);e.focus();var h=g+(a.length+myText.length+b.length);e.selectionStart=h;e.selectionEnd=h;e.scrollTop=scrollTop}else{var i=hw,re1=new RegExp("\\$1","g"),re2=new RegExp("\\$2","g");i=i.replace(re1,c);i=i.replace(re2,a+c+b);var j;if(c){j=prompt(i)}else{j=""}if(!j){j=c}j=a+j+b;document.infoform.infobox.value=j;if(!lA){e.focus()}hv=true}if(e.createTextRange)e.caretPos=document.selection.createRange().duplicate()};this.getPve=function(u){return a.pve[u]};this.getB=function(u){return a.b[u]};var lB=function(u){return(a.bg[u]&&a.bg[u]!='1'&&a.bs[u]!='1')};this.getO=function(u){return a.o[u]};this.getNm=function(u){return a.nm[u]};this.getAc=function(u){return a.ac[u]};this.getIdl=function(){if(a!=null&&a.idl[bc.uid]==1){return true}return false};this.show_user_chat=function(b,c,d,u,k){var e="fc_uD";var i="fc_uD2";var j='';var l=false;var m=false;var n='0';var o=false;var p;var q="visible";var r=1;var s='';var t='';var v='';var x=dc.user_pop_up_panel.font.links_css;var y=(!hc)?'jGo_ydsf':'';var z=(!hc)?'jGo_inner':'';this.uD=$(e);this.uDiv1=$(i);cm=18;f.cU=u;var A=false;if(!lB(u)){s=cL(52);o=true;A=true}if(u==bc.uid){q="hidden";r=0;s=cL(51);o=true;A=true}if(cB[u]==1){l=true}if(f.getB(u)=='1'){m=true}if(f.getO(u)=='0'){s=cL(53)+s;o=true;if(mQ(u)){A=true}}if(A){p="<div class='fc_uspbtn_dis' ><a class='fc_uspbtn_disa'>"+cL(264,'Send Message')+"</a></div>"}else{p="<div class='fc_uspbtn' >"+fN+" onClick='"+g+"sendChat(false,false,"+h+");return false'>"+cL(264,'Send Message')+"</a></div>"}if(bS!=bT){n=window.parent.fc_chat.getAc(bc.uid)}else{n=a.ac[bc.uid]}if(bS!=bT){if(window.parent.fc_chat.uD!=null){window.parent.fc_chat.uD.style.display=fh;if(hc){window.parent.fc_chat.uIF.style.display=fh}}}else if(bc.m==1){bc.odiv.style.display=fg}var B=lr(u,x);var C="";if(iT(n)>0){C="<a style='"+x+bV+"toggleMenu(this,"+u+",\"mod\")'>"+cL(45)+"</a>&nbsp;&nbsp;"}var D=(dR?"' target=_blank href='"+dQ+a.nm[u]+"'>":bV+"showUP("+u+")'>");var E="<a style='"+x+bV+"send_to("+u+")'>"+cL(2,"Chat")+"</a>&nbsp;&nbsp;";var F="<a style='"+x+D+cL(46)+"</a>&nbsp;&nbsp;";var G=(U.change_avatar?"<a style='"+x+bV+"avaFWrapper()'>"+cL(47)+"</a>&nbsp;&nbsp;":"");var H="<a style='"+x+bV+"toggleMenu(this,"+u+",\"item2\")'>"+cL(350,'Set Availability')+"</a>&nbsp;&nbsp;";var I="<a style='"+x+bV+"remove_recent("+u+")'>"+cL(432,'Remove from Recents')+"</a>&nbsp;&nbsp;";var J="<a style='"+x+bV+"toggleMenu(this,"+u+",\"item3\")'>"+cL(363,'Set Signature')+"</a>&nbsp;&nbsp;";var K="<a style='"+x+bV+"showStatus("+u+","+h+")'>"+cL(48)+"</a>&nbsp;&nbsp;";var L="<a style='"+x+bV+"tglNick(2,"+u+")'>"+cL(422,'Set Nickname')+"</a>&nbsp;&nbsp;";var M=(cM?"<a style='"+x+bV+"hideUBox()'>"+cL(54)+"</a>":"");var N='&nbsp;&nbsp;';var O='<span style="visibility:hidden">S</span><br>'+N;if(cM){if(this.uD!=null){fc_chat.hideUBox()}}if(this.uD!=null){ce=true;$('fc_uName')[fM]=lM(u,null,1,1)+' '+f.getNm(u)+kP(u,1);$('fc_uName2')[fM]=lM(u,null,1,1)+' '+f.getNm(u)+kP(u,1);if(u==bc.uid){$('fc_profile')[fM]=N+C+B+G+H+O+F+K+(!dX?J:L)}else{$('fc_profile')[fM]=N+C+O+E+F+K+(cA[u]?I:'')}$('fc_usp')[fM]=p;$('fc_btm')[fM]=s;$('fc_status').style.visibility='hidden';W("#fc_uvid").attr({"href":"javascript:fc_chat.launchVideoChat(0"+(u==bc.uid?"":","+u)+")"});this.uD.style.top='-200px';this.uD.style.display=fg;if(hc){this.uIF.style.width=this.uDiv1.offsetWidth;this.uIF.style.height=this.uDiv1.offsetHeight;this.uIF.style.display=fg}}else{if(jGo.browser.browser!='Explorer'){j=';width:290px'}if(u==bc.uid){t=N+C+B+G+H+O+F+K+(!dX?J:L)}else{t=N+C+O+E+F+K+(cA[u]?I:'')}this.uD=document.createElement('div');this.uD.setAttribute('id',e);this.uD.style.position='absolute';this.uD.style.left='0px';this.uD.style.top='-200px';this.uD.style.display=fg;this.uD.style.zIndex=jGo.config.max_z_index-90;var P=" style='"+dc.user_pop_up_panel.font.screen_name_css+"'>"+lM(u,null,1,1)+" "+f.getNm(u)+kP(u,1)+"</span>&nbsp;"+M+"</b>"+"</td>"+fc_ex.fill_uD(t,x,g,u,bc.uid,h,p,s)+"</table>"+"</td></tr></table></td></tr></table>";var Q="<table border=0 class='"+z+" fc_table'  id='fc_table2' style='width:"+cL(0,0,'user_dialog_width')+"px;padding:6px;vertical-align:middle;background-color:"+dc.user_pop_up_panel.background_color+";border:"+dU+"'>"+"<tr><td><table class='fc_hidden_table' style='visibility: "+(kd?"visible":"hidden")+"'><tr><td colspan=2>&nbsp;&nbsp;<b><span id='fc_uName2'"+P;var R="<table border=0 class='"+z+" fc_table'  id='fc_table' style='width:"+cL(0,0,'user_dialog_width')+"px;padding:6px;vertical-align:middle;"+dk+"border:"+dU+"'>"+"<tr><td><table><tr><td colspan=2>&nbsp;&nbsp;<b><span id='fc_uName'"+P;hN=document.createElement('div');this.uDiv1=document.createElement('div');hN.className='jGo_app jGo_myapp '+y+' fc_'+u;this.uDiv1.className='jGo_app jGo_myapp '+y+' fc_'+u;this.uDiv1.setAttribute('id',i);hN.style.position='absolute';this.uDiv1.style.position='absolute';hN.style.top='0px';hN.style.left='0px';this.uDiv1.style.top='0px';this.uDiv1.style.left='0px';hN[fM]=Q;this.uDiv1[fM]=R;this.uD.appendChild(hN);document.body.appendChild(this.uD);W('#fc_table2').css({opacity:dc.user_pop_up_panel.opacity});W('#fc_table2').contents().each(fc_chat.changeGhostIds);if(cM)W('input.fc_input').css('font-size','16px');this.uD.appendChild(this.uDiv1);W(this.uD).hover(fc_chat.changebackstatus,fc_chat.changestatus);if(hc){this.uIF=fc_ex.createIF(2,fS,this.uDiv1,null,cM);document.body.appendChild(this.uIF)}setTimeout('fc_chat.bckUsr()',40);ce=true;hq=$('fc_blk')}$('fc_atpg').checked=l;$('fc_blk').checked=m;W('#fc_atxt').css({"opacity":(u!=bc.uid?1:.6)});W('#fc_atpg').css({"visibility":(u!=bc.uid?"visible":"hidden")});lC(u,o);W('#fc_btxt').css({"opacity":(r?1:.6)});hq.style.visibility=q;iz();ci=cg-9;uPosY=ch-9;bx=0;var w=em();if(((w-ci)<this.uDiv1.offsetWidth+30&&ci>this.uDiv1.offsetWidth)||bc.m==1){bx=1}var S=(jGo.browser.browser!='Explorer'?W(window).scrollTop():0)+en();var T=this.uDiv1.offsetHeight+uPosY;if(S-45<T){uPosY-=(T-S+45);if(cM&&uPosY<35)uPosY=35};if(!hd){ci+=W(window).scrollLeft();uPosY+=W(window).scrollTop()}if(jGo.browser.browser!='Explorer'){if(bx==0){this.uD.style.left=ci+'px'}else{this.uD.style.left='auto';if(bc.IFO!=null){gR.style.width=bc.tIF.style.width;gR.style.display=fg}this.uD.style.left=(ci+cm-iT(this.uDiv1.offsetWidth))+'px'}this.uD.style.top=uPosY+'px';if(jGo.browser.browser=='Opera'){if(k>0){disableScroll(0)}}}else{if(bx==0){this.uD.style.pixelLeft=ci;if(hc){this.uIF.style.pixelLeft=ci}}else{this.uD.style.pixelLeft=ci+cm-this.uDiv1.offsetWidth;if(hc){this.uIF.style.pixelLeft=ci+cm-this.uDiv1.offsetWidth}}this.uD.style.pixelTop=uPosY;if(hc){this.uIF.style.pixelTop=uPosY}}if(hc){this.uIF.style.width=this.uDiv1.offsetWidth;this.uIF.style.height=this.uDiv1.offsetHeight}return false};this.changeGhostIds=function(i){if(this.getAttribute&&this.getAttribute('id')!=null&&this.getAttribute('id')!='fc_uName2'){W(this).removeAttr('id')}W(this).contents().each(fc_chat.changeGhostIds)};this.enableScroll=function(k){var a;if(k==1||k==9){a=gx}if(k==2){a=gA}if(k==6){a=gL}if(k==7){a=gM}if(k==8){a=gN}if(hg){a.style.overflow='auto'}if(k<3){a.scrollTop=a.scrollHeight-(hf?a.clientHeight+1:0)}};function disableScroll(n){overFl(gx,n);overFl(gA,n);overFl(gD,n);overFl(gG,n);overFl(gJ,n);overFl(gL,n);overFl(gM,n);overFl(gN,n)};function overFl(a,n){a.style.overflowX=(n==1?'auto':'hidden')};this.bckUsr=function(){if(hc){this.uIF.style.width=this.uDiv1.offsetWidth;this.uIF.style.height=this.uDiv1.offsetHeight;this.uIF.style.display=fg}};var lC=function(u,a){var b=(u==bc.uid&&fc_chat.vidAcc>1)||(u!=bc.uid&&fc_chat.vidAcc%2!=0);var c=((!a||bc.uid==u)&&b);var d=(b?'':' '+cL(32));W('#fc_uvid').css({"opacity":(c?1:.6),"cursor":(c?"pointer":"default")});W('#fc_e_uvid').attr({"title":(u==bc.uid?cL(31)+d:cL(319,"Private Video Chat")+d)});W('#fc_uwhiteboard').attr({"title":(u==bc.uid?cL(288,"Open whiteboard"):cL(289,"Invite to share a whiteboard"))});W('#fc_unote').attr({"title":(u==bc.uid?cL(295,"doodlepad"):cL(296,"Send a doodle."))});W('a.fc_share').css({"cursor":(!a||bc.uid==u?"pointer":"default")});if(!hc)W('a.fc_share').css({"opacity":(!a||bc.uid==u?1:.6)});W('a.fc_userme').css({"display":(bc.uid==u?fi:fh)});W('a.fc_usernotme').css({"display":(bc.uid==u?fh:fi),"opacity":(!a?1:.6),"cursor":(!a?"pointer":"default")})};function cUB(u){var b="fc_uD";var c=false;var d=false;var e=false;var f;var g='';var h=$(b);if(h!=null){if(cB[u]==1){c=true}if(!lB(u)){g=cL(52);d=true;e=true}if(a.o[u]=='0'){g=cL(53)+g;d=true;if(mQ(u)){e=true}}if(e){f="<div class='fc_uspbtn_dis' ><a class='fc_uspbtn_disa'>"+cL(264,'Send Message')+"</a></div>"}else{f="<div class='fc_uspbtn' >"+fN+"' onClick='fc_chat.sendChat(false,false,document);return false'>"+cL(264,'Send Message')+"</a></div>"}$('fc_usp')[fM]=f;$('fc_btm')[fM]=g;$('fc_atpg').checked=c;W('#fc_atxt').css({"opacity":(u!=bc.uid?1:.6)});W('#fc_atpg').css({"visibility":(u!=bc.uid?"visible":"hidden")});lC(u,d)}return false};this.a_r_pr=function(d){var v=d.getElementById('fc_atpg');if(!l){W(d.getElementById('fc_atxt')).css({opacity:.6});if(v.checked){fc_chat.add_friend(bc.cU)}else{fc_chat.remove_friend(bc.cU)}v.disabled=true;if(bD==1){this.filt(1)}if(d==document){setTimeout('fc_chat.releaseATPG(document)',500)}else{setTimeout('fc_chat.releaseATPG(fc_chat.getIFrameDoc())',500)}}else{v.checked=(v.checked==true?false:true)}return false};this.blk_ublk=function(b,d){var c;var e;var u;var f;var v=d.getElementById('fc_blk');if(!l){if(b){W(d.getElementById('fc_btxt')).css({opacity:.6});e=bc.cU.toString();u=bc.cU;v.disabled=true;if(d==document){setTimeout('fc_chat.releaseBLK(document)',500)}else{setTimeout('fc_chat.releaseBLK(fc_chat.getIFrameDoc())',500)}f=v.checked}else{e=gb.toString();u=gb}if(b&&f){cs="0001171"+e.length;a.b[u]='1';a.s[u][3]='1';cw[u]='1';if(bP){aTC(u,6,'fc_bl')}}else{cs="0001170"+e.length;a.b[u]='0';a.s[u][3]='0';if(bP){r_e(gX,6,cw[u],u);gb='0';var g=$('fc_r');g[fM]="<div class='fc_opbtn_dis' ><a class='fc_opbtn_disa'>"+cL(135)+"</a></div>"}if(cw[u]!=null){delete cw[u]}}cs+=iR(e);kc();if(a.ge[u]!=null){c=a.ge[u].split('&');for(var j=0;j<c.length-1;j++){uE(u,c[j],1,1)}}if(gm[6]!=0){if(a.gpe[u]!=null){c=a.gpe[u].split('&');for(var j=0;j<c.length-1;j++){uE(u,c[j],1,6)}}}if(a.pe[u]!=null){c=a.pe[u].split('&');for(var j=0;j<c.length-1;j++){uE(u,c[j],1,2)}}if(gm[7]!=0){if(a.ppe[u]!=null){c=a.ppe[u].split('&');for(var j=0;j<c.length-1;j++){uE(u,c[j],1,7)}}}if(a.de[u]!=null){uE(u,a.de[u],0,3)}if(a.gre[u]!=''){uE(u,a.gre[u],0,4)}if(a.pve[u]!=''){uE(u,a.pve[u],0,5)}if(a.pge[u]!=''){c=a.pge[u].split('&');for(var j=0;j<c.length-1;j++){uE(u,c[j],2,0)}}if(a.ife[u]!=null){c=a.ife[u].split('&');for(var j=0;j<c.length-1;j++){uE(u,c[j],3,0)}}}else{if(b){v.checked=(v.checked==true?false:true)}}return false};this.releaseATPG=function(d){W(d.getElementById('fc_atxt')).css({opacity:1});d.getElementById('fc_atpg').disabled=false};this.releaseBLK=function(d){W(d.getElementById('fc_btxt')).css({opacity:1});d.getElementById('fc_blk').disabled=false};this.tgl_ops=function(a){var b=$('fc_opcnt'+a);b.style.display=(b.style.display==fg?fh:fg);$('fc_opimg'+a)[fM]=(b.style.display==fg?"<img height='12px' width='12px' class='fc_er fc_e_up' src='"+fW+"trans.gif' border=0>":"<img height='12px' width='12px' class='fc_er fc_e_dwn' src='"+fW+"trans.gif' border=0>");return false};this.c_px=function(v,j){if(!(j==bu&&j==dd.font.size&&!cM)){bu=fc_ex.c_px(v,j,bu);ii(bu,16)}};this.toggleCensor=function(k,a,b){if(k.data){a=k.data[3];k=k.data[2];b=null}if(hP==2){W("#"+(b?"p":"")+"censor"+a)[0].style.display=(k?fi:fh)}};this.offBlk=function(){this.style.backgroundColor=(this.className.substr(3)==gb?dh.selected_color:dh.background_color)};this.offBlk2=function(v){v.style.backgroundColor=(v.className.substr(3)==gb?dh.selected_color:dh.background_color)};this.overBlk=function(){this.style.backgroundColor=dh.hover_color};this.clickBlk=function(){gb=fc_ex.clickBlk(this,gb,cw)};this.clickBlk2=function(v){gb=fc_ex.clickBlk(v,gb,cw)};this.toggle=function(i,e,a){if(!l){if($('fc_'+e+a).style.border=='red 1px solid'){if(hx[i]!=2){$('fc_'+e+a)[fM]="<span class='fc_e fc_e_it2'></span>";hx[i]=1}}}};this.toggle2=function(i,e,a){if(!l){if($('fc_'+e+a).style.border=='#aaaaaa 1px solid'){if(hx[i]!=2){$('fc_'+e+a)[fM]="<span class='fc_e fc_e_"+e+"'></span>";hx[i]=0}}}};function rCG(){W('#fc_op1').html("<div class='fc_obtn' >"+fN+hE+fX+"</a></div>");W('#fc_co').html("<span class='fc_e fc_e_co'></span>")};function tTC(a){var b=W(".fc_ob");if(a=='1'&&!ea){b.html(fc_chat.toggle_btn(1,1))}else{b.html(fc_chat.toggle_btn(1,0))}};function tCL(a){var v=$('fc_op1');if(a=='1'){clrOverlay();mY();v[fM]="<div class='fc_obtn' >"+fN+hE+fX+"</a></div>";v=$('fc_tgl1');v[fM]="<div class='fc_obtn' >"+fN+" onClick='fc_chat.open_chat_box(this);return false'>"+cL(8)+"</a></div>";if(ga=='0'){v=$('fc_sg1');v[fM]="<div class='fc_srbtn' >"+fN+" onClick='fc_chat.sendChat(true,true,document);return false'>"+cL(10)+"</a></div>"}else{v=$('fc_sp1');v[fM]="<div class='fc_spbtn'>"+fN+fG+" onClick="+hF+cL(11)+"</a></div>"}}else{if(v){v[fM]="<div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+fX+"</a></div>";v=$('fc_tgl1');v[fM]="<div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+cL(8)+"</a></div>";v=$('fc_sg1');v[fM]="<div class='fc_srbtn_dis' ><a class='fc_srbtn_disa'>"+cL(10)+"</a></div>";v=$('fc_sp1');v[fM]="<div class='fc_spbtn_dis'><a class='fc_spbtn_disa' "+fG+">"+cL(11)+"</a></div>"}}};this.open_chat_box=function(e,n,a){if(!l){if(bc.m==1&&!eb){return this.toggleHide()}else{if(bc.oD!=null){bc.oD.style.display=fh;if(hc){bc.oIF.style.display=fh}}}if(bc.tPC!=null){bc.tPC.style.display=fh;if(hc){bc.tPB.style.display=fh}}if(bm=='0'){this.tgl_chatcenter(eJ,bc.chat_window_height,n);lD();l=true}else{this.tgl_chatcenter(eJ,bc.chat_window_height,n);if(fZ<2){ld()}l=true;if(cN){gc[5]='1';cN=false;var b='';var c='07';if(bG[cQ]&&bG[cQ].l!=0){b=jGo.MD5.hex_md5(fd);c='39'}cs+=String.fromCharCode(10)+'000'+c+'4'+iQ(cQ,6)+b}kc(1)}}return false};var lD=function(){jGo.scripts.importClass('jGo.DefaultWindow.ext.min.js','dynamic',this,null);var a=document.getElementsByTagName("head")[0];bo=document.createElement('script');bo.type='text/javascript';bo.src=ba+'js/fcchat.ext.min.js';a.appendChild(bo)};var lE;this.setNickname=function(u){if(!l){lE=jGo.util.trim(iL($('fc_nickname').value.substr(0,50)));cs=iQ(10+iN(lE));var a=u.toString();cs+='x'+a.length+iR(a)+lE;kc(cs);$('fc_nickname').value='';$('fc_nickname_set').style.visibility='hidden';$('fc_nickname').disabled=true;setTimeout('fc_chat.unlockNickname('+u+')',250)}};this.unlockNickname=function(u){a.nk[u]=iM(lE);lF(u);$('fc_nickname').disabled=false;$('fc_nickname_set').style.visibility='visible'};var lF=function(u){W('.fc_'+u+'nick').html('&nbsp;'+cL(1)+(a.nk[u]!=''?'&nbsp;('+a.nk[u]+')':'')+'&nbsp;&nbsp;')};var lG;var lH=0;var lI=function(k){clearTimeout(lG);if(U.prompt_nickname&&(!lH||(k&&lH<2))&&mQ(bc.uid)&&a.nk[bc.uid]==''&&(k||W("#fc_onlinelist").css("display")==fg)){lG=setTimeout("fc_chat.tgl_nick("+(k?k:"")+")",500)}};this.tglNick=function(a,u){if(a==1){jg['u1'].hide();if(!lV){lH=1;fc_chat.tgl_online(fT)}fc_chat.tgl_nick()}else{fc_chat.hideUBox();fc_chat.tgl_nick(1)}return false};this.tgl_nick=function(k){if(k||W("#fc_onlinelist").css("display")==fg){jO(bc.uid,k);lH=(k?2:1)}};var lJ=-1;this.setBusy=function(n){if(!l){if(n!=lJ){var q=(n==1?'t':'s');cs='00001'+q;kc(cs)}n==lJ}else{if(n==0){$('fc_avl1').checked=true}else{$('fc_avl2').checked=true}}};this.showStatus=function(a,d){if(!l){l=true;var b=a.toString();cs='000119'+b.length+b;for(var i=0;i<8-b.length;i++){cs+='0'}cs+='2';kc(cs);var v=d.getElementById('fc_status');if(v){v.style.visibility="visible";if(d==document){setTimeout('fc_chat.releaseStatus("fc_status",document)',1000)}else{setTimeout('fc_chat.releaseStatus("fc_status",fc_chat.getIFrameDoc())',1000)}}}return false};this.releaseStatus=function(a,d){var v=d.getElementById(a);v.style.visibility='hidden'};var lK=function(a,b){a=jGo.MD5.hex_md5(a);var c=ih(19);var d=((ih(14)!='3'||bc.uid==-1||b)||(c!=a&&ih(18)==''));return d};var lL=function(a){if(ih(14)=='3'&&a=='default.gif'&&ia!=''){ii('',18);return ia}else{ii('1',18);return a}};this.launch_avatar=function(){if(!l){iy(Z+"html/Avatars."+U.script_type+"?id="+bc.uid+"&ref=1&dummy=true",'fc_avwin','toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1',400,600)}};this.newAvatar=function(d,e,f,g,h,i){bC=g;bA=h;bB=i;if(!l){if(e==3&&dO){W.post(nl(dN),{f:1},function(a){var b='';var c=a.split("<fcchatresponse>");if(c.length>1){b=c[1]}fc_chat.newAvatarcont(b,e,f)},"html")}else{fc_chat.newAvatarcont(d,e,f)}}};this.newAvatarcont=function(a,b,c){var d;if(c=='0'){getNewTopIFrameDoc();d=hh}else{d=iv['fc_avwin'].document}if(!l){a=a.replace(/%/g,'%25');a=lL(a);cs=iQ(a.length+1)+'T'+a;try{kc(cs);if(b==1){d.getElementById('wait1').style.display=fh;d.getElementById('content1').style.display=fg}else{setTimeout('fc_chat.avatarSuccess('+b+',1,'+c+')',500)}}catch(err){jP(fK)}}};this.avatarSuccess=function(a,b,c){var d;if(c=='0'){getNewTopIFrameDoc();d=hh}else{d=iv['fc_avwin'].document}try{var f=d.getElementById('content1');var g=d.getElementById('wait1');if(a!=1){f.style.display=fh;g.style.display=fg;setTimeout('fc_chat.avatarSuccess(1,'+a+','+c+')',500)}else{var h=(b==2?cL(204):cL(205));if(b==4){h=cL(206)};g.style.display=fh;f[fM]='<br><font face="Arial">'+cL(203)+' '+h+'</b></font><br><br><br><a href="javascript:this.location.replace('+(c=='0'?'window.parent':'window.opener')+'.fc_chat.alt_dir+\'Avatars.'+bC+'?ref='+c+'&id='+bc.uid+'\')">'+cL(181)+'</a>&nbsp;<a href="javascript:'+(c=='0'?'window.parent':'window.opener')+'.fc_chat.rem('+c+')">'+cL(182)+'</a><br><br><div style="border-bottom: #A91905 2px solid;font-size:10">Powered by <A HREF="'+bA+'" style="color:black">'+bB+'</A></div>';f.style.display=fg}}catch(e){}};var lM=function(u,k,b,c,d,e,f){var g="";if(U.show_avatar_in_chats||c){f=f||U.avatar_sz;var h=dG;var i=U.avatars_dir+'default.gif';g=dG;if(a.av[u]!=''&&a.av[u]!='default.gif'){i=a.av[u];i=(i.indexOf('/')==0)?i.substr(1):U.avatars_dir+i}else{h+="background-color:#"+a.acl[u]+";"+hD}var j="";var l="";var m="";var n="";if(!e){var o="";j='<a href=\"javascript:void\" ';o=(!d?fc_chat.uolnk(u,k):'onclick=\''+(d==2?dH:'')+'return fc_chat.toggleMenu(this,'+u+',"u1");\'');if(u==bc.uid&&b&&U.change_avatar){o='title="'+cL(34)+'" onclick="return fc_chat.avaFWrapper();"'}if(!b){o+=' onmouseover="fc_chat.view_over(this,'+u+')" onmouseout="fc_chat.view_out()"'}j=j+o+'>';l='</a>';m='width='+(f+2)+'px';n='width:'+(f+2)+'px'}g=md(f)+j+'<img class="fc_t'+u+'avimg" src="'+i+'" border="0" '+m+' height="'+(f)+'px" style="height:'+(f)+'px;'+n+';'+h+'">'+l}return g};this.oF=function(e){if(gQ==1){gP.value='';gQ=0}};var lN=false;var lO=function(a){gj+=(a-0);W("span.fc_nc_count").html(cL(367,"Chats")+" ("+gj+" "+cL(267,"new")+")")};var lP=function(a){if(a!=null){gk+=a}if(gh+gk>0)lN=true;if((X||U.set_tab)&&lN){document.title=cL(407,"Room")+"("+gk+") "+cL(408,"Msgs")+"("+gh+")"}};var lQ=function(){W("span.fc_nm_count").html("("+gh+" "+cL(267,"new")+")");lP()};var lR=function(){clearTimeout(ju);cS.close_dialogs()};var lS=!((cU.config.layout==2||(cU.config.small_screen&&!cU.config.tablet))&&cM);var lT=function(n){if(jGo.browser.webkit){var a='';if(lX==1){a=':not(#fc_quickchat)'}W("div.fc_tldialog"+a+",#fc_loginbox,#fc_chatrooms").css("visibility","hidden");setTimeout("fc_chat.position_elements("+n+")",5)}else{bc.position_elements(n)}};this.position_elements=function(n){if(jGo.browser.webkit){W("div.fc_tldialog,#fc_loginbox,#fc_chatrooms").css("visibility","visible")}var a=W("#fc_toolbar_inner");var b=hc||cM||cU.config.fixed==0;var c=(b?"absolute":"fixed");if(n){var d=jc($("fc_friendscenter_toolbar_item"),!(b)).x;if(cM&&X){}var e=jc(a[0],!(b)).y;var f=jc(a[0],!(b)).x;var g=-W('#fc_toolbar').height()-4;var h=(cU.config.layout==0?8:10);var i=h+bd.online_box.height-cV.border_height;var j=(W("#fc_loginbox").parent()[0]==document.body?W("#fc_loginbox").height():150);W("#fc_loginbox").css({position:c,top:(e-(cU.config.position.substr(0,1)=='t'?g:h+j))+'px',left:((cM?d+bd.online_box.toolbar_offset:f+cS.width-(W("#fc_loginbox").width()+3)))+'px'});W("#fc_chatrooms").css({position:c,top:(e-(cU.config.position.substr(0,1)=='t'?g:i))+'px',left:(d+bd.online_box.toolbar_offset)+'px'});W("#fc_onlinelist").css({position:c,top:(e-(cU.config.position.substr(0,1)=='t'?g:i))+'px',left:(d+bd.online_box.toolbar_offset)+'px'});W("#fc_quickchat").css({position:c,top:(e-(cU.config.position.substr(0,1)=='t'?g:i))+'px',left:(d+(lS?bd.online_box.width+7:0)+bd.online_box.toolbar_offset)+'px'});W("#fc_friendslist").css({position:c,top:(e-(cU.config.position.substr(0,1)=='t'?g:i))+'px',left:(d+bd.friends_box.toolbar_offset)+'px'})}else{var k=lU();if($('fc_loginbox')){W("#fc_loginbox").css({position:"absolute",top:(W("div.fc_controlbox").offset().top+bd.login_panel.top)+'px',left:(Math.max(5,W("div.fc_controlbox").offset().left+bd.login_panel.left+k.pos3))+'px'})}W("#fc_chatrooms").css({position:"absolute",top:(W("div.fc_controlbox").offset().top+bd.chatrooms_box.top)+'px',left:(Math.max(5,W("div.fc_controlbox").offset().left+bd.chatrooms_box.left+k.pos2))+'px'});W("#fc_onlinelist").css({position:"absolute",top:(W("div.fc_controlbox").offset().top+bd.online_box.top)+'px',left:(Math.max(5,W("div.fc_controlbox").offset().left+bd.online_box.left+k.pos))+'px'});W("#fc_quickchat").css({position:"absolute",top:(W("div.fc_controlbox").offset().top+(bd.new_messages_box.top||bd.online_box.top))+'px',left:((lS?iT(W("#fc_onlinelist").css("left"))+(k.left?(-bd.new_messages_box.width-7):(bd.online_box.width+7)):Math.max(5,W("div.fc_controlbox").offset().left+bd.new_messages_box.left+k.pos4)))+'px'});W("#fc_friendslist").css({position:"absolute",top:(W("div.fc_controlbox").offset().top+bd.friends_box.top)+'px',left:(Math.max(5,W("div.fc_controlbox").offset().left+bd.friends_box.left+k.pos))+'px'})}fT=n};var lU=function(){var a={left:false,pos:0,pos2:0,pos3:0};if(bd.control.align_dialogs){a.left=(U.alignment=='left'?true:false);if(U.alignment=='auto'){a.left=W("div.fc_controlbox").offset().left>(em()/2)}a.pos=(!a.left?W("div.fc_controlbox").width()+7:-W("#fc_onlinelist").width()-7);a.pos2=(!a.left?W("div.fc_controlbox").width()+7:-W("#fc_chatrooms").width()-7);a.pos3=(!a.left?W("div.fc_controlbox").width()+7:-W("#fc_loginbox").width()-7);a.pos4=(!a.left?W("div.fc_controlbox").width()+7:-W("#fc_quickchat").width()-7)}return a};var lV=0;var lW=0;var lX=0;var lY=0;var lZ=0;var ma=0;var mb=0;var mc=0;this.tgl_chatrooms=function(n){if(!ed){if(U.skip_roomlist&&!X){if(fZ!=3){fc={typ:0,index:(U.default_room_index+5),id:"fc_open_full_chat",elem:null};fc_chat.c_g2(0)}return}var a=($('fc_chatrooms').style.display==fh);lR();if(a){ml();mz();mg();if(!l){lT(n)}mf()}}};this.tgl_online=function(n){if(!ed){lR();if(lV){mg();mz()}else{ml();if(!lS)mz();if(!l){lT(n)}mh()}}};this.tgl_friends=function(n){if(!ed){lR();if(lW){ml();mz()}else{mg();if(!lS)mz();if(!l){lT(n)}if(lS&&!lX){mA()}mm()}}};this.tgl_messages=function(n){if(!ed){lR();if(lX){mz();if(lS){ml()}}else{if(!lS){ml();mg()}if(!l){lT(n)}if(lS&&!lV){mm()}mA()}}};this.close_boxes=function(n,k){lR();if(!k&&!ed)nf();for(var a in jg){if(jg.hasOwnProperty(a)&&jg[a].isOpen){jg[a].hide()}}ml();mz();mg();if(iv['fc_avwin']){iv['fc_avwin'].close()}};var md=function(h){return"<div style='"+fj+";height: "+h+"px;'><IMG SRC='"+Z+"trans.gif' height='"+h+"px' width='1px' style='height:"+h+"px;width:1px;"+dk+"'></div>"};var me="<div class='fc_chat_container' id='fc_aG' style='font-style:italic;"+ex+";font-weight:bold;'>"+md(16)+jR+" "+cL(118)+"</div>";var mf=function(){if(!l){W("#fc_chatrooms").css("display",fg);nf();mi()}};var mg=function(){W("#fc_onlinelist").css("display",fh);lV=0};var mh=function(){if($("fc_onlinelist").style.display==fg){mg()}else{if(!l){W("#fc_onlinelist").css("display",fg);mI();mi();nf();lV=1}}};var mi=function(){if(!lY){lY=1;W("#fc_t4").html(cL(293,'Please wait'));W("#fc_t6").html(cL(293,'Please wait'));if(fZ<2){cs='00001q';kc()}else{var b=[];hJ[4]=0;for(var c in a.de){if(a.de.hasOwnProperty(c)){bldOr(c,b,kN(c,4),4)}}$('fc_t4')[fM]=getConts(b,4);lZ=1;$('fc_t6')[fM]=lm(0);lI()}}else{lI()}};this.add_online=function(a){if($("fc_t4"+a)==null){if(!mQ(a)){W("#fc_t4"+bc.uid).after(kN(a,4))}else{kY("#fc_t4",kN(a,4),4,1)}}};this.view_out=function(){W('div.fc_view').remove()};var mj=0;this.view_over=function(b,c){mj=c;if(a.av[c]!='default.gif'&&a.av[c]!=''&&!W('#fc_view')[0]){W(document.body).append(W(document.createElement('div')).addClass('fc_view').css({'position':'absolute',top:(W(b).offset().top+15)+'px',left:(W(b).offset().left+15)+'px','height':'35px','background-color':'#eeeeee',height:'80px','border':'1px solid silver','z-index':jGo.config.max_z_index}).html(lM(c,null,0,1,null,1,80)))}};var mk=function(a){return kN(a,4)};this.remove_online=function(a){if(mQ(a)&&$("fc_t4"+a)!=null){kX(4,-1)}kO(a,"fc_t4")};var ml=function(){W("#fc_friendslist").css("display",fh);lW=0};var mm=function(){if($("fc_friendslist").style.display==fg){ml()}else{if(!l){W("#fc_friendslist").css("display",fg);mi();nf();lW=1}}};this.add_friend=function(a){if(jg['u1']&&jg['u1'].isOpen){jg['u1'].hide()}if(fY=='0')lR();cB[a]=1;if(cx==0){fc_chat.switch_contact_panel(1)}if($("fc_t3"+a)==null){mn(true,a)}if(!lW&&!l&&fY=='0'){W("#fc_friendslist").css("display",fg);lW=1;W("#fc_quickchat").css("display",fg);lX=1;ku();W("#fc_onlinelist").css("display",fh);lV=0}};this.remove_friend=function(a){if(jg['u1']&&jg['u1'].isOpen){jg['u1'].hide()}delete cB[a];if(mj==a){W('#fc_view').remove()}mn(false,a)};var mn=function(a,b){if(a){mo(b);cs='00011o1'}else{if(cx==1)mp(b);cs='00011o0'}var c=b.toString();cs+=c.length+iR(c);kc()};var mo=function(a){var b=W("#fc_t3").html();W("#fc_t3").html(kN(a,3)+b);if(fZ>1){aTC(a,5,'fc_pl')}};var mp=function(b){W("#fc_t3"+b).remove();if(fZ>1){r_e(gJ,5,a.pve[b],b)}};this.switch_contact_panel=function(n){cx=n;W('span.fc_contacts_links').html(mt());W('#fc_contact_selector').html(mu());var a=(n?cB:cA);mq(a);if(fZ>1){mr(a)}};var mq=function(a){var b=[];W("#fc_t3").html('');if(cx==1){for(var c in a){if(a.hasOwnProperty(c)){bldOrPriv(c,b,kN(c,3))}}$('fc_t3')[fM]=getConts(b)}else{if(cz.l){var i=cz.l;var d='';do{d+=kN(i,3);i=a[i].p}while(i);$('fc_t3')[fM]=d}}};var mr=function(b){gq[5]=0;gs[5]=0;for(var c in a.pve){if(a.pve.hasOwnProperty(c)){a.pve[c]=''}}gI[fM]='';var d=[];if(cx==1){for(var c in b){if(b.hasOwnProperty(c)){var e=mv(c);bldOrPriv(c,d,e)}}}else{if(cz.l){var i=cz.l;d[0]='';do{d[0]+=mv(i);i=b[i].p}while(i)}}hi[5]=gJ.scrollHeight;gI[fM]=ms()+getConts(d)};var ms=function(){return'<div id="fc_contacts_top_main" style="width:'+eS+'px;z-Index:'+(fS+202)+';'+du+'background-color:'+dt.background_color+'"><span id="fc_contacts_links_main" style="'+dt.css+'">&nbsp;'+mt(1)+'</span></div>'};var mt=function(k){var a=(k?dt.css:bd.friends_box.text.css);var b='<span style="'+a;var c='&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;';var d=a+(k?dt.link_css:bd.friends_box.greeting_box_link);if(cx==0){return b+';font-weight:bold;" >'+cL(433,'Recents')+'</span>'+c+bX+'switch_contact_panel(1)" style="'+d+'" >'+cL(434,'Friends List')+'</a>'+(k?'<div id="fc_clp">'+bX+'remove_recent(0);" onmouseover="getElementById(\'fc_e_clp\').className=\'fc_e fc_e_cl2b\'" onmouseout="getElementById(\'fc_e_clp\').className=\'fc_e fc_e_clb\'"><span class="fc_e fc_e_clb" id="fc_e_clp" title="Clear All" style="display: block;position:absolute;top:4px;left:'+(eS+cL(0,0,'clear_recents_offset')-35)+'px;"></span></a></div>':'')}else{return bX+'switch_contact_panel(0)" style="'+d+'" >'+cL(433,'Recents')+'</a>'+c+b+';font-weight:bold;" >'+cL(434,'Friends List')+'</span>'}};var mu=function(){if(cx==0){return cL(435,'Recent Contacts')+'&nbsp;&nbsp;'+bX+'remove_recent(0)" style="'+bd.friends_box.text.css+bd.friends_box.greeting_box_link+'" >'+cL(273,'Clear')+'</a>'}else{return cL(434,'Friends List')}};var mv=function(b){var c='';var d=U.avatars_dir+'default.gif';var e=fi;var f=dG;if(a.av[b]!=''&&a.av[b]!='default.gif'){d=a.av[b];d=(d.indexOf('/')==0)?d.substr(1):U.avatars_dir+d}else{f+="background-color:#"+a.acl[b]+";"+hD}var g='<a id="fc_';var h='av" style="display:'+e+';margin-left:15px;" href=\"javascript:void\" ';a.pve[b]='fc_pl'+gq[5];var z=c_i(b,0,5);var i=fc_chat.uolnk(b,5);var j=(ga==b?dB:dz);c='&nbsp;'+lM(b,5,0,1);var k='<div class="fc_'+b+'" id=fc_pl'+gq[5]+' style="font-weight:bold;width:'+eS+'px;z-Index:'+(fS+202)+';'+dr+j+'" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)" onclick="fc_chat.send_to('+b+');">'+c+z+mN(b)+kP(b)+kQ(b)+kV(b)+'<div id="fc_pl'+gq[5]+'ico" style="padding-top:1px;padding-bottom:3px">'+kU(b)+lb(b)+mO(b)+mP(b)+'</div></div>';gq[5]++;gs[5]++;return k};this.remove_recent=function(u){if(cz.f){if(jg['u1']&&jg['u1'].isOpen){jg['u1'].hide()}if(this.uD!=null){this.uD.style.display=fh;if(hc){this.uIF.style.display=fh}}if(u==0){mw();W("#fc_t3").html('');W(gI).html(ms());for(var b in a.pve){if(a.pve.hasOwnProperty(b)){a.pve[b]=''}}}else{my(u)}cs='00011y0';var c=u.toString();cs+=c.length+iR(c);kc()}};var mw=function(){cz.f=null;cz.l=null;delete cA;cA={}};var mx=function(u,k){if(cA[u]){if(cz.l!=u){my(u,k);cA[cz.l].n=u;cA[u]={p:cz.l,n:null};if(cx==0&&!k){mo(u)}}}else{cA[u]={p:cz.l,n:null};if(cz.l){cA[cz.l].n=u}if(!cz.f){cz.f=u}if(cx==0&&!k){mo(u)}}cz.l=u};var my=function(u,k){if(cA[u]){if(cz.l!=u){if(cA[u].p){cA[cA[u].p].n=cA[u].n;cA[cA[u].n].p=cA[u].p}else{cA[cA[u].n].p=null;cz.f=cA[u].n}}else{if(cA[u].p){cA[cA[u].p].n=null;cz.l=cA[u].p}else{mw()}}cA[u]=null;if(cx==0&&!k){mp(u)}}};this.clear_nm=function(){W("#fc_t2").html("");gh=0;kv=0;lQ()};var mz=function(n){W("#fc_quickchat").css("display",fh);lX=0};var mA=function(){if($("fc_quickchat").style.display==fg){mz()}else{if(!l){bc.cU=hI;mI();W("#fc_quickchat").css("display",fg);nf();lX=1;ku();setTimeout("fc_chat.scroll_nm()",100)}}};this.scroll_nm=function(){var a=W('#fc_view_msgs')[0];a.scrollTop=a.scrollHeight-(hf?a.clientHeight+1:0)};var mB='0';this.send_to=function(u){if(u.data){u=u.data[2]}if(!l&&u!=bc.uid||u==0){var b=[gD,gG,gJ];if(this.uD!=null){this.uD.style.display=fh;if(hc){this.uIF.style.display=fh}}if(u!=0){kW(u,0,1)}if(u!=mB&&u!=0){if(!lB(u)||(mQ(u)&&a.o[u]!='1')){if(bD==1){mD(u);W(b).find("div.fc_"+u).append("<div class='fc_current_chatee' unselectable='on' style='cursor:default;margin-left:3px;font-style:italic;"+dJ+"'>"+cL(429,"Conversation selected")+"</div>");mB=u}jP(cL(409,"Sorry, this user is not available for private chat."))}else{if(ga!='0'){W(b).find("div.fc_"+ga).css("background-color",dz)}W("div.fc_current_chatee").remove();ga=mB=u;W(b).find("div.fc_"+ga).css("background-color",dB);W(b).find("div.fc_"+ga).append("<div class='fc_current_chatee' unselectable='on' style='cursor:default;margin-left:3px;font-style:italic;"+dJ+"'>"+cL(430,"Selected for chat")+"</div>");W('#fc_sp1').html("<div class='fc_spbtn' >"+fN+fG+" onClick="+hF+cL(11)+"</a></div>");W('#fc_sg1').html("<div class='fc_srbtn_dis' ><a class='fc_srbtn_disa'>"+cL(10)+"</a></div>");mC(u);if(bD==1){fc_chat.filt(1)}eh=1;fc_chat.talk(u,null,1)}}else{mD()}}};var mC=function(u){var b="<div style='position:absolute;top:0px;left:0px;height:30px;"+dc.send_to_panel.css+dc.send_to_panel.text_css+dF+"'>&nbsp;<span style='font-weight:bold;font-style:italic;"+dc.send_to_panel.text_css+"'>"+cL(276,'To')+":</span> "+a.snm[u]+(a.o[u]=='1'?'':'<i style="'+bd.new_messages_box.text.offline_css+'">'+cL(368,'Offline')+'</i>')+" <a style='"+dc.send_to_panel.remove_button_css+"' "+bW+"send_to(0)'>X</a>&nbsp;</div>";W("#fc_msg_to").html(b)};var mD=function(u){var a=[gD,gG,gJ];W(a).find("div.fc_"+ga).css("background-color",dz);W("div.fc_current_chatee").remove();W('#fc_sg1').html("<div class='fc_srbtn' >"+fN+" onClick='fc_chat.sendChat(true,true,document);return false'>"+cL(10)+"</a></div>");W('#fc_sp1').html("<div class='fc_spbtn_dis'><a class='fc_spbtn_disa'"+fG+">"+cL(11)+"</a></div>");W("#fc_msg_to").html("");ga=(u?u:'0');if(bD==1){fc_chat.filt(1)}ga=mB='0';eh=(fk==1?1:0)};var mE=function(a){return'onmouseover="fc_chat.overUser(this)" onmouseout="fc_chat.offUser(this)" onclick="fc_chat.talk('+a+',1)"'};this.overUser=function(v){v.style.backgroundColor=df.select_user.over_color};this.offUser=function(v){if(v.className.split(" ")[0].substr(6)==hI){v.style.backgroundColor=df.select_user.selected_color}else{v.style.backgroundColor=df.select_user.off_color}};this.talk=function(u,a,k){if(!l&&u!=bc.uid){var b=[$("fc_t5"),$("fc_t4"),$("fc_t3")];kW(u,0,1);if(u!=hI){if(bc.cU!='0'){W(b).find("div.fc_usr"+bc.cU).css("background-color",df.select_user.off_color)}W(b).find("div.fc_usr"+u).css("background-color",df.select_user.selected_color);mG(u);hI=u;bc.cU=u;mF(k)}else if(a){W(b).find("div.fc_usr"+bc.cU).css("background-color",df.select_user.off_color);mH(1)}else{mF(k)}if(kD==1){this.filt(1,1)}}};var mF=function(k){if(jg['u1'])jg['u1'].hide();if(!lX&&!k){if(W("#fc_chatrooms").css("display")==fg||W("#fc_page_discussion_dialog").css("display")==fg){lR();lT(fT);W("#fc_friendslist").css("display",fg);lW=1}if(!lS)fc_chat.close_boxes();W("#fc_quickchat").css("display",fg);lX=1;ku()}if(!k){$('fc_uChat2').focus()}};var mG=function(b){W('a.fc_share2').css({"opacity":.4,"cursor":"default"}).attr({"href":"javascript:void(0)"});if((a.o[b]!='1'&&mQ(b))||!lB(b)){W("#fc_to_label").html(cL(276,'To')+": "+a.snm[b]+' <i style="'+bd.new_messages_box.text.offline_css+'">'+cL(431,'Not Available')+'</i>');W('#fc_uChat2').html("")[0].disabled=true}else{if(a.o[b]=='1'){W("#fc_to_label").html(cL(276,'To')+": "+a.snm[b]);W('#fc_uwhiteboard2').attr({"href":"javascript:fc_chat.wb()"});if(U.allow_games){W('#fc_ugame2').attr({"href":"javascript:fc_chat.m_games()"})}W('#fc_unote2').attr({"href":"javascript:fc_chat.note(2)"});W('#fc_utrlit2').attr({"href":"javascript:fc_chat.open_trlit()"});W('#fc_udoc2').attr({"href":"javascript:fc_chat.doc()"});if(fc_chat.vidAcc%2!=0){W('#fc_uvid2').attr({"href":"javascript:fc_chat.launchVideoChat(0,"+b+")"})}W('a.fc_share2').css({"opacity":1,"cursor":"pointer"})}else{if(jGo.browser.browser=="Explorer"){setTimeout("fc_chat.ie9idiotbrowserfixtolabel("+b+")",200)}else{W("#fc_to_label").html(cL(276,'To')+": "+a.snm[b]+' <i style="'+bd.new_messages_box.text.offline_css+'">'+cL(368,'Offline')+'</i>')}}W('#fc_bld2').attr({"href":"javascript:fc_chat.insertTags(\'"+cL(37)+"\',\'"+cL(37)+"\',\' "+cL(23)+" \',3);"}).css({"opacity":1,"cursor":"pointer"});W('#fc_it2').attr({"href":"javascript:fc_chat.insertTags(\'"+cL(38)+"\',\'"+cL(38)+"\',\' "+cL(24)+" \',3);"}).css({"opacity":1,"cursor":"pointer"});W('#fc_uln2').attr({"href":"javascript:fc_chat.insertTags(\'"+cL(39)+"\',\'"+cL(39)+"\',\' "+cL(25)+" \',3);"}).css({"opacity":1,"cursor":"pointer"});W('#fc_img2').attr({"href":"javascript:fc_chat.insertTags(\'[[\',\']]\',\'"+cL(36)+"\',3);"}).css({"opacity":1,"cursor":"pointer"});W('#fc_e_sml2').attr({"href":"javascript:fc_chat.tgl_tools(0,"+dc.tools_panel.smileys.width+","+dc.tools_panel.smileys.height+",3)"}).css({"opacity":1,"cursor":"pointer"});$('fc_uChat2').disabled=false}};this.ie9idiotbrowserfixtolabel=function(b){W("#fc_to_label").html(cL(276,'To')+": "+a.snm[b]+' <i style="'+bd.new_messages_box.text.offline_css+'">'+cL(368,'Offline')+'</i>')};var mH=function(k){var b='';if(k){hI=-1;bc.cU=-1;W("#fc_to_label").html(cL(276,'To')+": ");W('#fc_uChat2').html("")[0].disabled=true}else if(mQ(hI)||!lB(hI)){W("#fc_to_label").html(cL(276,'To')+": "+a.snm[hI]+' <i style="'+bd.new_messages_box.text.offline_css+'">'+cL(431,'Not Available')+'</i>');W('#fc_uChat2').html("")[0].disabled=true}else if(a.o[hI]!='1'){b=':not(a.fc_sh3)';W("#fc_to_label").html(cL(276,'To')+": "+a.snm[hI]+' <i style="'+bd.new_messages_box.text.offline_css+'">'+cL(368,'Offline')+'</i>')}W('a.fc_share2'+b).css({"opacity":.4,"cursor":"default"}).attr({"href":"javascript:void(0)"})};this.clr_tlk=function(){W("div.fc_tlk_cont:visible").each(function(){var a=jGo.$(this).attr("class").split(" ")[0].substr(6);if(a!=bc.uid){gh--}jGo.$(this).remove();kv--});kv=Math.max(0,kv);gh=Math.max(0,gh);lQ()};var mI=function(){var a=cL(29);val=(U.change_avatar?"<a id='fc_avu' style='margin-left:2px;' "+bW+"launch_avatar()'>"+"<img title='"+a+"'src='"+fW+"add_avatar.png'>"+"</a>":"");W("span.fc_quick_chat_name").html("<b>"+kq((hU?hU:ie(U.session_cookie).split('>')[1]),'')+"</b>.&nbsp;"+(dX?"&nbsp;<a style='"+bd.online_box.text.css+bd.online_box.greeting_box_link+"' HREF='javascript:void(0)' onclick='return fc_chat.sign_in()'>"+cL(342,'Change name')+"</a>":val)+((!dX&&ih(14)!="3")?"&nbsp;<a style='"+bd.online_box.text.css+bd.online_box.greeting_box_link+"' href='javascript:void(0)' onclick='fc_chat.logout()'>"+cL(44)+"</a>":''));W("span.fc_quick_chat_signin").html((dX?"&nbsp;<a style='"+bd.online_box.text.css+bd.online_box.greeting_box_link+"' HREF='javascript:void(0)' onclick='return fc_chat.sign_in()'>"+cL(342,'Change name')+"</a>":val)+((!dX&&ih(14)!="3")?"&nbsp;<a style='"+bd.online_box.text.css+bd.online_box.greeting_box_link+"' href='javascript:void(0)' onclick='fc_chat.logout()'>"+cL(44)+"</a>":''))};this.setPng=function(){cc=new Date().getTime()};this.setL=function(a){l=a};function userRecord(){this.id=[];this.nm=[];this.snm=[];this.at=[];this.o=[];this.ac=[];this.d=[];this.g=[];this.t=[];this.cc=[];this.ty=[];this.idl=[];this.pr=[];this.pro=[];this.ttl=[];this.ttlo=[];this.nk=[];this.nko=[];this.tag=[];this.tago=[];this.av=[];this.avo=[];this.acl=[];this.vsp=[];this.vcu=[];this.vs=[];this.vso=[];this.vsw=[];this.wl=[];this.vsw2=[];this.wl2=[];this.b=[];this.bg=[];this.bs=[];this.ge=[];this.gpe=[];this.pe=[];this.ppe=[];this.de=[];this.gre=[];this.pve=[];this.msgC=[];this.msgB=[];this.pge=[];this.ife=[];this.s=[];this.u=[];this.of=[];this.nw=[];this.pt=[];this.pid=[]};this.try_connection=function(a){if((a)&&!dO){return 1}return cp.jsGetConnect()};this.jsTestConnection=function(){try{if(cp.jsGetConnect()=='1'){var a=new Date().getTime();if((a-cc)>30000){if(ck==cg&&cl==ch){cs='000016'}else{cs='00001R'}ck=cg;cl=ch;try{cp.jsSendData(cs);cc=new Date().getTime()}catch(err){this.jsOnClose()}}hk=setTimeout('fc_chat.jsTestConnection()',3000)}else{connLost(2)}}catch(err){W("div.fc_t1").html(cL((Y?258:104)));ka(0);bI=1;this.opfxLoader()}};this.jsOnSuccess=function(){bM=1;hk=setTimeout('fc_chat.jsTestConnection()',3000)};this.jsOnFailure=function(){if(!ea){connLost(2)}};this.jsOnClose=function(){if(!fc_chat.firstUpdateProcessed){id(U.user_cookie,'-1');bc.uid='-1'}connLost(1)};var mJ;this.stop=function(){clearTimeout(mJ);fc_chat.connectionLost((!X?cL(96):cL(392,ic)))};function connLost(a){l=true;clearTimeout(hk);if(!ea){if(!hR&&W("#fc_loginbox").css("display")==fg&&a==1){W("#fc_logintxt").html(cL(64));W("div.fc_t1").html((X?cL(393,'Please sign in'):jY(jW)));nc(false);if(fY==1){W(fl).html("");setOverlay(.25)};hQ=true;if(!U.require_login){dX=true}}else{var b=mL==-1&&hR;var c=(b?cL(414,"Connection lost... Trying again in 5 secs. <a "+bW+"stop()'>Stop</a>"):(!X?cL(96):cL(392,ic)));if(mL==1)c=cL(441,"Sorry, you have been booted.");if(mL==2)c=cL(442,"Sorry, you have been banned for 30 min.");fc_chat.connectionLost(c,b||mL>0);if(b){mJ=setTimeout('fc_chat.reqRecon()',5000)}}}else{if(hQ&&!hp){id(bq,'0');bs=0;hp=setTimeout('fc_chat.login()',20)}}mL=-1;hS=0};var mK=function(k){mL=k;cs='00001[';kc(1)};this.closeRoom=function(){if(fY=='1'){fc_chat.closeVid();jP(cL(98));fc={typ:1,index:0,id:null,elem:null};fc_chat.c_g2('0')}else{cP=cO}};this.connectionLost=function(a,k){var b=cL((Y?258:104));W("div.fc_t1").html((k?a:b));fc_chat.close_boxes(1);nf();fc_chat.closeVid();ka(0);if(fY==1){fc_chat.prepare_disabled_mode();id(bq,'0');bs=0}if(fY==1||X){if(gw){gw[fM]=''}show_alertbox(a)};jGo.hooks.doHooks('fcchat_disable_toolbar_fn')};var mL=-1;this.jsOnData=function(a){l=true;if(a.charAt(0)=='Q'){var b=a.substr(1);mK(b)}else{if(ck==cg&&cl==ch){cc=new Date().getTime()}kh(a);fc_chat.firstUpdateProcessed=true;if(U.prompt_user&&!U.require_login){fc_chat.startPromo()}jt=true;if(!hR||ec){mM();bJ=1;if(!dX&&!dY||fY==1){if($('fc_loginbox').style.display==fg){fc_chat.toggle_login_box(0)}if(fY==1){eb=true;clrOverlay()}if(na==0){if(fO&&bc.m==0){fO.cN[0].style.display=fg}fc_chat.open_chat_box()}else{fc_chat.tgl_online(fT);na=0}eb=false}dY=0;ec=false;hR=true}hS=0}};var mM=function(){var a=1;if(!dX){a=2};if(dY){a=3};ii(a,14)};function getConObj(){if(U.flashEnabled){if(navigator.appName.indexOf("Microsoft")>-1){cp=window['fc_movie']}else{cp=document['fc_movie']}if(cp&&cp.length){cp=cp[0]}}else if(U.websocketEnabled){cp=jGo.fcchat_webSocket}else{cr=true}};function gFL(a){if(navigator.appName.indexOf("Microsoft")>-1){return window[a+'Object']}else if(document.getElementById){var b=a+'Embed';return document.getElementById(b)}else{return null}};function rstCon(){if(U.flashEnabled){$('fc_flaToggle')[fM]='';$('fc_flaToggle')[fM]=fc_tag.toString()}else{if(cp&&cp.socket){cp.jsCloseConnection();cp.socket=null}}};this.begCon=function(){dT=false;try{if(!cp.beginConnect||cr){fc_chat.rtryCon();return false}cp.beginConnect(cq,U.host,U.port,U.policy_port,1);if(dZ>0){dZ=0;jU(1)}}catch(err){fc_chat.rtryCon()}};this.rtryCon=function(){if(dZ<=U.retry[0]&&!cr){dZ++;if(U.retry[2])W("div.fc_t1").html('<b>&nbsp;'+cL(105)+' '+dZ+'</b>');rstCon();getConObj();if($('fc_opimg')){$('fc_opimg')[fM]='<img src="javascript:location.href=\'javascript:fc_chat.opfxLoader();\';" style="position:absolute;left:-100px">'}setTimeout('fc_chat.begCon()',U.retry[1])}else{connnectionAttempt=0;fc_chat.connectionLost('<b>&nbsp;'+cL(106)+'</b>',1)}};this.riniCon=function(){fc_chat.firstUpdateProcessed=false;rstCon();if(bJ==1||ie(U.user_cookie)=="-1"){bN=1;this.opfxLoader()}else{this.loader()}W(".fc_ob").html(fc_chat.toggle_btn(1,0));if(!U.require_login||ih(14)=="3"||ie(U.user_cookie)!="-1"){}else{W(".fc_ob").html(fc_chat.toggle_btn(1,1))}};this.reqRecon=function(){Y=0;if(!X&&bc.m==0&&fY==1){fc_chat.posWin()}id(bq,'0');id(br,'1');bs=0;bt=1;if(X&&(U.require_login&&bc.uid=='-1'&&!dX)&&!dO){ng()}else{if(fY==0){fc_chat.riniCon()}else{fc_chat.firstUpdateProcessed=false;hQ=true;ec=true;setOverlay(.25);nh();if(dX){hU='g:'+cL(1)}else{if(hU==null){hU=a.nm[bc.uid]}}var b=0;if(dO){if(ih(14)=='2'&&(U.require_login)){if(bc.uid=='-1'){b=1;ng()}else{hQ=false;getLoginDetails()}}else{hQ=false;getLoginDetails()}}else{if(U.require_login&&bc.uid=='-1'){b=1;ng()}else{hQ=false;fc_chat.loader_cont()}}}}};this.closeChat=function(){if(!X){if(bc.m==1){l=false;setTimeout("fc_chat.open_chat_box()",1500)}else{resetDom();fY=0}}};this.unPause=function(){id(bq,'0');bs=0;bt=(bt==1?0:1);fc_chat.toggle_on()};this.toggle_on=function(){if(bt==1){bt=0;clearTimeout(hk);try{cp.jsCloseConnection()}catch(e){}W(".fc_ob1").html(fc_chat.toggle_btn(0,0));W(".fc_ob").html(fc_chat.toggle_btn(1,0))}else{bt=1;W(".fc_ob1").html(fc_chat.toggle_btn(0,1));W(".fc_ob").html(fc_chat.toggle_btn(2,0))}var a=Z+'ToggleChat.asp';setTimeout("fc_chat.toggle_delay()",500)};this.toggle_delay=function(){if(bt==1){id(br,"1");if(dO){bI=1}fc_chat.riniCon()}else if(bt==0){id(br,"0");l=true;W(".fc_ob").html(fc_chat.toggle_btn(2,1));W("div.fc_t1").html(cL(102));ka(0);fc_chat.close_boxes(1)}};this.showUP=function(u){if(!l){if(fY=='1'||bc.m==1){if(bz!=4||ee.u!=u){bz=1;if(!mQ(u)){fc_ex.showUP(ee,u,cp,fL)}ee.u=u}this.createTopIFrame(Z+"html/Profile.html?u="+prof_info(u)+'&dummy=true',4,0);return false}else{return true}}return false};this.createUP=function(a,b){return fc_ex.createUP(ee,a,b,cp,fL)};this.loadUP=function(u,a){return fc_ex.loadUP(ee,u,a)};var mN=function(u){var b="display:none'>";if(a.pr[u]=='1'){b=fj+"'><span style='"+de.profile_star.css+"'>&#42;</span>"}return"<span unselectable='on' class='fc_prast"+u+"' style='cursor:default;"+b+"</span>"};var mO=function(u,n,b){var c="display:none;width:110px'></div>";if(a.ttl[u]!=''){c="display:"+(n?fi:fg)+";width:110px;"+(b||dJ)+";margin-left:"+(n?"0px;margin-right:15px;":"3px;")+"margin-top:2px;cursor:default;font-style:italic;font-weight:bold' >"+a.ttl[u]+"</div>"}return"<div unselectable='on' class='fc_ttl"+u+"' style='"+c};var mP=function(u){return(ga==u?"<div class='fc_current_chatee' unselectable='on' style='cursor:default;margin-left:3px;font-style:italic;"+dJ+"'>"+cL(430,"Selected for chat")+"</div>":"")};function prof_info(u){var b=U.avatars_dir+'default.gif';var g=0;var c=0;if(a.av[u]!=''){b=a.av[u];b=(b.indexOf('/')==0)?b.substr(1):U.avatars_dir+b}b=(b.indexOf('./')==0)?'./../../'+b.substr(2):b;if(mQ(u)){g=1}if(u==bc.uid){c=1}return u+'&nm='+encodeURIComponent(a.nm[u])+'&g='+g+'&own='+c+'&loc='+encodeURIComponent(b.replace(/http/g,'||protocol||').replace(/\./g,'||period||'))};var mQ=function(u){return(a.at[u]==''&&(a.nm[u].substr(0,cL(1).length)==cL(1)||a.nm[u].indexOf('('+cL(1))!=-1))};this.toggleDTM=function(n){if(!l){if(n==0){ii(fh,0);bF=0;bE='display:'+fh}else{ii(fi,0);bF=1;bE='display:inline'}}};this.createTopIFrame=function(a,b,c){if(!bm||!document.createElement){return false};if(b==bz){bz=1;this.rem();return false}bz=b;if(bc.m==1&&c==0){a+='&target=1'}if(!bc.IFO&&document.createElement){bc.tIF=fc_ex.createIF(0,fS,fm,c,kd);bc.IFO=(kd?document.body.appendChild(bc.tIF):gu.appendChild(bc.tIF));if(document.frames){bc.IFO=document.frames['fc_UPIFrame']}}else{if(c==0){bc.tIF.style.display=fg}}if(kd){fc_ex.i_tIF(bc.tIF,gu)}if(navigator.userAgent.indexOf('Gecko')!=-1&&!bc.IFO.contentDocument){setTimeout('fc_chat.createTopIFrame('+a+','+b+','+c+')',10);return false}if(bc.IFO.contentDocument){hh=bc.IFO.contentDocument}else if(bc.IFO.contentWindow){hh=bc.IFO.contentWindow.document}else if(bc.IFO.document){hh=bc.IFO.document}else{return false}hh.location.replace(a);if(c==0){mS(fh,fg)}return false};this.createMainIFrame=function(w){if(!bm||!document.createElement){return false};var a=window.location.href;if(a.indexOf('?')>=1){a+=''}else{a+='?d=true'}var b=en()+'px';var c=iT(gu.style.height);if(!gZ&&document.createElement){bc.tempIFrame=fc_ex.createIF(1,fS,null,null,cM);bc.tempIFrame.style.width=w+'px';bc.tempIFrame.style.height=b;gZ=document.body.appendChild(bc.tempIFrame);bc.odiv=document.createElement('div');bc.odiv.className="jGo_app jGo_myapp";bc.odiv.style.width=w+'px';bc.odiv.style.height=b;bc.odiv.style.position='absolute';bc.odiv.style.top='0px';bc.odiv.style.left='0px';bc.odiv.style.zIndex=fS+600;bc.odiv.style.display=fh;document.body.appendChild(bc.odiv);if(document.frames){gZ=document.frames['fc_RSIFrame']}}else{bc.tempIFrame.style.width=w+'px';bc.odiv.style.width=w+'px';bc.tempIFrame.style.height=b;bc.odiv.style.height=b}bc.tempIFrame.style.display=fg;if(navigator.userAgent.indexOf('Gecko')!=-1&&!gZ.contentDocument){setTimeout('fc_chat.createMainIFrame('+w+')',10);return false}if(gZ.contentDocument){ha=gZ.contentDocument}else if(gZ.contentWindow){ha=gZ.contentWindow.document}else if(gZ.document){ha=gZ.document}else{return false}ha.location.replace(a);return false};this.getIFrameDoc=function(){return ha};function getNewTopIFrameDoc(){try{if(bc.IFO.contentDocument){hh=bc.IFO.contentDocument}else if(bc.IFO.contentWindow){hh=bc.IFO.contentWindow.document}else if(bc.IFO.document){hh=bc.IFO.document}else{hh=null;return false}}catch(err){hh=null;return false}return false};function getNewIFrameDoc(){try{if(gZ.contentDocument){ha=gZ.contentDocument}else if(gZ.contentWindow){ha=gZ.contentWindow.document}else if(gZ.document){ha=gZ.document}else{ha=null;return false}}catch(err){ha=null;return false}return false};this.breakOut=function(){if(!l){for(var b in a.ife){if(a.ife.hasOwnProperty(b)){delete a.ife[b]}}getNewIFrameDoc();var c=Z+"html/BreakOut.html";ha.location.replace(c)}return false};this.home=function(){if(!l){var v=$('fc_RSIFrame');v.parentNode.removeChild(v);gZ=null;var a=em();this.createMainIFrame(iT(gu.style.left)-1)}return false};this.rem=function(a){if(!l){if(a==1){iv['fc_avwin'].close()}else{if(bc.IFO==null){fc_chat.tgl_info_panel()}else{var v=$('fc_UPIFrame');bz=1;if(bc.sI==0)mS(fg,fh);bc.IFO=null;v.parentNode.removeChild(v);if(fV){}}}}};var mR=function(){var a=l;l=false;if(bc.IFO!=null){bc.rem()}if(bc.sI==1){bc.rem()}l=a};var mS=function(a,b){W('#fc_gco').css("display",a);W('#fc_bck').css("display",b)};this.btr=mS;this.getTagString=function(){return fc_tag.toString()};this.getMode=function(){return bc.m};this.get_ie_offset=function(){var a=0;if(jGo.browser.browser=="Explorer"){a=1}if(jGo.browser.browser=="Safari"){a=-1}return a};var mT=function(a,b){if(a){hf=true}if(b){hg=true}};var mU=0;this.fade_new_msgs=function(){if(mU<11){mU++;W("span.fc_nm_count").fadeTo('fast',(mU%2==0?.10:1),fc_chat.fade_new_msgs)}};this.sendOnEnter=function(a,b,e){var c;if(window.event)c=window.event.keyCode;else if(e)c=e.which;else return true;if(c==13){fc_chat[b].apply(this,arguments);return false}else return true};var mV=0;var mW=function(){clearTimeout(mV);mV=setTimeout(function(){fc_chat.banner_resize()},80)};this.banner_resize=function(){var a=window.orientation;var b=window.screen.width;if(a){if(Math.abs(a)==90)b=window.screen.height}var c=Math.max(1,em()/b);W('.jGo_app.jGo_myapp *.fc_d5').css('font-size',Math.round(8*c)+'px');W('#fc_topbanner').css({'height':Math.round(35*c)+'px'});W('#fc_topbannerinner').css({'bottom':Math.round(10*c)+'px'});W('#fc_t1a').css({'height':Math.round(25*c)+'px','padding-left':Math.round(10*c)+'px'});W('a.fc_topbannerlink').css({'padding':Math.round(6*c)+'px','font-size':Math.round(10*c)+'px'});W('span.fc_disc_button').css({'padding-left':Math.round(10*c)+'px'});W('#fc_banner_title').css({'margin-left':Math.round((cE?6:10)*c)+'px'});W('img.fc_topbannerimg').css({'width':Math.round(6*c)+'px','height':Math.round(6*c)+'px'});W('a.fc_topbannerlink#fc_bannerlink2').css({'margin-right':Math.round(5*c)+'px'});W('#fc_banner,#fc_toolbar').css('height',Math.round(60*c)+'px')};if(cU.config.layout==2){W(window).resize(mW)}this.writeBox=function(){var f='';var h=bd.control;var l=bd.control.buttons;var m=bd.control.info_box;var n=bd.new_messages_box.text;var o=bd.friends_box.text;var p=bd.online_box.text;var q=bd.chatrooms_box.text;var r=(fc_chat.vidAcc%2!=0?'':' '+cL(32));var s=fc_chat.get_ie_offset();var t=dc.widgets.text_icon_css;var u=hB+"cursor:default;;margin-right:2px";var v="float:right;margin-right:7px;"+q.link_css+";text-decoration:none;font-weight:bold;font-stretch:wider;";try{W('#fc_loginbox').remove();W('#fc_alertbox').remove();W('#fc_chatrooms').remove();W('#fc_onlinelist').remove();W('#fc_quickchat').remove();W('#fc_friendslist').remove();W('#fc_toolbar').remove();W('div.jGo_dialog').remove();if(bc.infobox){bc.infobox.remove();bc.infobox.destroy()};if(bc.nickBox){bc.nickBox.remove();bc.nickBox.destroy()}}catch(e){};var w=function(){var a="<div style='position:relative;top:0px;float:right'>"+(!X?"<a style='"+ji.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='fc_chat.toggle_login_exit();return false;'>x</a>":"")+"&nbsp;&nbsp;</div>"+"<table cellpadding='3' style='display:"+(dO?fg:fh)+";padding:5px;margin-top:10px;margin-left:10px;margin-right:5px;'>"+"<tr>"+"<td width="+(eF-10)+" style='width:"+eF+"px;'>"+"<div style='margin-bottom:10px;margin-top:32px;width:100%;font-weight:bold' id='fc_logintxt2' class='fc_lb_text'><img style='vertical-align: middle; margin-bottom: .25em' src='"+fW+"signin.png' border=0'>&nbsp;&nbsp;"+U.loginText+"</div>"+"<center><input type=button id='fc_lexit2' name='Cancel' value='"+cL(345,"OK")+"' onclick='fc_chat.redirect_login();return false;' style='font:12pt arial'></center>"+"</td>"+"</tr>"+(U.facebook_connect&&dO?x()+"<tr>"+"<td>"+"<div style='margin-bottom:7px' id='fc_logintxt' class='fc_lb_text'></div>"+"</td>"+"</tr>":"")+"</table>"+"<table cellpadding='3' style='display:"+(dO?fh:fg)+";padding:5px;margin-left:10px;margin-right:5px;margin-top:10px'><tr>"+"<td >"+"<div style='margin-bottom:7px;font-weight:bold' id='fc_logintxt1' class='fc_lb_text'>"+cL(43)+"</div>"+"</td>"+"</tr>"+"<tr>"+"<td align='right' style='padding:3px;padding-left:5px''>"+"&nbsp;<input id='fc_luname' onkeypress='fc_chat.sendOnEnter(this,\"sendLogin\",event)' type=text name=username maxlength='30' class='fc_lb_field'>"+"<span class='fc_lb_textfield'>&nbsp;"+cL(56)+" </span>"+"</td>"+"</tr>"+"<tr>"+"<td align='right' style='padding:3px;padding-left:5px'>"+"&nbsp;<input id='fc_lpass' onkeypress='fc_chat.sendOnEnter(this,\"sendLogin\",event)' type=password name=password maxlength='30' class='fc_lb_field'>"+"<span class='fc_lb_textfield'>&nbsp;"+cL(57)+" </span>"+"</td>"+"</tr>"+"<tr>"+"<td style='padding:5px;padding-left:40px''><nobr>"+"<input type=button id='fc_lenter' name='Enter' value='"+cL(58)+"' style='font:12pt arial !important' onclick='fc_chat.sendLogin()'>&nbsp;"+"<input type=button id='fc_lexit' name='Cancel' value='"+cL(59)+"' onclick='fc_chat.toggle_login(0);return false;' style='font:12pt arial !important'>"+"</nobr>"+"</td>"+"</tr>"+(U.facebook_connect&&!dO?x():"")+"<tr>"+"<td >"+"<div style='margin-bottom:7px' id='fc_logintxt' class='fc_lb_text'></div>"+"</td>"+"</tr>"+"</table>";return a};var x=function(){return"<tr>"+"<td width="+eF+" style='width:"+eF+"px;padding:1px'>"+"<br><div class='fc_lb_text' style='font-weight:bold'><img style='vertical-align: middle; margin-bottom: .25em' src='"+fW+"facebook_32.png' border=0>&nbsp;&nbsp;"+cL(353,"Or...Use your Facebook account...")+" </div><div id='fc_fb_login'></div>"+"</td>"+"</tr>"};f="<div class='fc_controlbox' style='position:absolute;width: "+(X?'10':h.width)+"px;height: "+h.height+"px;top:0px;left:0px;display: "+(U.control_visible?fg:fh)+";"+h.css+";z-index: "+(U.is_drupal?0:(fS+99))+"'>"+"<IMG SRC='"+bh+"' id='fc_logo' border=0 height=16px style='position:absolute;top:"+h.logo.top+"px;left:"+h.logo.left+"px;"+h.logo.css+";height:16px;"+hC+"'>"+"<div id='fc_topband' style='position:absolute;top:"+h.title_box.top+"px;left:"+h.title_box.left+"px;width:"+h.title_box.width+"px;height:"+h.title_box.height+"px;"+h.title_box.css+"; z-index:"+(fS+100)+";overflow:hidden;'>"+"<div id='fc_topband_inner' style='margin-left: 1px;padding:3px 2px 2px 2px;line-height:160%;"+h.title_box.text.css+"'>"+U.widget_title+"&nbsp;&nbsp;<img class='fc_status_bullet' align=absmiddle style='padding-bottom:3px;"+h.status.css+"' src='"+fW+"bullet_yellow.png'>"+"</div>"+"</div>"+"<div id='fc_control_buttons' class='fc_d4' style='position:absolute;display: block;text-align:left;top:"+h.buttons.top+"px;left:"+h.buttons.left+"px;width:"+h.buttons.width+"px;height:"+h.buttons.height+"px;z-index:"+(fS+103)+";overflow:hidden;'>"+"<div id='fc_control_buttons_inner' style='margin-left: 1px;padding:3px 2px 2px 2px;line-height:160%'>"+"<span class='fc_ob1' id='fc_ob1a' style='"+h.buttons.full_page_button.css+";z-index: "+(fS+102)+";' >"+"<span class='fc_abbtn' ><a onclick='fc_chat.openPopup();' target=_blank href='"+bg+"' >"+fI+"</a></span>"+"</span>"+"<span class='fc_ob' style='"+h.buttons.on_off_button.css+";z-index: "+(fS+102)+";'>"+"<span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+this.obtn+"</a></span>"+"</span>"+"</div>"+"</div>"+"<div id='fc_sChat' class='fc_d4' style='position:absolute;display: block;text-align:left;width: "+m.width+"px;height: "+(m.height+s)+"px; top: "+m.top+"px; left: "+m.left+"px;"+h.info_box.css+"; z-index:"+(fS+103)+";overflow:hidden;'>"+"<div class='fc_t1' id='fc_t1' style='margin-left: 1px;padding:3px 2px 2px 2px;line-height:160%'>"+((!U.require_login||bc.inSession==1)&&jGo.cookie.getCookie('fc_tglChat')!='0'&&jGo.cookie.getCookie('fc_pauseChat')!='1'?kk('..',1):jW)+"</div>"+"</div>"+"</div>"+"<div class='jGo_app jGo_myapp jGo_dialog' id='fc_chatrooms' style='position:absolute;display: none;visibility: visible;"+bd.chatrooms_box.css+";text-align:left;width: "+bd.chatrooms_box.width+"px;height:"+bd.chatrooms_box.height+"px; top: "+bd.new_messages_box.top+"px; left:"+(bd.new_messages_box.width+bd.new_messages_box.toolbar_offset+7)+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'>"+"<div id='fc_chatrooms_title' style='position:absolute;width:"+bd.chatrooms_box.width+"px;"+bd.chatrooms_box.title_box_css+";overflow:hidden'><div style='padding:7px;'><a style='"+v+"' "+bW+"tgl_chatrooms()'>x</a><span style='"+q.title_css+"'>"+cL(405,'Chat Rooms')+"</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id='fc_exit_room' style='"+q.link_css+";"+q.disabled_css+"'>"+cL(400,'Exit Current Room')+"</span></div></div>"+"<div class='fc_d7' id='fc_view_chatrooms' style='position:absolute;width:"+bd.chatrooms_box.width+"px;"+bd.chatrooms_box.list_box_css+";top:40px;left:0px;height:302px;overflow:auto'><div class='fc_roomlist0' id='fc_t6' style='padding:3px;overflow:auto;line-height:120%'>&nbsp;&nbsp;"+cL(293,'Please wait')+"</div></div>"+"</div>"+"<div class='jGo_app jGo_myapp fc_tldialog' id='fc_onlinelist' style='position:absolute;display: none;visibility: visible;"+bd.online_box.css+";text-align:left;width: "+bd.online_box.width+"px;height:"+bd.online_box.height+"px; top: "+bd.new_messages_box.top+"px; left:"+(bd.new_messages_box.width+bd.new_messages_box.toolbar_offset+7)+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'>"+"<div id='fc_onlinelist_title' style='position:absolute;width:"+bd.online_box.width+"px;"+bd.online_box.title_box_css+";overflow:hidden'><div style='padding:7px;'><a style='"+v+"' "+bW+"tgl_online()'>x</a><span style='"+p.title_css+"'>"+cL(294,'Who\'s Online')+"</span></div></div>"+"<div id='fc_onlinelist_greeting' style='position:absolute;width:"+bd.online_box.width+"px;"+bd.online_box.greeting_box_css+";overflow:hidden'><div style='padding:3px;"+p.css+p.info+"'>"+cL(275,'You are currently chatting as ')+"<span style='"+p.css+"' class='fc_quick_chat_name'></span>&nbsp;</div></div>"+"<div class='fc_d7' id='fc_view_online' style='position:absolute;width:"+bd.online_box.width+"px;"+bd.online_box.list_box_css+";overflow:auto'><div id='fc_t4' style='padding:3px;overflow:auto;line-height:120%'>&nbsp;"+cL(293,'Please wait')+"</div></div>"+"<div id='fc_online_info' style='position:absolute;width:"+bd.online_box.width+"px;"+bd.online_box.info_box_css+";overflow:hidden'><div style='padding:4px'><span id='fc_online_label' style='line-height:120%;"+p.css+p.info+"'>"+cL(292,'<u>Underlined Users</u> are available for chat.<br>Click +/- to add/remove friends. Click name to chat.')+"</span>"+"</div></div>"+"</div>"+"<div class='jGo_app jGo_myapp fc_tldialog' id='fc_quickchat' style='position:absolute;display: none;visibility: visible;"+bd.new_messages_box.css+";text-align:left;width: "+bd.new_messages_box.width+"px;height:"+bd.new_messages_box.height+"px; top: "+bd.new_messages_box.top+"px; left: "+bd.new_messages_box.toolbar_offset+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'>"+"<div id='fc_quickchat_title' style='position:absolute;width:"+bd.new_messages_box.width+"px;"+bd.new_messages_box.title_box_css+";overflow:hidden'><div style='padding:7px;'><a style='"+v+"' "+bW+"tgl_messages()'>x</a><span style='"+n.title_css+"'>"+cL(272,'New Messages')+"</span>&nbsp;&nbsp;&nbsp;<span id='fc_talk_filter'><a style='"+n.link_css+"' "+bW+"filt(1,1)'>"+cL(427,'Filter Off')+"</a></span>&nbsp;&nbsp;<a style='"+n.link_css+"' "+bW+"clr_tlk()'>"+cL(273,'Clear')+"</a></div></div>"+"<div id='fc_quickchat_greeting' style='position:absolute;width:"+bd.new_messages_box.width+"px;"+bd.new_messages_box.greeting_box_css+";overflow:hidden'><div style='padding:3px;"+n.css+"'><span style='"+bd.online_box.text.css+"' class='fc_quick_chat_signin'></span>"+(!X?"&nbsp;&nbsp;<a style='"+bd.online_box.text.css+bd.online_box.greeting_box_link+"' class='fc_grpt0 fc_grp"+cO+"' id='fc_open_full_chat' "+(open_chatrooms_in_window?"onclick='fc_chat.openPopup();' target=_blank href='"+bg+"'":"href='javascript:void(0)' onclick='fc_chat.tgl_full_chat(this);return false;'")+">"+(fk==1?cL(415,'Open Your messages inbox.'):cL(416,'Open Full Chat'))+"</a>":"")+"<img style='visibility:hidden;height:16px;width:1px' src='"+fW+"trans.gif'>"+"<div id='fc_conv_selector' style='padding-top:2px;"+n.css+n.info+"'>"+cL(425,'All Conversations')+":</div></div></div>"+"<div class='fc_d6' id='fc_view_msgs' style='position:absolute;width:"+bd.new_messages_box.width+"px;"+bd.new_messages_box.view_msg_box_css+"overflow:auto'><div id='fc_t2' style='padding:3px;overflow:auto;line-height:1'>"+"<div class='fc_tlk0 fc_tlk_cont' style='"+n.info+"'>"+cL(277,'You have no new messages.')+"</div>"+"</div></div>"+"<div id='fc_send_msgs' style='position:absolute;width:"+bd.new_messages_box.width+"px;"+bd.new_messages_box.send_msg_box_css+";overflow:hidden'><div style='padding:4px'>&nbsp;<span style='"+n.css+"' id='fc_to_label'>"+cL(276,'To')+":</span>"+"<div style='height:16px;margin-left:2px;padding:2px'>"+"<a class='fc_share2 fc_sh3' id='fc_bld2' href='javascript:void(0)' style='"+u+"'>"+"<img title='"+cL(23)+"' style='"+t+"' id='fc_e_bld' src='"+fW+"text_bold.png'>"+"</a>"+"<a class='fc_share2  fc_sh3' id='fc_it2' href='javascript:void(0)' style='"+u+"'>"+"<img title='"+cL(24)+"' style='"+t+"' id='fc_e_it' src='"+fW+"text_italic.png'>"+"</a>"+"<a class='fc_share2  fc_sh3' id='fc_uln2' href='javascript:void(0)' style='"+u+"'>"+"<img title='"+cL(25)+"' style='"+t+"' id='fc_e_uln' src='"+fW+"text_underline.png'>"+"</a>"+"<a class='fc_share2  fc_sh3' id='fc_img2' href='javascript:void(0)' style='"+u+"'>"+"<img title='"+cL(26)+"' id='fc_e_img' src='"+fW+"image_1.png'>"+"</a>"+"<a class='fc_share2 fc_sh3 fc_tools_a' id='fc_e_sml2' href='javascript:void(0)' style='"+u+"'>"+"<img id='fc_e_sml2a' src='"+fW+"emoticon_smile.png'>"+"</a>"+"<a class='fc_share2' title='"+cL(296,"Send a doodle.")+"' id='fc_unote2' href='javascript:void(0)' style='"+hB+"cursor:default'><img src='"+fW+"pencil.png'></a>"+(U.transliteration_enabled?"<a class='fc_share2' title='"+cL(304,"Type in your language")+"' id='fc_utrlit2' href='javascript:void(0)' style='"+hB+"cursor:default;'><img src='"+fW+"google_transliteration.png'></a>":"")+"<a class='fc_share2' title='"+cL(311,"Share a document")+"' id='fc_udoc2' href='javascript:void(0)' style='"+hB+"margin-left:1px;cursor:default'><img src='"+fW+"document.png'></a>"+"<a class='fc_share"+(fc_chat.vidAcc%2!=0?'2':'dis')+"' title='"+cL(319,"Private Video Chat")+r+"' id='fc_uvid2' href='javascript:void(0)' style='"+hB+"margin-left:1px;cursor:default'><img src='"+fW+"webcam.png'></a>"+(U.allow_games?"<a class='fc_share2' title='"+cL(330,"Invite to play a game.")+"' id='fc_ugame2' href='javascript:void(0)' style='"+hB+"margin-left:1px;cursor:default'><img src='"+fW+"playing_card.png'></a>":"")+"</div>"+" <input id='fc_uChat2' class='fc_input' disabled onKeyPress='"+g+"oKD(event)' onKeyDown='"+g+"oKD2(event)' type=text style='"+bd.new_messages_box.input_css+";width:"+(bd.new_messages_box.width-(cM?30:20))+"px !important'><br>"+"</div></div>"+"</div>"+"<div class='jGo_app jGo_myapp  fc_tldialog' id='fc_friendslist' style='position:absolute;display: none;visibility: visible;"+bd.friends_box.css+";text-align:left;width: "+bd.friends_box.width+"px;height:"+bd.friends_box.height+"px; top: "+bd.new_messages_box.top+"px; left:"+(bd.new_messages_box.width+bd.new_messages_box.toolbar_offset+7)+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'>"+"<div id='fc_friendslist_title' style='position:absolute;width:"+bd.friends_box.width+"px;"+bd.friends_box.title_box_css+";overflow:hidden'><div style='padding:7px;'><a style='"+v+"' "+bW+"tgl_friends()'>x</a><span style='"+o.title_css+"'>"+cL(283,'Friends')+"</span></div></div>"+"<div id='fc_friends_greeting' style='position:absolute;width:"+bd.friends_box.width+"px;"+bd.friends_box.greeting_box_css+";overflow:hidden'><div style='padding:3px;'><span style='"+o.css+"' class='fc_contacts_links'>"+mt()+"</span><img style='visibility:hidden' src='"+fW+"add_avatar.png'>"+"<div id='fc_contact_selector' style='padding-top:2px;"+o.css+o.info+"'>"+mu()+"</div></div></div>"+"<div class='fc_d7' id='fc_view_friends' style='position:absolute;width:"+bd.friends_box.width+"px;"+bd.friends_box.list_box_css+";overflow:auto'><div id='fc_t3' style='padding:3px;overflow:auto;line-height:120%'></div></div>"+"<div id='fc_friends_info' style='position:absolute;width:"+bd.friends_box.width+"px;"+bd.friends_box.info_box_css+";overflow:hidden'><div style='padding:4px'><span id='fc_friends_label' style='line-height:120%;"+o.css+o.info+"'>"+cL(285,'<u>Underlined Users</u> are available for chat.<br>Click +/- to add/remove friends. Click name to chat.')+"</span>"+"</div></div>"+"</div>";f+="<div class='jGo_app jGo_myapp' id='fc_loginbox' style='display: none;visibility: visible;position: absolute; width:"+eF+"px; height:"+((U.facebook_connect?355:230)-(dO?80:0)+(cM?60:0))+"px;border:"+dc.login_panel.border+"; top: "+bd.login_panel.top+"px; left: "+bd.login_panel.left+"px; background-color: "+dc.login_panel.background_color+";z-index: "+(fS+150)+";overflow:hidden;"+dF+"'>"+w()+"</div>"+"<div class='jGo_app jGo_myapp' id='fc_alertbox' style='display: none;visibility: visible; position: "+(X||hc||!U.pin_windows||!U.pinned_by_default?"absolute":"fixed")+"; width:"+cL(0,0,'alert_dialog_width')+"px; height:100px;border:"+dc.alert_panel.border+"; top: 0px; left: 0px; background-color: "+dc.alert_panel.background_color+";z-index: "+(fS+150)+";overflow:hidden;"+dF+"'>"+"<center><table cellpadding='3' style='padding:5px;margin-top:40px;margin-left:10px'>"+"<tr>"+"<td>"+"<div id='fc_alerttxt' style='"+dc.alert_panel.text_css+"'>"+cL(97)+"</div>"+"</td>"+"</tr>"+"</table></center>"+"</div>";if(!cZ){$('fastcatchatentry')[fM]=f}else{gV=document.createElement('div');gV.setAttribute('id','jGo_app');gV.className='jGo_myapp';gV.style.position='absolute';gV.style.width=(X?10:h.width)+'px';gV.style.height=h.height+'px';gV.style.top=da+'px';gV.style.left=db+'px';gV.style.zIndex=(X?0:fS+200);gV.style.display=(U.control_visible?fg:fh);gV[fM]=f;document.body.appendChild(gV)}if(cM)W('input.fc_input').css('font-size','16px');jGo.fcchat_toolbar.friendscenter={};jGo.fcchat_toolbar.friendscenter.style={menu_item:{width:fn.width}};var y=function(k,j,a){return"<div id='fc_toolbar_inner'><div id = 'fc_friendscenter_toolbar_item'><div class='fc_d5 "+(k||j?"fc_toolbar":"")+"' id='fc_facade'"+(k?"":"position:absolute;width:"+fn.info_box.width+"px;"+fn.info_box.css)+";text-align:left;z-index:"+(fS+103)+";overflow:hidden;'>"+(k?"<div id='fc_topbanner' style='position:relative;'><p id='fc_topbannerinner' style='position:absolute;width:100%;'>"+(cE?"<span class='fc_disc_button'>"+cU.chatbox.create_mobile_layout(cS.id)+"</span>":"")+"<span id='fc_banner_title' style='"+cV.mobile_banner.title+"'>"+U.branding_bar_title+"</span>"+"<span style='float:right;margin-top:5px'>"+"<a class = 'fc_topbannerlink' id='fc_bannerlink1' style='"+cV.mobile_banner.links+"text-decoration:none;font-weight:bold' <a target=_blank href='"+bg+"?rmid="+(U.default_room_index+5)+"' onclick='fc_chat.openPopup()'>"+"&nbsp;<img class = 'fc_topbannerimg' src='"+fW+"trans.gif' alt='' style='border:1px solid white;' />&nbsp;"+"</a>&nbsp;&nbsp;&nbsp;"+"<a class = 'fc_topbannerlink' id='fc_bannerlink2' style='"+cV.mobile_banner.links+"text-decoration:none;font-weight:bold' "+bW+"hideToolbar();'>"+"&nbsp;X&nbsp;"+"</a></span>"+"</p></div>":"")+(a?a:"")+"<div class='fc_t1' id='fc_t1a' style='"+(k?"":"position:absolute;"+fn.info_box.css+";top:0px;left:"+(j&&cE?bc.chat_params.button_width:10)+"px;width:"+fn.info_box.width+"px;padding-top:"+(fn.info_box.padding_top+s)+"px")+"'>"+((!U.require_login||bc.inSession==1)&&jGo.cookie.getCookie('fc_tglChat')!='0'&&jGo.cookie.getCookie('fc_pauseChat')!='1'?kk('..'):jW)+"</div>"+"</div></div></div>"};jGo.fcchat_toolbar.friendscenter.create=function(){return y()+"<img class='fc_status_bullet' style='position:absolute;top:"+fn.status.top+"px;left:"+fn.status.left+"px;"+fn.status.css+"' src='"+fW+"bullet_yellow.png'>"+"<img src='"+fW+"trans.gif' style='position:absolute;top:"+fn.divider.top+"px;left:"+fn.divider.left+"px;"+fn.divider.css+"'>"+"<div class='fc_ob1' id='fc_ob1b' style='position: absolute;width:"+(fn.off_button.left-fn.open_chat_button.left)+"px;top: "+(fn.open_chat_button.top+s)+"px; left: "+fn.open_chat_button.left+"px;z-index: "+(fS+102)+";' >"+"<span class='fc_abbtn' ><a onclick='fc_chat.openPopup();' target=_blank href='"+bg+"' >"+fI+"</a></span>"+"</div>"+"<div class='fc_ob' style='position: absolute;top: "+(fn.off_button.top+s)+"px; left: "+(fn.off_button.left)+"px;z-index: "+(fS+102)+";'>"+"<span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+fc_chat.obtn+"</a></span>"+"</div>"};jGo.fcchat_toolbar.style.icon_tray.restore.width+=cL(0,0,"minimized_text_width_offset");cS=cU.control=bc.createWidget('DefaultToolbar',[jGo.fcchat_toolbar,(cU.config.layout==2?[]:cW),cU.config.position,cL(290,"FriendCenter"),"friendscenter",(X?0:jGo.toolbar_top),(X?-2:jGo.toolbar_left),(X?false:cU.config.show),(cU.config.layout==0&&cT==0),null,'fc_',(cU.config.show&&bS==bT),cU.config]);if(cU.config.layout==2){cS.frame.html(y(1));fc_chat.banner_resize()}else if(cU.config.mode==0){var z='';if(cE)z="<div class='"+cS.app_prefix+"toolbar_item' id='"+cS.app_prefix+"chatbox_toolbar_item' style='position:absolute;top:0px;left:0px'>"+cU.chatbox.create('default_toolbar'+cS.id)+"</div>";cS.frame.html(y(0,1,z))}if(X){W('#fc_xxx,#fc_os_min,.fc_ob').css("display",fh);W(".fc_ob1").html(fc_chat.toggle_btn(0,0))}cS.toggle_dialog=function(a,b,c,d){if(a.css("display")==fh){fc_chat.close_boxes(null,1)}return this.getDefault().toggle_dialog.apply(this,arguments)};cS.hide=function(){fc_chat.close_boxes();this.getDefault().hide.call(this)};cS.toggle=function(){this.getDefault().toggle.call(this);ii((this.minimized?'0':'1'),12)};cS.reposition=function(){if(cM&&cU.config.fixed==0){this.frame.css('width',jGo.$(document).width())}if(cU.config.show&&!cM){if(bc.tPC!=null&&bc.tPC.style.position=='fixed')iK();if(!hc)fc_chat.close_boxes();if(bc.m==0){this.getDefault().reposition.call(this)}}};bc.toolbar=cS;if(hc&&cU.config.show&&bS==bT){setTimeout("fc_chat.toolbar.reposition()",2000)}if(cM)cS.reposition();if(cU.config.show&&!X&&bS==bT){W(window).scroll(function(){if(fY==1&&bc.m==0&&fc_ex&&fc_ex.toggleOpen){fc_ex.toggleOpen(fO,fN)}})};for(var i=0;i<cW.length;i++){if(cW[i]!="friendscenter"){var A=cU[cW[i]].create_dialogs();cU[cW[i]].append_dialogs(A)}}document.body.appendChild(W("#fc_chatrooms")[0]);document.body.appendChild(W("#fc_onlinelist")[0]);document.body.appendChild(W("#fc_quickchat")[0]);document.body.appendChild(W("#fc_friendslist")[0]);if(U.prompt_user){var A=cU.prompt.create_dialogs();cU.prompt.append_dialogs(A)}bc.infobox=bc.createWidget('InfoBox',[W(document.body),jM]);bc.nickBox=bc.createWidget('InfoBox',[W(document.body),jm,null,null,0]);if(U.require_login&&!dO&&ie(br)!="0"&&ie(bq)!="1"){if(ie(U.user_cookie)=="-1"){W(".fc_ob").html(fc_chat.toggle_btn(1,1))}}};this.hideToolbar=function(){cS.hide()};function resetVars(){fP=0;cP=0;cQ=0;lY=0;lZ=0;mc=0;this.userlist_state=0;gh=0;kv=0;jy=0;jx=0;jA=0;this.discC='..';gj=0;gk=0;this.transliterator=null;this.transliteration=[0];this.currlang=null;bO=1;bP=false;bldCount=0;itCount=0;uCount=0;i=0;delete a;ct='';cu='0000';cv='';delete cw;cw={};cx=0;cy=0;mw();delete cB;cB={};this.sI=0;if(!X&&!hQ&&!fU){fY=0}fZ=0;this.cU='0';ga='0';gb='0';gf='0';gg=0;gl=0;gm[6]=0;gm[7]=0;gp[6]=0;gp[7]=0;gq[0]='0';gq[1]='0';gq[2]='0';gq[3]='0';gq[4]='0';gq[5]='0';gq[6]='0';for(var i=0;i<50;i++){gr[i]=0}gs[1]=0;gs[2]=0;gs[3]=0;gs[4]=0;gs[5]=0;gs[6]=0;delete gn;gn=[];delete go;go=[];bQ=false;delete bH;bH=[];hJ=new Array(10);hK=U.show_guests};function resetDom(){if(gu!=null){if(!hQ&&!fU){if(fO!=null){fO.cN[0].style.display=fh;fO.frame[0].style.display=fh}if(!ed){clrOverlay()}}mX();lt(1,6);lt(1,7);$('fc_del')[fM]="<a id='fc_dela' "+bW+"deletePrivateMsgs();' onmouseover='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del2\"' onmouseout='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del\"'><span class='fc_e fc_e_del' id='fc_e_del' title='"+cL(21)+"' style='display: block;position:absolute;top:"+(fs)+"px;left:"+(cL(0,0,'private_chat_width')+27)+"px;'></span></a>";gL.style.display=fh;fl.style.display=fg;gM.style.display=fh;gz.style.display=fg;gN.style.display=fh;W('#fc_top_info_inner').html('')}if(bc.oD!=null){bc.oD.style.display=fh;if(hc){bc.oIF.style.display=fh}}if(bc.tPC!=null){bc.tPC.style.display=fh;if(hc){bc.tPB.style.display=fh}}if(!hQ){mY()}if(hI!=-1){mH(1)}if(mB!=0){mD(0)}W('#fc_msg_selector,#fc_conv_selector').html(cL(425,"All Conversations")+":");W('#fc_t2').html("<div class='fc_tlk0 fc_tlk_cont' style='"+bd.new_messages_box.text.info+"'>"+cL(277,'You have no new messages.')+"</div>");W("#fc_t3").html("");W('span.fc_contacts_links').html(mt());W('#fc_contact_selector').html(mu());if(fk==1){tCL(0)};fc_chat.close_boxes(1,1);jGo.hooks.doHooks('fcchat_reset_vars')};var mX=function(){if(gw){gw[fM]='';gz[fM]='';gC[fM]='';gF[fM]='';gI[fM]='';gL[fM]='';gM[fM]='';gN[fM]=''}};this.opfxLoader=function(){bc.inSession=1;bc.uid='-1';var a=ie(U.user_cookie);if((a!=null)&&(a!="")&&(a!="0")){bc.uid=a}if(bc.uid=='-1'||bc.uid==-1){bc.inSession=0;jW=jY(U.startText)}if(ie(br)!="0"&&(a!="-1"||!U.require_login||dO)||hT==1){if((bN==1&&bJ==1)||bI==1){clearTimeout(hj);if(bS==bT){clearTimeout(this.t);clearTimeout(hk);rstCon();resetVars();resetDom();if((hR||!U.require_login||dO)&&!hQ&&!fU){tTC('0');this.loader()}}else{bO=1;jW=jY(U.startText);this.loader()}}else{bN=1}}else{clearTimeout(this.t);clearTimeout(hj);clearTimeout(hk);if($('fc_flaToggle')!=null){$('fc_flaToggle')[fM]=''}resetDom();if(W(".fc_ob1")[0]!=null){if(ie(br)=="0"){W(".fc_ob").html(fc_chat.toggle_btn(2,1));W("div.fc_t1").html(cL(102))}else{if(bN==1){jX(0)}}}bN=1;bJ=1}bI=0};this.toggle_btn=function(a,b,n){var c;if(a==0){if(b){c="<span class='fc_abbtn' ><a onclick='fc_chat.openPopup();' target=_blank href='"+bg+"' >"+fI+"</a></span>"}else{c="<span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+fI+"</a></span>"}}if(a==1||a==2){var d=(a==1?cL(5):cL(4));if(b){c="<span class='fc_abbtn' >"+fN+" onClick='fc_chat.toggle_on();return false' >"+d+"</a></span>"}else{c="<span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+d+"</a></span>"}}return c};function show_alertbox(a){fc_chat.close_boxes();v=$('fc_alertbox');$('fc_alerttxt')[fM]=a;document.body.appendChild(v);var b=(X?iX(W(v)):jc((bc.m==0?fO.frame[0]:gu)));v.style.display=fg;v.style.top=(X?b.y:(b.y+Math.floor((iT(gu.style.height)+45)/2)-Math.floor(100/2)))+'px';v.style.left=(X?b.x:(b.x+Math.floor((iT(gu.style.width)+10)/2)-Math.floor(cL(0,0,'alert_dialog_width')/2)))+'px';v.style.zIndex=fS+1010};var mY=function(){W('#fc_alertbox').css("display",fh);W('#fc_alerttxt').html("")};this.prepare_disabled_mode=function(){fc_chat.closeVid();mR();if(bc.m==1){bc.odiv.style.display=fh}if(this.uD!=null){this.uD.style.display=fh;if(hc){this.uIF.style.display=fh}}if(bc.oD!=null){bc.oD.style.display=fh;if(hc){bc.oIF.style.display=fh}}if(bc.tPC!=null){bc.tPC.style.display=fh;if(hc)bc.tPB.style.display=fh}if(fY=='1'){setOverlay(.25)}};this.loader=function(){if(bS==bT){if(!$("fc_hideContent")&&!ef){ef=document.createElement('div');ef.setAttribute('id','fc_install');document.body.insertBefore(ef,document.body.firstChild);ef.appendChild($("fc_package"))}if(!W('div.fc_controlbox')[0]&&!cZ&&!U.noshow&&$('fastcatchatentry')!=null){fc_chat.writeBox()}if(U.chat_id==''){activate();return false};if(U.no_support){mZ(cL(436,"Sorry, browser does not support real time chat."));return false};if(X||hO){id(bq,'0');bs=0;if(!dO){if((U.require_login)&&bc.inSession==0||hO){fc_chat.toggle_login_box(0);return false}else if(X){window['set_popup_header'](150,"")}}}if(dO){var x=null;try{x=$('fc_sChat')}catch(err){}if(ie(br)!="0"&&ie(bq)!="1"&&x!=null){if(document.getElementById&&document.getElementsByTagName&&document.createElement){if(!U.noshow&&(cZ||$('fastcatchatentry')!=null||bc.m==1)){getLoginDetails();return false}}}}fc_chat.loader_cont()}else{iu()}};this.loader_cont=function(){if(!U.require_login&&bc.inSession==0){fc_chat.login();return false}hR=true;var x=null;try{x=$('fc_sChat')}catch(err){}if(ie(br)!="0"&&ie(bq)!="1"&&x!=null){rstCon();getConObj();if(document.getElementById&&document.getElementsByTagName&&document.createElement){l=true;bR='1';a=new userRecord();iu();if(bc.inSession==1&&!U.noshow&&(cZ||$('fastcatchatentry')!=null)){if(cK==fh){cI="1"}for(var i=0;i<22;i++){gc[i]='0'}if(bO=='1'){getPageUsers();gc[6]='1'}else{cu='000>'}kb();var b=ih(0);if(b==fh){bE='display:'+fh;bF=0}bp=ie(U.session_cookie).split('>')[0];if((bp==null)||(bp=="0")){bp=""}if(cI!='0'){if(true){var c=10+bp.length;var d='.>'+U.chat_id+'000'+c+'1'+bc.uid.length+iR(bc.uid)+bp+String.fromCharCode(10);var e=34+cu.length;var f;f='000'+e;d+=f+'2'+cI+cF+cu+hZ;hZ='';cq=d;bJ=1;this.t=setTimeout("fc_chat.begCon()",1000);jU();if((fY=='1'||X)&&W('#fc_loginbox').css('display')==fh){show_alertbox(cL(100)+jS)}}else{jX(-1)}}}else{if(X&&U.require_login&&bc.inSession==0&&!dO){ng()}if(U.prompt_user&&U.require_login){ju=setTimeout("fc_chat.startPromo()",3000)}}}}else{if(x!=null){if(ie(bq)!="1"){W(".fc_ob").html(fc_chat.toggle_btn(2,1));W("div.fc_t1").html(cL(102))}else{W("div.fc_t1").html(cL(103))}W(".fc_ob1").html(fc_chat.toggle_btn(0,0))}}if(X){id(bq,'1')}};this.begConPre=function(){clearTimeout(this.t);if(FCChatConfig.show_country_flags){var a=ih(13).split('/')[0];if(a!=''){cq+=String.fromCharCode(10)+'00004r'+iQ(a,3)}}this.t=setTimeout("fc_chat.begCon()",50)};this.toggleHide=function(){if(X){if($('fc_m1')!=null){$('fc_m1').checked=true}jP(cL(134));return}if(!l){if(!U.allow_split_screen_mode||cM){if($('fc_m1')!=null){$('fc_m1').checked=true}jP(cL(134));return false}if(!ei){fc_chat.closeVid()}if(!cb){cb=true;bc.m=1;var a=fc_ex.getScrollerWidth();var b=em()-2;var c=en();var d=$('fc_loginbox');var f=$('fc_alertbox');var g=W('div.fc_controlbox')[0];if(!cZ&&$('fastcatchatentry')!=null){gV=$('fastcatchatentry')}bc.chat_window_height=Math.max(eu,Math.min(et,c))-2;if(c>bc.chat_window_height){a=0}if(bc.oD!=null){bP=false}if(bc.tPC!=null){bc.tPC.parentNode.removeChild(bc.tPC);if(hc){bc.tPB.parentNode.removeChild(bc.tPB)}}bc.tPC=null;if(this.uD!=null){if(this.uD.parentNode){this.uD.parentNode.removeChild(this.uD);if(hc){this.uIF.parentNode.removeChild(this.uIF)}}}this.uD=null;mR();$('fc_op1')[fM]="<div class='fc_obtn' >"+fN+hE+fX+"</a></div>";fO.frame[0].style.display=fh;fO.cN[0].style.display=fh;for(var i=0;i<10;i++){$('jGo_win'+i).style.display=fh}W(document.body).contents().each(function(i){if(!this.getAttribute||(this.getAttribute('id')!='fc_install')){W(this).css('display',fh)}});if(iT(gu.style.height)!=bc.chat_window_height){var e={type:'mousedown',target:$('jGo_dragbm'+fO.id),clientX:0,clientY:0,button:0};fc_ex.mouseEvents(e);e.clientY=bc.chat_window_height-iT(gu.style.height);fc_ex.drag_window(e);fc_ex.OnMouseUp(e)}gu.style.visibility="visible";document.body.appendChild(gu);if(bc.oD!=null){document.body.appendChild(bc.oD);$('fc_m2').checked=true;$('fc_oD').style.display=fh}if(g!=null){g.style.display=fh;document.body.appendChild(g)}if(d!=null){document.body.appendChild(d)}if(f!=null){document.body.appendChild(f)}W([bc.oD,d,f]).css("position","absolute");fO.fixed=false;if(hc){hb.style.display=fh}if(hc){if(bc.oIF!=null){bc.oIF.style.display=fh;document.body.appendChild(bc.oIF)}}W(document.body).css("background-color",U.styles.split_screen.background_color);this.createMainIFrame(b-(er+21+eQ)-a);fc_chat.c_w(b,a);gx.scrollTop+=25;gA.scrollTop+=25}else if(cb){getNewIFrameDoc();try{if(jGo.browser.browser=='Opera'){window.location=window.location.href}else{window.location=ha.location.href}}catch(e){window.location=window.location.href}return true}}else{if(bc.m==0){$('fc_m1').checked=true}else{$('fc_m2').checked=true}}};this.elimBar=function(){if(bc.IFO==null){fc_chat.createTopIFrame(Z+'html/Dummy.html',6,0);this.rem()}};this.c_w=function(s,a){bc.optionsTop=Math.floor((this.chat_window_height-eq)/2)+40;W(bc.img6).css({width:(bc.img1C==0?'30px':(er+11)+'px')});bc.img7.style.width=(bc.img2C==0?'30px':(er+11)+'px');gx.style.width=er+'px';gy.style.width=er+'px';gA.style.width=er+'px';gB.style.width=er+'px';if(!he){gL.style.width=er+'px';gM.style.width=er+'px'}gN.style.width=(er-20)+'px';gP.style.width=(er-1)+'px';$('fc_dragger').style.display=fg;$('fc_dragger2').style.display=fg;$('fc_dragger4').style.left=(er-28)+"px";$('fc_dragger5').style.left=(er-33)+"px";$('fc_top_info_outer').style.width=er-((cL(0,0,'chat_room_width')+50))+'px';$('fc_msg_selector_outer').style.width=(er-fD)+'px';$('fc_msg_to_outer').style.width=er-165+'px';$('fc_bottom_info_outer').style.left=er-38-cL(0,0,'functions_bar_width')+"px";gv.style.left=(er+20)+'px';gu.style.width=(er+20+eQ)+'px';gu.style.borderTop='0px';gu.style.top='0px';gu.style.left=(s-(er+20+eQ)-a)+'px';return false};var mZ=function(a){W("div.fc_t1").html("&nbsp;"+a);W(".fc_ob1").html(fc_chat.toggle_btn(0,0));W(".fc_ob").html(fc_chat.toggle_btn(1,0))};function activate(){W("div.fc_t1").html("&nbsp;<a href='http://www.fastcatsoftware.com/chat/activation.aspx' target=_blank style='font-weight:bold'>Click Here To Activate</a>");W(".fc_ob1").html(fc_chat.toggle_btn(0,0));W(".fc_ob").html(fc_chat.toggle_btn(1,0))};this.redirect_login=function(){if(X){if(U.login_redirect){window.location.replace(U.login_redirect)}else{window.open('','_parent','');window.close()}}else{fc_chat.toggle_login(0)}};this.toggle_login=function(n){if(!hO&&!(X&&U.require_login&&n==0)){if(fY==0){if($('fc_loginbox').style.display==fg){W(".fc_ob").html(fc_chat.toggle_btn(1,1))}else{W(".fc_ob").html(fc_chat.toggle_btn(1,0))}}fc_chat.toggle_login_box(n)}return false};var na=0;this.sign_in=function(a,n){if(!l){if(fY=='1'){ed=true;fc_chat.prepare_disabled_mode();na=0}else{na=1;if(n){fT=n}if(a){fT=(W(a).parent().parent().attr("id")=='fc_t1a'?1:0)}}fc_chat.toggle_login(fT)}return false};var nb=false;var nc=function(n){$('fc_lenter').disabled=n;ne((n?0:1));nd(n);nb=n};var nd=function(n){$('fc_lexit').disabled=n;$('fc_lexit2').disabled=n};var ne=function(a){if(U.facebook_connect&&il){io('toggle'+a)}};this.toggle_login_exit=function(){if(W('#fc_lexit').attr('disabled')!='disabled'){fc_chat.toggle_login(0)}};var nf=function(v){var a=v;if(!v){a=$('fc_loginbox')}if(a.style.display==fg){ed=false;if(fY==1){clrOverlay()}}if(!v){a.style.display=fh}};this.toggle_login_box=function(n){v=$('fc_loginbox');nf(v);v.style.display=(v.style.display==fg?fh:fg);if(v.style.display==fg){if(!ib){document.body.appendChild(v)}$('fc_logintxt1')[fM]="<img style='vertical-align:text-bottom;' src='"+fW+"signin.png' border=0>&nbsp;&nbsp;"+cL(60);$('fc_logintxt')[fM]='';fc_chat.close_boxes(null,1);if(fY==1||X||hO){if(X||hO){var a=Math.max(10,(W(document).height()-W(v).height())/2);if(fY!=1&&a<120)a=120;W(v).css({"top":a+"px","left":Math.max(10,(W(document).width()-W(v).width())/2)+"px"});if(X){window['set_popup_header'](Math.max(50,a-70),U.full_page_login);ed=true}if(hO){bc.uid='-1';window['set_login_header']()}}else{var b=jc((bc.m==0&&fO?fO.frame[0]:gu));v.style.position=(fO&&fO.fixed?'fixed':'absolute');v.style.top=(b.y+Math.floor((iT(gu.style.height)+45)/2)-Math.floor(W(v).height()/2))+'px';v.style.left=(b.x+Math.floor((iT(gu.style.width)+10)/2)-iO(eF,2))+'px'}}else{lT(n)}v.style.zIndex=fS+1010;var c=(fY==0?bd.login_panel:dc.login_panel);W('#fc_loginbox').css({"box-shadow":c.box_shadow,"-webkit-box-shadow":c.box_shadow,"background-color":c.background_color,"border":c.border});if(U.facebook_connect&&!ib){W("#fc_fb_login").html("<div id='fc_fb_load' style='position:relative;left:60px;height:15px;font-size:10pt'>"+cL(356,'Loading...')+"</div><iframe id='fc_fb_frame' onload='fc_chat.fb_loaded()' src='"+ik+"'"+"scrolling='no' frameborder='0' style='border:none; visibility:hidden;overflow:hidden; width:"+(eF-35)+"px; height:45px;' allowTransparency='true'></iframe>")}W('div.fc_lb_text').css(c.font.smalltext_css);W('span.fc_lb_textfield').css(c.font.textfield_description_css);W('input.fc_lb_field').attr("style",c.textfield_css);W('#fc_lenter').val((na?cL(340,"Set"):cL(58)));nc(false);ib=true}else{if(fY==1&&bc.uid=='-1'||hS==1){if(U.require_login){hT=0;jX(1)}else{W("div.fc_t1").html(cL(104))}hQ=false;hS=0;fc_chat.closeChat()}}};this.logout=function(){if(!l){fc_chat.prepare_disabled_mode();if(fY=='1'){show_alertbox(cL(97));tCL('0')}else{fc_chat.close_boxes()}jGo.hooks.doHooks('fcchat_disable_toolbar_fn');W("div.fc_t1").html(cL(97));if(ie(U.user_cookie)!='-1'){ea=true}id(U.user_cookie,'-1');mK(0);setTimeout("fc_chat.logout2()",2000)}return false};this.logout2=function(){if(hQ){ea=true}id(U.user_cookie,'-1');mY();l=false;if(bc.m==1&&!hQ){cs='00001[';fc_chat.toggleHide()}else{if(!X&&fY=='1'&&!dX){clrOverlay();this.open_chat_box()}bc.uid='-1';if(!U.require_login){W(".fc_ob").html(fc_chat.toggle_btn(1,0))}else{W(".fc_ob").html(fc_chat.toggle_btn(1,1))}if(hQ){mK(0)}var a=jY(U.startText);if(!U.require_login){a=cL(101)}if(dX){a=cL(159)+jT}W("div.fc_t1").html(a);if(X&&U.require_login){ng()}}l=true};var ng=function(){hS=1;mY();mX();fc_chat.toggle_login(1);W("div.fc_t1").html(cL(393,'Please sign in.'))};this.login=function(a){hR=false;var b=true;if(bc.uid=='-1'&&U.require_login){b=fc_chat.setLogin(a);hU=ni;hW=nj}if(b){if(!U.require_login&&bc.uid=='-1'&&!hQ){hU='g:'+cL(1);hW='';for(var i=0;i<15;i++){hW+=Math.floor(Math.random()*9);hW=jGo.MD5.hex_md5(hW)}}else{nh();hT=0}bJ=1;bc.inSession=1;this.loadFromLogin()}ea=false;hp=null;hQ=false};this.sendLogin=function(){fc_chat.login2()};this.login2=function(a){id(bq,'0');if(U.require_login){fc_chat.login(a);return false}l=true;if(fc_chat.setLogin(a)){if(hQ){l=false;hU=ni;hW=nj;fc_chat.login(a);dX=false}else{fc_chat.closeVid();if(a){fc_chat.loginAfterServerValidation()}else{fc_chat.requestServerValidation()}}}else{l=false}};var nh=function(){bN=1;bI=1;hT=1;if(hf&&fY==1){gw.style.display=fh;gz.style.display=fh;gL.style.display=fh;gM.style.display=fh;gN.style.display=fh}fc_chat.opfxLoader();if(fl){fl[fM]='<div style="'+dk+'width:'+ew+'px">'+jV(cL(120),1)+'</div>'}};this.requestServerValidation=function(){var a=iN(ni);var b=3+a+nj.length;cs=iQ(b)+'f'+iQ(a,2)+ni+nj;kc(1)};this.loginAfterServerValidation=function(){hQ=true;jGo.hooks.doHooks('fcchat_disable_toolbar_fn');fc_chat.logout2();hU=ni;hW=nj;dX=false};var ni;var nj;this.setLogin=function(a){if(!a){v=$('fc_luname');ni=v.value;v.value='';v=$('fc_lpass');nj=v.value;v.value=''}W(".fc_ob").html(fc_chat.toggle_btn(1,0));$('fc_logintxt')[fM]="<b>"+cL(158)+"</b>"+jS;nc(true);ni=jGo.util.trim(ni);if(!a){if(validate(ni,nj)){nj=jGo.MD5.hex_md5(nj);return true}else{return false}}else{return true}};function validate(a,b){if(a.length>2&&a.length<21&&b.length>2&&b.length<21){if(!fe.test(a)&&!ff.test(b)){if(a.length>=cL(1).length&&a.toLowerCase().substr(0,cL(1).length)==cL(1)){setTimeout("fc_chat.errString(2)",500);return false}else{return true}}}setTimeout("fc_chat.errString(1)",500);return false};this.errString=function(a){v=$('fc_logintxt');if(a==1){v[fM]=cL(61)}else if(a==2){v[fM]=cL(62)}else if(a==3){v[fM]=cL(63)}else if(a==4){v[fM]=cL(64)}nc(false);return true};var nk=function(a){};this.loadFromLogin=function(){if(bS==bT){var x=null;try{x=$('fc_sChat')}catch(err){}if(ie(br)!="0"&&(X||ie(bq)!="1")&&x!=null){rstCon();getConObj();if(document.getElementById&&document.getElementsByTagName&&document.createElement){l=true;bR='1';a=new userRecord();iu();if(bc.inSession==1){if(cK==fh){cI="1"}for(var i=0;i<22;i++){gc[i]='0'}if(bO=='1'){getPageUsers();gc[6]='1'}else{cu='000>'}kb();var b=ih(0);if(b==fh){bE='display:'+fh;bF=0}bc.uid='-1';if(cI!='0'){if((hW!=null)&&(hW!="")&&(hW!="0")){var c=iN(hU);var d=hV.length;bp='';for(var i=0;i<8;i++){bp+=String.fromCharCode((parseInt(Math.random()*1000)%93)+34)}bp=bp.replace(/>/g,'!');var e=7+c+d+hW.length+bp.length+hY.length+hX.length;var f=(hY==''?0:1);f+=(hX==''?0:2);str='.>'+U.chat_id+iQ(e)+'V'+iQ(c,3)+iQ(d,2);str+=''+hW+''+bp+''+hU+''+hV+''+f+''+hY+''+hX+String.fromCharCode(10);hV='';hX='';hY='';var g=34+cu.length;var h;h='000'+g;str+=h+'2'+cI+cF+cu+hZ;hZ='';cq=str;cN=true;cQ=cP;this.t=setTimeout("fc_chat.begConPre()",1000);jU();if((fY=='1'||X)&&W('#fc_loginbox').css('display')==fh){show_alertbox(cL(100)+jS)}}else{jX(-1)}}}}}else{if(x!=null&&bc.inSession==1){if(ie(bq)!="1"){W(".fc_ob").html(fc_chat.toggle_btn(2,1))}}}}else{iu()}};var nl=function(a){var b="http://www.";var c="https://www.";var d=window.location.href;if(d.indexOf(b)==-1&&d.indexOf(c)==-1){if(a.indexOf(c)==0){a=a.replace(c,"https://")}if(a.indexOf(b)==0){a=a.replace(b,"http://")}}return a};function getLoginDetails(){l=true;var a=window.location.href.split("?");W.post(nl(dN)+(a.length>1?'?'+a[1]:''),{f:0},fc_chat.auth,"html");return false};this.auth=function(a){l=false;nm(a,0)};var nm=function(a,b){var c='';var d=a.split("<fcchatresponse>");if(d.length>1){c=d[1]}if(c==''){if(b){$('fc_logintxt')[fM]="<b>"+cL(355,'Authorization Failed')+"...</b><br>";nc(false);return false}if(ih(14)=='3'){nn();bc.uid='-1';bc.inSession=0;if(U.require_login){id(U.user_cookie,'-1');if(bc.m==0&&fY==0){jX(1)}if(fY==1){gw[fM]='';ng();return false}}}if(ih(14)=='2'&&bc.uid=='-1'&&fY==0){ii(0,14);bc.inSession=0;if(U.require_login){id(U.user_cookie,'-1');if(bc.m==0&fY==0){jX(1)}}}if(X){if((U.require_login)&&bc.inSession==0){fc_chat.toggle_login_box(0);return false}}if(bc.uid=='-1'&&U.require_login){jX(1)}else{fc_chat.loader_cont()}return false}var e=c.split('&');hV=e[0];hW=e[1];c=c.substr(hV.length+hW.length+2);var f=parseInt(c.substr(0,3),10);var g=c.substr(3,f);bp=ie(U.session_cookie);var h=0;if(bp&&(bp.split('>')).length>2){var i=bp.split('>');if(i[1].toLowerCase()!=g.toLowerCase()||i[2].toLowerCase()!=hV.toLowerCase()){h=1}}if(!b){dY=1}if(X){window['set_popup_header'](150,"")}hZ='';ia='';if(U.import_default_avatar){var j=a.split("<fcchatresponse2>");if(j.length>1){hZ=j[1]}ia=hZ;if(hZ!=''&&lK(hZ,h)){ii('',18);var k=hZ.length+1;hZ=String.fromCharCode(10)+iQ(k)+'T'+hZ}else{hZ=''}}if(ih(14)!='3'||bc.uid=='-1'||h){hU=g;hX=c.substr(3+f);nn();hR=false;bJ=1;bc.inSession=1;if(b){ip()}else{jU(1);fc_chat.loadFromLogin()}}else{fc_chat.loader_cont();return false}};var nn=function(){bp=ie(U.session_cookie);if(bp){bp=bp.split('>')[0]}if((bp==null)||(bp=="0")){bp=""}if(bp!=""&&bc.uid!='-1'){bc.uid=bc.uid+'';var a=bc.uid.length+''+iR(bc.uid)+bp;hY=a}};window['jsOnSuccess']=this.jsOnSuccess;window['jsOnFailure']=this.jsOnFailure;window['jsOnClose']=this.jsOnClose;window['jsOnData']=this.jsOnData;window['fcc_createSounds']=this.createSounds};fcchat.prototype=jGo.UI;var fc_chat=new fcchat();fc_chat.init();