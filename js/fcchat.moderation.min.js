function fcchat(){var Q=FCChatConfig;var R=function(s){return s.replace(/^\s+|\s+$/g,"")};Q.chat_id=R(Q.chat_id);Q.host=R(Q.host);var S=Q.chat_id.split('_');var T=jGo.$;var U=Q.dir;var V=(Q.alt_dir!=''?Q.alt_dir:U+'html/');this.alt_dir=V;var W=(Q.full_page_url!=""?Q.full_page_url:U+'html/chat/index.html');var X=(Q.small_logo!=''?Q.small_logo:U+"current_skin/"+Q.styles.chat_window.frame.logo);var Y=this;var Z=Q.styles.widget;var ba;var bb;var bc;var bd;var be='';var bf=false;var bg=false;var bh=(Q.toolbar_mobile_hidden.test(navigator.userAgent.toLowerCase()));if(bh&&!Q.toolbar_banner_mode){Q.toolbar_mode=0};var bi=jGo.mobile;var bj=false;var bk=0;var bl=0;var bm=0;var bn=function(){return(bl==bk)};this.nlrm=bn;if(window['fcchat_room_transfer']){bm=window['fcchat_room_transfer'];bj=true}var bo;this.toolbar;var bp=1;var bq=jGo.fcchat_toolbar;var br=bq.style;var bs=Q.toolbar_items;for(var i=0;i<bs.length;i++){if(bs[i].indexOf("custombutton:")>=0){var bt=bs[i].split(":")[1];bq['custombutton'+i]=new bq.custombutton(i,Q.custom_buttons[bt]);bs[i]='custombutton'+i}}for(var i=0;i<bs.length;i++){if(bs[i]!="friendscenter"){if(!bq[bs[i]]){bs.splice(i,1)}}}var bu=Q.absolute_positioning||!Q.control_visible;var bv=Z.control.top;var bw=Z.control.left;var bx=Q.styles.chat_window.main_panel;var by=bx.chat_panels;var bz=bx.side_panels;var bA=bx.options_panel;var bB=bA.selectors;var bC=bx.chatrooms_panel;var bD=Z.chatrooms_box;var bE='color:'+by.font.color.timestamp_color+';';var bF='padding-top:4px;padding-bottom:0px;border-bottom:'+bz.screen_name_dividers.border+';background-color:';var bG='padding-top:4px;padding-bottom:0px;border-bottom:'+bz.room_display_panel.divider_color+';';var bH=bz.room_display_panel.background_color;var bI=bz.room_display_panel.text_css;var bJ=bz.screen_name_dividers.border;var bK=bz.background_color;var bM=bz.screen_name_dividers.background_color;var bN=bz.screen_name_dividers.hover_color;var bO=bz.private_group_panel.selected_user.background_color;var bP="font-family:"+bx.text.font.family+";color:"+bx.text.font.color+";font-weight:"+bx.text.font.weight;var bQ=bP+";font-size:"+bx.text.font.size;var bR="-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius:5px;";var bS="-moz-border-radius: 2px;-webkit-border-radius: 2px;border-radius:2px;";var bT="if (event && event.stopPropagation){event.stopPropagation()}else{event.cancelBubble=true}";var bU='href="javascript:void(0)" onclick="'+bT+'fc_chat.subscribe';var bV;this.vidAcc=(Q.video_enabled?Q.video_access_level:0);if(Q.avatars_dir=='')Q.avatars_dir=(window["fc_chat_path"]||"/FCChat/")+"html/images/avatars/";if(Q.images_dir=='')Q.images_dir=(window["fc_chat_path"]||"/FCChat/")+"html/images/";if(Q.smileys_dir=='')Q.smileys_dir=(window["fc_chat_path"]||"/FCChat/")+"html/images/smileys/";var bW=U+"proxies/";var bX={"checkLength(room)":bW+"fcchat_wordpress_proxy.php","checkLength(room)2":bW+"fcchat_wordpress_proxy2.php","joomla":bW+"joomla.php","phpbb":bW+"fcchat_phpbb3_proxy.php","smf":bW+"fcchat_smf_proxy.php","mybb":bW+"mybb.php"};var bY=bX[Q.user_integration_bridge]||Q.user_integration_bridge;if(bY==''){bY=Q.forum_proxy||''}var bZ=(bY!='');var ca={};var cb=ca[Q.import_profiles]||Q.import_profiles;var cc=(cb!='');var cd=true;var ce=true;var cf=window['fcchat_domain']=='fullpage';var cg=0;open_chatrooms_in_window=false;var ch={};var ci="http://www.fastcatsoftware.com/plugins/";var cj='toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1';var ck=function(a,b,c,x,y){if(ch[b]&&ch[b].closed){ch[b]=null}if(!ch[b]){ch[b]=window.open(a,b,c+',width = '+(x?x:650)+',height = '+(y?y:470)+',left='+(window.screen.width-582)/2+',top='+(window.screen.height-605)/2);ch[b].focus();return true}else{ch[b].focus();return false}};this.transliterator;this.transliteration=[0];this.currlang;this.trlit=function(){google.load("elements","1",{packages:"transliteration",callback:this.trld});fc_chat.transliteration[0]=1};this.trld=function(){var a={sourceLanguage:'en',destinationLanguage:fc_chat.currlang||'ar',transliterationEnabled:true,shortcutKey:'ctrl+g'};fc_chat.transliterator=new google.elements.transliteration.TransliterationControl(a)};this.open_trlit=function(n){if(n){jz()}if(!l){ck(U+"html/transliteration_menu.html",'fc_trlitwin',cj)}};this.makeTransliteratable=function(){var a=["fc_chat"];if($('fc_chat')){fc_chat.transliterator.makeTransliteratable(["fc_chat"])}if($('fc_uChat')){fc_chat.transliterator.makeTransliteratable(["fc_uChat"])}if($('fc_uChat2')){fc_chat.transliterator.makeTransliteratable(["fc_uChat2"])}T("#fc_chat,#fc_uchat,#fc_uchat2").css({"font-size":"12px","line-height":"1.2em"})};this.setLang=function(){fc_chat.transliterator.enableTransliteration();fc_chat.transliterator.setLanguagePair(google.elements.transliteration.LanguageCode.ENGLISH,fc_chat.currlang)};var cl=function(){if(fc_chat.transliterator&&fc_chat.currlang){fc_chat.makeTransliteratable();setTimeout("fc_chat.setLang()",200)}};this.doc=function(n){var b=Y.uid;var c=(!n?Y.cU:Y.uid);if(n){jz()}if(!l&&jV(c)&&a.o[c]=='1'){l=true;var d=jGo.MD5.hex_md5(window.location.hostname)+b;cm(b,d,1);if(b!=c){var e=c.toString();fT='000'+(43+(b.toString()).length)+'n'+e.length+iv(e)+'4'+d;hT()}else{l=false}}};var cm=function(u,p,a){return ck(U+"html/document.html?a="+a+"&user_id="+encodeURIComponent(iS(cn(),''))+"&pad_id="+p,'fc_docwin'+u,cj)};this.share_doc=function(a,b){if(!l){if(cm(a,b,0)){clearTimeout(fp);fp=setTimeout("fc_chat.viewing("+a+",'"+'fc_docwin'+a+"','5')",3000)}}};this.note=function(n){var b=(!n?Y.cU:Y.uid);if(n){jz()}if(!l&&jV(b)&&a.o[b]=='1'){ck(U+"html/notepad.html?uid="+b+"&host="+jGo.MD5.hex_md5(window.location.hostname),'fc_notewin'+b,cj)}};this.p_note=function(b,c,d){if(!l){if(b!='1'&&!jV(c)){cV(co(265,'Unable to send this message. The user is not available.'))}else if(c==Y.uid&&b!='1'||(gf==0&&b=='1')){cV(co(341,'Sorry, unable to send this message.'))}else if(b!='1'&&a.o[c]!='1'){cV(co(130))}else{var u=(c!=Y.uid||b!='1'?c:'').toString();var e=62+d.length;fT=iu(e)+'n'+u.length+iv(u)+'3'+'[['+ci+'notepad/'+d+']]';hT()}}};this.m_games=function(){var b=Y.cU;try{ch['fc_gamewin'].close()}catch(err){}if(!l&&jV(b)&&a.o[b]=='1'){ck(U+"html/game_menu.html?uid2="+b+"&nm="+encodeURIComponent(a.snm[b]),'fc_gamewin',cj)}};this.inv_game=function(b,c,d){if(!l&&b!=Y.uid){if(!jV(b)){cV(co(265,'Unable to send this message. The user is not available.'))}else if(a.o[b]!='1'){cV(co(130))}else{var u=b.toString();var e=44+d.length+c.length;fT=iu(e)+'n'+u.length+iv(u)+'8'+jGo.MD5.hex_md5(window.location.hostname)+c+'.'+d;hT()}}};this.play_game=function(u,b,c,d,e,f){if(!l){if(!(a.o[u]=='1'&&jV(u))){cV(co(338),"Sorry, this user is not able to play at the moment.")}else{if(ck(U+"html/games.html?x="+c+"&y="+d+"&id="+b+"&domain="+e+"&typ="+f+"&uid="+Y.uid+"&uid2="+u+"&nm="+encodeURIComponent(iS(cn(),'')),'fc_gamewin'+u,cj,c,d)){if(f==0){var g=u.toString();vars=b+','+c+','+d;var h=43+vars.length;fT='000'+h+'n'+g.length+iv(g)+'9'+e+vars;hT()}}}}};this.wb=function(n){var b=Y.uid;var c=(!n?Y.cU:Y.uid);if(n){jz()}if(!l&&jV(c)&&a.o[c]=='1'){l=true;var d=encodeURIComponent(cn()+' at '+jGo.MD5.hex_md5(window.location.hostname));var e=jGo.MD5.hex_md5("1");var f="1";var g=jGo.MD5.hex_md5("1");ck(ci+"whiteboard.html?user_id="+d+"&user_key="+e+"&drawing_user_id="+d+"&drawing_user_key="+e+"&drawing_id="+f+"&drawing_key="+g,'fc_whiteboardwin'+b,cj);if(b!=c){var h=c.toString();fT='00043n'+h.length+iv(h)+'1'+jGo.MD5.hex_md5(window.location.hostname);hT()}else{l=false}}};this.share_wb=function(a,b,c){if(!l){var d=encodeURIComponent(cn()+' at '+jGo.MD5.hex_md5(window.location.hostname));var e=jGo.MD5.hex_md5("1");var f=jGo.MD5.hex_md5("1");var g=c.replace(/%22/g,'"').replace(/%27/g,"'").replace(/%25/g,'%');var h="1";var i=jGo.MD5.hex_md5("1");var j=ci+"whiteboard.html?uid="+b+"&user_id="+d+"&user_key="+e+"&drawing_user_id="+g+"&drawing_user_key="+f+"&drawing_id="+h+"&drawing_key="+i;var k='fc_whiteboardwin'+b;if(ck(j,k,cj)){clearTimeout(fp);fp=setTimeout("fc_chat.viewing("+b+",'"+k+"','2')",3000)}}};this.viewing=function(u,a,b){if(ch[a]&&ch[a].closed){return false}var c=u.toString();fT='00011n'+c.length+iv(c)+b;hT()};var cn=function(){return a.nm[uid]};this.gsn=function(){var n=cn();if(n.length>18){n=n.substr(0,18)+'..'}return n};this.textSetter=function(a,b,c){if(c!=null){return Q.txt[c]}else if(Q.txt['t'+a]!=null){return Q.txt['t'+a]}else{if(b!=null){return b}}return"Undefined"};var co=this.textSetter;Q.txt['t1000']="<a href='javascript:fc_chat.share_wb(";Q.txt['t1001']=")'>";Q.txt['t1002']="</a>.";Q.txt['t1003']="<a href='javascript:fc_chat.share_doc(";Q.txt['t1004']="<a href='javascript:fc_chat.subscribePriv(";Q.txt['t1005']="<a href='javascript:fc_chat.play_game(";if(!Q.txt.t260){Q.txt.t260="has invited you to share a";Q.txt.t261="whiteboard.";Q.txt.t262="Click here to accept";Q.txt.t263="has been invited to share a whiteboard";Q.txt.t268=" is now viewing your whiteboard";Q.txt.t270="This user is currently offline."}if(!Q.txt.t312){Q.txt.t312="document.";Q.txt.t313=" is now viewing your document";Q.txt.t317="has been invited to share a document"}if(!Q.txt.t320){Q.txt.t320="has invited you to a 1 on 1 video chat.",Q.txt.t321="has been invited to a 1 on 1 video chat.",Q.txt.t322="is now viewing your webcam"}if(!Q.txt.t333){Q.txt.t333="has invited you to play ",Q.txt.t334="",Q.txt.t335="has been invited to play a game.",Q.txt.t336=" has accepted your invitation to play a game.",Q.txt.t337="Click here to start the game."}var cp=bx.user_pop_up_panel.border;var cq=bx.options_panel.outer_border;var cr=['6','7','8','9','A','B','C','D','E','F'];var cs=false;var ct=0;var cu=0;var cv=false;var cw=false;var cx=false;var cy=false;var cz;var cA="";var cB=0;var cC=false;var cD=false;var cE=0;var cF;this.firstUpdateProcessed=false;var cG;var cH='fc_pauseChat';var cI='fc_tglChat';var cJ=0;var cK=1;var cL={u:"",p:"",fn:0};var cM={on:0,cur_lang:'en',init:0};var cN=function(d,e,f){(function(){var b=e;var k=f;var c=d;var s=document.createElement("script");s.src=Q.trans_url+"Detect?oncomplete=fc_detect_"+b+"&appId="+Q.trans_appid+"&text="+c;document.getElementsByTagName("head")[0].appendChild(s);window['fc_detect_'+b]=function(a){if(a!=cM.cur_lang){var s=document.createElement("script");s.src=Q.trans_url+"Translate?oncomplete=fc_translate_"+b+"&appId="+Q.trans_appid+"&from="+encodeURIComponent(a)+"&to="+cM.cur_lang+"&text="+c;document.getElementsByTagName("head")[0].appendChild(s)}};window['fc_translate_'+b]=function(a){if(a!=""){a=a.replace(/</g,'%26lt;').replace(/>/g,'%26gt;');if(gH&&k!=8)scr2($(b),(k==6?gE:gH),1,"<br>("+a+")");if(k==8&&(gf=='0'||ku)){scr2($(b),T('#fc_view_msgs')[0],3,"<br>("+a+")")}}}})()};this.set_translator=function(a){cM.on=(a=='_off'?0:1);iF((a=='_off'?'0':'1'),10);cM.cur_lang=a;iF(a,11)};var cO={on:0,a:[1,1,1,1],init:0};var cP=function(n){if(eb==1&&n!=1)return;try{if(cO.on==1&&cO.a[n]==1){T('#fc_sounds').fc_play(n)}}catch(e){}};this.createSounds=function(){setTimeout("fc_chat.mkSounds()",250)};this.mkSounds=function(){T("#fc_sounds").fc_createSound("../html/sounds/chatroommessagealert.mp3");T("#fc_sounds").fc_createSound("../html/sounds/privatemessagealert.mp3");T("#fc_sounds").fc_createSound("../html/sounds/enterroomalert.mp3");T("#fc_sounds").fc_createSound("../html/sounds/leavingroomalert.mp3")};this.setSounds=function(a,b){if(a!=null){cO.a[a]=(cO.a[a]==1?0:1);iF(cO.a[a],a+2)}if(b!=null){cO.on=b;iF(cO.on,1)}};var cQ=function(a,b){var c={};c.y=(a.height()-b.height())/2;c.x=(a.width()-b.width())/2;return c};var cR=function(a){var b={};b.y=(jGo.util.getInnerHeight()-a.height())/2;if(hj){b.y+=$(document).scrollTop()}b.x=(jGo.util.getSWidth()-a.width())/2;return b};var cS={css:"box-shadow:0px 0px 2px 2px rgba(0,0,0,0.5);-webkit-box-shadow:0px 0px 2px 2px rgba(0,0,0,0.5);padding:15px;border:1px solid black;background-color:#ddddE1;"+bS};this.infoChatBox;var cT=function(a,b){a=a+"&nbsp;&nbsp;<a href='javascript:void(0)' onclick ='fc_chat.infoChatBox.hide();return false'>"+co(391,"Dismiss")+"</a>";Y.infoChatBox.fill(a);var c=(b?b:cQ(T(gB),Y.infoChatBox.frame));Y.infoChatBox.show(null,c.y,c.x)};this.nickBox;var cU=function(u,k){msg=(u==Y.uid?co(419,"Enter your nickname"):co(420,"Edit nickname"))+": <br><br><form action='javascript:fc_chat.setNickname("+u+");'>"+"<INPUT TYPE=text style='"+ie.menu_item.input_css+"' value='' maxlength='50' id='fc_nickname' name='fc_nickname'></form>"+"<br> <a style='"+ie.menu_item.link_css+"' href='javascript:void(0)' onclick='fc_chat.nickBox.hide();return fc_chat.sign_in()'>"+co(43)+"</a> &nbsp;&nbsp;<a style='"+ie.menu_item.link_css+"' href='javascript:void(0)' onclick ='fc_chat.nickBox.hide();return false'>"+co(391,"Dismiss")+"</a>&nbsp;&nbsp;"+"<span id='fc_nickname_set' style='visibility:hidden;"+ie.menu_item.set_notice.css+"'>"+co(421,'Nickname Set')+"</span>";var a=T("#fc_onlinelist");var b=T(document.body);if(k){a=b=T(gB)}Y.nickBox.fill(msg);Y.nickBox.frame.css({position:a.css("position")});var c={x:iw(a.css("left"))+20,y:iw(a.css("top"))+130};if(k){c=cQ(T(gB),Y.nickBox.frame)}Y.nickBox.show(b,c.y,c.x)};this.infobox;var cV=function(a,k,b){if(!bi&&!hj){a=a+"&nbsp;&nbsp;<a href='javascript:void(0)' onclick ='fc_chat.infobox.hide();return false'>"+co(391,"Dismiss")+"</a>";Y.infobox.fill(a,b);var c=cR(Y.infobox.frame);Y.infobox.show(null,c.y,c.x)}else if(!k){alert(a)}};var cW=function(a){cV(a,null,1)};this.showInfo=cV;this.debug=cW;var cX=function(){var a=iB(Q.data_cookie).split('&');if(cO.init==0){jGo.sound(T);T("#fc_sounds").fc_sound({basedir:U+"flash/"});cO.on=a[1]-0;cO.a[0]=a[2]-0;cO.a[1]=a[3]-0;cO.a[2]=a[4]-0;cO.a[3]=a[5]-0;cO.init=1;if(jGo.browser.browser=='Opera'){var b=document.body;var c=document.documentElement;var d=(b.scrollHeight>=c.scrollHeight)?b:c;T("#fc_fla").css("top",getWindowTop(d,100))}}if(cM.init==0){if(Q.trans_enabled){cM.on=a[10]-0;cM.cur_lang=a[11];cM.init=1}}};var cY=null;var cZ=false;var da=0;var db=false;var dc=0;var dd=0;var de="";var df=jGo.util.getSWidth;var dg=jGo.util.getSHeight;this.screen_width=df();var dh=(bi?600:Math.max(653,Q.window_width));this.d_c_window_width=dh;var di=571;var dj=238+(co(0,170,'functions_bar_width')-170);var dk=573;var dl=400;var dm=310;var dn=dh-235+(cf?Math.max((this.screen_width-1)-dh,0):0);this.chat_container_width=(Math.max(dh-303,Math.floor(.8*dn)));var dp="display:block;background-color:transparent;width:"+this.chat_container_width+"px;z-Index:"+(eK+202)+";margin-left:5px;";var dq=dh-235+bx.send_chat_panel.width_offset+(cf?Math.max((this.screen_width-1)-dh,0):0);var dr=137;var ds=60;var dt=20;var du=402;var dv=425;var dw=20;var dx=25;var dy=505;var dz=35;var dA=(cf?(dg()-36>dl?dg()-36:dl)-di:Q.window_height_offset);this.window_height_offset=Math.min(dk-di,Math.max(dl-di,dA));if(bi&&cf){dA=350;this.window_height_offset=350}this.chat_window_height=di+Y.window_height_offset;var dB=(cf?Math.max(this.screen_width-1,dh):dh);var dD=Q.chat_room_height_offset+Math.max(0,ds-dm-Y.window_height_offset);dD=Math.min(dr-dt,Math.max(ds-dm-Y.window_height_offset,dD));if(bi&&cf){dD=-60}var dE=Y.window_height_offset+dD;this.smYOffset=dy+Y.window_height_offset-bx.tools_panel.smileys.height;this.optionsTop=Math.floor((this.chat_window_height-di)/2)+dw;var dF=334;var dG=370;this.bottom_section=513;var dH=20;this.upd=dH;var dI=dm-dH;this.upl=dI;var dJ=221;var dK=(cf?Math.max((this.screen_width-1)-dJ,dh-221):dh-221);var dL=207;var dM=175;var dN=206;var dO=88;var dP=155;var dQ=0;var dR=514;this.border_padding=4;var dS=1;var dT=0;var dU=0;var dV;var dW='0';var dX=new RegExp("[^A-Za-z0-9 _]");var dY=new RegExp("[^A-Za-z0-9_]");var dZ='block';var ea='none';var eb=Q.chatcenter_layout;var ec;var ed;var ee=(eb==0?Z.toolbar_item.chatcenter_layout:Z.toolbar_item.msgcenter_layout);var ef=(eb==0?dZ:ea);var eg=(eb==1?ea:dZ);var eh=(eb==2?ea:dZ);var ei=(eb!=0?Y.bottom_section+Y.window_height_offset-22:dF+dE);var ej=(eb==1?3:20);var ek=(eb!=0?dR+Y.window_height_offset-20:dF+dE);var el=(eb!=0?18:dG+dE);var em=dr-dD+(eb!=0?22+dm+dE:0);var en=(eb==0?dm+dE:em);var eo=(eb==1?38+Math.floor((dI+dE)/2):dG+dE);var ep=dr-dD+dQ+(eb!=0?22+Math.floor((dI+dE)/2):0);var eq=(eb==0?dI+dE-Math.floor((dI+dE)/2):ep);var er=(eb!=0?2:19);var et=(eb!=0?125:161);var eu=Y.bottom_section+1+Y.window_height_offset-(eb==1?18:0);var ew=(eb==1?19:28);var ex="style='"+(eb==1?bx.send_private_button.single_button_css:"")+"'";this.pblay=ex;var ey=(eb==1?em:dm+dE);var ez=(eb==1?co(385,"Settings"):co(9));var eA=co(6);var eB=(eb==1?ea:'inline');if(eb==1){da=1}this.obtxt=eA;var eC=co(161);var eD='<b>&nbsp;'+eC+'</b>';var eE='innerHTML';var eF="<a href='javascript:void' ";var eG;this.ww2;var eH=0;var eI=false;var eJ;var eK=Q.zindex_base;var eL=0;var eM=false;var eN=document.all;var eO=Q.dir+"current_skin/";var eP="<img style='height:16px;width:16px;' src='"+eO+"info.png'>&nbsp;";var eQ="&nbsp;<img height='24px' onload='this.style.visibility=\"visible\";' style='visibility:hidden;width:24px;height:24px' ALIGN='absmiddle' src='"+eO+"ajax-loader.gif'>";var eR="&nbsp;&nbsp;<img height='16px' onload='this.style.visibility=\"visible\";' style='visibility:hidden;width:16px;height:16px'ALIGN='absmiddle' src='"+eO+"snakeloader.gif'>";var eS=function(){T("div.fc_t1").html(co(159)+eR)};var eT=function(a,b){return"<div style='margin-left:10px;margin-top:10px;font-size:12pt;'>&nbsp;"+a+(b?eR:"")+"</div>"};var eU=Q.txt.t100+eR;var eV=function(k){if(k!=-1)T(".fc_ob").html(fc_chat.toggle_btn(1,k));T("div.fc_t1").html(eW(Q.startText))};var eW=function(a){return"<a href='javascript:void(0)' style='text-decoration:none' onclick='return fc_chat.sign_in_start(this)'>"+a+"</a>"};this.sign_in_start=function(a){var n=0;if(T(a).parent().attr('id')=='fc_t1a')n=1;fc_chat.toggle_login(n);_change_name=1;return false};var eX=Q.images_dir;var eY=Q.prof_subdir;var eZ;var fa=0;var fb=0;this.img6;this.img7;var fc;var fd=0;var fe=1;this.img1C=0;this.img2C=0;var ff;var fg;var fh;var fi=0;var fj='display:inline';var fk=1;var fl=[];var fm=[];var fn=0;var fo=0;var l=false;var fp;var fq=function(n){T('img.fc_status_bullet').attr({"src":(n==1?eO+"bullet_green.png":eO+"bullet_yellow.png")})};var fr=false;var fs=0;var ft=0;var fu=1;var fv=false;var fw=false;var fx='0';this.m=0;var f=(top==self?this:window.parent.fc_chat);var g=(top==self?'fc_chat.':'window.parent.fc_chat.');var h=(top==self?'document':'window.parent.fc_chat.getIFrameDoc()');var fy="' HREF='javascript:void(0)' onclick='return "+g;var fz=[];var fA=[];var fB=1;var fC=false;var fD=new Date().getTime();var fE=new Date().getTime();var fF=false;var fG=false;var fH=0;var fI=0;var fJ=0;var fK=0;var fL=0;var fM=0;var fN=15;var fO='op2';var fP='2';var fQ;var fR;var fS=false;var fT;var a;var fU='';var fV='0000';var fW='';var fX={};var fY=null;var fZ=[];var ga='0000001';var gb='1';var gc='0';var gd=bz.font.style.title_css+";";var ge;var gf=0;this.setPaused=function(){if(gf==1||this.tg_vid==1){iA(cH,'1');cJ=1}else{iA(cH,'0');cJ=0}};this.tg_vid=0;var gg=0;var gh='0';var gj='0';var gk=[];var gl=[];var gm=[];var gn='0';var go=0;var gp=0;var gq=0;var gr=0;var gs=0;var gt=[];var gu=[];var gv=[];var gw=[];var gx=[];var gy=[];var gz=[];var gA=false;var gB;var gC;var gD;var gE;var gF;var gG;var gH;var gI;var gJ;var gK;var gL;var gM;var gN;var gO;var gP;var gQ;var gR;var gS;var gT;var gU;this.sI=0;var gV;var gW;var gX=0;var gY;this.oD;var gZ;var ha;this.tPC;var hb;var hc;var hd;var he;var hf;this.odiv;var hg;var hh;this.tempIFrame;this.IFO;this.oIF;this.tPB;var hi;var hj=false;var hk=false;var hl=false;var hm=false;var hn=false;var ho;this.tIF;var hp=[];var t;var hq;var hr;var hs=null;var ht=null;var hu;var hv;var hw=null;var hx;var hy;var hz=null;var hA=new Array();var hB=0;var hC=false;var hD;var hE=[];hE[1]=0;hE[2]=0;hE[3]=0;hE[6]=0;hE[7]=0;gt[6]=0;gt[7]=0;gw[6]=0;gw[7]=0;gx[0]='0';gx[1]='0';gx[2]='0';gx[3]='0';gx[4]='0';gx[5]='0';gx[6]='0';var hF=[];var hG=[];hG[0]=0;hG[1]=1;for(var i=2;i<32;i++){hG[i]=hG[i-1]*2}this.obtn=co(5);for(var i=0;i<Q.smileys.length;i++){fz[Q.smileys[i][1]]=Q.smileys[i][0];fA[Q.smileys[i][1]]=Q.smileys[i][2]}var hH=bx.options_panel.color_selector.color_values;for(var i=0;i<50;i++){gy[i]=0}gz[1]=0;gz[2]=0;gz[3]=0;gz[4]=0;gz[5]=0;gz[6]=0;var hI="filter:alpha(opacity=60); -moz-opacity:.60; opacity:.60;";var hJ="filter:alpha(opacity=60); -moz-opacity:.60; opacity:.60;";var hK="filter:alpha(opacity=80); -moz-opacity:.80; opacity:.80;";var hL=" class='fc_options_a' onClick='fc_chat.tgl_options();return false'>";var hM="'fc_chat.sendChat(true,false,document);return false'>";var hN="<INPUT TYPE=checkbox id='fc_atpg' name='ATPG' VALUE='1' style='height:20px;width:20px;margin-right:0px' onclick=";var hO='<div id="fc_groupType" style="display:block;width:250px;z-Index:'+(eK+202)+';'+bG+'background-color:'+bH+'"><span style="'+bI+'">&nbsp;<IMG SRC="'+eO+'rmarrow.gif" style="display:inline;'+hJ+'" border=0> ';this.t;this.uid;this.inSession;this.cU='0';var hP=-1;this.broadcastStatus=1;this.cvu_priv=null;var hQ;var hR=null;this.uD;this.uDiv1;var hS;this.uDb;this.uIF;this.browser;this.version;this.initialized=false;this.init=function(){fc_chat.inSession=1;fc_chat.uid='-1';if(!Q.default_on){if(jGo.cookie.getCookie("fc_tglChat")!='1'){jGo.cookie.setCookie("fc_tglChat",'0',iC(),'/',Q.domain)}}if(jGo.cookie.getCookie(Q.data_cookie)==null||jGo.cookie.getCookie(Q.data_cookie).split('&').length!=20){iG()}if(!cf){bp=iE(12)}eZ=(iE(16)==''?by.font.size:(iE(16)-0));if(jGo.country_code!=''){iF(jGo.country_code,13)}var a=jGo.cookie.getCookie(Q.user_cookie);if((a!=null)&&(a!="")&&(a!="0")){fc_chat.uid=a};if(fc_chat.uid=='-1'||fc_chat.uid==-1){fc_chat.inSession=0;if(Q.require_login){eU=eW(Q.startText)}}jGo.cookie.setCookie(Q.user_cookie,fc_chat.uid,iC(),'/',Q.domain);T(document).bind('mousemove',fc_chat.mtrack);fc_chat.browser=fc_chat.BrowserDetectBrowser();fc_chat.version=fc_chat.BrowserDetectVersion();if(fc_chat.browser=='Explorer'&&(fc_chat.version=='5'||fc_chat.version=='6')){hj=true}if(fc_chat.browser!='Explorer'&&fc_chat.browser!='Opera'){hk=true}if(fc_chat.browser=='Safari'||fc_chat.browser=='Mozilla'){hl=true}if(fc_chat.browser=='Netscape'){fB=120;fN=35}if(fc_chat.browser=='Opera'){fN=20}if(fc_chat.browser=='Firefox'){fN=25;lc((fc_chat.version-0)>3&&(fc_chat.version-0)<8,fc_chat.version=='3.6')}if(jGo.cookie.getCookie("fc_browser")==null||jGo.cookie.getCookie("fc_browser")==""){jGo.cookie.setCookie("fc_browser",fc_chat.browser,iC(),"/",Q.domain)}if(top==self){if(jGo.cookie.getCookie('fc_tglChat')=='0'){fc_chat.setTgl(0);fc_chat.obtn=co(4);eU=co(102)}if(jGo.cookie.getCookie('fc_pauseChat')=='1'&&!cf){eU=co(103)}if(cf&&Q.require_login)eU=co(393,'Please sign in.');if(bu&&!Q.noshow){fc_chat.writeBox()}}fc_chat.initialized=true;if(jGo.domIsReady&&!jGo.loadCalled){setTimeout("fc_chat.loader()",250)}};this.getexp6=function(){return hj};this.BrowserDetectInit=function(){jGo.browser.init()};this.BrowserDetectBrowser=function(){return jGo.browser.browser};this.BrowserDetectVersion=function(){return jGo.browser.version};var hT=function(n){try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){if(!n){cV(eC);if(gf==1){ec[eE]=eD}}}};var hU=Q.fb_connection_url+'/proxies/facebook/facebook_login.php?url='+encodeURIComponent(document.location.href.split('#')[0])+"&btn="+encodeURIComponent(co(352,'Connect with Facebook'));var hV;var hW=false;this.fb_loaded=function(){var a=T('#fc_fb_frame').css("visibility","visible")[0];T('#fc_fb_load').css("visibility","hidden");hV=a.contentWindow;if(!hW){jGo.postMessage.receive(function(e){if(e.data.indexOf('<fcchatresponse>')!=-1){fc_chat.init_fb_login(e.data)}else if(e.data=='lockauth'){$('fc_logintxt')[eE]="<b>"+co(354,'Authorizing')+"...</b><br>";lock_login(true);l=true}else if(e.data=='unlockauth'){$('fc_logintxt')[eE]="";lock_login(false);l=false}},Q.fb_connection_url);hW=false}};var hX=function(a){jGo.postMessage.post(a,hU,hV)};this.init_fb_login=function(a){auth_login(a,1)};var hY=function(){new_screen_name=screen_name;new_auth_token=auth_token;eM=true;fc_chat.login2(1);eM=false};var hZ=[];var ia=0;var ib=br.menus.user_options;var ic=br.menus.set_availability;var id=br.menus.set_signature;var ie=br.menus.set_nickname;this.toggleMenu=function(a,u,b){if(!hZ[b]||!hZ[b].isOpen){ia=u,this.createMenu(a,b)}else{hZ[b].hide()}return false};this.createMenu=function(b,c){var p,s;if(c=='u1'){s=T.extend(true,{},ib);if(ia!=Y.uid){s.css.height=(iw(s.css.height)-60)+'px'}hZ[c]=ig(this,s,b,ia)}else if(c=='item2'){s=T.extend(true,{},ic);hZ[c]=this.createWidget('DefaultMenu',[s,(bi?"<div style='position:relative;top:"+(iw(ic.css.height)-20)+"px;float:right'><a style='"+ic.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='return fc_chat.toggleMenu(null,null,\"item2\")'>x</a>&nbsp;&nbsp;</div>":"")+"<div style='"+ic.menu_item.css+"'><INPUT TYPE=radio "+(a.bs[ia]=='1'?'':"checked")+" id='fc_avl1' onclick='fc_chat.setBusy(0);' name='fc_avl'>"+co(348,"Available")+"<br><br>"+"<INPUT TYPE=radio "+(a.bs[ia]!='1'?'':"checked")+" id='fc_avl2' onclick='fc_chat.setBusy(1);' name='fc_avl'>"+co(349,"Busy")+"</div>",null,T(b),p=(hZ['u1']&&hZ['u1'].isOpen?hZ['u1'].frame:T(Y.uD)),false,bi])}else if(c=='item3'){s=T.extend(true,{},id);hZ[c]=this.createWidget('DefaultMenu',[s,(bi?"<div style='position:relative;top:"+(iw(id.css.height)-20)+"px;float:right'><a style='"+id.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='return fc_chat.toggleMenu(null,null,\"item3\")'>x</a>&nbsp;&nbsp;</div>":"")+"<div style='"+id.menu_item.css+"'>"+co(361,"Signature (50 chars max)")+"&nbsp;<form action='javascript:fc_chat.setTagline("+ia+");'><INPUT TYPE=text value='' maxlength='50' style='margin-top:10px;width:"+(iw(id.css.width)-24)+"px' id='fc_tagline' name='fc_tagline'></form><div id='fc_tagline_set' style='visibility:hidden;"+id.menu_item.set_notice.css+"'>"+co(362,'Signature Set')+"</div></div>",null,T(b),p=(hZ['u1']&&hZ['u1'].isOpen?hZ['u1'].frame:T(Y.uD)),false,bi])}hZ[c].hide=function(){this.getDefault().hide.call(this);this.getDefault().close.call(this)};hZ[c].show();return false};var ig=function(a,s,b,u){var c=a.createWidget('DefaultMenu',[s,ij(u),null,T(b),p=T(document.body),(hj?0:eL),bi]);il();return c};var ih="style='position:relative;left:0px;"+ib.menu_item.dim+"'><div style='"+ib.menu_item.css;var ii="<div class = 'fc_menu_item' "+ih+"color:"+ib.menu_item.link_color+"'>&nbsp;&nbsp;";var ij=function(u){var b="style='"+ib.menu_item.link_css+"' HREF='javascript:void' onclick=";return(bi?"<div style='position:relative;top:"+(iw(ib.css.height)-20)+"px;float:right'>"+"<a style='"+ib.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='return fc_chat.toggleMenu(null,null,\"u1\")'>x</a>"+"&nbsp;&nbsp;"+"</div>":"")+"<div id='fc_menu_item1'>"+ik((jV(u)&&u!=Y.uid&&(!kZ(u)||a.o[u]=='1')?1:0),u)+"</div>"+(!cs&&u==Y.uid?"<a "+b+"\"return fc_chat.toggleMenu(this,"+u+",'item3');\">"+ii+co(363,'Set Signature')+"</div></div></a>":"")+(!kZ(u)&&cc?"<a style='"+ib.menu_item.link_css+"' target=_blank href='"+cb+encodeURIComponent(a.nm[u])+"'>"+ii+co(46)+"</div></div></a>":"")+"<a "+b+"'return fc_chat.getMenuStatus("+u+")'>"+ii+co(48)+"</div></div></a>"+(u==Y.uid?"<a "+b+"\"return fc_chat.toggleMenu(this,"+u+",'item2');\">"+ii+co(350,'Set Availability')+"</div></div></a>":"<a style='"+ib.menu_item.link_css+"' HREF='javascript:fc_chat."+(fZ[u]=='1'?"remove_friend":"add_friend")+"("+u+");'>"+ii+(fZ[u]=='1'?co(286,"Remove from Friends"):co(281,"Add to Friends"))+"</div></div></a>")};var ik=function(n,u){return(n?"<a style='"+ib.menu_item.link_css+"' href='javascript:fc_chat.load_respond("+u+")'>"+ii+co(351,"Send Message")+"</div></div></a>":"<div class = 'fc_menu_item_dis' "+ih+"color:"+ib.menu_item.disabled_link_color+"'>&nbsp;&nbsp;"+co(351,"Send Message")+"</div></div>")};var il=function(){T('div.fc_menu_item').hover(function(){T(this).css("background-color",ib.menu_item.hover_color)},function(){T(this).css("background-color",ib.css["background-color"])})};this.getMenuStatus=function(u){hZ['u1'].hide();if(!ku){fc_chat.tgl_messages(eL)}return fc_chat.showStatus(u,document)};var im=jGo.iphone;var io=function(a){if(bi){T(a).animate({scrollTop:a.scrollHeight})}};this.hideUBox=function(){fG=false;fc_chat.leavingUser();if(bi){if(this.uD!=null){if(this.uD.parentNode){this.uD.parentNode.removeChild(this.uD);if(hj){this.uIF.parentNode.removeChild(this.uIF)}}}this.uD=null};return false};this.posWin=function(){var a=document.body;var b=document.documentElement;var c=(a.scrollHeight>=b.scrollHeight)?a:b;if(!eG.fixed){fc_ex.posWin(eG,getWindowTop(c,Y.chat_window_height),getWindowLeft(c,dh),Y.oD,Y.optionsTop,gB)}};var ip;T(window).resize(function(){if(Y.m==1){clearTimeout(ip);ip=setTimeout(iq,50)}});var iq=function(){clearTimeout(ip);T(Y.tempIFrame).css({height:dg()});T(Y.odiv).css({height:dg()})};this.leavingUser=function(){var a="fc_uD";fF=false;if(fG==false){if(jGo.browser.browser=='Firefox'){if(hx.disabled!=true){hx.style.visibility='visible';hx.focus()}else{if(gf==1){$('fc_chat').focus()}}}if(Y.m==1){Y.odiv.style.display=ea}if(Y.IFO!=null){gY.style.display=ea}$(a).style.display=ea;if(jGo.browser.browser=='Opera'&&!fv){disableScroll(1)}if(hj){this.uIF.style.display=ea}}return true};this.changestatus=function(){fG=false;clearTimeout(hq);hq=setTimeout('fc_chat.leavingUser()',fB);return true};this.changebackstatus=function(){fG=true};this.posx2;this.posy2;this.mtrack=function(e){if(e==null)e=window.event;if(hk){fH=e.pageX;fI=e.pageY}else{fH=e.clientX;fI=e.clientY}posx2=e.clientX;posy2=e.clientY;if(top==self){if(a!=null&&a.idl[Y.uid]==1){fc_chat.chkIdl(fH,fI)}}else{if(window.parent.fc_chat.getIdl()){window.parent.fc_chat.markpos(fH,fI,posx2,posy2);window.parent.fc_chat.chkIdl(fH,fI)}}};this.markpos=function(a,b,c,d){fH=a;fI=b;posx2=c;posy2=d};this.chkIdl=function(a,b){var c=new Date().getTime();if((c-fE)>10000){fT='00001R';fL=a;fM=b;try{fQ.jsSendData(fT);fD=new Date().getTime();fE=new Date().getTime()}catch(err){this.jsOnClose()}}};var ir=function(a){return a.replace(/%/g,'%25').replace(/&/g,'%26amp;').replace(/</g,'%26lt;').replace(/>/g,'%26gt;').replace(/\\/g,'\\\\')};var is=function(a){var b=encodeURI(a);if(b.indexOf("%")!=-1){var c=b.split("%").length-1;if(c==0){c++}var d=b.length-(c*3);c=c+d}else{c=b.length}return c};var it=function(a){return a.replace(/%26/g,'&').replace(/%25/g,'%')};var iu=function(n,z){if(!z){z=5}return String("0000000000"+n).slice(-z)};var iv=function(n,z){if(!z){z=8}return String(n+"0000000000").slice(0,z)};function url_domain(b){var a=document.createElement('a');a.href=b;return a.hostname};var iw=function(a){var n=parseInt(a,10);return(n==null||isNaN(n)?0:n)};var ix=18000*(13&65535)+(13>>16);var iy=function(n){var a='';n=36969*(n&65535)+(n>>16);n=Math.abs((n<<16)+ix);var s='000000'+n;for(var i=s.length-6;i<s.length;i++){a+=cr[s.substr(i,1)]}return a};function $(a){return document.getElementById(a)};function $2(a){return hh.getElementById(a)};this.get=function(a){switch(a){case'l':return l;case'px':return eZ;case'clr':return fa;case'current_room':return bl;case'cPU':return gh;case'mobile':return bi;default:}};var iz=function(f){var g=/(([a-z]+:\/\/)?(([a-z0-9\-]+\.)+([a-z]{2}|aero|arpa|biz|com|coop|edu|gov|info|int|jobs|mil|museum|name|nato|net|org|pro|travel|local|internal))(:[0-9]{1,5})?(\/[a-z0-9_\-\.~]+)*(\/([a-z0-9_\-\.]*)(\?[a-z0-9+_\-\.%=&amp;]*)?)?(#[a-zA-Z0-9!$&'()*+.=-_~:@/?]*)?)(\s+|$)/gi;return f.replace(g,function(a){if(!(/[a-z]+:\/\//.test(a))){a="http://"+a}var b=a.replace(/^https?:\/\//,'');var c="youtube.com/watch?v=";var d=a.toLowerCase().indexOf(c);if(d>0){var e=a.substr(d+20).split('%26amp;')[0];var h=60;return'%d style="display:inline;height: '+h+'px;"%g%i SRC="'+U+'trans.gif" height="'+h+'px" width="1px" style="height:'+h+'px;width:1px;background-color: transparent;"%g%~d%a href="http://www.youtube.com/watch?v='+e+'" target=_blank%g%i height="'+h+'px" style="height:'+h+'px" src="http://img.youtube.com/vi/'+e+'/default.jpg" alt="" %g%~a =i=('+co(418,'YouTube video')+')=i='}return'%a target=_blank href="'+a+'"%g'+b+'%~a'})};var iA=function(a,b){jGo.cookie.setCookie(a,b,iC(),'/',Q.domain)};var iB=function(a){return jGo.cookie.getCookie(a)};var iC=function(){var a=new Date();a.setTime(a.getTime()+(365*24*60*60*1000));return(Q.cookie_expires==0?null:a)};var iE=function(a){return iB(Q.data_cookie).split('&')[a]};var iF=function(a,b){var c=iB(Q.data_cookie).split('&');c[b]=a;var d=c[0];for(var i=1;i<c.length;i++){d+='&'+c[i]}iA(Q.data_cookie,d)};this.put_c=iF;var iG=function(){var a=(Q.display_timestamp?"inline":"none");a+=(Q.sounds_on?"&1":"&0");a+="&1&1&1&1&&&&";a+=(Q.trans_default_on?"&1":"&0");a+="&"+Q.trans_default_language_code;a+="&"+Q.toolbar_default_display;a+="&";a+="&";a+="&";a+="&";a+="&";a+="&";a+="&";jGo.cookie.setCookie(Q.data_cookie,a,iC(),"/",Q.domain)};this.getPause=function(){return cJ};this.setTgl=function(a){cK=a};var iH=/["\\\x00-\x1f\x7f-\x9f]/g;var iI={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','\\':'\\\\'};var iJ=function(b,s){iI['"']=s;if(b.match(iH)){return b.replace(iH,function(a){var c=iI[a];if(typeof c==='string'){return c}c=a.charCodeAt();return'\\u00'+Math.floor(c/16).toString(16)+(c%16).toString(16)})}return b};var iK=function(b){var c=b.substr(20).split('<');var d=parseInt(b.substr(4,8),16);var f=0;for(var i=1;i<6;i++){gl[i]=((d&hG[i])==hG[i]?'1':'0')}for(var i=9;i<27;i++){if((d&hG[i])==hG[i]){hF[i]='1';gm[i]=f;if(i==23||i==24){f++}f++}else{hF[i]='0'}}var g=c[c.length-1];var h;try{h=(g!="{}"?T.parseJSON(iJ(g,'\\"').replace(/>/g,'"')):null)}catch(e){}gg=parseInt(b.charAt(0));gc=b.charAt(12);if(gg==parseInt(gk[0])){gk[0]='0'}if(gl[1]==gk[4]){gk[4]='0'}if(gl[3]==gk[6]){gk[6]='0'}var j=[26,12,13,14];for(var i=0;i<j.length;i++){if(hF[j[i]]=='1'){if(j[i]==26){fY={}}iN(c[gm[j[i]]],j[i])}}j=[9,10,21,16,19,25];for(var i=0;i<j.length;i++){if(hF[j[i]]=='1'){if(kv==1&&kw==0&&j[i]==21){kz=1}iN(c[gm[j[i]]],j[i])}}if(hF[23]=='1'){gk[19]='0';iN(c[gm[23]+1],23)}if(hF[24]=='1'){iN(c[gm[24]+1],24)}if(hF[22]=='1'){jB(c[gm[22]])}if(hF[11]=='1'){if(gk[7]=='1'){gk[7]='0';l=false;fc_chat.tgl_info_panel();l=true}jC(c[gm[11]],gc);$('userframe')[eE]=''}if(h){if(h.RM!=null){if(gl[2]==gk[5]&&gk[2]=='0'){bl=iw(h.RM);gk[5]='0'}if(iw(h.RM)+1==iw(gk[2])){cZ=true;gk[2]='0'}}if(h.NPC){gp=1;iU=1;T('#fc_t2').html("<div style='margin-bottom:3px'><b>"+co(404,'You have unread messages in your Messages Box. Click "Open Full Chat" above to view.')+"</b></div>");eI=true}if(h.RUP){if(T("span.fc_nc_count")[0]){kl(h.RUP.N)}if(h.RUP.R){jK(h.RUP.R)}}if(h.RTMP){returnBroadcastParams(h.RTMP)}if(h.RF){if(h.RF=='1'){gk[7]='0'}fc_chat.eS2(3)}if(h.RA){if(h.RA=='1'){fc_chat.eS2(2)}else if(h.RA=='2'){setTimeout("fc_chat.c_g2()",50);$('fc_rpass'+jP).disabled=false;clearTimeout(jQ);jQ=setTimeout("fc_chat.clearRoompassTxt('"+jP+"')",7000)}else if(h.RA=='3'){ec[eE]=eD}}if(h.LD){if(h.LD=='1'){fc_chat.errString(3)}else if(h.LD=='2'){fc_chat.errString(4)}else if(h.LD=='3'){fc_chat.loginAfterServerValidation()}}if(h.SMS){var k=h.SMS.split('/');for(var i=1;i<k.length-1;i+=3){if(k[i]=='1'){censor(iw(k[i+1]),k[i+2])}if(k[i]=='2'){clearRoom(iw(k[i+2]))}}}if(h.PROF){fc_ex.clbkUP(cL,h.PROF.U,h.PROF.PR,fe)}if(h.UPROF){fc_ex.clbkUP(cL,h.UPROF,'',fe)}if(h.TS){dd=h.TS}if(h.VI){de=h.VI}if(h.GL){if(h.GL.G=='0'){cs=true}var m=h.GL.N.split('&');screen_name=it(m[0]);Y.uid=h.GL.U;if(cG!=null){iA(Q.user_cookie,Y.uid);iA(Q.session_cookie,cG)}}if(h.NO){eH=h.NO-0}if(h.USR){jm(h.USR)}if(h.SR){applySearchResults(h.SR)}if(h.UR){applyUserRec(h.UR)}}render_users(gl[2]);if(hF[15]=='1'){var n=gl[2];if(gl[4]=='1'){gx[2]=0;gz[2]=0;delete gv;gv=[];Y.img2C=0;for(var o in a.pe){if(a.pe.hasOwnProperty(o)){delete a.pe[o]}}gG[eE]='';if(gt[7]!=0){clearTimeout(ht);ht=null;l=false;fc_chat.cP(0,7);l=true}n='1'}if(gz[2]>=Q.room_message_limit&&gt[7]==0){var s=gH.scrollTop;if(gH.scrollHeight-s<gH.clientHeight+50){fc_ex.cropMsgs(gG,'p',7,eK,gx[2]);gz[2]=Q.min_room_messages-0;delete gv;gv=[];gw[7]=g_p(2)}}var p=1;if(hF[17]=='1'){go=c[gm[17]];p=0}ja(c[gm[15]],hF[16],n,p,gl[1])}else{if(hF[17]=='1'){go=c[gm[17]]}if(gl[2]=='1'&&go>0){gw[7]=g_p(2);if(!Q.no_chat_history){gG[eE]=getPrevious('p',7)}if(eZ){fc_chat.c_px(null,eZ)}}if(gl[2]=='1'){if(eb==1){var q='';jk(7,q)}hv=setTimeout("fc_chat.showdiv(2)",20)}}if(gk[2]=='0'){if(hF[18]=='1'){if(gl[5]=='1'){gx[1]=0;gz[1]=0;delete gu;gu=[];Y.img1C=0;for(var o in a.ge){if(a.ge.hasOwnProperty(o)){delete a.ge[o]}}gD[eE]='';if(gt[6]!=0){clearTimeout(hs);hs=null;l=false;fc_chat.cP(0,6);l=true}gn='1'}if(gz[1]>=Q.room_message_limit&&gt[6]==0){var s=gE.scrollTop;if(gE.scrollHeight-s<gE.clientHeight+50){fc_ex.cropMsgs(gD,'g',6,eK,gx[1]);gz[1]=Q.min_room_messages-0;delete gu;gu=[];gw[6]=g_p(1)}}var p=1;if(gn=='0'){gn=gl[2]}if(hF[20]=='1'){gs=c[gm[20]];p=0}if(bn()){jO()}else{jc(c[gm[18]],hF[19],gn,p)}}else{if(hF[20]=='1'){gs=c[gm[20]]}if(cZ||gl[2]=='1'){var r='';gw[6]=1;if(gs>0){gw[6]=g_p(1);if(!Q.no_chat_history){r=getPrevious('g',6)}}if(!bn()){jk(6,r);hu=setTimeout("fc_chat.showdiv(1)",20)}else{jO()}}}gn='0'}cZ=false;if(hF[23]=='1'){if(gt[7]!=0){applyPageMsgs(c[gm[23]],'fc_p',7,gT,gH)}}if(hF[24]=='1'&&gk[20]=='1'){gk[20]='0';if(gt[6]!=0){applyPageMsgs(c[gm[24]],'fc_g',6,gS,gE)}}fU="";if(hF[9]=='1'){var t=c[gm[9]].split('>');for(var i=0;i<t.length-1;i=i+2){a.of[t[i]]='0'}}if(gA){disRmC();gA=false}if(fs==1){iL(eH);if(gp==0){eI=false}fq(1)}fs=0;if(T("span.fc_online_count")[0]){T("span.fc_online_count").html("("+eH+")")}if(gg==3){iW()}unLockDom();if(gp!=0){kn()}if(gl[2]=='1'){kd(1)};if(cd){iA(cH,'1');cJ=1;fc_chat.open_chat_box();cd=false;bf=true}else if(bf){if(iE(14)==''){kV()}$('searchtext').disabled=false;$('searchoptions').disabled=false;$('leftframecover').style.display="none";if($('savingttl')){$('savingttl').style.display="none"}if($('savingpwrd')){if($('savingpwrd').style.display=="inline"&&be!=''){be=''}$('savingpwrd').style.display="none"}if(gc=='2'){$('bip').disabled=false;$('reboot').disabled=false;$('getconfig').disabled=false;$('setconfigvalue0').disabled=false;$('setconfigvalue1').disabled=false;$('setconfigvalue2').disabled=false;$('configvalue3').disabled=false;$('setconfigvalue4').disabled=false;$('setconfigvalue5').disabled=false;$('filterchat').disabled=false;$('filteruser').disabled=false;$('reboot').disabled=false}bf=false}};this.hideChatPanel=function(){gB.style.display=ea};this.showChatPanel=function(){setTimeout("fc_chat.showChat()",2000)};this.showChat=function(){gB.style.display=dZ};var iL=function(a){var b=Z.control.info_box.linebreak;var c="<span class='fc_abbtn'><a href='javascript:fc_chat.tgl_online(";var d=")'>"+co(3)+"</a></span> <span class='fc_online_count fc_info_text'>("+a+")</span>&nbsp;&nbsp;&nbsp;";var e="<span class='fc_abbtn'><a href='javascript:fc_chat.tgl_friends(";var f=")'>"+co(269,"Friends")+"</a></span>&nbsp;&nbsp;&nbsp;";var g="<span class='fc_abbtn'><a href='javascript:fc_chat.tgl_messages(";var h=")'>"+co(266,"Check Messages")+"</a></span>&nbsp;<span class='fc_nm_count fc_info_text'>("+gp+" "+co(267,"new")+")</span>&nbsp;&nbsp;&nbsp;";var i="<span style='display:"+eB+"' class='fc_abbtn'><a href='javascript:fc_chat.tgl_chatrooms(";var j=")'>"+co(405,"Chat Rooms")+"</a></span>&nbsp;&nbsp;&nbsp;";var k="<span style='display:"+eB+"' class='fc_nc_count fc_info_text'>"+co(367,"Chats")+" ("+gq+" "+co(267,"new")+")</span>&nbsp;";T("#fc_t1").html(c+d+b+e+f+b+g+h+b+i+j+b+k);T("#fc_t1a").html(c+"1"+d+e+"1"+f+g+"1"+h+i+"1"+j+k)};var iM=function(a,k){var b='';if(k)b=Z.control.info_box.linebreak;var c="<span class='fc_abbtn_dis'><a class='fc_abbtn_disa'";var d=c+" href='javascript::void(0";var e=")'>"+co(3)+"</a></span> <span class='fc_online_count fc_info_text'>("+a+")</span>&nbsp;&nbsp;&nbsp;";var f=c+" href='javascript::void(0";var g=")'>"+co(269,"Friends")+"</a></span>&nbsp;&nbsp;&nbsp;";var h=c+" href='javascript:void(0";var i=")'>"+co(266,"Check Messages")+"</a></span>&nbsp;<span class='fc_nm_count fc_info_text'>("+gp+" "+co(267,"new")+")</span>&nbsp;&nbsp;&nbsp;";var j=c+" style='display:"+eB+"' href='javascript::void(0";var l=")'>"+co(405,"Chat Rooms")+"</a></span>&nbsp;&nbsp;&nbsp;";var m="<span style='display:"+eB+"' class='fc_nc_count fc_info_text'>"+co(367,"Chats")+" ("+gq+" "+co(267,"new")+")</span>&nbsp;";return d+e+b+f+g+b+h+i+b+j+l+b+m};var iN=function(b,c){var q=b.split('>');switch(c){case 14:for(var i=0;i<q.length-1;i=i+3){if(a.nm[q[i]]==null){createURec(q[i])}iR(q,i,1,0);a.b[q[i]]=q[i+2];fX[q[i]]='1';if(a.u[q[i]]=='0'){fU+=q[i]+'&';a.u[q[i]]='1'}}break;case 12:case 13:for(var i=0;i<q.length-1;i=i+2){if(a.nm[q[i]]==null){createURec(q[i])}a.bg[q[i]]=q[i+1];if(a.u[q[i]]=='0'){fU+=q[i]+'&';a.u[q[i]]='1'}}break;case 10:for(var i=0;i<q.length-1;i=i+5){if(a.nm[q[i]]==null){createURec(q[i])}a.o[q[i]]='1';iR(q,i,1,0);a.d[q[i]]=q[i+2].charAt(0);a.g[q[i]]=iw(q[i+2].substr(1));iT(q,i,3,0);iO(q[i],q[i+4]);if(a.u[q[i]]=='0'){fU+=q[i]+'&';a.u[q[i]]='1'}}break;case 9:for(var i=0;i<q.length-1;i=i+4){if(a.nm[q[i]]==null){createURec(q[i])}if(q[i+1].charAt(0)=='1'){a.o[q[i]]='1';eH++}else if(q[i+1].charAt(0)=='0'){a.o[q[i]]='0';a.d[q[i]]='0';a.g[q[i]]=0;a.t[q[i]]='0';eH--}a.of[q[i]]='1';iT(q,i,1,1);iR(q,i,1,3);a.cc[q[i]]=q[i+2];iO(q[i],q[i+3]);if(a.u[q[i]]=='0'){fU+=q[i]+'&';a.u[q[i]]='1'}}break;case 21:case 26:for(var i=0;i<q.length-1;i=i+5){if(a.nm[q[i]]==null){createURec(q[i])}if(c==26){fY[q[i]]='1'}iR(q,i,1,0);a.d[q[i]]=gb;a.o[q[i]]=q[i+2].charAt(0);a.g[q[i]]=iw(q[i+2].substr(1));iT(q,i,3,0);a.cc[q[i]]=q[i+3].substr(2);iO(q[i],q[i+4]);if(a.u[q[i]]=='0'){fU+=q[i]+'&';a.u[q[i]]='1'}}break;case 16:case 19:case 23:case 24:case 25:for(var i=0;i<q.length-1;i=i+3){if(a.nm[q[i]]==null){createURec(q[i])}iT(q,i,1,0,1);a.cc[q[i]]=q[i+1].substr(2);iO(q[i],q[i+2],1);if(a.u[q[i]]=='0'){fU+=q[i]+'&';a.u[q[i]]='1'}}break;default:cV('bad case')}};var iO=function(u,s,k){var b;try{b=(s!="{}"?T.parseJSON(iJ(s,'"')):{})}catch(e){}if(b.AV!=null){a.av[u]=b.AV}if(!k){if(b.RTMP){a.vsp[u]=b.RTMP.substr(0,1);a.vcu[u]=b.RTMP.split("_")[1];a.vs[u]=b.RTMP.substr(b.RTMP.indexOf("_",2)+1)}else{a.vs[u]=''}}if(b.TL!=null){a.ttl[u]=it(b.TL)}if(b.TAG!=null){a.tag[u]=it(b.TAG)}if(b.NK!=null){a.nk[u]=it(b.NK)}};var iP=function(u,q){if(q!=''){a.vsp[u]=q.substr(0,1);a.vcu[u]=q.split("_")[1];a.vs[u]=q.substr(q.indexOf("_",2)+1)}else{a.vs[u]=q}};var iQ=function(u){return(a.vs[u]!=''&&a.vsp[u]==1)};this.gCV=iQ;var iR=function(q,i,n,k){var b=q[i+n].substr(k).split('&');var c=it(b[0]);a.nm[q[i]]=c;if(b.length>1){a.at[q[i]]=b[1]}a.snm[q[i]]=iS(c,a.at[q[i]])};this.sNm=iR;var iS=function(n,t){if(t==''&&n.indexOf('('+co(1))!=-1){n=n.substr(0,n.indexOf('('+co(1))-1)}if(n.length>16){n=n.substr(0,16)+'..'}return n};var iT=function(q,i,k,n,x){var b=parseInt(q[i+k].substr(n,2),16);a.ac[q[i]]=(b&3)+'';if(x)a.o[q[i]]=((b&4)==4?'1':'0');a.t[q[i]]=((b&8)==8?'1':'0');a.ty[q[i]]=((b&16)==16?'1':'0');a.idl[q[i]]=((b&32)==32?'1':'0');a.pr[q[i]]=((b&64)==64?'1':'0');a.bs[q[i]]=((b&128)==128?'1':'0')};function createURec(u){a.id[u]=u;a.nm[u]='';a.snm[u]='';a.at[u]='';a.o[u]='0';a.ac[u]='0';a.d[u]='0';a.g[u]=0;a.t[u]='0';a.cc[u]='';a.ty[u]='0';a.idl[u]='0';a.pr[u]='0';a.pro[u]='0';a.ttl[u]='';a.ttlo[u]='';a.nk[u]='';a.nko[u]='';a.tag[u]='';a.tago[u]='';a.av[u]='';a.avo[u]='';a.acl[u]=iy(u);a.vsp[u]='1';a.vcu[u]='';a.vs[u]='';a.vso[u]='';a.vsw[u]='';a.wl[u]='0';a.vsw2[u]='';a.wl2[u]='0';a.b[u]='0';a.bg[u]='0';a.bs[u]='0';a.gre[u]='';a.pve[u]='';a.pge[u]='';a.s[u]='0000000000';a.u[u]='0';a.of[u]='0'};this.toggleAlerts=function(){if(!l){fc_ex.toggleAlerts()}};var iU=0;var iV=function(){if(gg==3||ku==1){iU=0;fT='00001p';hT()}else{iU=1}};var iW=function(){if(iU==1)iV()};var iX=0;var iY=-1;var iZ=-1;var ja=function(b,c,d,e,f){var v;var g;var z;var h='30px';var j=' style="display:inline;background-color:transparent;font-style:italic"';msgto='<span style="font-style:italic" class="fc_msgto_';var k=((d=='1'&&go>50&&!Q.no_chat_history)?'<div id="fc_pPg" style="display:block; width:100%; z-Index:'+(eK+202)+';background-color:transparent;margin-left:5px"><a href="javascript:void" onclick="fc_chat.cP(1,7);return false">&laquo;&laquo; '+co(111)+' 50</a></div>':'');if(d=='1'){k+="<IMG id='fc_img7' SRC='"+U+"trans.gif' height=1 width="+h+" style='background-color: transparent;'>"}var l;var m;var n=b.split('>');for(var i=n.length-6;i>0;i=i-6){if(n[i+1]==n[i+2]){n[i]=Y.uid}if(c=='0'){if(a.nm[n[i]]==null){createURec(n[i])}if(a.of[n[i]]=='0'){a.o[n[i]]='1';a.s[n[i]][0]='1'}}iR(n,i,1,0);n[i+1]=a.snm[n[i]];var o=n[i+2].split('&');var p='';if(o.length>1){p=o[1]}n[i+2]=it(iS(o[0],p));var q=!(gx[2]!=0&&iY==n[i]);var r=n[i+1]==n[i+2];iY=(r?-1:n[i]);z=c_i(n[i],1,0);if((gf=='0'||ku)&&d!='1'){var s=!(iX!=0&&iZ==n[i]);var t=(s?'1px 0px 3px 37px':'0px 0px 2px 37px');if(r){t='1px 0px 3px 0px'}var u=(s&&!r?'-37px':'0px');iZ=(r?-1:n[i]);v=$('fc_t2');if(!eI){v[eE]=""}m=' <i class="fc_aside" style="'+bE+(f=='1'?'display:inline':fj)+'">'+cdt(n[i+4],(f=='1'?1:0))+'</i>';var w=1;var x='<div style="padding:'+t+';text-indent:'+u+';">';var k='';if(r){k=x+'&nbsp;<div class="fc_t20" style="display: inline;">'+kA(16)+eP+'</div> '+je(s)+myUn(n[i+5],1,8,iX,1)+m+'</div>';gp++}else{var y=(s?kj(n[i],null,0,1,1)+' <div class="fc_t2'+n[i]+'" style="display: inline;">'+jo(n[i])+'</div>: ':'');var A=je(s)+myUn(n[i+5],1,8,iX)+m+'</div>';if(n[i]==Y.uid){w=0;k=x+'&nbsp;'+y+msgto+n[i+3]+'">('+co(115)+' '+n[i+2]+jh(n[i+3],1)+')</span> '+A}else{k=x+'&nbsp;'+y+A;gp++}}iX++;scr2(v,T('#fc_view_msgs')[0],3,k);eI=true;if(f!='1'&&gf=='0'){cP(1);if(w){ld=0;fc_chat.fade_new_msgs()}}if(w&&Q.toolbar_mode>=1){if(bo.minimized){bo.toggle()}bo.show()}}if(gg>1&&gk[5]=='0'){m=' <i class="fc_aside" style="'+bE+(d=='0'?fj:'display:inline')+'">'+cdt(n[i+4],d)+'</i>';z=c_i(n[i],1,2);var B=(n[i+1]==n[i+2]?'0':n[i]);if(q){if(a.pe[B]!=null){a.pe[B]+='fc_pm'+gx[2]+'&'}else{a.pe[B]='fc_pm'+gx[2]+'&'}}var t=(q?'1px 0px 3px 40px':'0px 0px 2px 40px');if(r){t='1px 0px 3px 0px'}var u=(q&&!r?'-40px':'0px');if(d=='0'&&fx!=2){if(gx[2]!='0'){g=$('fc_pmo'+(gx[2]-1))}v=document.createElement('div');T(v).addClass("fc_"+(r?0:n[i])+" fc_chat_container").attr('id','fc_pmo'+gx[2]).css({display:dZ,'margin-left':'5px',padding:t,'text-indent':u,'background-color':'transparent',align:'top',width:Y.chat_container_width+'px','z-index':eK+202});if(r){v[eE]=' <b><div class="fc_0" id=fc_pm'+gx[2]+j+'>'+kA(16)+eP+'</div></b> '+je(q)+myUn(n[i+5],Y.img2C,7,gx[2],1)+m;if(gf=='1'&&!ku){gp++}}else{var y=(q?kj(n[i],7)+' <div id=fc_pm'+gx[2]+j+'>'+z+'</div>: ':'');var A=je(q)+myUn(n[i+5],Y.img2C,7,gx[2])+m;if(n[i]==Y.uid){v[eE]=y+msgto+n[i+3]+'">('+co(115)+' '+n[i+2]+jh(n[i+3])+')</span> '+A}else{v[eE]=y+A;if(gf=='1'&&!ku){gp++}}}if(Y.img2C==0&&fb==1){fd=1}if(eZ){v=jg(v,null)}scr(gG,gH,2,v,g,1);if(Y.img2C==0&&fb==1){Y.img7.style.width=(iw(gH.style.width)+11)+'px';Y.img2C=1}cP(1);fb=0;fd=0}else{k=k+'<div class="fc_'+(r?0:n[i])+' fc_chat_container" id="fc_pmo'+gx[2]+'" style="padding:'+t+';text-indent:'+u+';'+dp+(eK+202)+'">';var C=' <b><div ';if(r){k=k+C+' id=fc_pm'+gx[2]+j+'>'+kA(16)+eP+'</div></b> '+je(q)+myUn(n[i+5],1,null,null,1)+m+'</div>'}else{var y=(q?kj(n[i],7)+' <b><div id=fc_pm'+gx[2]+j+'>'+z+'</div>: ':'');var A=je(q)+myUn(n[i+5],1)+m+'</div>';if(n[i]==Y.uid){k=k+y+msgto+n[i+3]+'">('+co(115)+' '+n[i+2]+')</span> '+A}else{k=k+y+A}}if(e=='1'){go++}}gx[2]++;gz[2]++}}if(d=='1'){iY=-1;k=(eb==1?k+ji():k);gw[7]=g_p(2);hp[2]=gH.scrollHeight;if(fb==1){Y.img2C=1;fb=0;h=(iw(gH.style.width)+11)+'px'}if(hm){gG.style.display=ea}gG[eE]=k;if(eZ){fc_chat.c_px(null,eZ)}if(fa){}Y.img7=$('fc_img7');hv=setTimeout("fc_chat.showdiv(2)",20)}else{if(fx==2&&gg>1){if(Y.img2C==0&&fb==1){fd=1}if(eZ){k=jg(null,k)}scr2(gG,gH,2,k);if(Y.img2C==0&&fb==1){Y.img7.style.width=(iw(gH.style.width)+11)+'px';Y.img2C=1}fb=0;fd=0}}iV()};var jb=-1;var jc=function(b,c,d,e){var v;var f;var z;var g=' style="display:inline;background-color:transparent;"';var h='<div style="display:inline;padding-left:22px">';var j='';var k='30px';var l=((d=='1'&&gs>50&&!Q.no_chat_history)?'<div id="fc_gPg" style="display:block; width:100%; z-Index:'+(eK+202)+';background-color:transparent;margin-left:5px"><a href="javascript:void" onclick="fc_chat.cP(1,6);return false">&laquo;&laquo; '+co(111)+' 50</a></div>':'');if(d=='1'){l+="<IMG id='fc_img6' SRC='"+U+"trans.gif' height='1px' width="+k+" style='background-color: transparent;'>"}var m;var n=b.split('>');for(var i=n.length-4;i>0;i=i-4){if(c=='0'){if(a.of[n[i]]=='0'){a.o[n[i]]='1';a.s[n[i]][0]='1'}}iR(n,i,1,0);n[i+1]=a.snm[n[i]];z=c_i(n[i],1,1);m=' <i class="fc_aside" style="'+bE+(d=='0'?fj:'display:inline')+'">'+cdt(n[i+2],d)+'</i>';var o=!(gx[1]!=0&&jb==n[i]);jb=n[i];if(o){if(a.ge[n[i]]!=null){a.ge[n[i]]+='fc_gm'+gx[1]+'&'}else{a.ge[n[i]]='fc_gm'+gx[1]+'&'}}if(a.ac[n[i]]!='2'||gc=='2'){j=' <span id="censor'+gx[1]+'"'+g+'><a href="javascript:fc_chat.deleteMsg(0,'+gx[1]+',\''+fl[bl].nm+'\')">'+co(240)+'</a> </span> '}var p=(o?'1px 0px 3px 40px':'0px 0px 2px 40px');var q=(o?'-40px':'0px');if(d=='0'&&fx!=2){if(gx[1]!='0'){f=$('fc_gmo'+(gx[1]-1))}v=document.createElement('div');T(v).addClass("fc_"+n[i]+" fc_chat_container").attr('id','fc_gmo'+gx[1]).css({display:dZ,'margin-left':'5px',padding:p,'text-indent':q,'background-color':'transparent',align:'top',width:Y.chat_container_width+'px','z-index':(eK+202)});v[eE]=(o?kj(n[i],6)+' <div id=fc_gm'+gx[1]+g+'>'+z+'</div>: ':'')+je(o)+myUn(n[i+3],Y.img1C,6,gx[1])+m+j;if(Y.img1C==0&&fb==1){fd=1}if(eZ){v=jg(v,null)}scr(gD,gE,1,v,f,1);if(Y.img1C==0&&fb==1){Y.img6.style.width=(iw(gE.style.width)+11)+'px';Y.img1C=1}cP(0);fb=0;fd=0}else{l=l+'<div class="fc_'+n[i]+' fc_chat_container" id="fc_gmo'+gx[1]+'" style="padding:'+p+';text-indent:'+q+';'+dp+'">'+(o?kj(n[i],6)+' <div id=fc_gm'+gx[1]+g+'>'+z+'</div>: ':'')+je(o)+myUn(n[i+3],1)+m+j+'</div>';if(e=='1'){gs++}}gx[1]++;gz[1]++}if(d=='1'){jb=-1;l=l+ji();gw[6]=g_p(1);hp[1]=gE.scrollHeight;if(fb==1){Y.img1C=1;fb=0;k=(iw(gE.style.width)+11)+'px'}if(hm){gD.style.display=ea}gD[eE]=l;if(eZ){fc_chat.c_px(null,eZ)}if(fa){}Y.img6=$('fc_img6');hu=setTimeout("fc_chat.showdiv(1)",20)}else{if(fx==2){if(Y.img1C==0&&fb==1){fd=1}if(eZ){l=jg(null,l)}scr2(gD,gE,1,l);if(Y.img1C==0&&fb==1){Y.img6.style.width=(iw(gE.style.width)+11)+'px';Y.img1C=1}fb=0;fd=0}}};var jd=-1;function applyPageMsgs(b,d,k,e,f){var g=0;var z;var h='';var j='';var c='';var l=4;var m=' style="display:inline;background-color:transparent;font-style:italic"';if(k==6){if(gu[gt[k]]==null){gu[gt[k]]=b}}else{if(gv[gt[k]]==null){gv[gt[k]]=b}l=6}if(gt[k]<(gw[k]-1)){c='<a href="javascript:void" onclick="fc_chat.cP(1,'+k+');return false">&laquo;&laquo; '+co(111)+' 50</a>&nbsp;&nbsp;&nbsp;'}if(gt[k]!=1){j='<a href="javascript:void" onclick="fc_chat.cP(-1,'+k+');return false">'+co(113)+' 50 &raquo;&raquo;</a>&nbsp;&nbsp;&nbsp;'}var n=b.split('>');if(n.length-4>80){h='<div id="'+d+'Pg3" style="display:block; width:'+dn+'px; z-Index:'+(eK+202)+';background-color:transparent;margin-left:5px;font-weight:bold">'+co(116)+' '+gt[k]+'&nbsp;&nbsp;&nbsp;'+c+j+'<a href="javascript:void" onclick="fc_chat.cP(0,'+k+');return false">'+(k==6?co(117):co(271,'New Messages'))+' &raquo;&raquo;&raquo;</a></div><br>'}for(var i=n.length-l;i>0;i=i-l){if(n[i+1]!=n[i+2]){iR(n,i,1,0);z=c_i(n[i],1,k)}n[i+1]=a.snm[n[i]];var o=n[i+2].split('&');var p='';if(o.length>1){p=o[1]}n[i+2]=it(iS(o[0],p));var q=(k==7&&n[i+1]==n[i+2]);var r=!(g!=0&&jd==n[i]);var s=(r?'1px 0px 3px 40px':'0px 0px 2px 40px');if(q){s='1px 0px 3px 0px'}var t=(r&&!q?'-40px':'0px');jd=(q?-1:n[i]);var u='" class="fc_'+(q?0:n[i])+' fc_chat_container" style="padding:'+s+';text-indent:'+t+';'+dp+'">';var v=' <div ';if(k==6){if(r){if(a.gpe[n[i]]!=null){a.gpe[n[i]]+='fc_gpm'+g+'&'}else{a.gpe[n[i]]='fc_gpm'+g+'&'}}if(a.ac[n[i]]!='2'||gc=='2'){cnsr=' <span id="pcensor'+g+'"'+m+'><a href="javascript:fc_chat.deleteMsg('+gt[6]+','+g+',\''+fl[bl].nm+'\')">'+co(240)+'</a> </span> '}h=h+'<div id="'+d+'pmo'+g+u+(r?kj(n[i],k)+v+' id="'+d+'pm'+g+'"'+m+'>'+z+'</div>: ':'')+je(r)+myUn(n[i+3],1)+' <i class="fc_aside" style="'+bE+'display:inline'+'">'+cdt(n[i+2],1)+cnsr+'</i></div>'}else{if(r){if(a.ppe[n[i]]!=null){a.ppe[n[i]]+='fc_ppm'+g+'&'}else{a.ppe[n[i]]='fc_ppm'+g+'&'}}h=h+'<div id="'+d+'pmo'+g+u;var w=' <i class="fc_aside" style="'+bE+'display:inline'+'">'+cdt(n[i+4],1)+'</i>';if(q){h=h+v+' id="'+d+'pm'+g+'"'+m+'>'+kA(16)+eP+'</div></b> '+je(r)+myUn(n[i+5],1,null,null,1)+w+'</div>'}else if(n[i]==Y.uid){h=h+(r?kj(n[i],k)+v+' id="'+d+'pm'+g+'"'+m+'>'+z+'</div>: ':'')+'<span class="fc_msgto_'+n[i+3]+'">['+co(115)+' '+n[i+2]+']</span> '+je(r)+myUn(n[i+5],1)+w+'</div>'}else{h=h+(r?kj(n[i],k)+v+' id="'+d+'pm'+g+'"'+m+'>'+z+'</div>: ':'')+je(r)+myUn(n[i+5],1)+w+'</div>'}}g++}h=h+'<br><div id="'+d+'Pg3" style="display:block; width:'+dn+'px; z-Index:'+(eK+202)+';background-color:transparent;height:27px;margin-left:5px;font-weight:bold">'+co(116)+' '+gt[k]+'&nbsp;&nbsp;&nbsp;'+c+j+'<a href="javascript:void" onclick="fc_chat.cP(0,'+k+');return false">'+(k==6?co(117):co(271,'New Messages'))+' &raquo;&raquo;&raquo;</a></div>';hp[k]=f.scrollHeight;if(hm){e.style.display=ea}e[eE]=h;if(eZ){fc_chat.c_px(null,eZ)}if(fa){}if(k==6){hu=setTimeout("fc_chat.showdiv(6)",20)}else{hv=setTimeout("fc_chat.showdiv(7)",20)}};var je=function(a){return(a?"":"")};var jf;var jg=function(a,b){if(!bi){if(!jf){jf=document.createElement('div');jf.style.display=ea;document.body.appendChild(jf);T(jf).addClass('fc_d1')}T(jf).empty();if(a){T(jf).append(a)}else{T(jf).html(b)}fc_chat.c_px(null,eZ);if(a){return a}else{return T(jf).html()}}else{return a}};var jh=function(u,n){return(a.o[u]=='1'?"":"<i class='fc_aside' style='"+(n?Z.new_messages_box.text.offline_css:by.font.color.offline_css)+"'>"+co(368,' Offline')+"</i>")};var ji=function(){return"<div class='fc-triangle-right3' style='"+dp+";width:"+(dh-311)+"px;padding:10px;border:"+by.chat_room_panel.infobox.border+";margin:10px 0 15px 22px'>"+(Q.autoGreet!=''&&!cZ?Q.autoGreet:'')+(!cZ?jj()+(cs?(Q.guests_can_chat?co(108):co(394,'Guests may observe rooms only. To chat, please sign in.')):''):'')+(eb==1?'<br><br>'+co(389,"To send a message, highlight a user first. To add a user to your friends list, click on their screen name, and then select 'add to Friends'."):(bn()?'':co(109)+fl[bl].nm+'.'))+"</div>"};var jj=function(){return co(107)+' <span style="font-weight:bold;font-style:italic;">'+a.snm[Y.uid]+'</span>. '};var jk=function(k,a){a+="<IMG id='fc_img"+k+"' SRC='"+U+"trans.gif' height=1 width=30 style='background-color: transparent;'>"+ji();ec[eE]=a;if(eZ){fc_chat.c_px(null,eZ)}if(k==6){Y.img6=$('fc_img6')}else{Y.img7=$('fc_img7')}};var jl=function(){if(kZ(Y.uid))cT(jj())};function aRA(u,b){if(gg==3&&fc_ex.getRmAl()&&u!=Y.uid&&!bn()){var v;var c;var d;if(gx[1]!='0'){c=$('fc_gmo'+(gx[1]-1))}v=document.createElement('div');T(v).addClass("fc_chat_container").css({display:dZ,'margin-left':'5px',padding:'1px 0px 3px 0px','background-color':'transparent',align:'top',width:Y.chat_container_width+'px','z-index':eK+202,'font-style':'italic'});if(b==0){v[eE]=kA(16)+eP+a.nm[u]+co(127)}else{v[eE]=kA(16)+eP+a.nm[u]+co(128)}cP((b==0?3:2));if(eZ){v=jg(v,null)}jb=-1;scr(gD,gE,1,v,c,1)}};this.clearMsgs=function(n,b){if(!l){var c='';var d=(n==6?gD:gG);if(hm){d.style.display=ea}if(gz[n-5]>0){gx[n-5]=0;gz[n-5]=0;var e;if(n==6){for(var f in a.ge){if(a.ge.hasOwnProperty(f)){delete a.ge[f]}}delete gu;gu=[];e='g';Y.img1C=0;gw[6]=g_p(1)}else{for(var f in a.pe){if(a.pe.hasOwnProperty(f)){delete a.pe[f]}}delete gv;gv=[];e='p';Y.img2C=0;gw[7]=g_p(2)}if(!Q.no_chat_history&&!b){c=getPrevious(e,n)}}else{if((n==6&&gs*1>0)||(n==7&&go*1>0)){if(!Q.no_chat_history&&!b){c=getPrevious(e,n)}}}d[eE]='';if(hm){if(n==6){hu=setTimeout("fc_chat.showdiv(1)",20)}else{hv=setTimeout("fc_chat.showdiv(2)",20)}}else{if(n==6){fc_chat.showdiv(1)}else{fc_chat.showdiv(2)}}c+='<IMG id="fc_img'+n+'" SRC="'+U+'trans.gif" height=1 width="30px" style="background-color: transparent;">';d[eE]=c;if(n==6){km(-gr);Y.img6=$('fc_img6')}else{this.clear_nm();Y.img7=$('fc_img7')}if(eZ&&!b){fc_chat.c_px(null,eZ)}}};function clearRoom(b){if(b==bl&&gk[2]=='0'&&cZ==false){gk[20]='0';clearTimeout(hs);hs=null;if(gt[6]!=0){l=false;fc_chat.cP(0,6);l=true}if(hn){gD.style.overflow='auto'}if(hm){gD.style.display=ea}gx[1]=0;gz[1]=0;gs=0;for(var c in a.ge){if(a.ge.hasOwnProperty(c)){delete a.ge[c]}}delete gu;gu=[];Y.img1C=0;gw[6]=1;km(-gr);gD[eE]='';if(hm){hu=setTimeout("fc_chat.showdiv(1)",20)}else{fc_chat.showdiv(1)}}};this.deletePrivateMsgs=function(){if(!l&&go!=0){if(gt[7]!=0){fc_chat.cP(0,7)}fc_chat.clearMsgs(7,1);gx[2]=0;gz[2]=0;for(var b in a.ppe){if(a.ppe.hasOwnProperty(b)){delete a.ppe[b]}}delete gv;gv=[];gw[7]=1;var c=Math.ceil(Math.log((go*1+2))/Math.log(10))+1;fT='0000'+c+'e'+go;hT();go=0}};function getPrevious(a,n){return'<span id="fc_'+a+'Pg" style="width:100%; z-Index:'+(eK+202)+';background-color:transparent;margin-left:5px"><a href="javascript:void" onclick="fc_chat.cP(1,'+n+');return false">&laquo;&laquo; '+co(112)+'</a></span>'};this.showdiv=function(n){var a=null;if(n==1||n==9){if(eb==1)return;if(gt[6]==0){a=gD}es(n)}else if(n==2){if(eb==2)return;if(gt[7]==0){a=gG}es(2)}else if(n==3){a=gJ}else if(n==4){a=gM}else if(n==5){a=gP}else if(n==6){if(gt[6]!=0&&Y.sI==0){a=gS;gS.style.visibility="visible"}es(6)}else if(n==7){if(gt[7]!=0&&Y.sI==0){a=gT;gT.style.visibility="visible"}es(7)}else{if(Y.sI){a=gU;gU.style.visibility="visible"}es(8)}if(a){a.style.display=dZ;if(n<3){a.scrollTop=a.scrollHeight-(hm?a.clientHeight+1:0)}}};function es(k){setTimeout('fc_chat.enableScroll('+k+')',200)};function g_p(k){var a=(k==1?gs:go);return Math.floor(((a-gz[k])*1-1)/50)+2};this.cP=function(b,k){if(!l){var c;var d;var e;if(k==6){d=gS;e=gE;c=gD}else{d=gT;e=gH;c=gG};if(gt[k]==0&&k==7&&fi==1){fc_chat.filt(0)}else{if(k==7&&fi==1){fi=0;$('fc_flt')[eE]="<a style='position:absolute;display:block;top:0px;left:0px' href='javascript:fc_chat.filt(1);'><span class='fc_e fc_e_flt'></span></a>"}}l=true;if(b==0){gt[k]=0}else{gt[k]+=b}if(gt[k]==0){d.style.display=ea;c.style.display=dZ;jM(1,k);l=false;return false}c.style.display=ea;if(hn){d.style.overflow='hidden'}d.style.display=ea;d[eE]='<div style="background-color:transparent;width:'+dn+'px">'+eT(co(121))+'</div>';if(k==6){for(var f in a.gpe){if(a.gpe.hasOwnProperty(f)){delete a.gpe[f]}}clearTimeout(hu);hs=setTimeout("fc_chat.cP2("+b+","+k+")",20)}else{for(var f in a.ppe){if(a.ppe.hasOwnProperty(f)){delete a.ppe[f]}}clearTimeout(hv);ht=setTimeout("fc_chat.cP2("+b+","+k+")",20)}}return false};this.cP2=function(a,k){if(k==6){gS.style.display=dZ;hs=setTimeout("fc_chat.cP3("+a+","+k+")",20)}else{gT.style.display=dZ;ht=setTimeout("fc_chat.cP3("+a+","+k+")",20)}};this.cP3=function(a,k){var b;var c;if(k==6){iD=gS;c=gE;fb=0;b=gD}else{iD=gT;c=gH;fb=0;b=gG};hs=null;ht=null;if(gt[k]!=0){jM(0,k)}var d;if(k==6){if(gu[gt[k]]!=null){applyPageMsgs(gu[gt[k]],'fc_g',k,iD,c);l=false;return false}gk[20]='1';d=(gs-gz[1])-(gt[k]-1)*50}else{if(gv[gt[k]]!=null){applyPageMsgs(gv[gt[k]],'fc_p',k,iD,c);l=false;return false}gk[19]='1';d=(go-gz[2])-(gt[k]-1)*50}tCL('0');fx='4';var e=iu(d,6);if(k==6){fT="0000850"+e}else{fT="0000851"+e}hT();return false};this.tgl_info_panel=function(){if(!l){fc_ex.tgl_info_panel.apply(fc_ex,arguments)}return false};this.search_userlist=function(a,b){if(!l){fc_ex.search_userlist(a,b,fQ,eC)}};var jm=function(a){fc_ex.applyUserListResults(a)};this.build_userlist=function(a){return'<div id="fc_t5'+a+'" style="padding-top:3px;margin-left:10px;'+bx.info_panel.list_divider_css+'">'+kA(Q.avatar_sz)+kj(a,null,0,1)+'<b>&nbsp;<div class="fc_t2'+a+'"  style="display: inline;">'+jo(a,1)+'</div>'+jn(a,1)+jr(a,3)+kW(a)+'<br>'+kX(a,1,bx.info_panel.user_info_css)+jt(a,3)+'<br></div>'};var jn=function(u,n){if((a.cc[u]!=''||a.cc[u]==null)&&Q.show_country_flags){return'<img unselectable="on" align=absmiddle title="'+a.cc[u].toUpperCase()+'" alt=" " style="width:16px;height:11px;margin-left:5px" SRC="'+eO+'flags/'+a.cc[u]+'.png" border=0>'}else{return''}};var jo=function(u,n){var b='class="fc_online"';var c=(n?fc_chat.uolnk(u,1):'onclick=\'return fc_chat.toggleMenu(this,'+u+',"u1");\'');var d=jp(u,5);if(u==Y.uid){d='margin-left:.1em;'+d;b='class="fc_online2"'}return'<IMG SRC="'+U+'trans.gif" style="'+d+';margin-right:.3em;" '+b+'><a style="'+(n?bx.info_panel.screen_name_css:Z.new_messages_box.text.screen_name_css)+'" title="'+a.nm[u]+': '+co(282,"Click for options")+'" href="javascript:void" '+c+'>'+a.snm[u]+'</a>'};var jp=function(u,k){var b=(k>2&&k<6?bz:by);var c=b.user_icon.offline_css;if(a.o[u]=='1'){c=b.user_icon.online_css;if(a.bg[u]=='1'){c=b.user_icon.blocked_css}else if(a.bs[u]=='1'){c=b.user_icon.busy_css}}return c};var jq=function(u){T("div.fc_t2"+u).html(jo(u));if(kw){if(a.o[u]=='0'){fc_chat.remove_online(u)}else{if(!T("#fc_t4"+u)[0]){fc_chat.add_online(u)}}}var b=0;if((!kZ(u)||a.o[u]=='1')&&jV(u)&&u!=Y.uid){b=1}if(hZ['u1']&&hZ['u1'].isOpen&&ia==u){T('#fc_menu_item1').html(ik(b,u))}if((a.o[u]=='0'||!jV(u))){if(hP==u){kP()}if(gg>1&&gh==u){fc_chat.send_to(0)}}if(hP==u&&a.o[u]=='1'){fc_chat.load_respond(u,1)}};var jr=function(u,k){var b='';var c=bz.font.style.mod_css;if(k==1){c=Z.online_box.text.user_info_css}else if(k==2){c=Z.friends_box.text.user_info_css}else if(k==3){c=bx.info_panel.user_info_css}var d='<span unselectable="on" style="cursor:default;margin-left:3px;'+c+'"> &lt;';if(a.ac[u]=='1'){b=d+co(123)+'&gt;</span>'}else if(a.ac[u]=='2'){b=d+co(124)+'&gt;</span>'}return b};function render_users(b){var c=['','','','','',''];var d=['','','','','',''];var e=['','','','','',''];var f=['','','','','',''];var u=fU.split('&');for(var i=0;i<u.length-1;i++){if(b=='1'){if(a.s[u[i]].charAt(0)!=a.o[u[i]]||a.s[u[i]].charAt(4)!=a.b[u[i]]||a.s[u[i]].charAt(5)!=a.bg[u[i]]||a.s[u[i]].charAt(8)!=a.bs[u[i]]){jq(u[i]);if(a.pge[u[i]]!=''){var g=a.pge[u[i]].split('&');for(var j=0;j<g.length-1;j++){uE(u[i],g[j],2,0)}}if(a.ife[u[i]]!=null){var h=a.ife[u[i]].split('&');for(var j=0;j<h.length-1;j++){uE(u[i],h[j],3,0)}}if(u[i]==Y.cU){cUB(u[i])}}if(a.o[u[i]]=='1'){if(a.d[u[i]]==gb){var k='';var l=dZ;var m=ea;var n='15';if(iQ(u[i])){m='inline';n='5'}var o=Q.avatars_dir+'default.gif';var p='inline';var q=bS;if(a.av[u[i]]!=''&&a.av[u[i]]!='default.gif'){o=a.av[u[i]];o=(o.indexOf('/')==0)?o.substr(1):Q.avatars_dir+o}else{q+="background-color:#"+a.acl[u[i]]+";"+hK}var r='<a id="fc_';var s='av" style="display:'+p+';margin-left:'+n+'px;" href=\"javascript:void\" ';a.de[u[i]]='fc_dl'+gx[3];var z=c_i(u[i],0,3);var t=fc_chat.uolnk(u[i],3);k='&nbsp;'+kj(u[i],3,0,1);var v=(gh==u[i]?bO:bM);var w='<div class="fc_'+u[i]+'" id=fc_dl'+gx[3]+' style="display:block;font-weight:bold;width:250px;z-Index:'+(eK+202)+';'+bF+v+'" onClick="fc_chat.send_to('+u[i]+')" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)">'+k+z+kW(u[i])+jn(u[i])+'<div id="fc_dl'+gx[3]+'ico" style="display:'+l+';padding-top:1px;padding-bottom:3px"><a '+bU+'('+u[i]+');return false;" id="fc_dl'+gx[3]+'cam" style="display:'+m+';margin-left:3px;" title="'+co(33)+'"><img height="16px" align=absmiddle style="height:26px" SRC="'+eO+'video.gif" border=0></a>'+jr(u[i])+jt(u[i])+kX(u[i])+kY(u[i])+'</div></div>';bldOr(u[i],c,w);gx[3]++;gz[3]++;if(a.g[u[i]]==bl&&!bn()&&a.t[u[i]]=='1'){a.gre[u[i]]='fc_gl'+gx[4];z=c_i(u[i],0,4);t=fc_chat.uolnk(u[i],4);k='&nbsp;'+kj(u[i],4,0,1);w='<div class="fc_'+u[i]+'" id=fc_gl'+gx[4]+' style="display:block; font-weight:bold; width:250px; z-Index:'+(eK+202)+';'+bF+v+'" onClick="fc_chat.send_to('+u[i]+')" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)">'+k+z+kW(u[i])+jn(u[i])+'<div id="fc_gl'+gx[4]+'ico" style="display:'+l+';padding-top:1px;padding-bottom:3px"><a '+bU+'('+u[i]+');return false;" id="fc_gl'+gx[4]+'cam" style="display:'+m+';margin-left:3px;" title="'+co(33)+'"><img height="26px" align=absmiddle style="height:26px" SRC="'+eO+'video.gif" border=0></a>'+jr(u[i])+jt(u[i])+kX(u[i])+kY(u[i])+'</div></div>';bldOr(u[i],d,w);gx[4]++;gz[4]++}}}}else{if(a.s[u[i]].charAt(0)!=a.o[u[i]]||a.s[u[i]].charAt(4)!=a.b[u[i]]||a.s[u[i]].charAt(5)!=a.bg[u[i]]||a.s[u[i]].charAt(8)!=a.bs[u[i]]){jq(u[i]);if(a.pge[u[i]]!=''){var g=a.pge[u[i]].split('&');for(var j=0;j<g.length-1;j++){uE(u[i],g[j],2,0)}}if(a.ife[u[i]]!=null){var h=a.ife[u[i]].split('&');for(var j=0;j<h.length-1;j++){uE(u[i],h[j],3,0)}}if(u[i]==Y.cU){cUB(u[i])}if(gg>1){if(a.pe[u[i]]!=null){var x=a.pe[u[i]].split('&');for(var j=0;j<x.length-1;j++){uE(u[i],x[j],1,2)}}if(gt[7]!=0){if(a.ppe[u[i]]!=null){var y=a.ppe[u[i]].split('&');for(var j=0;j<y.length-1;j++){uE(u[i],y[j],1,7)}}}if(a.ge[u[i]]!=null){var A=a.ge[u[i]].split('&');for(var j=0;j<A.length-1;j++){uE(u[i],A[j],1,1)}}if(gt[6]!=0){if(a.gpe[u[i]]!=null){var B=a.gpe[u[i]].split('&');for(var j=0;j<B.length-1;j++){uE(u[i],B[j],1,6)}}}if(a.o[u[i]]=='1'){if(a.d[u[i]]==gb){if(a.de[u[i]]==null){aTC(u[i],3,'fc_dl')}else{uE(u[i],a.de[u[i]],0,3)}if(a.g[u[i]]==bl&&a.t[u[i]]=='1'){if(a.gre[u[i]]==''){aTC(u[i],4,'fc_gl');aRA(u[i],1)}else{uE(u[i],a.gre[u[i]],0,4)}}else{if(a.gre[u[i]]!=''){r_e('fc_chatmem',4,a.gre[u[i]],u[i]);aRA(u[i],0)}}}else{if(a.de[u[i]]!=null){r_e('fc_onl',3,a.de[u[i]],u[i]);if(a.gre[u[i]]!=''){r_e('fc_chatmem',4,a.gre[u[i]],u[i]);aRA(u[i],0)}}}}else{if(a.de[u[i]]!=null){r_e('fc_onl',3,a.de[u[i]],u[i]);if(a.gre[u[i]]!=''){r_e('fc_chatmem',4,a.gre[u[i]],u[i]);aRA(u[i],0)}}}if(a.pve[u[i]]!=''){uE(u[i],a.pve[u[i]],0,5)}}}else{if((a.s[u[i]].charAt(0)!=a.o[u[i]]||a.s[u[i]].charAt(1)!=a.d[u[i]]||iw(a.s[u[i]].substr(9))!=a.g[u[i]]||a.s[u[i]].charAt(3)!=a.t[u[i]])&&gg>1){if(a.o[u[i]]=='1'){if(a.d[u[i]]==gb){if(a.de[u[i]]==null){aTC(u[i],3,'fc_dl')}if(a.g[u[i]]==bl&&a.t[u[i]]=='1'){if(a.gre[u[i]]==''){aTC(u[i],4,'fc_gl');aRA(u[i],1)}}else{if(a.gre[u[i]]!=''){r_e('fc_chatmem',4,a.gre[u[i]],u[i]);aRA(u[i],0)}}}else{if(a.de[u[i]]!=null){r_e('fc_onl',3,a.de[u[i]],u[i]);if(a.gre[u[i]]!=''){r_e('fc_chatmem',4,a.gre[u[i]],u[i]);aRA(u[i],0)}}}}else{if(a.de[u[i]]!=null){r_e('fc_onl',3,a.de[u[i]],u[i]);if(a.gre[u[i]]!=''){r_e('fc_chatmem',4,a.gre[u[i]],u[i]);aRA(u[i],0)}}}if(a.pve[u[i]]!=''){uE(u[i],a.pve[u[i]],0,5)}}}}if(kz){var w=kH(u[i]);bldOr(u[i],e,w)}if(b=='0'){if(a.idl[u[i]]!=a.s[u[i]].charAt(7)){js(u[i],'idl')}if(a.ty[u[i]]!=a.s[u[i]].charAt(6)){js(u[i],'ty')}if(a.nk[u[i]]!=a.nko[u[i]]){ka(u[i])}if(a.tag[u[i]]!=a.tago[u[i]]){kf(u[i])}if(gg>1){if(a.av[u[i]]!=a.avo[u[i]]){iF(jGo.MD5.hex_md5(a.av[u[i]]),19);fc_ex.c_Av(u[i])}if(a.pr[u[i]]!=a.pro[u[i]]){fc_ex.c_Pr(u[i])}if(a.ttl[u[i]]!=a.ttlo[u[i]]){fc_ex.c_Ttl(u[i])}}if(a.vs[u[i]]!=a.vso[u[i]]){fc_chat.c_Vs(u[i])}}if(gg<2&&a.av[u[i]]!=a.avo[u[i]]){iF(jGo.MD5.hex_md5(a.av[u[i]]),19);T('img.fc_t'+u[i]+'avimg').attr({src:(a.av[u[i]].indexOf('/')==0)?a.av[u[i]].substr(1):Q.avatars_dir+a.av[u[i]]})}uRmC(u[i]);a.nko[u[i]]=a.nk[u[i]];a.tago[u[i]]=a.tag[u[i]];a.avo[u[i]]=a.av[u[i]];a.pro[u[i]]=a.pr[u[i]];a.ttlo[u[i]]=a.ttl[u[i]];a.vso[u[i]]=a.vs[u[i]];a.s[u[i]]=a.o[u[i]]+a.d[u[i]]+'0'+a.t[u[i]]+a.b[u[i]]+a.bg[u[i]]+a.ty[u[i]]+a.idl[u[i]]+a.bs[u[i]]+a.g[u[i]];a.u[u[i]]=0}if(b=='1'){hp[3]=gK.scrollHeight;gJ[eE]=getConts(c);hp[4]=gN.scrollHeight;jN(bl,d);var v=bM;for(var C in fY){if(fY.hasOwnProperty(C)){var k='';var l=dZ;var m=ea;var n='15';if(iQ(C)){m='inline';n='5'}var o=Q.avatars_dir+'default.gif';var p='inline';var q=bS;if(a.av[C]!=''&&a.av[C]!='default.gif'){o=a.av[C];o=(o.indexOf('/')==0)?o.substr(1):Q.avatars_dir+o}else{q+="background-color:#"+a.acl[C]+";"+hK}var r='<a id="fc_';var s='av" style="display:'+p+';margin-left:'+n+'px;" href=\"javascript:void\" ';a.pve[C]='fc_pl'+gx[5];var z=c_i(C,0,5);var t=fc_chat.uolnk(C,5);v=(gh==C?bO:bM);k='&nbsp;'+kj(C,5,0,1);var w='<div class="fc_'+C+'" id=fc_pl'+gx[5]+' style="display:block;font-weight:bold;width:250px;z-Index:'+(eK+202)+';'+bF+v+'" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)" onclick="fc_chat.send_to('+C+');fc_chat.clickPriv()">'+k+z+kW(C)+jn(C)+'<div id="fc_pl'+gx[5]+'ico" style="display:'+l+';padding-top:1px;padding-bottom:3px"><a '+bU+'('+C+');return false;" id="fc_pl'+gx[5]+'cam" style="display:'+m+';margin-left:3px;" title="'+co(33)+'"><img height="26px" align=absmiddle style="height:26px" SRC="'+eO+'video.gif" border=0></a>'+jr(C)+jt(C)+kX(C)+kY(C)+'</div></div>';bldOrPriv(C,f,w);gx[5]++;gz[5]++}}hp[5]=gQ.scrollHeight;gP[eE]=getConts(f)}if(kz){$('fc_t4')[eE]=getConts(e);$('fc_t6')[eE]=jG(0);kd();kz=0;kw=1}if(fY){fZ=fY;f=['','','','','',''];T("#fc_t3").html('');for(var C in fY){if(fY.hasOwnProperty(C)){bldOrPriv(C,f,kK(C))}}$('fc_t3')[eE]=getConts(f);fY=null}};function bldOr(u,b,c){var d=5;if(u==Y.uid){d=0}else if(a.ac[u]=='2'){d=1}else if(a.ac[u]=='1'){d=2}else if(a.ttl[u]!=''){d=3}else if(!(kZ(u))){d=4}b[d]+=c};function bldOrPriv(u,b,c){var d=2;if(a.o[u]=='1'&&!(kZ(u))){d=1}else if(a.o[u]=='1'){d=0}else if(a.o[u]=='0'&&kZ(u)){d=3}b[d]+=c};function getConts(a){return a[0]+a[1]+a[2]+a[3]+a[4]+a[5]};var js=function(u,b,c){var d=(((b=='idl'&&a.idl[u]=='1')||(b=='ty'&&a.ty[u]=='1'))?'inline':ea);if(c){d=c}T('.fc_'+u+b).css("display",d)};var jt=function(u,k){var b=bz.font.style.user_info_css;if(k==1){b=Z.online_box.text.user_info_css}else if(k==2){b=Z.friends_box.text.user_info_css}else if(k==3){b=bx.info_panel.user_info_css}var c=';'+b+';cursor:default;background-color:transparent;';var d=ea;if(a.idl[u]=='1'){d='inline'}var e=ea;if(a.ty[u]=='1'){e='inline'}var f=ea;if(a.tag[u]!=''){f='inline'}return'<span class="fc_'+u+'nick" style="'+c+';font-style:italic;">'+(kZ(u)?'&nbsp;'+co(1)+(a.nk[u]!=''?'&nbsp;('+a.nk[u]+')':'')+'&nbsp;&nbsp;':'')+'</span><span class="fc_'+u+'idl" style="display:'+d+c+'">&nbsp; '+co(126)+'...</span> <span class="fc_'+u+'ty" style="display:'+e+c+'">&nbsp; '+co(125)+'...</span><span class="fc_'+u+'tag" style="display:'+f+c+'">&nbsp; &bull;&nbsp;'+a.tag[u]+'&nbsp;&bull;&nbsp;</span>'};function unLockDom(){var a=0;for(var i=0;i<22;i++){a+=gk[i]-0}if(a==0){if(!hs&&!ht){l=false};if(fx!='0'){if(fx=='1'){tTC((gf=='1'?'0':'1'))}else if(fx=='2'){tCL('1')}else if(fx=='3'){rCG()}else if(fx=='4'){tCL('1')}fx='0'}}};function uE(u,b,c,k){var v;var d='';if(c<3){v=$(b)}else{try{v=$2(b);$2(b+'img').style.display=ea;if(v.className.substr(3)!=u){return true}}catch(err){}}if(k==5&&a.o[u]!='1'){js(u,'idl',ea)}var e=c_i(u,c,k);if(c==2){$(b+'img').style.display=ea}try{var f=/<\/a>/i;d=v[eE].split(f);if(d.length==2){v[eE]=e+d[1]}else if(d.length==3){v[eE]=d[0]+'</a>'+e+'</a>'+d[2]+'</a>'}else if(d.length==4){v[eE]=d[0]+'</a>'+e+'</a>'+d[2]+'</a>'+d[3]}else{v[eE]=e}}catch(err){}};function aTC(u,k,p){var z;if(k==3){z=c_i(u,0,k);a.de[u]=p+gx[k];nC(gJ,gK,k,p,u,z,0)}else if(k==4){if(!bn()){z=c_i(u,0,k);a.gre[u]=p+gx[k];nC(gM,gN,k,p,u,z,0)}}else if(k==5){z=c_i(u,0,k);a.pve[u]=p+gx[k];nC(gP,gQ,k,p,u,z,0)}else{fX[u]=p+gx[k];nC(he,he,k,p,u,a.snm[u],0)}};function nC(a,b,k,p,u,z,i){var c;var d;if(gz[k]!='0'&&i==1){d=$(p+(gx[k]-1))}c=document.createElement('div');c.className='fc_'+u;c.setAttribute('id',p+gx[k]);c.style.display=dZ;if(k>2){c.style.fontWeight='bold'}c.style.align='top';c.style.textAlign='left';c.style.width='250px';c.style.zIndex=eK+202;c.style.paddingTop='4px';c.style.paddingBottom='0px';c.style.borderBottom=bJ;if(k==5){c.style.backgroundColor=(gh==u?bO:bM);c.onmouseover=fc_ex.overSide;c.onmouseout=fc_ex.offSide;T(c).onEvent('click',fc_chat,'send_to',u);T(c).onEvent('click',fc_chat,'clickPriv','')}else if(k==6){c.onmouseover=fc_chat.overBlk;c.onmouseout=fc_chat.offBlk;c.onclick=fc_chat.clickBlk;c=fc_ex.mk_bL_div(c);z=' &nbsp;'+z}else{c.style.backgroundColor=(gh==u?bO:bM);c.onmouseover=fc_ex.overSide;c.onmouseout=fc_ex.offSide;T(c).onEvent('click',fc_chat,'send_to',u)}if(k>2&&k<6){var e='';var f=dZ;var g=ea;var h='15';if(iQ(u)){g='inline';h='5'}e='&nbsp;'+kj(u,k,0,1);c[eE]=e+z+kW(u)+jn(u)+'<div id="'+p+gx[k]+'ico" style="display:'+f+';padding-top:1px;padding-bottom:3px"><a '+bU+'('+u+');return false;" id="'+p+gx[k]+'cam" style="display:'+g+';margin-left:3px;" title="'+co(33)+'"><img height="26px" align=absmiddle style="height:26px" SRC="'+eO+'video.gif" border=0></a>'+jr(u)+jt(u,ea,ea)+kX(u)+kY(u)+'</div>'}else{c[eE]=z+jn(u)+jr(u)}scr(a,b,k,c,d,i,u);gx[k]++;gz[k]++};function c_i(u,b,k){var c;var d='&nbsp;';var e=(k>2&&k<6?'class="fc_onlinesp"':'class="fc_online"');var f=(k<=2||k==6||k==7?'font-weight:bold':'');var g=fc_chat.uolnk(u,k,(k>2&&k<6));var h='fc_u';var i=(b==1?'2':'');var j='javascript:void';if(k==0){i='3'}var l=jp(u,k);if(a.o[u]=='1'){h+='o';if(a.b[u]=='1'){h='fc_ublk'}}else{if(a.b[u]=='1'){h='fc_ublko'}}h+=i;if(b>1||u==Y.uid){l='margin-left:.'+(k>2&&k<6?'3':'2')+'em;'+l;e=(k>2&&k<6?'class="fc_onlinesp2"':'class="fc_online2"');d=''}else{h+=(b==1?' fc_a1':' fc_a2')}var m=(u==Y.uid&&b<2?'<small>':'');var n=(u==Y.uid&&b<2?'</small>':'');c=d+'<IMG SRC="'+U+'trans.gif" style="'+l+';margin-right:.3em;" '+e+'>'+m+'<a HREF="'+j+'" '+g+' class="'+h+'" style="'+f+'">'+a.snm[u]+'</a>'+n;return c};this.uolnk=function(u,k){var a=bT;return(Q.userbox_mode==1?'onMouseOver="clearTimeout(fc_chat.t2);setTimeout(\'fc_chat.show_user_chat(this,400,80,'+u+','+k+')\',2);" onmouseout="setTimeout(\'fc_chat.leavingUser()\',10);"':'onClick="'+a+'clearTimeout(fc_chat.t2);setTimeout(\'fc_chat.show_user_chat(this,400,80,'+u+','+k+')\',2);return false;" ')};var ju=function(b,c,k,u){if(k==3||k==4){if(u==Y.uid){if(k==3){b.insertBefore(c,b.firstChild)}else{T('#fc_groupType').after(c)}}else{if(kZ(u)){b.appendChild(c)}else{var d=(k==3?a.de[Y.uid]:a.gre[Y.uid]);if(d&&d!=''){T('#'+d).after(c)}else{if(k==3){b.insertBefore(c,b.firstChild)}else{T('#fc_groupType').after(c)}}}}}else if(k==5){b.insertBefore(c,b.firstChild)}else{b.appendChild(c)}};function scr(a,b,k,c,d,i,u){var s=b.scrollTop;if((i==1&&b.scrollHeight-s<b.clientHeight+50)||(i==0&&s!=0)){ju(a,c,k,u);if(i==1){b.scrollTop=b.scrollHeight-(hm?b.clientHeight+1:0);if(fd){setTimeout("fc_chat.delayScroll("+k+")",50)}io(b)}}else{ju(a,c,k,u)}if(eZ!=by.font.size){}if(fa!=by.font.color.default_text_color){}};function scr2(a,b,k,c){if(b.scrollHeight-b.scrollTop<b.clientHeight+50){a[eE]+=c;b.scrollTop=b.scrollHeight-(hm?b.clientHeight+1:0);if(fd){setTimeout("fc_chat.delayScroll("+k+")",50)}io(b)}else{a[eE]+=c}if(eZ!=by.font.size){}if(fa!=by.font.color.default_text_color){}};this.delayScroll=function(k){if(k==1){gE.scrollTop+=1000}else if(k==2){gH.scrollTop+=1000}else{T('#fc_view_msgs')[0].scrollTop+=1000}};function r_e(b,k,p,u){var s;var v=$(p);s=b.scrollTop;hp[k]=b.scrollHeight;if(b.scrollTop!='0'){v.parentNode.removeChild(v);if(eN){b.scrollTop-=b.scrollHeight-hp[k]}else{b.scrollTop=s-(b.scrollHeight-hp[k])}}else{v.parentNode.removeChild(v)}gz[k]--;if(k==3){delete a.de[u]}else if(k==4){a.gre[u]=''}else if(k==5){a.pve[u]=''}};this.change_Border_oD=function(a){gZ.style.border=cq;gZ.style.borderTop='0px';if(!a){gZ.style.borderTop=cq}};this.change_Border_sD=function(a){hb.style.border=bx.tools_panel.border;hb.style.borderTop='0px';if(!a){hb.style.borderTop=bx.tools_panel.border}};function move_box(a,b,c){if(a.style.position=='fixed'){c-=T(document).scrollTop()}a.style.left=b+'px';a.style.top=c+'px'};function s_d_s(a,b,t,l,w,h,c,d,e,f,g){a.className=f;a.style.display=b;a.style.position=(g?g:'absolute');if(t!=''){a.style.top=t+'px';a.style.left=l+'px'}a.style.width=w+'px';a.style.height=h+'px';a.style.border=c;a.style.backgroundColor=d;a.style.fontSize=e;a.style.overflow='auto'};function censor(a,b){if(a==bl){var c;var p;var d;if(b>=gs-gz[1]){c=b-(gs-gx[1]);p=$('fc_gmo'+c);d=$('fc_gm'+c)}else if((b>=gs-gz[1]-gt[6]*50)&&(b<gs-gz[1]-gt[6]*50+50)){c=b-(gs-gz[1]-gt[6]*50);if((gs-gz[1]-gt[6]*50)<0){c=b}p=$('fc_gpmo'+c);d=$('fc_gpm'+c);delete gu;gu=[]}else{delete gu;gu=[];return true}if(p){var v=p[eE];if(d){var e=v.substring(0,(v.indexOf('>:')+2));var f=v.substring((v.indexOf('<i ')));v=e+' '+co(119)+' '+f;p[eE]=v}else{var e=v.substring((v.indexOf('<i ')));v=co(119)+' '+e;p[eE]=v}}}};this.filt=function(w){if(!l){fi=fc_ex.filt(w,gt,gx[2],gh,Y.uid)}};this.imgFWrapper=function(){if(Q.upload_images_enabled&&!l){var a=V+"Upload."+Q.script_type+"?id="+Y.uid+"&dummy=true";fc_chat.createTopIFrame(a,2,0)}return false};this.avaFWrapper=function(){if(!l){var a=V+"Avatars."+Q.script_type+"?id="+Y.uid+"&dummy=true";fc_chat.createTopIFrame(a,3,0)}return false};this.t5=null;this.t6=null;var jv=function(){fc_ex.init(a,gB,gC,gE,gF,gH,gI,gK,gL,gN,gO,gQ,gR,gD,gG,gS,gT,gU,gV,gW,gY,hi,eJ,hj,hl,eG)};this.scriptLoaded=function(){cD=true;jv();if(cE==0){if(bj){bj=false;var a='';var b='07';if(fl[bm]&&fl[bm].l!=0){a=jGo.MD5.hex_md5(dW);b='39'}fT+=String.fromCharCode(10)+'000'+b+'4'+iu(bm,6)+a}hT()}else if(cE==1){l=false;if(fc_chat.ww2){fc_ex.initVideoChat(fc_chat.ww2,hQ,fc_chat.cvu_priv)}}cE=0};this.returnElementCoordinates=function(a){var b={};b.x=b.y=0;b.x=T(a).offset().left;b.y=T(a).offset().top-(T(a).css("position")=="fixed"?T(document).scrollTop():0);while(a=a.offsetParent);return b};function getWindowTop(a,b){var c;var d;if(a.scrollTop==0&&T(document).scrollTop()&&T(document).scrollTop()>0){d=T(document).scrollTop()}else{d=a.scrollTop}c=(true)?Math.max(50+d,d+Math.round((dg()-b)/2)):Math.max(50+d,mouseY-b+50);if(c<50){c=50}return c};function getWindowLeft(a,b){var c;var d;if(a.scrollLeft==0&&T(document).scrollLeft()&&T(document).scrollLeft()>0){d=T(document).scrollLeft()}else{d=a.scrollLeft}c=(true)?Math.max(100+d,d+Math.round((df()-b)/2)):Math.max(100+d,mouseX-b+50);if(c<100){c=100}else if(c>a.scrollWidth-(100+b)){c=a.scrollWidth-(100+b);if(c<100)c=100}return c};var jw=false;this.tgl_chatcenter=function(d,f,n){var g=(fc_chat.vidAcc>1?'':' '+co(32));var h=(Q.upload_images_enabled?"return fc_chat.createTopIFrame('"+V+"Upload."+Q.script_type+"?id="+Y.uid+"&dummy=true',2,0);":"");var i="return fc_chat.createTopIFrame('"+V+"Avatars."+Q.script_type+"?id="+Y.uid+"&dummy=true',3,0);";var j=df();var k;if(!bu&&$('fastcatchatentry')!=null){k=this.returnElementCoordinates($('fastcatchatentry'));if(((j-k.x)<d)&&((d-$('fastcatchatentry').offsetWidth)<k.x)){dU=k.x-(d-$('fastcatchatentry').offsetWidth)}else{dU=k.x}dT=k.y}else{k=this.returnElementCoordinates(hc);if(((j-k.x)<d)&&((d-hc.offsetWidth)<k.x)){dU=bw-(d-hc.offsetWidth)}else{dU=bw}dT=bv}var m=document.body;var o=document.documentElement;var p=(m.scrollHeight>=o.scrollHeight)?m:o;if(!cf){dT=getWindowTop(p,f)-40;dU=getWindowLeft(p,d)}iL(eH);fq(1);gp=0;kn();if(gf=='0'){fc_chat.close_boxes(1,gf)}if(jw){if((eG&&eG.frame[0].style.display==ea)||cw){if(!cw){tTC('0');eG.cN[0].style.display=dZ;eG.frame[0].style.display=dZ;move_box(eG.frame[0],dU,dT);move_box(eG.cN[0],dU+5,dT+40);if(hj){hi.style.display=dZ}setOverlay(.05)}gk[0]='3';gf='1';fc_chat.setPaused();fT="0000231";fx='2'}else{tCL('0');eG.frame[0].style.display=ea;eG.cN[0].style.display=ea;if(fc_chat.cvu_priv==null){fc_chat.closeVid()}if(hj){hi.style.display=ea}gk[0]='2';gf='0';jI();if(cJ==1){fc_chat.setPaused()}fT="0000230";fx='1'}return false}else{tTC('0');gk[5]='1';gk[0]='3';gf='1';fc_chat.setPaused();fT="0000231";fx='2'}var q=bx.widgets.text_icon_css;var r=hJ+";cursor:default";gB=document.createElement('div');gB.setAttribute('id','fc_bd');gB.className="jGo_app jGo_myapp";if(bx.background_image!=''){gB.style.backgroundImage='url('+eO+bx.background_image+')'}gB.style.display=dZ;gB.style.position='absolute';gB.style.overflow='hidden';gB.style.textAlign='left';gB.style.left=dU+'px';gB.style.top=dT+'px';gB.style.width=d+'px';gB.style.height=f+'px';gB.style.backgroundColor='transparent';gB.style.border=bx.border;var s="<div id='fc_gc' style='position:absolute;top:3px;left:5px;width:200px;height:20px;"+bQ+"'>"+co(12)+"</div>"+"<div id='fc_cl6'>"+"<a id='fc_cli6' href='javascript:fc_chat.clearMsgs(6);' onmouseover='getElementById(\"fc_e_cl6\").className=\"fc_e fc_e_cl2\"' onmouseout='getElementById(\"fc_e_cl6\").className=\"fc_e fc_e_cl\"'>"+"<span class='fc_e fc_e_cl' id='fc_e_cl6' title='"+co(18)+"' style='position:absolute;display:block;top:3px;left:"+(co(0,0,'chat_room_width')+14)+"px'></span>"+"</a>"+"</div>"+"<div id='fc_plmn6'>"+"<a id='fc_plmni6' href='javascript:fc_chat.toggleAlerts();'>"+"<span class='fc_e fc_e_pl' id='fc_e_pl6' title='"+co(19)+"' style='display: block;position:absolute;top:3px;left:"+(co(0,0,'chat_room_width')+29)+"px;'></span>"+"</a>"+"</div>"+"<div id='fc_top_info_outer' style='position:absolute;top:3px;left:"+(co(0,0,'chat_room_width')+50)+"px;width:"+(dn-(co(0,0,'chat_room_width')+50))+"px;height:18px;overflow:hidden'><div id='fc_top_info_inner' style='position:absolute;top:0px;left:0px;width:400px;height:18px;font-weight:bold;font-style:italic;"+bQ+"'></div></div>";var t="<div class='' style='position:absolute;top:"+(ej)+"px;left:5px;width:200px;height:20px;"+bQ+"'>"+co(14)+"</div>"+"<div id='fc_cl7'>"+"<a id='fc_cli7' href='javascript:fc_chat.clearMsgs(7);' onmouseover='getElementById(\"fc_e_cl7\").className=\"fc_e fc_e_cl2b\"' onmouseout='getElementById(\"fc_e_cl7\").className=\"fc_e fc_e_clb\"'>"+"<span class='fc_e fc_e_clb' id='fc_e_cl7' title='"+co(18)+"' style='display: block;position:absolute;top:"+(ej)+"px;left:"+(co(0,0,'private_chat_width')+12)+"px;'></span>"+"</a>"+"</div>"+"<div id='fc_flt' class = 'fc_cborder' style='position:absolute;top:"+(ej)+"px;left:"+(co(0,0,'private_chat_width')+42)+"px;'>"+"<a style='position:absolute;display:block;top:0px;left:0px' href='javascript:fc_chat.filt(1);'>"+"<span title='"+co(22)+"' class='fc_e fc_e_flt'></span>"+"</a>"+"</div>"+"<div id='fc_del'>"+"<a id='fc_dela' href='javascript:fc_chat.deletePrivateMsgs();' onmouseover='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del2\"' onmouseout='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del\"'>"+"<span class='fc_e fc_e_del' id='fc_e_del' title='"+co(21)+"' style='display: block;position:absolute;top:"+(ej)+"px;left:"+(co(0,0,'private_chat_width')+27)+"px;'></span>"+"</a>"+"</div>";gB[eE]="<div id='fc_bDbackup' style='position:relative;top:0px;left:0px;width:100%;height:100%;background-color:"+bx.background_color+"'></div>"+"<div id='fc_gco' style='position:absolute;top:0px;left:0px;'>"+(eb==1?t:s)+"</div>"+"<div id='fc_bck' style='display:none;position:absolute;top:3px;left:5px;height:20px;'><a style='"+bx.links.css+";' href='javascript:fc_chat.rem();'>&laquo;&laquo;"+co(13)+"</a></div>"+"<div id='fc_midsection' style='position:absolute;top:"+(ei)+"px;left:0px'>"+"<div id='fc_dragger' class='fc_drag' style='display: none; position: absolute;top: 4px;left: 8px;z-Index:"+(eK+600)+"; background-image: url("+eO+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: 16px; height:13px; background-position: -143px -88px;cursor:e-resize;'></div>"+"<div id='fc_dragger5' class='fc_drag' style='display:"+ef+";position: absolute;top: 2px;left:"+(dn-28)+"px;z-Index:"+(eK+600)+"; background-image: url("+eO+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: 30px; height:4px; background-position: -142px -140px;cursor:s-resize;'></div>"+"<div id='fc_gco' style='display:"+ef+";position:absolute;top:0px;left:0px;'>"+(eb==1?s:t)+"</div>"+"<IMG SRC='"+eO+"fastcatlogo.gif' id='fc_logo' border=0 style='position: absolute; top: "+er+"px; left: "+et+"px;"+hJ+"'>"+"<div id='fc_mic' style='position:absolute;top:"+er+"px;left:"+(et+18)+"px;width:90px;height:20px;"+bQ+"'>FCChat V3.0</div>"+"<div id='fc_bottom_info_outer' style='position:absolute;top:2px;left:"+(dn-33-co(0,0,'functions_bar_width'))+"px;width:"+co(0,0,'functions_bar_width')+"px;height:18px;overflow:hidden'>"+"<div id='fc_bottom_info_inner' style='position:absolute;top:0px;left:0px;width:370px;height:18px;'>"+"<span unselectable='on' id='fc_sign_in_out' style='"+bx.other_buttons.states.link_css+"'>&bull; "+"</span>"+"<span unselectable='on' id='fc_usrlist' style='display:"+(Q.show_user_list?'inline':'none')+";'>"+"<a unselectable='on' style='"+bx.other_buttons.states.link_css+"' href='javascript:void(0);' onclick='return fc_chat.tgl_info_panel(\"userlist\")' target=_blank>"+co(373,'User List')+"</a>&nbsp;&nbsp;"+"</span>"+"<span unselectable='on' id='fc_exit_room2' style='display:"+(eb==1?'none;':'inline;')+bx.other_buttons.states.link_css+";"+bx.chatrooms_panel.exit_room_link_disabled_css+"'>"+co(395,'Exit Room')+"</span>"+"</div>"+"</div>"+"</div>"+"<div  id='fc_widgets' style='position:absolute;top:"+(fc_chat.bottom_section+Y.window_height_offset)+"px;left:5px;height:16px;'>"+"<a id='fc_bld' style='margin-left:1px' href=\"javascript:fc_chat.insertTags(\'"+co(37)+"\',\'"+co(37)+"\',\' "+co(23)+" \',1);\" border=0>"+"<img title='"+co(23)+"' style='"+q+"' id='fc_e_bld' src='"+eO+"text_bold.png'>"+"</a>"+"<a id='fc_it' style='margin-left:1px' href=\"javascript:fc_chat.insertTags(\'"+co(38)+"\',\'"+co(38)+"\',\' "+co(24)+" \',1);\" border=0>"+"<img title='"+co(24)+"' style='"+q+"' id='fc_e_it' src='"+eO+"text_italic.png'>"+"</a>"+"<a id='fc_uln' style='margin-left:1px' href=\"javascript:fc_chat.insertTags(\'"+co(39)+"\',\'"+co(39)+"\',\' "+co(25)+" \',1);\" border=0>"+"<img title='"+co(25)+"' style='"+q+"' id='fc_e_uln' src='"+eO+"text_underline.png'>"+"</a>"+"<a id='fc_img' style='margin-left:2px' href=\"javascript:fc_chat.insertTags(\'[[\',\']]\',\'"+co(36)+"\',1);\" border=0>"+"<img title='"+co(26)+"' id='fc_e_img' src='"+eO+"image_1.png'>"+"</a>"+"<a class='fc_tools_a' style='margin-left:2px' href=\"javascript:void\" onclick=\"return fc_chat.tgl_tools(0,"+bx.tools_panel.smileys.width+","+bx.tools_panel.smileys.height+")\">"+"<img id='fc_e_sml' src='"+eO+"emoticon_smile.png'>"+"</a>"+"<a id='fc_vid' style='margin-left:1px"+(fc_chat.vidAcc>1?"":r)+"' href='javascript:fc_chat.launchVideoChat(0)'>"+"<img title='"+co(31)+g+"' id='fc_e_vid' src='"+eO+"webcam.png'>"+"</a><div style='position:absolute;top:0px;left:107px;'><a title='"+co(303,"more")+"' style='"+bx.widgets.more_icon_css+"' class='fc_tools_a' href=\"javascript:void\" onclick=\"return fc_chat.tgl_tools(1,"+bx.tools_panel.icons.width+","+bx.tools_panel.icons.height+")\">"+"&raquo;&raquo</a></div>"+"<div id='fc_msg_to_outer' style='position:absolute;top:1px;left:125px;width:"+(dn-165)+"px;height:18px;overflow:hidden'><div id='fc_msg_to' style='position:absolute;top:0px;left:0px;width:400px;height:18px;'></div></div>"+"</div>"+"<div id='fc_dragger4' class='fc_drag' style='display: block; position: absolute;top: "+eu+"px;left: "+(dn-27)+"px;z-Index:"+(eK+600)+"; background-image: url("+eO+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: 30px; height:4px; background-position: -142px -140px;cursor:s-resize;'></div>"+"<br><br>";var u=bP+";font-size:"+(bx.text.font.size-2)+"px;";gC=document.createElement('div');gC.setAttribute('id','fc_bD0');gC.style.display=dZ;gC.style.position='absolute';gC.style.width=dJ+'px';gC.style.height=Y.chat_window_height+'px';gC.style.zIndex=eK+200;gC.style.top='0px';gC.style.left=dK+'px';gC.style.backgroundColor='transparent';gC[eE]=""+"<div style='position:absolute;top:3px;left:3pxwidth:"+dL+"px;height:12px;'><span style='"+u+"'>"+co(15)+"</span></div>"+"<div id='fc_ce_g' style='position:absolute;top:"+(23+Math.floor((dI+dE)/2))+"px;left:3px;width:"+dL+"px;height:12px;'><span style='"+u+"'>"+co((eb==1?17:16))+"</span></div>"+"<div id='fc_ce_go' style='position:absolute;top:"+(24+Math.floor((dI+dE)/2))+"px;left:3px;width:"+dL+"px;height:18px;'></div>"+"<div id='fc_dragger3' class='fc_drag' style='display: block; position: absolute;top: "+(24+Math.floor((dI+dE)/2))+"px;left: "+dM+"px;z-Index:"+(eK+600)+"; background-image: url("+eO+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: 30px; height:4px; background-position: -142px -140px;cursor:s-resize;'></div>"+"<div id='fc_midsection2' style='position:absolute;top:"+ek+"px;left:0px'>"+"<div style='display:"+ef+";position:absolute;top:21px;left:3px;width:"+dL+"px;height:12px;'><span style='"+u+"'>"+co(17)+"</span></div>"+"<div id='fc_op1' style='position: absolute;top: 1px; left: 10px;'>"+"<div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+ez+"</a></div>"+"</div>"+"<div id='fc_hlp' style='display:"+(Q.show_help_button?'block':'none')+";position:absolute;top:1px;left: "+(dO+co(0,0,'help_offset'))+"px'>"+"<div class='fc_obtn'>"+"<a href='"+Q.help_link+"' target=_blank>"+co(7)+"</a>"+"</div>"+"</div>"+"<div id='fc_tgl1' style='"+(cf?"display:none;":"")+"position: absolute; top:1px; left: "+(dP+co(0,0,'close_offset'))+"px;'>"+"<div class='fc_obtn_dis'><a class='fc_obtn_disa'>"+co(8)+"</a></div>"+"</div>"+"</div>"+"<div id='fc_bottomsection' style='position:absolute;top:"+(dR+Y.window_height_offset)+"px;left:0px;width:"+dJ+"px'>"+"<div id='fc_sg1' style='display:"+eg+";position: absolute;top: 4px; left: 5px;'>"+"<div class='fc_srbtn_dis'><a class='fc_srbtn_disa'>"+co(10)+"</a></div>"+"</div>"+"<div id='fc_sp1' style='display: block; position: absolute;top: "+ew+"px; left: 5px;'>"+"<div class='fc_spbtn_dis' ><a class='fc_spbtn_disa' "+ex+">"+co(11)+"</a></div>"+"</div>"+"<div id='fc_dragger2' class='fc_drag' style='display: none; position: absolute;top: 42px;left: "+dN+"px;z-Index:"+(eK+600)+"; background-image: url("+eO+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: 16px; height: 16px; background-position: -143px -102px;'></div>"+"</div>"+"<br><br>";gE=document.createElement('div');s_d_s(gE,eg,'18','5',dn,en,by.chat_room_panel.border,'transparent',by.font.size,'fc_d1');if(hn){gE.style.overflow='hidden'}if(hl){gD=document.createElement('div');s_d_s(gD,eg,'0','0',dn,'','','transparent',by.font.size,'fc_d1');gD.style.overflow='hidden'}else{gD=gE}gF=document.createElement('div');s_d_s(gF,eg,'18','5',dn,en,by.chat_room_panel.border,by.chat_room_panel.background_color,by.font.size,'fc_d1');if(by.chat_room_panel.background_image!=""){gF.style.background="url("+eO+by.chat_room_panel.background_image+")"}gY=document.createElement('div');gY.setAttribute('id','fc_it1');gY.style.display=ea;gY.style.position='absolute';gY.style.width=dn+'px';gY.style.height=(dm+dE)+'px';gY.style.zIndex=eK+503;gY.style.top='18px';gY.style.left='5px';gH=document.createElement('div');s_d_s(gH,eh,el,'5',dn,em,by.private_chat_panel.border,'transparent',by.font.size,'fc_d1');if(hn){gH.style.overflow='hidden'}if(hl){gG=document.createElement('div');s_d_s(gG,eh,'0','0','','','','transparent',by.font.size,'fc_d1');gG.style.overflow='hidden'}else{gG=gH}gI=document.createElement('div');s_d_s(gI,eh,el,'5',dn,em,by.private_chat_panel.border,by.private_chat_panel.background_color,by.font.size,'fc_d1');if(eb==0){if(by.private_chat_panel.background_image!=""){gI.style.background="url("+eO+by.private_chat_panel.background_image+")"}}else{if(by.private_chat_panel.msgcenter_background_image!=""){gI.style.background="url("+eO+by.private_chat_panel.msgcenter_background_image+")"}}gG[eE]="<IMG id='fc_img7' SRC='"+U+"trans.gif' height=1 width=30 style='background-color: transparent;'>";ed=(eb==1?gH:gE);ec=(eb==1?gG:gD);ec[eE]='<div style="background-color:transparent;width:'+dn+'px">'+eT(co(120),1)+'</div>';gK=document.createElement('div');gK.setAttribute('id','fc_onl');s_d_s(gK,dZ,'18','3',dL,Math.floor((dI+dE)/2),bz.border,'transparent',bz.font.size,'fc_d2');gK[eE]="";gL=document.createElement('div');s_d_s(gL,dZ,'18','3',dL,Math.floor((dI+dE)/2),bz.border,bK,bz.font.size,'fc_d2');gN=document.createElement('div');gN.setAttribute('id','fc_chatmem');s_d_s(gN,eg,38+Math.floor((dI+dE)/2),'3',dL,eq,bz.border,'transparent',bz.font.size,'fc_d2');gN[eE]="";gO=document.createElement('div');s_d_s(gO,eg,38+Math.floor((dI+dE)/2),'3',dL,eq,bz.border,bK,bz.font.size,'fc_d2');gQ=document.createElement('div');gQ.setAttribute('id','fc_priv');s_d_s(gQ,eh,eo,'3',dL,ep,bz.border,'transparent',bz.font.size,'fc_d2');gQ[eE]="";gR=document.createElement('div');s_d_s(gR,eh,eo,'3',dL,ep,bz.border,bK,bz.font.size,'fc_d2');gS=document.createElement('div');gS.setAttribute('id','fc_chat_arc');gS[eE]="";gS.style.zIndex=eK+201;gT=document.createElement('div');gT.setAttribute('id','fc_priv_arc');gT.style.zIndex=eK+201;gT[eE]="";gU=document.createElement('div');gU.setAttribute('id','fc_userlist');gU[eE]="";gU.style.zIndex=eK+201;gV=document.createElement('div');gV.setAttribute('id','i8');s_d_s(gV,dZ,'0','0','423',f,"",'black',by.font.size,'fc_d1');gV.style.zIndex=eK+700;gV[eE]="";if(hl){gJ=document.createElement('div');gJ.setAttribute('id','fc_onl_in');s_d_s(gJ,dZ,'0','0','250','','','transparent',bz.font.size,'fc_d2');gJ[eE]="";gJ.style.overflow='hidden';gM=document.createElement('div');gM.setAttribute('id','fc_chatmem_in');s_d_s(gM,dZ,'0','0','250','','','transparent',bz.font.size,'fc_d2');gM[eE]="";gM.style.overflow='hidden';gP=document.createElement('div');gP.setAttribute('id','fc_priv_in');s_d_s(gP,dZ,'0','0','250','','','transparent',bz.font.size,'fc_d2');gP[eE]="";gP.style.overflow='hidden';s_d_s(gS,ea,'0','0','','','','transparent',by.font.size,'fc_d1');gS.style.overflow='hidden';s_d_s(gT,ea,'0','0','','','','transparent',by.font.size,'fc_d1');gT.style.overflow='hidden';s_d_s(gU,ea,'0','0',dn-20,'','',bx.info_panel.background_color,by.font.size,'fc_d2');gU.style.overflow='hidden'}else{gJ=gK;gM=gN;gP=gQ;s_d_s(gS,ea,'18','5',dn,dm+dE,by.chat_room_panel.border,'transparent',by.font.size,'fc_d1');s_d_s(gT,ea,el,'5',dn,em,by.private_chat_panel.border,'transparent',by.font.size,'fc_d1');s_d_s(gU,ea,'18','5',dn,ey,by.chat_room_panel.border,bx.info_panel.background_color,by.font.size,'fc_d2')}Y.infoChatBox=Y.createWidget('InfoBox',[T(gB),cS,false]);gW=document.createElement('textarea');gW.className='fc_txt';gW.setAttribute('id','fc_chat');gW.style.display=dZ;gW.style.position='absolute';gW.style.top=(fc_chat.bottom_section+18+Y.window_height_offset)+'px';gW.style.left='5px';gW.style.width=dq+'px';gW.style.height=bx.send_chat_panel.height+'px';gW.onkeypress=fc_chat.oKD2;gW.onkeydown=fc_chat.oKD;gW.onfocus=fc_chat.oF;if(hl){gE.appendChild(gD);gE.appendChild(gS);gH.appendChild(gG);gH.appendChild(gT);gK.appendChild(gJ);var v=(eb==1?gH:gE);v.appendChild(gU);gN.appendChild(gM);gQ.appendChild(gP)}else{gB.appendChild(gS);gB.appendChild(gT);gB.appendChild(gU)}gC.appendChild(gL);gC.appendChild(gK);gC.appendChild(gO);gC.appendChild(gN);gC.appendChild(gR);gC.appendChild(gQ);gB.appendChild(gF);gB.appendChild(gE);gB.appendChild(gY);gB.appendChild(gI);gB.appendChild(gH);gB.appendChild(gV);gB.appendChild(gW);gB.appendChild(gC);gB.style.left='0px';gB.style.top='0px';gB.style.borderLeft='0px';gB.style.borderTop='0px';var w='1px solid #444444';var x=Q.styles.chat_window.frame;var y=!cf&&!hj&&Q.pin_windows;var z=y&&Q.pinned_by_default;eG=this.createWidget('DefaultWindow',["<span style='"+x.title_css+"'>"+(eb==1?co(388,'MsgCenter'):co(151))+"</span>",dU,dT-(z?T(document).scrollTop():0),d,f,'default',x.color,(x.opacity*100),w,'e3e3e3','','element',gB,false,(cf?false:true),X,co(154),co(155),co(156),co(157),co(315,"pin to screen"),co(316,"unpin"),y,z]);eG.mH=dl+45;eG.MH=dk+45;eG.MW=10000;eG.shieldOnDrag=true;if(jGo.browser.browser=='Firefox'){eG.maxOpacity=.9999;eG.cA.css({opacity:.9999})}if(cf){eG.eventsEnabled=false};eG.onMouseDown=function(e){if(!l){if(jGo.scripts.loadState('jGo.DefaultWindow.ext.min.js')=='loaded'){this.getDefault().onMouseDown.call(this,e)}}};eG.raiseDragShield=function(){if(!l){this.getDefault().raiseDragShield.call(this);if(fv){Y.oD.style.display=ea;if(hj){Y.oIF.style.display=ea}}fv=false;if(hj){hi.style.display=ea}}};eG.lowerDragShield=function(){if(!l){this.getDefault().lowerDragShield.call(this);if(hj){hi.style.display=dZ}}};eG.minimize=function(){if(!l){this.getDefault().minimize.call(this);var a=eG.getBorderElements();var b=$("jGo_dragbm"+eG.id);T(b).css("cursor","default");b.setAttribute("id","jGo_fixbm"+eG.id);if(fv){Y.oD.style.display=ea;if(hj){Y.oIF.style.display=ea}}fv=false;if(hj){hi.style.display=ea}}};eG.restore=function(){if(!l){this.getDefault().restore.call(this);var a=$("jGo_fixbm"+eG.id);T(a).css("cursor","");a.setAttribute("id","jGo_dragbm"+eG.id);if(hj){hi.style.display=dZ}}};eG.moveWindow=function(){if(!l){this.getDefault().moveWindow.call(this,arguments[0],arguments[1])}};eG.onMouseMoveResizeR=function(e){};eG.onMouseMoveResizeB=function(e){};eG.onMouseMoveResizeBR=function(e){};eG.maximize=function(){if(!l){fc_chat.toggleHide();eG.lock=false}};eG.togglePin=function(){var a=T('#fc_alertbox');var b=(eG.fixed?"absolute":"fixed");var c=(!eG.fixed?-jGo.$(document).scrollTop():0);if(Y.oD!=null){T(Y.oD).css({"position":b,"top":T(Y.oD).offset().top+c-9+'px'})}if(a[0]!=null){a.css({"position":b,"top":a.offset().top+c+'px'})}this.getDefault().togglePin.call(this)};eG.close=function(){fc_chat.open_chat_box();return false};eG.destroy=function(){return false};eG.cN.css({'background-color':'transparent'});var A='jGo_fix';var B=eG.getBorderElements();B[3].setAttribute("id",A+"rl"+eG.id);B[5].setAttribute("id",A+"bl"+eG.id);T(B[3]).css("cursor","default");T(B[5]).css("cursor","default");eG.resizable=false;T('#fc_bDbackup').css('opacity',bx.opacity);T(gF).css(by.chat_room_panel.css);T(gI).css(by.private_chat_panel.css);T(gO).css('opacity',bz.opacity);T(gL).css('opacity',bz.opacity);T(gR).css('opacity',bz.opacity);setOverlay(.05);cl();gW.value=co(35);gX=1;Y.img7=$('fc_img7');eJ=$('fc_ce_g');if(hj){hi=document.createElement("IFRAME");hi.className="jGo_app jGo_myapp";hi.frameBorder="0";hi.style.position='absolute';hi.style.scrolling='no';hi.style.zIndex=eK+99;hi.style.width=gB.style.width;hi.style.height=gB.style.height;hi.style.backgroundColor='transparent';hi.style.display=dZ;hi.style.top='30px';hi.style.left='5px';eG.cA[0].appendChild(hi)}hp[1]=gE.scrollHeight;jw=true;return false};function clrOverlay(){T(gV).css({display:"none","background-color":"transparent"})};function setOverlay(a){T(gV).css({display:"block","border-radius":"0px",width:gB.style.width,height:gB.style.height,"background-color":"black",opacity:a})};var jx;this.omc;this.tgl_options=function(b){if(!b)b=0;var c=(Y.m==0&&!cf);var d=0;var e=Y.optionsTop;d=T(gC).offset().left-du;e+=T(gC).offset().top+45;var f="fc_oD";var g=(Y.m==0?'checked':'');var h=(Y.m==1?'checked':'');var i=(fk==1?'checked':'');var j=(fk==0?'checked':'');Y.oD=$(f);var k='';if(Y.tPC!=null){Y.tPC.style.display=ea;if(hj){Y.tPB.style.display=ea}}fw=false;if(Y.oD!=null){if(Y.oD.style.display==ea){jx.target.removeEventHandler('mousedown');jx.target=T('*.fc_options_a');jx.target.onEvent('mousedown',jx,'mouseOn','');if(jGo.browser.browser=='Opera'){disableScroll(0)}move_box(Y.oD,d,e);T(Y.oD).fadeIn(b);if(hj){move_box(Y.oIF,d,e);Y.oIF.style.display=dZ}gz[6]=0;for(var l in fX){if(fX.hasOwnProperty(l)){k+='<div class="fc_'+l+'" id=fc_bl'+gx[6]+' style="display:block; text-align:left;width:250px; z-Index:'+(eK+202)+';padding-top:2px;padding-bottom:2px;border-bottom:'+bB.separator+';background-color:'+bB.background_color+';'+bB.font_css+'" onMouseOver="this.style.backgroundColor=\''+bB.hover_color+'\';" onMouseOut="fc_chat.offBlk2(this)" onCLick="fc_chat.clickBlk2(this)"> &nbsp;'+a.snm[l]+'</div>';fX[l]='fc_bl'+gx[6];gx[6]++;gz[6]++}}hp[6]=he.scrollHeight;he[eE]=k;fv=true;if(jGo.browser.browser=='Explorer'){setTimeout("fc_chat.change_Border_oD(false)",200)}}else{if(jGo.browser.browser=='Opera'){disableScroll(1)}fv=false;if(gj!='0'){var m=$('fc_r');m[eE]="<div class='fc_blkbtn_dis' ><a class='fc_blkbtn_disa'>"+co(135)+"</a></div>"}gj='0';T(Y.oD).fadeOut(b);if(hj){Y.oIF.style.display=ea}}T("#fc_op_nm").html(a.snm[Y.uid]);return false}var n=fc_ex.oD(f,du,dv,eK,cq,g,h,i,j,cO,cM,hj);Y.oD=n[0];gZ=n[1];ha=n[2];document.body.appendChild(Y.oD);T(Y.oD).fadeIn(b);move_box(Y.oD,d,e);if(hj){Y.oIF=fc_ex.oIF(eK,gZ);document.body.appendChild(Y.oIF);move_box(Y.oIF,d,e)}var o=bB.background_color;var p=bB.border;hf=document.createElement('div');s_d_s(hf,dZ,'','','45','60',p,o,'7pt','fc_d3','');$('fc_opcnt1').appendChild(hf);hf[eE]=fc_ex.i4o(eZ,eK);he=document.createElement('div');s_d_s(he,dZ,'','','130','85',p,o,'7pt','fc_d3','');he[eE]="";$('fc_opcnt3a').appendChild(he);T([he,hf]).css({'overflowX':'hidden','-moz-border-radius':'5px','-webkit-border-radius':'5px','border-radius':'5px'});gz[6]=0;for(var l in fX){if(fX.hasOwnProperty(l)){k+='<div class="fc_'+l+'" id=fc_bl'+gx[6]+' style="display:block; text-align:left; width:250px; z-Index:'+(eK+202)+';padding-top:2px;padding-bottom:2px;border-bottom:'+bB.separator+';background-color:'+bB.background_color+';'+bB.font_css+'" onMouseOver="this.style.backgroundColor=\''+bB.hover_color+'\';" onMouseOut="fc_chat.offBlk2(this)" onCLick="fc_chat.clickBlk2(this)"> &nbsp;'+a.snm[l]+'</div>';fX[l]='fc_bl'+gx[6];gx[6]++;gz[6]++}}hp[6]=he.scrollHeight;he[eE]=k;if(jx){jx.disableControl()}jx=new jGo.DefaultMenuController('fc_opt_cont','*.fc_options_a',Y.oD,fc_chat,'tgl_options');this.omc=jx;fv=true;T("#fc_op_nm").html(a.snm[Y.uid]);setTimeout("fc_chat.change_Border_oD(false)",200);if(jGo.browser.browser=='Opera'){disableScroll(0)}return false};var jy=null;var jz=function(){Y.tPC.style.display=ea;if(hj){Y.tPB.style.display=ea}};var jA;var jB=function(a){var b=a.replace(/%26/g,'&').replace(/%25/g,'%').split('>');jA=iw(b[0]);for(var i=0;i<b.length-1;i=i+10){var j=iw(b[i]);fl[j]={};fl[j].next=(i+10<b.length-1?iw(b[i+10]):null);jD(i,j,b)}};var jC=function(a,b){if(!fl)return;var c=a.replace(/%26/g,'&').replace(/%25/g,'%').split('>');for(var i=0;i<c.length-1;i=i+10){var d=0;var e=0;var f=iw(c[i]);if(!fl[f]){d=1;e=1;fl[f]={}}else{var g=parseInt(c[i+9],16);if(!((g&hG[1])==hG[1])){e=2}}if(e!=2){jD(i,f,c,e)}var h=iw(c[i+1]);var k=jA;if(h!=0&&e!=1){var l=1;while(true){var m=fl[k].next;if(m==f){break}l++;k=m}if(l!=h||e==2){d=1;fl[k].next=fl[f].next}}if(d==1&&e!=2){k=jA;for(var j=0;j<h-1;j++){m=fl[k].next;if(m==null){break}k=m}fl[f].next=fl[k].next;fl[k].next=f}var n;var o;if(e==1){n=T(document.createElement('div'));n.attr('id','fc_grpo1'+f);o=T(document.createElement('div'));o.attr('id','fc_grpo0'+f)}else{n=T('#fc_grpo1'+f);o=T('#fc_grpo0'+f)}if(e!=2){n.html(jE(f,1));o.html(jE(f,0));if(fl[f].next!=null){T('#fc_grpo1'+fl[f].next).before(n);T('#fc_grpo0'+fl[f].next).before(o)}else{T('div.fc_roomlist1').append(n);T('#fc_t6').append(o)}}else{n.remove();o.remove()}if(e==2){delete fl[f]}if(bl==f){if(e==0){T('span.fc_room_name').html(fl[f].nm)}else if(e==2){fc_chat.closeRoom()}}if(b=='2'){jH()}}};var jD=function(i,j,a,k){fl[j].nm=a[i+2];fl[j].dsc=a[i+3];if(k!=0){fl[j].lastMsg={id:a[i+4],username:a[i+5],datetime:a[i+6],message:a[i+7]};var b=(k==1?0:a[i+8]);fl[j].baseMsgCount=b;fl[j].lastMsgCount=b;fl[j].msgCount=b}var c=parseInt(a[i+9],16);fl[j].l=((c&hG[3])==hG[3]?1:0);fl[j].v=((c&hG[4])==hG[4]?1:0);fl[j].d=((c&hG[5])==hG[5]?1:0)};var jE=function(j,b){var c=(b?bC:bD);var d=c.selected_color;var e="";var f="";var g=c.room_name_font_css;var h=j;if(h!=bl||gf=='0'){d=c.background_color}if(fl[j].l==1){e="<img src='"+eO+"lock.png' height='16px' style='height: 16px; width: 16px;' align=absmiddle>&nbsp;"}if(fl[j].v==0&&fc_chat.vidAcc>1&&Q.show_a_v_icon){f='<span>'+co(85)+'</span>&nbsp;'}if(fl[j].d==1){g=c.disabled_room_name_font_css}var i='';for(var k in a.g){if(a.g.hasOwnProperty(k)){if(a.g[k]==h&&a.o[k]=='1'&&a.t[k]=='1'){i+=jF(k,b,h)}}}var l='none';var m='';if(fl[j].msgCount!='0'){l='inline';m=cdt(fl[j].lastMsg.datetime,0,1)}var n=fl[j].msgCount-fl[j].baseMsgCount;if(fm[j]){if(fm[j]>fl[j].msgCount){fm[j]=fl[j].msgCount}n+=fm[j]}var o=c.room_passwords;var p='style="display:none;'+g+'">&nbsp;<a href="javascript:void" onclick="'+bT;return'<div  class="fc_grpt'+b+' fc_grp'+h+'" id="fc_grp'+b+h+'" style="border-bottom:'+c.separator+';z-Index:'+(eK+202)+';background-color:'+d+'" onMouseOver="fc_chat.overGrp(this);" onMouseOut="fc_chat.offGrp(this);" '+(open_chatrooms_in_window?'':'onClick="fc_chat.c_g(this);"')+'>'+'<div style="padding-top:10px;padding-bottom:10px;margin-left:3px;text-align:left;">'+(open_chatrooms_in_window?'<a style="cursor:default;text-decoration:none" onclick="fc_chat.openPopup();" target=_blank href="'+W+'?rmid='+h+'" >':'')+'<div style="cursor:default;'+g+'">'+e+'<span style="cursor:default;'+g+'">'+fl[j].nm+'</span>'+'<span class="fc_rms'+j+'" style="cursor:default;'+c.count_font_css+'">&nbsp;('+gy[j-0]+')'+'</span>&nbsp;'+(fl[j].dsc!=''?'<span style="cursor:default;'+c.font_css+'">'+fl[j].dsc+'</span>':'')+'<br>'+(fl[j].l==1?'<div class="fc_locked_room" id="fc_locked_room'+b+h+'" style="display:none"><input onclick="'+bT+'" id="fc_rpass'+b+h+'" onkeypress="fc_chat.sendOnEnter(this,\'c_gL\',event,'+b+','+h+')" type=password name=password style="margin:10px 0px 5px 0px;width:120px;'+o.textfield_css+'" maxlength="15">&nbsp;<span style="'+o.font.textfield_description_css+'">'+co(90)+'</span>&nbsp;&nbsp;&nbsp;<span id="fc_passtxt'+b+h+'"></span></div>':'')+f+(!Q.no_chat_history?'<span style="cursor:default;'+c.font_css+'" class="fc_msg_count'+h+'">'+co(396,'Msgs: ')+fl[j].msgCount+'&nbsp;</span>':'')+'<span style="cursor:default;'+c.font_css+'" class="fc_new_msg_count'+h+'">'+co(397,'New: ')+(n)+'</span><br>'+(!Q.no_chat_history?'<span style="cursor:default;'+c.font_css+';display:'+l+'" class="fc_last_msg'+h+'">'+co(398,'Last update ')+m+co(399,' by ')+iS(it(fl[j].lastMsg.username.split('&')[0]),'')+'</span>':'')+'</div>'+(open_chatrooms_in_window?'</a>':'')+'<span class="fc_edit_room'+b+'" '+p+'fc_chat.tgl_info_panel(\'createedit\',1,\''+j+'\');return false">'+co(86)+'</a></span>'+(j==jA?'':'<span class="fc_delete_room'+b+'" '+p+'fc_chat.admin_delete_room(\''+j+'\');return false">'+co(87)+'</a></span>')+'<span class="fc_clear_room'+b+'" '+p+'fc_chat.admin_clear_room(\''+j+'\');return false">'+co(88)+'</a></span>'+'<div style="margin-top:2px;" class="fc_room_members'+b+h+'" >'+i+'</div>'+'</div>'+'</div>'};var jF=function(b,n,c){var d=(n?fc_chat.uolnk(b,1,1):'onclick=\''+bT+'return fc_chat.toggleMenu(this,'+b+',"u1");\'');return'<span class="fc_rmid'+b+''+c+'" style="">'+kA(15)+kj(b,null,0,1,2,null,15)+'&nbsp;<a style="text-decoration:none" title="'+a.snm[b]+': '+co(282,"Click for options")+'" href="javascript:void" '+d+'>'+a.snm[b]+'</a>&nbsp;</span>'};var jG=function(a){var b=(a?bC:bD);var c='';var j=jA;while(true){var d=j;c+='<div id="fc_grpo'+a+d+'" '+(Q.chatcenter_layout==1?'style="display:none"':'')+'>'+jE(j,a)+'</div>';j=fl[j].next;if(!j){break}}return(Q.chatcenter_layout==1?"<div style='padding:10px;"+b.room_name_font_css+"'>"+co(390,"Not In Use")+"</div>"+c:c)};var jH=function(){if(gc=='2'&&Q.chatcenter_layout==0){T("span.fc_create_room1").css({display:"inline"});T("span.fc_edit_room1").css({display:"inline"});T("span.fc_delete_room1").css({display:"inline"});T("span.fc_clear_room1").css({display:"inline"})}};this.overGrp=function(v){var a=(T(v).hasClass('fc_grpt1')?bC:bD);v.style.backgroundColor=a.hover_color};this.offGrp=function(v){var a=(T(v).hasClass('fc_grpt1')?bC:bD);v.style.backgroundColor=((T(v).hasClass('fc_grp'+fc_chat.get('current_room'))&&gf=='1')?a.selected_color:a.background_color)};var jI=function(){jL(0);T('#fc_grp0'+bl).css('backgroundColor',bD.background_color)};var jJ=function(a,b){T('#fc_grp0'+a).css('backgroundColor',bD.background_color);T('#fc_grp1'+a).css('backgroundColor',bC.background_color);T('#fc_grp0'+b).css('backgroundColor',bD.selected_color);T('#fc_grp1'+b).css('backgroundColor',bC.selected_color)};function uRmC(i){var b=a.g[i];var c=iw(a.s[i].substr(9));if(a.t[i]==a.s[i].charAt(3)){if(b!=c&&a.t[i]=='1'){gy[b]++;T('div.fc_room_members1'+b).prepend(jF(i,1,b));T('div.fc_room_members0'+b).prepend(jF(i,0,b));gy[c]--;T('span.fc_rmid'+i+''+c).remove();gA=true}}else{if(a.t[i]=='1'){gy[b]++;T('div.fc_room_members1'+b).prepend(jF(i,1,b));T('div.fc_room_members0'+b).prepend(jF(i,0,b))}else{gy[c]--;T('span.fc_rmid'+i+''+c).remove()}gA=true}};function disRmC(){for(var a in fl){if(fl.hasOwnProperty(a)){T('span.fc_rms'+a).html("&nbsp;("+gy[a-0]+")")}}};var jK=function(a){if(gg==0){for(var j=0;j<a.length-1;j+=2){var b=a[j]-0;if(!fm[b]){fm[b]=0}fm[b]+=a[j+1]-0}}else{for(var j=0;j<a.length-1;j+=4){var b=a[j]-0;if(fl[b]){fl[b].msgCount=a[j+2];T('span.fc_msg_count'+a[j]).html(co(396,'Msgs: ')+fl[b].msgCount+'');if(fl[b].msgCount<fl[b].baseMsgCount){fl[b].baseMsgCount=fl[b].msgCount}var c=fl[b].msgCount-fl[b].baseMsgCount;if(fm[b]){if(fm[b]>fl[b].msgCount){fm[b]=fl[b].msgCount}c+=fm[b]}var d=fl[b].msgCount-fl[b].lastMsgCount;if(bl==b&&d>0){km(d)}fl[b].lastMsgCount=fl[b].msgCount;T('span.fc_new_msg_count'+a[j]).html('&nbsp;'+co(397,'New: ')+c+'');var e='none';var f='';if(fl[b].msgCount!='0'){e='inline';var g=a[j+3];fl[b].lastMsg={id:g[0],username:g[1],datetime:g[2],message:g[3]};f=cdt(fl[b].lastMsg.datetime,0,1)};T('span.fc_last_msg'+a[j]).html(co(398,'Last update ')+f+co(399,' by ')+iS(it(fl[b].lastMsg.username.split('&')[0]),'')).css("display",e)}}}};var jL=function(k){T('#fc_exit_room').html((k?"<a class='fc_grpt0 fc_ext"+bk+"' style='"+Z.chatrooms_box.text.link_css+"' href='javascript:void(0)' onclick='fc_chat.c_g(this);return false;'>"+co(400,'Exit Current Room')+"</a>":co(400,'Exit Current Room')));T('#fc_exit_room2').html((k?"<a class='fc_grpt1 fc_ext"+bk+"' style='"+bx.other_buttons.states.link_css+"' href='javascript:void(0)' unselectable='on' onclick='fc_chat.c_g(this);return false;'>"+co(395,'Exit Room')+"</a>":co(395,'Exit Room')))};var jM=function(a,k){var c=co(0,0,'chat_room_width')+14;var d='3';var b='';if(k==7){c=co(0,0,'private_chat_width')+12;d=ej;b='b'}if(a){T('#fc_cl'+k).html("<a id='fc_cli"+k+"' href='javascript:fc_chat.clearMsgs("+k+");' onmouseover='getElementById(\"fc_e_cl"+k+"\").className=\"fc_e fc_e_cl2"+b+"\"' onmouseout='getElementById(\"fc_e_cl"+k+"\").className=\"fc_e fc_e_cl"+b+"\"'><span class='fc_e fc_e_cl"+b+"' id='fc_e_cl"+k+"' title='"+co(18)+"' style='display:block;position:absolute;top:"+d+"px;left:"+c+"px;'></span></a>")}else{T('#fc_cl'+k).html("<span style='position:absolute;"+hJ+"top:"+d+"px;left:"+c+"px;' class='fc_e fc_e_cl'></span>")}};this.tgl_full_chat=function(a){if(!l&&gf=='0'){fc_chat.c_g(a)}};this.c_g=function(v){if(!l){dV={typ:(T(v).hasClass('fc_grpt1')?1:0),index:iw(v.className.substr(15)),id:T(v).attr('id'),elem:v};var a=iw(v.className.substr(15));if(a!=bl||gf=='0'){if(a==bk){fc_chat.c_g2('0')}else{if(fl[a]){if(fl[a].d==1){cV(co(129))}else{if(fl[a].l==0){fc_chat.c_g2('0')}else{var b=dV.typ;if(T('#fc_locked_room'+b+''+a).css('display')==dZ){T('#fc_locked_room'+b+''+a).css('display',ea)}else{T('div.fc_locked_room').css('display',ea);T('#fc_locked_room'+b+''+a).css('display',dZ)}}}}}}}};this.c_g2=function(b){var c=dV.typ;var d=(c?bC:bD);var e=dV.index;km(-gr);if(gf==0){if(gg<2&&e!=bl){bl=e;bm=e;bj=true}fc_chat.open_chat_box();if(gg<2||e==bl){if(bn()&&dV.id!='fc_open_full_chat')T(dV.elem).css("backgroundColor",d.selected_color);if(!bn()){jL(1)}return false}}else if(e!=bl){fx='3'}if(e!=bl){la();l=true;gE.scrollLeft=1;jJ(bl,e);T('#fc_op1').html("<div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+ez+"</a></div>");T('#fc_co').html("<span class='fc_e fc_e_co3'></span>");jM(1,6);T('#fc_groupType').html("");clearTimeout(hu);clearRoom(bl);if(hn){gE.style.overflow='hidden'}var f=['','','','','',''];for(var g in a.ge){if(a.ge.hasOwnProperty(g)){delete a.ge[g]}}for(var g in a.de){if(a.de.hasOwnProperty(g)){if(a.g[g]==bl){a.gre[g]=''}if(e!=bk){if(a.g[g]==e&&a.o[g]=='1'&&a.t[g]=='1'){var z=c_i(g,0,4);var h='';var i=dZ;var j=ea;var k='15';if(iQ(g)){j='inline';k='5'}h='&nbsp;&nbsp;'+kj(g,4,0,1);a.gre[g]='fc_gl'+gx[4];var m=(gh==g?bO:bM);var n='<div class="fc_'+g+'" id=fc_gl'+gx[4]+' style="display:block; font-weight:bold;width:250px;z-Index:'+(eK+202)+';'+bF+m+'" onClick="fc_chat.send_to('+g+')" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)">'+h+z+kW(g)+jn(g)+'<div id="fc_gl'+gx[4]+'ico" style="display:'+i+';padding-top:1px;padding-bottom:3px"><a '+bU+'('+g+');return false;" id="fc_gl'+gx[4]+'cam" style="display:'+j+';margin-left:3px;" title="'+co(33)+'"><img height="26px" align=absmiddle style="height:26px" SRC="'+eO+'video.gif" border=0></a>'+jr(g)+jt(g)+kX(g)+kY(g)+'</div></div>';bldOr(g,f,n);gx[4]++;gz[4]++}}}}if(fc_chat.cvu_priv==null&&Q.videoconerence_only_in_designated_rooms){fc_chat.closeVid()}bl=e;T('div.fc_locked_room').css('display',ea);jN(e,f);Y.img1C=0;gt[6]=0;gw[6]=1;gn='1';gk[2]=e+1;fT='000394'+iu(e,6)+jGo.MD5.hex_md5(dW);hT()}};var jN=function(a,b){var c='<div style="background-color:transparent;width:'+(dn-30)+'px">';var d=hO+'<span class="fc_room_name" style="'+bI+'">';if(bn()){gD[eE]=c+eT(co(401,'Loading Room List...Please wait...'))+'</div>';gM[eE]=d+co(402,'No Room Selected')+'<span></span></div>';T('#fc_top_info_inner').html('');jM(0,6);jL(0)}else{gD[eE]=c+eT(co(122))+'</div>';gM[eE]=d+fl[a].nm+'</span></span></div>'+getConts(b);T('#fc_top_info_inner').html("<a class='fc_grpt0 fc_grp"+bk+"' style='"+bx.other_buttons.states.link_css+";text-decoration:none' href='javascript:void(0)' onclick='fc_chat.c_g(this);'>&laquo;&laquo;</a> "+co(40,"Room")+": <span class='fc_room_name' style='font-weight:bold;font-style:italic;"+bQ+"'>"+fl[a].nm+"</span>");jM(1,6);jL(1)}};var jO=function(){var a=bC.count_font_css;gD[eE]="<div class='fc_roomlist1' style='padding:3px;width:100%;overflow:auto;line-height:120%'>&nbsp;"+(!cZ?ji():'')+"<div style='"+bC.horizontal_rule+"'>"+co(403,"Select a Room")+"&nbsp;&nbsp;&nbsp;<span class='fc_create_room1' style='display:none;'><a style='text-decoration:none;"+a+"' href='javascript:void();' onclick='fc_chat.tgl_info_panel(\"createedit\",0,\"\");return false'>"+co(66)+"</a></span></div>"+jG(1)+"</div>";hu=setTimeout("fc_chat.showdiv(9)",20);jH()};var jP;this.c_gL=function(a,b,c,d,e){if(!l){jP=d+''+e;l=true;clearTimeout(jQ);$('fc_passtxt'+jP)[eE]=co(158);v=$('fc_rpass'+jP);var f=v.value;v.value='';$('fc_rpass'+jP).disabled=true;if(v2(f)){fT='00039\\'+iu(e,6)+jGo.MD5.hex_md5(dW);hT()}}};function v2(a){if(a.length>2&&a.length<16){if(!dY.test(a)){dW=a;return true}}fc_chat.eS2(1);l=false;return false};var jQ;this.eS2=function(i){var a;if(i==1){a=co(93)}if(i==2){a=co(94)}if(i==3){a=co(95)}clearTimeout(jQ);$('fc_passtxt'+jP)[eE]='<br>'+a;$('fc_rpass'+jP).disabled=false;jQ=setTimeout("fc_chat.clearRoompassTxt('"+jP+"')",7000)};this.clearRoompassTxt=function(a){$('fc_passtxt'+a)[eE]=''};var jR;this.tgl_tools=function(a,b,c,d){var e="fc_tools";var f=Y.smYOffset+(a==0?0:bx.tools_panel.smileys.height-bx.tools_panel.icons.height);var g=dz;if(d){f=T("#fc_e_sml2a").offset().top-bx.tools_panel.smileys.height-10;g=T("#fc_e_sml2a").offset().left-Math.floor(bx.tools_panel.smileys.width/2)+5}var h=(a==0?"auto":"hidden");Y.tPC=$(e);if(Y.tPC!=null){jR.target.removeEventHandler('mousedown');jR.target=T("a.fc_tools_a");jR.target.onEvent('mousedown',jR,'mouseOn','');jR.enableControl();if(Y.tPC.style.display==ea||(a!=null&&a!=jy)){jy=a;hb.style.width=b+'px';hb.style.height=c+'px';hb.style.overflow=h;hb[eE]=fc_chat.fill_tool_panel(a,b,c,d);if(d){Y.tPC.style.position=T("#fc_quickchat").css("position");document.body.appendChild(Y.tPC)}else{Y.tPC.style.position="absolute";gB.appendChild(Y.tPC)}move_box(Y.tPC,g,f);Y.tPC.style.display=dZ;if(hj){Y.tPB.style.width=b+'px';Y.tPB.style.height=c+'px';if(d){Y.tPB.style.position=T("#fc_quickchat").css("position");document.body.appendChild(Y.tPB)}else{Y.tPB.style.position="absolute";gB.appendChild(Y.tPB)}move_box(Y.tPB,g,f);Y.tPB.style.display=dZ}fw=true}else{fw=false;Y.tPC.style.display=ea;if(hj){Y.tPB.style.display=ea}}if(!d){return false}else{return}}jy=a;var i=fc_chat.create_tool_panel(e,b,c,h,eK,hj);Y.tPC=i[0];hb=i[1];hb[eE]=fc_chat.fill_tool_panel(a,b,c,d);if(d){Y.tPC.style.position=T("#fc_quickchat").css("position");document.body.appendChild(Y.tPC)}else{Y.tPC.style.position="absolute";gB.appendChild(Y.tPC)}move_box(Y.tPC,g,f);if(hj){Y.tPB=fc_chat.create_tool_panel_backing(eK,hb);if(d){Y.tPB.style.position=T("#fc_quickchat").css("position");document.body.appendChild(Y.tPB)}else{Y.tPB.style.position="absolute";gB.appendChild(Y.tPB)}move_box(Y.tPB,g,f)}if(jR){jR.disableControl()}jR=new jGo.DefaultMenuController('fc_tools','a.fc_tools_a',Y.tPC,fc_chat,'tgl_tools');fw=true;setTimeout("fc_chat.change_Border_sD(false)",200);if(!d)return false};this.create_tool_panel=function(a,b,c,d,e,f){var g=this.tool_menu=document.createElement('div');g.setAttribute('id',a);var h=(!f)?'jGo_ydsf':'';var i=(!f)?'jGo_inner':'';g.className='jGo_app jGo_myapp '+h;if(f){g.style.position='absolute'}g.style.display=dZ;g.style.zIndex=jGo.config.max_z_index-91;var j=document.createElement('div');j.className=i;j.style.width=b+'px';j.style.height=c+'px';j.style.zIndex=jGo.config.max_z_index-91;j.style.border=bx.tools_panel.border;j.style.backgroundColor=bx.tools_panel.background_color;j.style.overflow=d;g.appendChild(j);T(j).css({'-moz-border-radius':'5px','-webkit-border-radius':'5px','border-radius':'5px'});return[g,j]};this.fill_tool_panel=function(a,b,c,d){var e='<center><table style="padding:5px;width:'+(b-5)+'px;height:'+(c-5)+'px;"><tr>';var f=0;if(a==0){for(var i=0;i<Q.smileys.length;i++){e+='<td><a href="javascript:fc_chat.insertTags(\'{{\',\'}}\',\''+Q.smileys[i][1]+'\','+(d?'2':'1')+');"><img border="0" src="'+Q.smileys_dir+Q.smileys[i][0]+'"></a></td>';f++;if(f==6&&i<Q.smileys.length-1){e+='</tr><tr>';f=0}}if(f!=0){e+='<td colspan='+(6-f)+'>&nbsp;</td>'}e+='</tr></table></center>'}else{var g=hI+";cursor:default";var h=(Q.upload_images_enabled?co(27):co(28));var j=co(29);e+="<td>"+"<a id='fc_imgu' style='margin-left:1px;"+(Q.upload_images_enabled?"":g)+"' href=\"javascript:void\" onclick=\"return fc_chat.imgFWrapper()\">"+"<img title='"+h+"'src='"+eO+"upload_image.png'>"+"</a>"+"<a id='fc_avu' style='margin-left:2px;' href=\"javascript:void\" onclick=\"return fc_chat.avaFWrapper();\">"+"<img title='"+j+"'src='"+eO+"add_avatar.png'>"+"</a>"+(Q.transliteration_enabled?"<a  id='fc_trlit' style='margin-left:2px;' href='javascript:fc_chat.open_trlit(1)'>"+"<img title='"+co(304,"Type in your language")+"' src='"+eO+"google_transliteration.png'>"+"</a>":"")+(Q.chatcenter_layout==0&&!fc_chat.nlrm()?"<a title='"+co(295,"doodlepad")+"' id='fc_note' style='margin-left:2px' href='javascript:fc_chat.note(1)'>"+"<img src='"+eO+"pencil.png'>"+"</a>":"")+"<a title='"+co(288,"Open your whiteboard")+"' id='fc_whiteboard' style='margin-left:2px' href='javascript:fc_chat.wb(1)'>"+"<img src='"+eO+"page_white_paintbrush.png'>"+"</a>"+"<a title='"+co(311,"Share a document")+"' id='fc_doc' style='margin-left:2px;' href='javascript:fc_chat.doc(1)'>"+"<img src='"+eO+"document.png'>"+"</a>"+"</td></tr></table>"}return e};this.create_tool_panel_backing=function(a,b){var c=document.createElement("IFRAME");c.className="jGo_app jGo_myapp";c.style.position='absolute';c.style.scrolling='no';c.style.zIndex=a+1900;c.style.width=b.style.width;c.style.height=b.style.height;c.style.backgroundColor='transparent';c.style.display=dZ;return c};var jS=navigator.userAgent.toLowerCase();var jT=((jS.indexOf('gecko')!=-1)&&(jS.indexOf('spoofer')==-1)&&(jS.indexOf('khtml')==-1)&&(jS.indexOf('netscape/7.0')==-1));var jU=((jS.indexOf('AppleWebKit')!=-1)&&(jS.indexOf('spoofer')==-1));this.insertTags=function(a,b,c,d){var e;if(d==1){e=document.getElementById('fc_chat');fc_chat.oF()}else if(d==2){e=document.getElementById('fc_uChat2')}else{e=document.getElementById('fc_uChat')}if(document.selection&&!jT){var f=document.selection.createRange().text;if(!f){f=c}e.focus();if(f.charAt(f.length-1)==" "){f=f.substring(0,f.length-1);document.selection.createRange().text=a+f+b+" "}else{document.selection.createRange().text=a+f+b}}else if(e.selectionStart||e.selectionStart=='0'){var g=e.selectionStart,endPos=e.selectionEnd,scrollTop=e.scrollTop,myText=(e.value).substring(g,endPos);if(!myText){myText=c}if(myText.charAt(myText.length-1)==" "){subst=a+myText.substring(0,(myText.length-1))+b+" "}else{subst=a+myText+b}e.value=e.value.substring(0,g)+subst+e.value.substring(endPos,e.value.length);e.focus();var h=g+(a.length+myText.length+b.length);e.selectionStart=h;e.selectionEnd=h;e.scrollTop=scrollTop}else{var i=hD,re1=new RegExp("\\$1","g"),re2=new RegExp("\\$2","g");i=i.replace(re1,c);i=i.replace(re2,a+c+b);var j;if(c){j=prompt(i)}else{j=""}if(!j){j=c}j=a+j+b;document.infoform.infobox.value=j;if(!jU){e.focus()}hC=true}if(e.createTextRange)e.caretPos=document.selection.createRange().duplicate()};this.getPve=function(u){return a.pve[u]};this.getB=function(u){return a.b[u]};var jV=function(u){return(a.bg[u]!='1'&&a.bs[u]!='1')};this.getO=function(u){return a.o[u]};this.getNm=function(u){return a.nm[u]};this.getAc=function(u){return a.ac[u]};this.getIdl=function(){if(a!=null&&a.idl[Y.uid]==1){return true}return false};this.show_user_chat=function(b,c,d,u,k){var e="fc_uD";var i="fc_uD2";var j='';var l=false;var m=false;var n='0';var o=false;var p;var q="visible";var r=1;var s='';var t='';var v='';var x=bx.user_pop_up_panel.font.links_css;var y=(!hj)?'jGo_ydsf':'';var z=(!hj)?'jGo_inner':'';this.uD=$(e);this.uDiv1=$(i);fN=18;f.cU=u;var A=false;if(!jV(u)){s=co(52);o=true;A=true}if(u==Y.uid){q="hidden";r=0;s=co(51);o=true;A=true}if(f.getPve(u)!=''){l=true}if(f.getB(u)=='1'){m=true}if(f.getO(u)=='0'){s=co(53)+s;o=true;if(kZ(u)){A=true}}if(A){p="<div class='fc_uspbtn_dis' ><a class='fc_uspbtn_disa'>"+co(264,'Send Message')+"</a></div>"}else{p="<div class='fc_uspbtn' >"+eF+" onClick='"+g+"sendChat(false,false,"+h+");return false'>"+co(264,'Send Message')+"</a></div>"}if(top!=self){n=window.parent.fc_chat.getAc(u)}else{n=a.ac[u]}if(top!=self){if(window.parent.fc_chat.uD!=null){window.parent.fc_chat.uD.style.display=ea;if(hj){window.parent.fc_chat.uIF.style.display=ea}}}else if(Y.m==1){Y.odiv.style.display=dZ}var B=(cc?"' target=_blank href='"+cb+a.nm[u]+"'>":fy+"showUP("+u+")'>");var C="<a style='"+x+fy+"send_to("+u+")'>"+co(2,"Chat")+"</a>&nbsp;&nbsp;";var D="<a style='"+x+B+co(46)+"</a>&nbsp;&nbsp;";var E="<a style='"+x+fy+"avaFWrapper()'>"+co(47)+"</a>&nbsp;&nbsp;";var F="<a style='"+x+fy+"toggleMenu(this,"+u+",\"item2\")'>"+co(350,'Set Availability')+"</a>&nbsp;&nbsp;";var G="<a style='"+x+fy+"toggleMenu(this,"+u+",\"item3\")'>"+co(363,'Set Signature')+"</a>&nbsp;&nbsp;";var H="<a style='"+x+fy+"showStatus("+u+","+h+")'>"+co(48)+"</a>&nbsp;&nbsp;";var I="<a style='"+x+fy+"tglNick(2,"+u+")'>"+co(422,'Set Nickname')+"</a>&nbsp;&nbsp;";var J=(bi?"<a style='"+x+fy+"hideUBox()'>"+co(54)+"</a>":"");var K='<span style="visibility:hidden">S</span><br>&nbsp;&nbsp;';if(bi){if(this.uD!=null){fc_chat.hideUBox()}}if(this.uD!=null){fF=true;$('fc_uName')[eE]=kj(u,null,1,1)+' '+f.getNm(u)+jn(u,1);$('fc_uName2')[eE]=kj(u,null,1,1)+' '+f.getNm(u)+jn(u,1);if(u==Y.uid){$('fc_profile')[eE]=E+F+K+D+H+G}else{$('fc_profile')[eE]=K+C+D+H+(gc=='2'?(!kZ(u)?G:I):'')}$('fc_usp')[eE]=p;$('fc_btm')[eE]=s;$('fc_status').style.visibility='hidden';T("#fc_uvid").attr({"href":"javascript:fc_chat.launchVideoChat(0"+(u==Y.uid?"":","+u)+")"});this.uD.style.top='-200px';this.uD.style.display=dZ;if(hj){this.uIF.style.width=this.uDiv1.offsetWidth;this.uIF.style.height=this.uDiv1.offsetHeight;this.uIF.style.display=dZ}}else{if(jGo.browser.browser!='Explorer'){j=';width:290px'}t=K+H;if(u==Y.uid){t=E+F+K+D+H+G}else{t=K+C+D+H+(gc=='2'?(!kZ(u)?G:I):'')}this.uD=document.createElement('div');this.uD.setAttribute('id',e);this.uD.style.position='absolute';this.uD.style.left='0px';this.uD.style.top='-200px';this.uD.style.display=dZ;this.uD.style.zIndex=jGo.config.max_z_index-90;var L=" style='"+bx.user_pop_up_panel.font.screen_name_css+"'>"+kj(u,null,1,1)+" "+f.getNm(u)+jn(u,1)+"</span>&nbsp;"+J+"</b>"+"</td>"+fc_ex.fill_uD(t,x,g,u,Y.uid,h,p,s)+"</table>"+"</td></tr></table></td></tr></table>";var M="<table border=0 class='"+z+" fc_table'  id='fc_table2' style='width:"+co(0,0,'user_dialog_width')+"px;padding:6px;vertical-align:middle;background-color:"+bx.user_pop_up_panel.background_color+";"+bR+"border:"+cp+"'>"+"<tr><td><table class='fc_hidden_table' style='visibility: "+(im?"visible":"hidden")+"'><tr><td colspan=2>&nbsp;&nbsp;<b><span id='fc_uName2'"+L;var N="<table border=0 class='"+z+" fc_table'  id='fc_table' style='width:"+co(0,0,'user_dialog_width')+"px;padding:6px;vertical-align:middle;background-color:transparent;"+bR+"border:"+cp+"'>"+"<tr><td><table><tr><td colspan=2>&nbsp;&nbsp;<b><span id='fc_uName'"+L;hS=document.createElement('div');this.uDiv1=document.createElement('div');hS.className='jGo_app jGo_myapp '+y+' fc_'+u;this.uDiv1.className='jGo_app jGo_myapp '+y+' fc_'+u;this.uDiv1.setAttribute('id',i);hS.style.position='absolute';this.uDiv1.style.position='absolute';hS.style.top='0px';hS.style.left='0px';this.uDiv1.style.top='0px';this.uDiv1.style.left='0px';hS[eE]=M;this.uDiv1[eE]=N;this.uD.appendChild(hS);document.body.appendChild(this.uD);T('#fc_table2').css({opacity:bx.user_pop_up_panel.opacity});T('#fc_table2').contents().each(fc_chat.changeGhostIds);this.uD.appendChild(this.uDiv1);T(this.uD).hover(fc_chat.changebackstatus,fc_chat.changestatus);if(hj){this.uIF=fc_ex.createIF(2,eK,this.uDiv1,null,bi);document.body.appendChild(this.uIF)}setTimeout('fc_chat.bckUsr()',40);fF=true;hx=$('fc_blk')}$('fc_atpg').checked=l;$('fc_blk').checked=m;T('#fc_atxt').css({"opacity":(u!=Y.uid?1:.6)});T('#fc_atpg').css({"visibility":(u!=Y.uid?"visible":"hidden")});jW(u,o);T('#fc_btxt').css({"opacity":(r?1:.6)});hx.style.visibility=q;cl();fJ=fH-9;uPosY=fI-9;fc=0;var w=df();if(((w-fJ)<this.uDiv1.offsetWidth+30&&fJ>this.uDiv1.offsetWidth)||Y.m==1){fc=1}var O=(jGo.browser.browser!='Explorer'?T(window).scrollTop():0)+dg();var P=this.uDiv1.offsetHeight+uPosY;if(O-45<P){uPosY-=(P-O+45);if(bi&&uPosY<35)uPosY=35};if(!hk){fJ+=T(window).scrollLeft();uPosY+=T(window).scrollTop()}if(jGo.browser.browser!='Explorer'){if(fc==0){this.uD.style.left=fJ+'px'}else{this.uD.style.left='auto';if(Y.IFO!=null){gY.style.width=Y.tIF.style.width;gY.style.display=dZ}this.uD.style.left=(fJ+fN-iw(this.uDiv1.offsetWidth))+'px'}this.uD.style.top=uPosY+'px';if(jGo.browser.browser=='Opera'){if(k>0){disableScroll(0)}}}else{if(fc==0){this.uD.style.pixelLeft=fJ;if(hj){this.uIF.style.pixelLeft=fJ}}else{this.uD.style.pixelLeft=fJ+fN-this.uDiv1.offsetWidth;if(hj){this.uIF.style.pixelLeft=fJ+fN-this.uDiv1.offsetWidth}}this.uD.style.pixelTop=uPosY;if(hj){this.uIF.style.pixelTop=uPosY}}if(hj){this.uIF.style.width=this.uDiv1.offsetWidth;this.uIF.style.height=this.uDiv1.offsetHeight}return false};this.changeGhostIds=function(i){if(this.getAttribute&&this.getAttribute('id')!=null&&this.getAttribute('id')!='fc_uName2'){this.removeAttribute('id')}T(this).contents().each(fc_chat.changeGhostIds)};this.enableScroll=function(k){var a;if(k==1||k==9){a=gE}if(k==2){a=gH}if(k==6){a=gS}if(k==7){a=gT}if(k==8){a=gU}if(hn){a.style.overflow='auto'}if(k<3){a.scrollTop=a.scrollHeight-(hm?a.clientHeight+1:0)}};function disableScroll(n){overFl(gE,n);overFl(gH,n);overFl(gK,n);overFl(gN,n);overFl(gQ,n);overFl(gS,n);overFl(gT,n);overFl(gU,n)};function overFl(a,n){a.style.overflowX=(n==1?'auto':'hidden')};this.bckUsr=function(){if(hj){this.uIF.style.width=this.uDiv1.offsetWidth;this.uIF.style.height=this.uDiv1.offsetHeight;this.uIF.style.display=dZ}};var jW=function(u,a){var b=(u==Y.uid&&fc_chat.vidAcc>1)||(u!=Y.uid&&fc_chat.vidAcc%2!=0);var c=((!a||Y.uid==u)&&b);var d=(b?'':' '+co(32));T('#fc_uvid').css({"opacity":(c?1:.6),"cursor":(c?"pointer":"default")});T('#fc_e_uvid').attr({"title":(u==Y.uid?co(31)+d:co(319,"Private Video Chat")+d)});T('#fc_uwhiteboard').attr({"title":(u==Y.uid?co(288,"Open whiteboard"):co(289,"Invite to share a whiteboard"))});T('#fc_unote').attr({"title":(u==Y.uid?co(295,"doodlepad"):co(296,"Send a doodle."))});T('a.fc_share').css({"opacity":(!a||Y.uid==u?1:.6),"cursor":(!a||Y.uid==u?"pointer":"default")});T('a.fc_userme').css({"display":(Y.uid==u?"inline":ea)});T('a.fc_usernotme').css({"display":(Y.uid==u?ea:"inline"),"opacity":(!a?1:.6),"cursor":(!a?"pointer":"default")})};function cUB(u){var b="fc_uD";var c=false;var d=false;var e=false;var f;var g='';var h=$(b);if(h!=null){if(a.pve[u]!=''){c=true}if(!jV(u)){g=co(52);d=true;e=true}if(a.o[u]=='0'){g=co(53)+g;d=true;if(kZ(u)){e=true}}if(e){f="<div class='fc_uspbtn_dis' ><a class='fc_uspbtn_disa'>"+co(264,'Send Message')+"</a></div>"}else{f="<div class='fc_uspbtn' >"+eF+"' onClick='fc_chat.sendChat(false,false,document);return false'>"+co(264,'Send Message')+"</a></div>"}$('fc_usp')[eE]=f;$('fc_btm')[eE]=g;$('fc_atpg').checked=c;T('#fc_atxt').css({"opacity":(u!=Y.uid?1:.6)});T('#fc_atpg').css({"visibility":(u!=Y.uid?"visible":"hidden")});jW(u,d)}return false};this.a_r_pr=function(d){var v=d.getElementById('fc_atpg');if(!l){T(d.getElementById('fc_atxt')).css({opacity:.6});if(v.checked){fc_chat.add_friend(Y.cU)}else{fc_chat.remove_friend(Y.cU)}v.disabled=true;if(fi==1){this.filt(1)}if(d==document){setTimeout('fc_chat.releaseATPG(document)',500)}else{setTimeout('fc_chat.releaseATPG(fc_chat.getIFrameDoc())',500)}}else{v.checked=(v.checked==true?false:true)}return false};var jX=function(b,c){if(b){if(gg>1){aTC(c,5,'fc_pl')}fT='00011o1'}else{if(gg>1){r_e(gQ,5,a.pve[c],c)}fT='00011o0'}var d=c.toString();fT+=d.length+iv(d);hT()};this.blk_ublk=function(b,d){var c;var e;var u;var f;var v=d.getElementById('fc_blk');if(!l){if(b){T(d.getElementById('fc_btxt')).css({opacity:.6});e=Y.cU.toString();u=Y.cU;v.disabled=true;if(d==document){setTimeout('fc_chat.releaseBLK(document)',500)}else{setTimeout('fc_chat.releaseBLK(fc_chat.getIFrameDoc())',500)}f=v.checked}else{e=gj.toString();u=gj}if(b&&f){fT="0001171"+e.length;a.b[u]='1';a.s[u][3]='1';fX[u]='1';if(fv){aTC(u,6,'fc_bl')}}else{fT="0001170"+e.length;a.b[u]='0';a.s[u][3]='0';if(fv){r_e(he,6,fX[u],u);gj='0';var g=$('fc_r');g[eE]="<div class='fc_blkbtn_dis' ><a class='fc_blkbtn_disa'>"+co(135)+"</a></div>"}if(fX[u]!=null){delete fX[u]}}fT+=iv(e);hT();if(a.ge[u]!=null){c=a.ge[u].split('&');for(var j=0;j<c.length-1;j++){uE(u,c[j],1,1)}}if(gt[6]!=0){if(a.gpe[u]!=null){c=a.gpe[u].split('&');for(var j=0;j<c.length-1;j++){uE(u,c[j],1,6)}}}if(a.pe[u]!=null){c=a.pe[u].split('&');for(var j=0;j<c.length-1;j++){uE(u,c[j],1,2)}}if(gt[7]!=0){if(a.ppe[u]!=null){c=a.ppe[u].split('&');for(var j=0;j<c.length-1;j++){uE(u,c[j],1,7)}}}if(a.de[u]!=null){uE(u,a.de[u],0,3)}if(a.gre[u]!=''){uE(u,a.gre[u],0,4)}if(a.pve[u]!=''){uE(u,a.pve[u],0,5)}if(a.pge[u]!=''){c=a.pge[u].split('&');for(var j=0;j<c.length-1;j++){uE(u,c[j],2,0)}}if(a.ife[u]!=null){c=a.ife[u].split('&');for(var j=0;j<c.length-1;j++){uE(u,c[j],3,0)}}}else{if(b){v.checked=(v.checked==true?false:true)}}return false};this.releaseATPG=function(d){T(d.getElementById('fc_atxt')).css({opacity:1});d.getElementById('fc_atpg').disabled=false};this.releaseBLK=function(d){T(d.getElementById('fc_btxt')).css({opacity:1});d.getElementById('fc_blk').disabled=false};this.tgl_ops=function(a){var b=$('fc_opcnt'+a);b.style.display=(b.style.display==dZ?ea:dZ);$('fc_opimg'+a)[eE]=(b.style.display==dZ?"<img height='12px' width='12px' class='fc_er fc_e_up' src='"+eO+"trans.gif' border=0>":"<img height='12px' width='12px' class='fc_er fc_e_dwn' src='"+eO+"trans.gif' border=0>");return false};this.c_px=function(v,j){if(!(j==eZ&&j==by.font.size&&!bi)){eZ=fc_ex.c_px(v,j,eZ);iF(eZ,16)}};this.clickPriv=function(){if(fi==1){fc_chat.filt(1)}return false};this.offBlk=function(){this.style.backgroundColor=(this.className.substr(3)==gj?bB.selected_color:bB.background_color)};this.offBlk2=function(v){v.style.backgroundColor=(v.className.substr(3)==gj?bB.selected_color:bB.background_color)};this.overBlk=function(){this.style.backgroundColor=bB.hover_color};this.clickBlk=function(){gj=fc_ex.clickBlk(this,gj,fX)};this.clickBlk2=function(v){gj=fc_ex.clickBlk(v,gj,fX)};this.toggle=function(i,e,a){if(!l){if($('fc_'+e+a).style.border=='red 1px solid'){if(hE[i]!=2){$('fc_'+e+a)[eE]="<span class='fc_e fc_e_it2'></span>";hE[i]=1}}}};this.toggle2=function(i,e,a){if(!l){if($('fc_'+e+a).style.border=='#aaaaaa 1px solid'){if(hE[i]!=2){$('fc_'+e+a)[eE]="<span class='fc_e fc_e_"+e+"'></span>";hE[i]=0}}}};function rCG(){T('#fc_op1').html("<div class='fc_obtn' >"+eF+hL+ez+"</a></div>");T('#fc_co').html("<span class='fc_e fc_e_co'></span>")};function tTC(a){var b=T(".fc_ob");if(a=='1'){b.html(fc_chat.toggle_btn(1,1))}else{b.html(fc_chat.toggle_btn(1,0))}};function tCL(a){var v=$('fc_op1');if(a=='1'){clrOverlay();lf();v[eE]="<div class='fc_obtn' >"+eF+hL+ez+"</a></div>";v=$('fc_tgl1');v[eE]="<div class='fc_obtn' >"+eF+" onClick='fc_chat.open_chat_box(this);return false'>"+co(8)+"</a></div>";if(kN==-1){v=$('fc_sg1');v[eE]="<div class='fc_srbtn' >"+eF+" onClick='fc_chat.sendChat(true,true,document);return false'>"+co(10)+"</a></div>"}else{v=$('fc_sp1');v[eE]="<div class='fc_spbtn'>"+eF+ex+" onClick="+hM+co(11)+"</a></div>"}}else{if(v){v[eE]="<div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+ez+"</a></div>";v=$('fc_tgl1');v[eE]="<div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+co(8)+"</a></div>";v=$('fc_sg1');v[eE]="<div class='fc_srbtn_dis' ><a class='fc_srbtn_disa'>"+co(10)+"</a></div>";v=$('fc_sp1');v[eE]="<div class='fc_spbtn_dis'><a class='fc_spbtn_disa' "+ex+">"+co(11)+"</a></div>"}}};this.open_chat_box=function(e,n,a){if(!l){if(Y.m==1&&!cw){return this.toggleHide()}else{if(Y.oD!=null){Y.oD.style.display=ea;if(hj){Y.oIF.style.display=ea}}}if(Y.tPC!=null){Y.tPC.style.display=ea;if(hj){Y.tPB.style.display=ea}}if(cD=='0'){this.tgl_chatcenter(dB,Y.chat_window_height,n);jY();l=true}else{this.tgl_chatcenter(dB,Y.chat_window_height,n);if(gg<2){jv()}l=true;if(bj){gk[5]='1';bj=false;var b='';var c='07';if(fl[bm]&&fl[bm].l!=0){b=jGo.MD5.hex_md5(dW);c='39'}fT+=String.fromCharCode(10)+'000'+c+'4'+iu(bm,6)+b}hT(1)}}return false};var jY=function(){jGo.scripts.importClass('jGo.DefaultWindow.ext.min.js','dynamic',this,null);var a=document.getElementsByTagName("head")[0];cF=document.createElement('script');cF.type='text/javascript';cF.src=U+'js/fcchat.ext.min.js';a.appendChild(cF)};function div(a,b){return(Math.round(a/b-a%b/b))};function cdt(d,m,k){d=d-0;var a=new Date(d);var b=new Date();var c=b.getTime()-d;var e=div(c,60000);var f=e;var g='';if(m=='1'||(k&&f>1440)){if(e<60){var h=co(136);var i=co(138);if(e!=1){h=co(137);i=co(139)}if(e>=1){g=" ("+h+e+i+")"}else{g=" ("+co(148)+")"}}else{e=div(c,3600000);if(e>=1&&e<24){var h=co(140);var i=co(142);if(e!=1){h=co(141);i=co(143)}g=" ("+h+e+i+")"}else{e=div(c,86400000);var h=co(144);var i=co(146);if(e!=1){h=co(145);i=co(147)}g=" ("+h+e+i+")"}}}if(fj=='display:inline'||(k&&f<=1440)){var j=co(149);var l=a.getHours();if(l>11){j=co(150)}if(l>12){l=l-12}if(l==0){l=12}if(a.getMinutes()>=10){return(g+'( '+l+':'+a.getMinutes()+j+')')}else{return(g+' ('+l+':0'+a.getMinutes()+j+')')}}else{return g}};function myUn2(a){var b;var c=-1;while((c=a.indexOf('{{!*',c+1))!=-1){b=a.indexOf('*!}}',c);if(b!=-1){a=a.substring(0,c)+co(iw(a.substring(c+4,c+10)),a.substring(c+10,b))+a.substring(b+4,a.length)}}return a};function myUn3(a){var b;var c=-1;c=a.indexOf('{{');if(c!=-1){b=a.indexOf('}}');if(b>=c){var d=(iw(a.substring(c+2,b))!=0?fl[iw(a.substring(c+2,b))].nm:'none');a=a.substring(0,c)+d+a.substring(b+2,a.length)}}return a};function myUn(a,b,k,n,c){if(a.substring(0,2)=='%%'){a=a.substr(2);c=1}var d=[];d[0]=co(37);d[1]=co(38);d[2]=co(39);var e=[];e[0]="strong";e[1]="i";e[2]="u";if(a.indexOf('%a')!=-1){a=a.replace(/%a/g,'<a').replace(/%~a/g,'</a>').replace(/%g/g,'>').replace(/%i/g,'<img').replace(/%d/g,'<div').replace(/%~d/g,'</div>')}a=a.replace(/%26/g,'&').replace(/%25/g,'%');for(var j=0;j<3;j++){var f=a.split(d[j]);if(f.length>1){a='';var g='</'+e[j]+'>';for(var i=f.length-1;i>=0;i--){a=g+f[i]+a;g=(g=='</'+e[j]+'>'?'<'+e[j]+((j==0)?' style="font-weight:bold;"':'')+'>':'</'+e[j]+'>')}}}var h=0;var l=0;var m=0;var o=0;var p=0;var q='';var r='display:inline;';var s='<br>';var t=false;if(b==0){q='width:'+(iw(gH.style.width)+11)+'px';r=''}while(true){h=a.indexOf('[[');if(h!=-1&&h>=l){l=h;h=a.indexOf(']]');if(h!=-1&&h>=l){var u=a.substring(l+2,h);var v=u.replace(/'/g,'\\\'');if(fz[v]!=null){a=a.replace('[['+u+']]','<div style="display:inline;background-color:transparent;height:'+fA[v]+'px;">'+kA(fA[v])+'<img border="0" height="'+fA[v]+'px" src="'+Q.smileys_dir+fz[v]+'">&nbsp;</div>')}else if(p<3){var v=u;u=u.replace(/%/g,'%25');var w=eX;if(u.indexOf("/")>=0){u=u.substr(u.indexOf('_')+1);if(!Q.allow_crossdomain_images){if(url_domain(u).indexOf('fastcatsoftware.com')<0&&url_domain(u).indexOf(Q.current_domain)<0){u=""}}w=''}if(!t){a=a.replace('[[',s+'<div style="'+r+'background-color:transparent;height:42px;'+q+'">'+kA(42)+'<a href="'+w+u+'" target="_blank"><img alt="'+co(406,"Image")+'" style="margin-top:2px;" border="0" height="40px" src="'+w);m=a.indexOf(']]');o=a.indexOf('[[');a=a.replace(v+']]',u+'"></a></div>')}fb=1;r='display:inline;';q='';s='';p++}l=h}else{break}}else{break}}if(c==1){a=myUn2(a)}if(cM.on==1&&k){var x=a;var y=(k==6?'fc_gm':'fc_pm')+n+'t';if(k==8){y='fc_tm'+n+'t'};h=0;l=0;while(true){h=x.indexOf('<');if(h!=-1&&h>=l){l=h;h=x.indexOf('>');if(h!=-1&&h>=l){x=x.substring(0,l)+x.substr(h+1)}else{break}}else{break}}x=x.replace(/&nbsp;/gi,"");a+="<span style='font-style:italic' id='"+y+"'></span>";cN(x,y,k)}if(c==1){a=myUn3(a)}return a};var jZ;this.setNickname=function(u){if(!l){jZ=R(ir($('fc_nickname').value.substr(0,50)));fT=iu(10+is(jZ));var a=u.toString();fT+='x'+a.length+iv(a)+jZ;hT(fT);$('fc_nickname').value='';$('fc_nickname_set').style.visibility='hidden';$('fc_nickname').disabled=true;setTimeout('fc_chat.unlockNickname('+u+')',250)}};this.unlockNickname=function(u){a.nk[u]=it(jZ);ka(u);$('fc_nickname').disabled=false;$('fc_nickname_set').style.visibility='visible'};var ka=function(u){T('.fc_'+u+'nick').html('&nbsp;'+co(1)+(a.nk[u]!=''?'&nbsp;('+a.nk[u]+')':'')+'&nbsp;&nbsp;')};var kb;var kc=0;var kd=function(k){clearTimeout(kb);if(Q.prompt_nickname&&(!kc||(k&&kc<2))&&kZ(Y.uid)&&a.nk[Y.uid]==''&&(k||T("#fc_onlinelist").css("display")=="block")){kb=setTimeout("fc_chat.tgl_nick("+(k?k:"")+")",500)}};this.tglNick=function(a,u){if(a==1){hZ['u1'].hide();if(!ks){kc=1;fc_chat.tgl_online(eL)}fc_chat.tgl_nick()}else{fc_chat.hideUBox();fc_chat.tgl_nick(1,u)}return false};this.tgl_nick=function(k,u){if(k||T("#fc_onlinelist").css("display")=="block"){cU((u?u:Y.uid),k);kc=(k?2:1)}};var ke;this.setTagline=function(u){if(!l){ke=R(ir($('fc_tagline').value.substr(0,50)));fT=iu(10+is(ke));var a=u.toString();fT+='u'+a.length+iv(a)+ke;hT(fT);$('fc_tagline').value='';$('fc_tagline_set').style.visibility='hidden';$('fc_tagline').disabled=true;setTimeout('fc_chat.unlockTagline('+u+')',250)}};this.unlockTagline=function(u){a.tag[u]=it(ke);kf(u);$('fc_tagline').disabled=false;$('fc_tagline_set').style.visibility='visible'};var kf=function(u){var b=(a.tag[u]!=''?'inline':ea);T('.fc_'+u+'tag').css("display",b).html('&nbsp;&bull;&nbsp;'+a.tag[u]+'&nbsp;&bull;&nbsp;')};var kg=-1;this.setBusy=function(n){if(!l){if(n!=kg){var q=(n==1?'t':'s');fT='00001'+q;hT(fT)}n==kg}else{if(n==0){$('fc_avl1').checked=true}else{$('fc_avl2').checked=true}}};this.showStatus=function(a,d){if(!l){l=true;var b=a.toString();fT='000119'+b.length+b;for(var i=0;i<8-b.length;i++){fT+='0'}fT+='2';hT(fT);var v=d.getElementById('fc_status');if(v){v.style.visibility="visible";if(d==document){setTimeout('fc_chat.releaseStatus("fc_status",document)',1000)}else{setTimeout('fc_chat.releaseStatus("fc_status",fc_chat.getIFrameDoc())',1000)}}}return false};this.releaseStatus=function(a,d){var v=d.getElementById(a);v.style.visibility='hidden'};var kh=function(a){if(iE(14)=='3'&&a=='default.gif'){iF('',18);return a}else{iF('1',18);return a}};this.launch_avatar=function(){if(!l){ck(U+"html/Avatars."+Q.script_type+"?id="+Y.uid+"&ref=1&dummy=true",'fc_avwin','toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1',400,600)}};this.newAvatar=function(d,e,f,g,h,i){fh=g;ff=h;fg=i;if(!l){if(e==3&&bZ){T.post(ki(bY),{f:1},function(a){var b='';var c=a.split("<fcchatresponse>");if(c.length>1){b=c[1]}fc_chat.newAvatarcont(b,e,f)},"html")}else{fc_chat.newAvatarcont(d,e,f)}}};var ki=function(a){var b="http://www.";var c="https://www.";var d=window.location.href;if(d.indexOf(b)==-1&&d.indexOf(c)==-1){if(a.indexOf(c)==0){a=a.replace(c,"https://")}if(a.indexOf(b)==0){a=a.replace(b,"http://")}}return a};this.newAvatarcont=function(a,b,c){var d;if(c=='0'){getNewTopIFrameDoc();d=ho}else{d=ch['fc_avwin'].document}if(!l){a=a.replace(/%/g,'%25');a=kh(a);fT=iu(a.length+1)+'T'+a;try{hT(fT);if(b==1){d.getElementById('wait1').style.display=ea;d.getElementById('content1').style.display=dZ}else{setTimeout('fc_chat.avatarSuccess('+b+',1,'+c+')',500)}}catch(err){cV(eC)}}};this.avatarSuccess=function(a,b,c){var d;if(c=='0'){getNewTopIFrameDoc();d=ho}else{d=ch['fc_avwin'].document}try{var f=d.getElementById('content1');var g=d.getElementById('wait1');if(a!=1){f.style.display=ea;g.style.display=dZ;setTimeout('fc_chat.avatarSuccess(1,'+a+','+c+')',500)}else{var h=(b==2?co(204):co(205));if(b==4){h=co(206)};g.style.display=ea;f[eE]='<br><font face="Arial">'+co(203)+' '+h+'</b></font><br><br><br><a href="javascript:this.location.replace('+(c=='0'?'window.parent':'window.opener')+'.fc_chat.alt_dir+\'Avatars.'+fh+'?ref='+c+'&id='+Y.uid+'\')">'+co(181)+'</a>&nbsp;<a href="javascript:'+(c=='0'?'window.parent':'window.opener')+'.fc_chat.rem('+c+')">'+co(182)+'</a><br><br><div style="border-bottom: #A91905 2px solid;font-size:10">Powered by <A HREF="'+ff+'" style="color:black">'+fg+'</A></div>';f.style.display=dZ}}catch(e){}};var kj=function(u,k,b,c,d,e,f){var g="";if(Q.show_avatar_in_chats||c){f=f||Q.avatar_sz;var h=bS;var i=Q.avatars_dir+'default.gif';g=bS;if(a.av[u]!=''&&a.av[u]!='default.gif'){i=a.av[u];i=(i.indexOf('/')==0)?i.substr(1):Q.avatars_dir+i}else{h+="background-color:#"+a.acl[u]+";"+hK}var j="";var l="";var m="";var n="";if(!e){var o="";j='<a href=\"javascript:void\" ';o=(!d?fc_chat.uolnk(u,k):'onclick=\''+(d==2?bT:'')+'return fc_chat.toggleMenu(this,'+u+',"u1");\'');if(u==Y.uid&&b){o='title="'+co(34)+'" onclick="return fc_chat.avaFWrapper();"'}if(!b){o+=' onmouseover="fc_chat.view_over(this,'+u+')" onmouseout="fc_chat.view_out()"'}j=j+o+'>';l='</a>';m='width='+(f+2)+'px';n='width:'+(f+2)+'px'}g=kA(f)+j+'<img class="fc_t'+u+'avimg" src="'+i+'" border=0 '+m+' height='+(f)+'px style="height:'+(f)+'px;'+n+';'+h+'">'+l}return g};this.oF=function(e){if(gX==1){gW.value='';gX=0}};var kk=false;var kl=function(a){gq+=(a-0);T("span.fc_nc_count").html(co(367,"Chats")+" ("+gq+" "+co(267,"new")+")")};var km=function(a){if(a!=null){gr+=a}if(gp+gr>0)kk=true;if((cf||Q.set_tab)&&kk){document.title=co(407,"Room")+"("+gr+") "+co(408,"Msgs")+"("+gp+")"}};var kn=function(){T("span.fc_nm_count").html("("+gp+" "+co(267,"new")+")");km()};var ko=function(){bo.close_dialogs()};var kp=true;var kq=function(n){var a=T((hj?"#fc_toolbar_inner":"#fc_toolbar"));var b=iw(a.css("left"))+iw(T("#fc_friendscenter_toolbar_item").css("left"));var c=(hj?"absolute":"fixed");if(bi&&cf){b-=100}if(n){var d=iw(a.css("top"));T("#fc_chatrooms").css({position:c,top:(d-(Q.toolbar_position.substr(0,1)=='t'?-br.height-4:7+Z.online_box.height))+'px',left:(b+Z.online_box.toolbar_offset)+'px'});T("#fc_onlinelist").css({position:c,top:(d-(Q.toolbar_position.substr(0,1)=='t'?-br.height-4:7+Z.online_box.height))+'px',left:(b+Z.online_box.toolbar_offset)+'px'});T("#fc_quickchat").css({position:c,top:(d-(Q.toolbar_position.substr(0,1)=='t'?-br.height-4:7+Z.new_messages_box.height))+'px',left:(b+Z.online_box.width+Z.online_box.toolbar_offset+7)+'px'});T("#fc_friendslist").css({position:c,top:(d-(Q.toolbar_position.substr(0,1)=='t'?-br.height-4:7+Z.friends_box.height))+'px',left:(b+Z.friends_box.toolbar_offset)+'px'})}else{var e=kr();T("#fc_chatrooms").css({position:"absolute",top:(T("div.fc_controlbox").offset().top+Z.chatrooms_box.top)+'px',left:(T("div.fc_controlbox").offset().left+Z.chatrooms_box.left+e.pos2)+'px'});T("#fc_onlinelist").css({position:"absolute",top:(T("div.fc_controlbox").offset().top+Z.online_box.top)+'px',left:(T("div.fc_controlbox").offset().left+Z.online_box.left+e.pos)+'px'});T("#fc_quickchat").css({position:"absolute",top:(T("div.fc_controlbox").offset().top+(Z.new_messages_box.top||Z.online_box.top))+'px',left:(T("div.fc_controlbox").offset().left+Z.new_messages_box.left+(e.left?(+Z.online_box.left+e.pos-Z.new_messages_box.width-7):(Z.online_box.left+e.pos+Z.online_box.width+7)))+'px'});T("#fc_friendslist").css({position:"absolute",top:(T("div.fc_controlbox").offset().top+Z.friends_box.top)+'px',left:(T("div.fc_controlbox").offset().left+Z.friends_box.left+e.pos)+'px'})}eL=n};var kr=function(){var a={left:false,pos:0,pos2:0,pos3:0};if(Z.control.align_dialogs){a.left=(Q.alignment=='left'?true:false);if(Q.alignment=='auto'){a.left=T("div.fc_controlbox").offset().left>(df()/2)}a.pos=(!a.left?T("div.fc_controlbox").width()+7:-T("#fc_onlinelist").width()-7);a.pos2=(!a.left?T("div.fc_controlbox").width()+7:-T("#fc_chatrooms").width()-7);a.pos3=(!a.left?T("div.fc_controlbox").width()+7:-T("#fc_loginbox").width()-7)}return a};var ks=0;var kt=0;var ku=0;var kv=0;var kw=0;var kx=0;var ky=0;var kz=0;this.tgl_chatrooms=function(n){if(!cy){var a=($('fc_chatrooms').style.display==ea);ko();if(a){kI();kL();kD();if(!l){kq(n)}kC()}}};this.tgl_online=function(n){if(!cy){ko();if(ks){kD();kL()}else{kI();if(!l){kq(n)}kE()}}};this.tgl_friends=function(n){if(!cy){ko();if(kt){kI();kL()}else{kD();if(!l){kq(n)}if(kp&&!ku){kM()}kJ()}}};this.tgl_messages=function(n){if(!cy){ko();if(ku){kL();if(kp){kI()}}else{if(!l){kq(n)}if(kp&&!ks){kJ()}kM()}}};this.close_boxes=function(n,k){ko();if(hZ['u1']&&hZ['u1'].isOpen){hZ['u1'].hide()}kI();kL();kD();if(ch['fc_avwin']){ch['fc_avwin'].close()}};var kA=function(h){return"<div style='display:inline;height: 16px;'><IMG SRC='"+U+"trans.gif' height='"+h+"px' width='1px' style='height:"+h+"px;width:1px;background-color: transparent;'></div>"};var kB="<div class='fc_chat_container' id='fc_aG' style='font-style:italic;"+dp+";font-weight:bold;'>"+kA(16)+eP+" "+co(118)+"</div>";var kC=function(){if(!l){T("#fc_chatrooms").css("display","block");kF()}};var kD=function(){T("#fc_onlinelist").css("display","none");ks=0};var kE=function(){if($("fc_onlinelist").style.display==dZ){kD()}else{if(!l){T("#fc_onlinelist").css("display","block");kQ();kF();ks=1}}};var kF=function(){if(!kv){kv=1;T("#fc_t4").html(co(293,'Please wait'));T("#fc_t6").html(co(293,'Please wait'));if(gg<2){fT='00001q';hT()}else{var b=['','','','','',''];for(var c in a.de){if(a.de.hasOwnProperty(c)){bldOr(c,b,kH(c))}}$('fc_t4')[eE]=getConts(b);kw=1;$('fc_t6')[eE]=jG(0);kd()}}else{kd()}};this.add_online=function(a){if($("fc_t4"+a)==null){if(!kZ(a)){T("#fc_t4"+Y.uid).after(kH(a))}else{var b=T("#fc_t4").html();T("#fc_t4").html(b+kH(a))}}};this.view_out=function(){T('#fc_view').remove()};var kG=0;this.view_over=function(b,c){kG=c;if(a.av[c]!='default.gif'&&a.av[c]!=''&&!T('#fc_view')[0]){T(document.body).append(T(document.createElement('div')).attr('id','fc_view').css({'position':'absolute',top:(T(b).offset().top+15)+'px',left:(T(b).offset().left+15)+'px','height':'35px','background-color':'#eeeeee',height:'80px','border':'1px solid silver','z-index':jGo.config.max_z_index}).html(kj(c,null,0,1,null,1,80)))}};var kH=function(a){return'<div id="fc_t4'+a+'" style="padding-top:3px;'+Z.online_box.list_divider_css+'">'+kA(Q.avatar_sz)+kj(a,null,0,1,1)+'<b>&nbsp;<div class="fc_t2'+a+'"  style="display: inline;">'+jo(a)+'</div>'+jn(a,1)+jr(a,1)+'<br>'+jt(a,1)+'</div>'};this.remove_online=function(a){T("#fc_t4"+a).remove();if(kG==a){T('#fc_view').remove()}};var kI=function(){T("#fc_friendslist").css("display","none");kt=0};var kJ=function(){if($("fc_friendslist").style.display==dZ){kI()}else{if(!l){T("#fc_friendslist").css("display","block");kF();kt=1}}};this.add_friend=function(a){if(hZ['u1']&&hZ['u1'].isOpen){hZ['u1'].hide()}if(gf=='0')ko();fZ[a]='1';if($("fc_t3"+a)==null){var b=T("#fc_t3").html();T("#fc_t3").html(kK(a)+b);jX(true,a)}if(!kt&&!l&&gf=='0'){T("#fc_friendslist").css("display","block");kt=1;T("#fc_quickchat").css("display","block");ku=1;iW();T("#fc_onlinelist").css("display","none");ks=0}};var kK=function(a){return'<div id="fc_t3'+a+'" style="padding-top:3px;'+Z.friends_box.list_divider_css+'">'+kA(Q.avatar_sz)+kj(a,null,0,1,1)+'<b>&nbsp;<div class="fc_t2'+a+'"  style="display: inline;">'+jo(a)+'</div>'+jn(a,1)+jr(a,2)+'<br>'+jt(a,2)+'</div>'};this.remove_friend=function(a){if(hZ['u1']&&hZ['u1'].isOpen){hZ['u1'].hide()}fZ[a]='';T("#fc_t3"+a).remove();if(kG==a){T('#fc_view').remove()}jX(false,a)};this.clear_nm=function(){T("#fc_t2").html("");gp=0;iX=0;kn()};var kL=function(n){T("#fc_quickchat").css("display","none");ku=0};var kM=function(){if($("fc_quickchat").style.display==dZ){kL()}else{if(!l){fc_chat.cU=hP;kQ();T("#fc_quickchat").css("display","block");ku=1;iW();setTimeout("fc_chat.scroll_nm()",100)}}};this.scroll_nm=function(){var a=T('#fc_view_msgs')[0];a.scrollTop=a.scrollHeight-(hm?a.clientHeight+1:0)};var kN=-1;this.send_to=function(u){if(u.data){u=u.data[2]}if(!l&&u!=Y.uid||u==0){if(u==0||jV(u)&&(!kZ(u)||a.o[u]=='1')){var b="";var c=[gK,gN,gQ];if(this.uD!=null){this.uD.style.display=ea;if(hj){this.uIF.style.display=ea}}if(u!=kN&&u!=0){if(gh!='0'){T(c).find("div.fc_"+gh).css("background-color",bM);T("div.fc_current_chatee").remove()}gh=u;T(c).find("div.fc_"+gh).css("background-color",bO);T(c).find("div.fc_"+gh).append("<div class='fc_current_chatee' unselectable='on' style='cursor:default;margin-left:3px;font-style:italic;"+gd+"'>Selected for chat</div>");T("#fc_to_label").html(co(276,'To')+": "+a.snm[gh]+' <i style="'+Z.new_messages_box.text.offline_css+'">'+co(368,'Offline')+'</i>');b="<div style='position:absolute;top:0px;left:0px;height:30px;"+bx.send_to_panel.css+bx.send_to_panel.text_css+bR+"'>&nbsp;<span style='font-weight:bold;font-style:italic;"+bx.send_to_panel.text_css+"'>"+co(276,'To')+":</span> "+a.snm[u]+(a.o[u]=='1'?'':'<i style="'+Z.new_messages_box.text.offline_css+'">'+co(368,'Offline')+'</i>')+" <a style='"+bx.send_to_panel.remove_button_css+"' href='javascript:fc_chat.send_to(0)'>X</a>&nbsp;</div>";kN=u;T('#fc_sp1').html("<div class='fc_spbtn' >"+eF+ex+" onClick="+hM+co(11)+"</a></div>");T('#fc_sg1').html("<div class='fc_srbtn_dis' ><a class='fc_srbtn_disa'>"+co(10)+"</a></div>");da=1;kO(u);hP=u;Y.cU=u}else{T('#fc_sg1').html("<div class='fc_srbtn' >"+eF+" onClick='fc_chat.sendChat(true,true,document);return false'>"+co(10)+"</a></div>");T('#fc_sp1').html("<div class='fc_spbtn_dis'><a class='fc_spbtn_disa'"+ex+">"+co(11)+"</a></div>");kN=-1;T(c).find("div.fc_"+gh).css("background-color",bM);T("div.fc_current_chatee").remove();gh='0';da=(eb==1?1:0)}T("#fc_msg_to").html(b)}else{cV(co(409,"Sorry, this user is not available for private chat."))}}};var kO=function(b){T('a.fc_share2').css({"opacity":.4,"cursor":"default"}).attr({"href":"javascript:void(0)"});if(a.o[b]=='1'){T("#fc_to_label").html(co(276,'To')+": "+a.snm[b]);T('#fc_uwhiteboard2').attr({"href":"javascript:fc_chat.wb()"});if(Q.allow_games){T('#fc_ugame2').attr({"href":"javascript:fc_chat.m_games()"})}T('#fc_unote2').attr({"href":"javascript:fc_chat.note()"});T('#fc_utrlit2').attr({"href":"javascript:fc_chat.open_trlit()"});T('#fc_udoc2').attr({"href":"javascript:fc_chat.doc()"});if(fc_chat.vidAcc%2!=0){T('#fc_uvid2').attr({"href":"javascript:fc_chat.launchVideoChat(0,"+b+")"})}T('a.fc_share2').css({"opacity":1,"cursor":"pointer"})}else{T("#fc_to_label").html(co(276,'To')+": "+a.snm[b]+' <i style="'+Z.new_messages_box.text.offline_css+'">'+co(368,'Offline')+'</i>')}T('#fc_bld2').attr({"href":"javascript:fc_chat.insertTags(\'"+co(37)+"\',\'"+co(37)+"\',\' "+co(23)+" \',2);"}).css({"opacity":1,"cursor":"pointer"});T('#fc_it2').attr({"href":"javascript:fc_chat.insertTags(\'"+co(38)+"\',\'"+co(38)+"\',\' "+co(24)+" \',2);"}).css({"opacity":1,"cursor":"pointer"});T('#fc_uln2').attr({"href":"javascript:fc_chat.insertTags(\'"+co(39)+"\',\'"+co(39)+"\',\' "+co(25)+" \',2);"}).css({"opacity":1,"cursor":"pointer"});T('#fc_img2').attr({"href":"javascript:fc_chat.insertTags(\'[[\',\']]\',\'"+co(36)+"\',2);"}).css({"opacity":1,"cursor":"pointer"});T('#fc_e_sml2').attr({"href":"javascript:fc_chat.tgl_tools(0,"+bx.tools_panel.smileys.width+","+bx.tools_panel.smileys.height+",1)"}).css({"opacity":1,"cursor":"pointer"});$('fc_uChat2').disabled=false};this.load_respond=function(a,k){if(T("#fc_chatrooms").css("display")=="block"){ko();T("#fc_friendslist").css("display","block");kt=1}kO(a);hP=a;if(!k){Y.cU=a;hZ['u1'].hide();if(!ku&&!l){T("#fc_quickchat").css("display","block");ku=1;iW()}}if(ku==1&&!k){$('fc_uChat2').focus()}};var kP=function(){if(kZ(hP)||!jV(hP)){hP=-1;T("#fc_to_label").html(co(276,'To')+": ");T('#fc_uChat2').html("")[0].disabled=true}if(hP!=-1&&a.o[hP]!='1'){T("#fc_to_label").html(co(276,'To')+": "+a.snm[hP]+' <i style="'+Z.new_messages_box.text.offline_css+'">'+co(368,'Offline')+'</i>')}T('a.fc_share2').css({"opacity":.4,"cursor":"default"}).attr({"href":"javascript:void(0)"})};var kQ=function(){var a=co(29);val="<a id='fc_avu' style='margin-left:2px;' href='javascript:fc_chat.launch_avatar()'>"+"<img title='"+a+"'src='"+eO+"add_avatar.png'>"+"</a>";T("span.fc_quick_chat_name").html("<b>"+iS((screen_name?screen_name:iB(Q.session_cookie).split('>')[1]),'')+"</b>.&nbsp;"+(cs?"&nbsp;<a style='"+Z.online_box.text.css+Z.online_box.greeting_box_link+"' HREF='javascript:void(0)' onclick='return fc_chat.sign_in()'>"+co(342,'Change name')+"</a>":val)+((!cs&&iE(14)!="3")?"&nbsp;<a style='"+Z.online_box.text.css+Z.online_box.greeting_box_link+"' href='javascript:void(0)' onclick='fc_chat.logout()'>"+co(44)+"</a>":''))};this.oKD=function(e){var a=window.event;if(a){if(a.keyCode==13){fc_chat.sendMsgOnEnter(a.srcElement)}}else{if(e.which==13){fc_chat.sendMsgOnEnter(e.target)}}};this.oKD2=function(e){if(!l&&!fr&&Q.showTyping){fT='00001S';hT();fr=true;setTimeout('fc_chat.releaseOKD()',1000)}};this.releaseOKD=function(){fr=false};this.sendMsgOnEnter=function(a){if(a.getAttribute('id')=='fc_chat'){if(da==0){if($('fc_sg1')[eE].indexOf("fc_srbtn_dis")==-1){this.sendChat(true,true,document,a)}}else{if($('fc_sp1')[eE].indexOf("fc_spbtn_dis")==-1){this.sendChat(true,false,document,a)}else{cV(co(389,"To send a message, highlight a user first. To add a user to your friends list, click on their screen name, and then select 'add to Friends'."))}}}else{if(a.getAttribute('id')=='fc_uChat2'||$('fc_usp')[eE].indexOf("fc_uspbtn_dis")==-1){this.sendChat(false,false,document,a)}}};this.sendChat=function(b,g,d,c){var e;var v;if(c){v=c}else{v=(b?$('fc_chat'):d.getElementById('fc_uChat'))};if(!l){e=v.value;e=ir(e);if(Q.allow_links){e=iz(e)}if(Q.upload_images_enabled){e=e.replace(/\[\[/g,'[['+Y.uid+'_')}var f=0;var h=0;while(true){f=e.indexOf('{{');if(f!=-1&&f>=h){h=f;f=e.indexOf('}}');if(f!=-1&&f>=h){var j=e.substring(h+2,f);var k=j.replace(/'/g,'\\\'');if(fz[k]!=null){e=e.replace('{{'+j+'}}','[['+j+']]')}h=f}else{break}}else{break}}e=e.replace(/^\s+/,'');for(var i=e.length-1;i>=0;i--){if(/\S/.test(e.charAt(i))){e=e.substring(0,i+1);break}}if(!bn()||!g){if(e.length>0&&(e.length>1||e.charCodeAt(0)!=10)){if(e.length<Q.max_chat_size){if(!(g&&kZ(Y.uid)&&!Q.guests_can_chat)){if(g||!kZ((b?gh:Y.cU))||a.o[(b?gh:Y.cU)]=='1'){if(g||jV((b?gh:Y.cU))){fT=iu(is(e)+10);if(!g){var m=(b?gh.toString():Y.cU.toString());fT+='8'+m.length+iv(m)}else{fT+='8000000000'}fT+=e;hT();if(!c||c.getAttribute('id')!='fc_uChat2'){var n;if(!g){n=(b?$('fc_sp1'):d.getElementById('fc_usp'));var o=(b?'':'u');n[eE]="<div class='fc_"+o+"spbtn_dis' ><a class='fc_"+o+"spbtn_disa' "+(b?ex:"")+">"+(b?co(11):co(264,'Send Message'))+"</a></div>";if(d==document){setTimeout('fc_chat.releaseChat('+b+',document)',500)}else{setTimeout('fc_chat.releaseChat('+b+',fc_chat.getIFrameDoc())',500)}}else{n=$('fc_sg1');n[eE]="<div class='fc_srbtn_dis' ><a class='fc_srbtn_disa'>"+co(10)+"</a></div>";setTimeout('fc_chat.releaseChat2()',500)}}}else{cV(co(265,'Unable to send this message. The user is not available for chat.'))}}else{cV(co(130))}}else{cT(co(410,'Please sign in to chat'),{x:40,y:iw(gW.style.top)-50})}}else{cV(co(131)+Q.max_chat_size+co(132))}}else{cV(co(133))}}else{cT(co(411,'Please select a room'),{x:40,y:iw(gW.style.top)-50})}v.blur();Y.textelem=v;setTimeout('fc_chat.clearText()',20);if(c&&c.getAttribute('id')=='fc_uChat2'){setTimeout('fc_chat.refocus('+b+',document,1)',50)}else{if(d==document){setTimeout('fc_chat.refocus('+b+',document)',50)}else{setTimeout('fc_chat.refocus('+b+',fc_chat.getIFrameDoc())',50)}}}};this.textelem;this.clearText=function(){T(Y.textelem).val('')};this.refocus=function(a,d,n){var b='fc_uChat';if(n){b+='2'}var v=(a?$('fc_chat'):d.getElementById(b));v.focus()};this.releaseChat=function(a,d){var v=(a?$('fc_sp1'):d.getElementById('fc_usp'));var b=(a?'':'u');if(d==document){v[eE]="<div class='fc_"+b+"spbtn' >"+eF+(a?ex:"")+" onClick='fc_chat.sendChat("+a+",false,document);return false'>"+(a?co(11):co(264,'Send Message'))+"</a></div>"}else{v[eE]="<div class='fc_"+b+"spbtn' >"+eF+(a?ex:"")+" onClick='window.parent.fc_chat.sendChat("+a+",false,window.parent.fc_chat.getIFrameDoc());return false'>"+(a?co(11):co(264,'Send Message'))+"</a></div>"}};this.releaseChat2=function(){var v=$('fc_sg1');v[eE]="<div class='fc_srbtn' >"+eF+ex+" onClick='fc_chat.sendChat(true,true,document);return false'>"+co(10)+"</a></div>"};function returnBroadcastParams(a){fc_ex.returnBroadcastParams(a,Y.uid)};this.setPng=function(){fD=new Date().getTime()};this.setL=function(a){l=a};this.jsB=function(){fc_ex.jsB(fQ,eC)};this.jsW=function(a,b,c){fc_ex.jsW(a,b,c)};this.jsW2=function(a,b,c){fc_ex.jsW2(a,b,c)};this.jsSt=function(a,b){fc_ex.jsSt(a,b,fQ,eC)};this.jsStp=function(a){fc_ex.jsStp(a,fQ,eC)};this.jsV=function(){$('fc_vidchat2').style.display=ea};this.jsA=function(a){cV(a)};this.removeAllStreams=function(){fc_ex.removeAllStreams(fQ,eC)};this.subscribe=function(u){if(!kR(Y.uid)){return}fc_ex.subscribe(u,Y.uid,dd,fl,bl)};function createVidID(u){u=u+'';var a='1';for(var i=0;i<8-u.length;i++){a+='0'}u=a+u;u+=(S.length>1?S[0]:S[0].substr(0,3));return u};this.launchVideoChat=function(u,b){if(!kR(Y.uid)){return}if(!l&&(!b||((jV(b)||b==Y.uid)&&a.o[b]=='1'))){if((!b&&fc_chat.vidAcc>1)||(b&&fc_chat.vidAcc%2!=0)){if(dd>Q.max_video_streams){cV(co(228));return}if(b&&kZ(b)&&!Q.guests_can_video_chat){cV(co(412,"Video chat is disabled for guest accounts."));return}if(!b&&fc_chat.vidAcc>1&&(Q.videoconerence_only_in_designated_rooms&&(!fl[bl]||fl[bl].v==1))){cV(co(225));return}if(fc_chat.ww2&&(fc_chat.cvu_priv||b)&&b!=fc_chat.cvu_priv){fc_chat.ww2.close()}hQ=u;if(b){fc_chat.cvu_priv=b}else{fc_chat.cvu_priv=null}clearTimeout(hR);hR=setTimeout('fc_chat.launchChatWindow('+u+','+b+')',250)}}};this.launchChatWindow=function(u,a){if(fc_chat.ww2==null&&!l){l=true;var b='1px solid #444444';var c=!cf&&!hj&&Q.pin_windows;var d=c&&Q.pinned_by_default;var e=(Y.m==0&&eG?iw(eG.frame[0].style.top)+200:200);var f=T(document).scrollTop();if(eG){e+=(eG.fixed?f:0)+(d?-f:0)}else{e+=(!d?f:0)}var g="<div style='padding:10px;font-family:arial;font-size:14px;color:black;font-weight:bold'><div style='margin-top:55px;margin-left:100px;'>"+co(329,"Loading...Please Wait")+"</div></div>";fc_chat.ww2=fc_chat.createWidget('DefaultWindow',["<span style='"+Q.styles.chat_window.frame.title_css+"'>"+co(152)+"</span>",200,e,368,163,'default',Q.styles.chat_window.frame.color,Q.styles.chat_window.frame.opacity*100,b,'e3e3e3','','html',g,false,false,X,co(154),co(155),co(156),co(157),co(315,"pin to screen"),co(316,"unpin"),c,(c?Q.pinned_by_default:false)]);fc_chat.tg_vid=1;fc_chat.setPaused();fc_chat.ww2.mH=38;fc_chat.ww2.MH=800;fc_chat.ww2.close=function(){this.getDefault().close.call(this);fc_chat.ww2=null;fc_chat.tg_vid=0;fc_chat.setPaused();invitePriv=false;return true};fc_chat.ww2.maximize=function(){this.lock=false};if(!cD){cE=1;jY()}else{fc_ex.initVideoChat(fc_chat.ww2,u,a);l=false}}};var kR=function(u){if(kZ(u)&&!Q.guests_can_video_chat){cV(co(413,"Guests cannot video chat. Please sign in."));return false}return true};this.subscribePriv=function(u){if(!kR(Y.uid)){return}if(!(a.o[u]=='1'&&a.vcu[u]==Y.uid&&a.vs[u]!=''&&jV(u))){cV(co(323),"Sorry, this user is not available for video chat at the moment.")}else{if(dd<=Q.max_video_streams){fc_chat.launchVideoChat(u,u)}else{cV(co(228))}}};this.launchVideoChatCont=function(u){fc_ex.launchVideoChatCont(u,de,fQ,eC)};this.jsLV2=function(u){fc_ex.jsLV2(u,eG,de,cf)};this.closeVid=function(){try{fc_ex.closeVid()}catch(err){}};this.jsR=function(a){fc_ex.jsR(a)};this.c_Vs=function(u){var b=ea;var c=ea;var d='15px';if(iQ(u)){b='inline';c='inline';d='5px'}if(a.de[u]!=null){$(a.de[u]+'cam').style.display=b}if(a.gre[u]!=''){$(a.gre[u]+'cam').style.display=c}if(a.pve[u]!=''){$(a.pve[u]+'cam').style.display=c}if(a.wl[u]=='1'&&a.vs[u]!=''&&a.vs[u]!=a.vsw[u]){if(a.vsp[u]==1||a.vcu[u]==Y.uid){var e=gFL('fc_video');if(e!=null){e.startSubscription("rtmp://"+a.vs[u]+"/FCVideoChat1.2",createVidID(u),a.snm[u])}}a.wl[u]=='0';a.vsw[u]=''}if(a.wl2[u]=='1'&&a.vs[u]!=''&&a.vs[u]!=a.vsw2[u]){if(a.vsp[u]==1||a.vcu[u]==Y.uid){var e=gFL('fc_expand');if(e!=null){e.startSubscription("rtmp://"+a.vs[u]+"/FCVideoChat1.2",createVidID(u),a.snm[u])}}a.wl2[u]=='0';a.vsw2[u]=''}};function getPageData(){var x;try{x=$("fc_p1")}catch(err){fu=0}if(x==null){fu=0}ge=$("fc_domain")[eE];return true};function getPageUsers(){};function getNewPageUsers(){};this.sendNewPageReq=function(){};function userRecord(){this.id=[];this.nm=[];this.snm=[];this.at=[];this.o=[];this.ac=[];this.d=[];this.g=[];this.t=[];this.cc=[];this.ty=[];this.idl=[];this.pr=[];this.pro=[];this.ttl=[];this.ttlo=[];this.nk=[];this.nko=[];this.tag=[];this.tago=[];this.av=[];this.avo=[];this.acl=[];this.vsp=[];this.vcu=[];this.vs=[];this.vso=[];this.vsw=[];this.wl=[];this.vsw2=[];this.wl2=[];this.b=[];this.bg=[];this.bs=[];this.ge=[];this.gpe=[];this.pe=[];this.ppe=[];this.de=[];this.gre=[];this.pve=[];this.pge=[];this.ife=[];this.s=[];this.u=[];this.of=[]};this.try_connection=function(){return fQ.jsGetConnect()};this.jsTestConnection=function(){try{if(fQ.jsGetConnect()=='1'){var a=new Date().getTime();if((a-fD)>30000){if(fL==fH&&fM==fI){fT='000016'}else{fT='00001R'}fL=fH;fM=fI;try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){this.jsOnClose()}}hr=setTimeout('fc_chat.jsTestConnection()',3000)}else{connLost()}}catch(err){T("div.fc_t1").html(co(104));fq(0);fn=1;this.opfxLoader()}};this.jsOnSuccess=function(){fs=1;hr=setTimeout('fc_chat.jsTestConnection()',3000)};this.jsOnFailure=function(){connLost()};this.jsOnClose=function(){if(!fc_chat.firstUpdateProcessed){bg=true;if(bg){cV(co(347,"Could not log you in. Please exit the adminstration panel and sign in to the chat again."))}}connLost()};var kS;this.stop=function(){clearTimeout(kS);fc_chat.connectionLost(co(96))};function connLost(){l=true;clearTimeout(hr);var a=(kU==-1&&!bg);fc_chat.connectionLost((a?co(414,"Connection lost... Trying again in 5 secs. <a href='javascript:fc_chat.stop()'>Stop</a>"):co(96)),a);if(a){kS=setTimeout('fc_chat.reqRecon()',5000)}kU=-1};var kT=function(k){kU=k;fT='00001[';hT(1)};this.closeRoom=function(){if(gf=='1'){fc_chat.closeVid();cV(co(98));dV={typ:1,index:0,id:null,elem:null};fc_chat.c_g2('0')}else{bl=0}};this.connectionLost=function(a,k){var b=co(104);T("div.fc_t1").html((k?a:b));fc_chat.close_boxes(1);fc_chat.lockAdmin();fc_chat.closeVid();fq(0);if(gf==1){fc_chat.prepare_disabled_mode();gD[eE]='';iA(cH,'0');show_alertbox(a);cJ=0}};var kU=-1;this.jsOnData=function(a){l=true;if(a.charAt(0)=='Q'){kT(a.substr(1))}else{if(fL==fH&&fM==fI){fD=new Date().getTime()}iK(a);fc_chat.firstUpdateProcessed=true;if(cx){fo=1;if(gf==1){cw=true;clrOverlay();fc_chat.open_chat_box();cw=false}cx=false}}};var kV=function(){var a=1;if(!cs){a=2};if(ct){a=3};iF(a,14)};function getConObj(){if(Q.flashEnabled){if(navigator.appName.indexOf("Microsoft")>-1){fQ=window['fc_movie']}else{fQ=document['fc_movie']}if(fQ&&fQ.length){fQ=fQ[0]}}else if(Q.websocketEnabled){fQ=jGo.fcchat_webSocket}else{fS=true}};function gFL(a){if(navigator.appName.indexOf("Microsoft")>-1){return window[a+'Object']}else if(document.getElementById){var b=a+'Embed';return document.getElementById(b)}else{return null}};function rstCon(){if(Q.flashEnabled){$('fc_flaToggle')[eE]='';$('fc_flaToggle')[eE]=fc_tag.toString()}else{if(fQ&&fQ.socket){fQ.jsCloseConnection();fQ.socket=null}}};this.begCon=function(){ce=false;try{if(!fQ.beginConnect||fS){fc_chat.rtryCon();return false}fQ.beginConnect(fR,Q.host,Q.port,Q.policy_port,1);if(cu>0){cu=0;eS()}}catch(err){fc_chat.rtryCon()}};this.rtryCon=function(){if(cu<=5&&!fS){cu++;T("div.fc_t1").html('<b>&nbsp;'+co(105)+' '+cu+'</b>');rstCon();getConObj();if($('fc_opimg')){$('fc_opimg')[eE]='<img src="javascript:location.href=\'javascript:fc_chat.opfxLoader();\';" style="position:absolute;left:-100px">'}setTimeout('fc_chat.begCon()',1000)}else{connnectionAttempt=0;fc_chat.connectionLost('<b>&nbsp;'+co(106)+'</b>',1)}};this.riniCon=function(){rstCon();if(fo==1||iB(Q.user_cookie)=="-1"){ft=1;this.opfxLoader()}else{this.loader()}eS();T(".fc_ob").html(fc_chat.toggle_btn(1,0))};this.reqRecon=function(){iA(cH,'0');iA(cI,'1');cJ=0;cK=1;fc_chat.firstUpdateProcessed=false;if(gf==0){fc_chat.riniCon()}else{fc_chat.reconnect()}};this.reconnect=function(){setOverlay(.25);cx=true;ft=1;fn=1;if(hm&&gf==1){gD.style.display=ea;gG.style.display=ea;gS.style.display=ea;gT.style.display=ea;gU.style.display=ea}fc_chat.opfxLoader();ec[eE]='<div style="background-color:transparent;width:'+dn+'px">'+eT(co(120),1)+'</div>';eS()};this.closeChat=function(){if(Y.m==1){l=false;setTimeout("fc_chat.open_chat_box()",1500)}else{resetDom();gf=0}};this.unPause=function(){iA(cH,'0');cJ=0;cK=(cK==1?0:1);fc_chat.toggle_on()};this.toggle_on=function(){if(cK==1){cK=0;fc_chat.lockAdmin();$('searchframe').innerHTML="";$('userframe').innerHTML="";clearTimeout(hr);try{fQ.jsCloseConnection()}catch(e){}T(".fc_ob1").html(fc_chat.toggle_btn(0,0));T(".fc_ob").html(fc_chat.toggle_btn(1,0))}else{cK=1;T(".fc_ob").html(fc_chat.toggle_btn(2,0))}var a=U+'ToggleChat.asp';setTimeout("fc_chat.toggle_delay()",500)};this.toggle_delay=function(){if(cK==1){iA(cI,"1");fc_chat.riniCon()}else if(cK==0){iA(cI,"0");l=true;T(".fc_ob").html(fc_chat.toggle_btn(2,1));T("div.fc_t1").html(co(102));fq(0);fc_chat.close_boxes(1)}};this.showUP=function(u){if(!l){if(gf=='1'||Y.m==1){if(fe!=4||cL.u!=u){fe=1;if(!kZ(u)){fc_ex.showUP(cL,u,fQ,eD)}cL.u=u}this.createTopIFrame(U+"html/Profile.html?u="+prof_info(u)+'&dummy=true',4,0);return false}else{return true}}return false};this.createUP=function(a,b){return fc_ex.createUP(cL,a,b,fQ,eD)};this.loadUP=function(u,a){return fc_ex.loadUP(cL,u,a)};var kW=function(u){var b="display:none'>";if(a.pr[u]=='1'){b="display:inline'><span style='"+bz.profile_star.css+"'>&#42;</span>"}return"<span unselectable='on' class='fc_prast"+u+"' style='cursor:default;"+b+"</span>"};var kX=function(u,n,b){var c="display:none;width:110px'></div>";if(a.ttl[u]!=''){c="display:"+(n?"inline":"block")+";width:110px;"+(b||gd)+";margin-left:"+(n?"0px;margin-right:15px;":"3px;")+"margin-top:2px;cursor:default;font-style:italic;font-weight:bold' >"+a.ttl[u]+"</div>"}return"<div unselectable='on' class='fc_ttl"+u+"' style='"+c};var kY=function(u){return(gh==u?"<div class='fc_current_chatee' unselectable='on' style='cursor:default;margin-left:3px;font-style:italic;"+gd+"'>Selected for chat</div>":"")};function prof_info(u){var b=Q.avatars_dir+'default.gif';var g=0;var c=0;if(a.av[u]!=''){b=a.av[u];b=(b.indexOf('/')==0)?b.substr(1):Q.avatars_dir+b}b=(b.indexOf('./')==0)?'./../../'+b.substr(2):b;if(kZ(u)){g=1}if(gc!='0'&&g==0){c=1}return u+'&nm='+encodeURIComponent(a.nm[u])+'&g='+g+'&own='+c+'&loc='+encodeURIComponent(b.replace(/http/g,'||protocol||').replace(/\./g,'||period||'))};var kZ=function(u){return(a.at[u]==''&&(a.nm[u].substr(0,co(1).length)==co(1)||a.nm[u].indexOf('('+co(1))!=-1))};this.toggleDTM=function(n){if(!l){if(n==0){iF(ea,0);fk=0;fj='display:'+ea}else{iF("inline",0);fk=1;fj='display:inline'}}};this.createTopIFrame=function(a,b,c){if(!cD||!document.createElement){return false};if(b==fe){fe=1;this.rem();return false}fe=b;if(Y.m==1&&c==0){a+='&target=1'}if(!Y.IFO&&document.createElement){Y.tIF=fc_ex.createIF(0,eK,ed,c,im);Y.IFO=(im?document.body.appendChild(Y.tIF):gB.appendChild(Y.tIF));if(document.frames){Y.IFO=document.frames['fc_UPIFrame']}}else{if(c==0){Y.tIF.style.display=dZ}}if(im){fc_ex.i_tIF(Y.tIF,gB)}if(navigator.userAgent.indexOf('Gecko')!=-1&&!Y.IFO.contentDocument){setTimeout('fc_chat.createTopIFrame('+a+','+b+','+c+')',10);return false}if(Y.IFO.contentDocument){ho=Y.IFO.contentDocument}else if(Y.IFO.contentWindow){ho=Y.IFO.contentWindow.document}else if(Y.IFO.document){ho=Y.IFO.document}else{return false}ho.location.replace(a);if(c==0){lb(ea,dZ)}return false};this.createMainIFrame=function(w){if(!cD||!document.createElement){return false};var a=window.location.href;if(a.indexOf('?')>=1){a+=''}else{a+='?d=true'}var b=dg()+'px';var c=iw(gB.style.height);if(!hg&&document.createElement){Y.tempIFrame=fc_ex.createIF(1,eK,null,null,bi);Y.tempIFrame.style.width=w+'px';Y.tempIFrame.style.height=b;hg=document.body.appendChild(Y.tempIFrame);Y.odiv=document.createElement('div');Y.odiv.className="jGo_app jGo_myapp";Y.odiv.style.width=w+'px';Y.odiv.style.height=b;Y.odiv.style.position='absolute';Y.odiv.style.top='0px';Y.odiv.style.left='0px';Y.odiv.style.zIndex=eK+600;Y.odiv.style.display=ea;document.body.appendChild(Y.odiv);if(document.frames){hg=document.frames['fc_RSIFrame']}}else{Y.tempIFrame.style.width=w+'px';Y.odiv.style.width=w+'px';Y.tempIFrame.style.height=b;Y.odiv.style.height=b}Y.tempIFrame.style.display=dZ;if(navigator.userAgent.indexOf('Gecko')!=-1&&!hg.contentDocument){setTimeout('fc_chat.createMainIFrame('+w+')',10);return false}if(hg.contentDocument){hh=hg.contentDocument}else if(hg.contentWindow){hh=hg.contentWindow.document}else if(hg.document){hh=hg.document}else{return false}hh.location.replace(a);return false};this.getIFrameDoc=function(){return hh};function getNewTopIFrameDoc(){try{if(Y.IFO.contentDocument){ho=Y.IFO.contentDocument}else if(Y.IFO.contentWindow){ho=Y.IFO.contentWindow.document}else if(Y.IFO.document){ho=Y.IFO.document}else{ho=null;return false}}catch(err){ho=null;return false}return false};function getNewIFrameDoc(){try{if(hg.contentDocument){hh=hg.contentDocument}else if(hg.contentWindow){hh=hg.contentWindow.document}else if(hg.document){hh=hg.document}else{hh=null;return false}}catch(err){hh=null;return false}return false};this.breakOut=function(){if(!l){for(var b in a.ife){if(a.ife.hasOwnProperty(b)){delete a.ife[b]}}getNewIFrameDoc();var c=U+"html/BreakOut.html";hh.location.replace(c)}return false};this.home=function(){if(!l){var v=$('fc_RSIFrame');v.parentNode.removeChild(v);hg=null;var a=df();this.createMainIFrame(iw(gB.style.left)-1)}return false};this.rem=function(a){if(!l){if(a==1){ch['fc_avwin'].close()}else{if(Y.IFO==null){fc_chat.tgl_info_panel()}else{var v=$('fc_UPIFrame');fe=1;if(Y.sI==0)lb(dZ,ea);Y.IFO=null;v.parentNode.removeChild(v);if(eN){}}}}};var la=function(){var a=l;l=false;if(Y.IFO!=null){Y.rem()}if(Y.sI==1){Y.rem()}l=a};var lb=function(a,b){T('#fc_gco').css("display",a);T('#fc_bck').css("display",b)};this.btr=lb;this.getTagString=function(){return fc_tag.toString()};this.getMode=function(){return Y.m};this.get_ie_offset=function(){var a=0;if(jGo.browser.browser=="Explorer"){a=1}if(jGo.browser.browser=="Safari"){a=-1}return a};var lc=function(a,b){if(a){hm=true}if(b){hn=true}};var ld=0;this.fade_new_msgs=function(){if(ld<11){ld++;T("span.fc_nm_count").fadeTo('fast',(ld%2==0?.10:1),fc_chat.fade_new_msgs)}};this.sendOnEnter=function(a,b,e){var c;if(window.event)c=window.event.keyCode;else if(e)c=e.which;else return true;if(c==13){fc_chat[b].apply(this,arguments);return false}else return true};this.writeBox=function(){var f='';var h=Z.control;var j=Z.control.buttons;var k=Z.control.info_box;var l=Z.new_messages_box.text;var m=Z.friends_box.text;var n=Z.online_box.text;var o=Z.chatrooms_box.text;var p=(fc_chat.vidAcc%2!=0?'':' '+co(32));var q=fc_chat.get_ie_offset();var r=bx.widgets.text_icon_css;var s=hI+"cursor:default;;margin-right:2px";try{T('#fc_alertbox').remove();T('#fc_chatrooms').remove();T('#fc_onlinelist').remove();T('#fc_quickchat').remove();T('#fc_friendslist').remove();T('#fc_toolbar').remove();T('div.jGo_dialog').remove();if(Y.infobox){Y.infobox.remove();Y.infobox.destroy()};if(Y.nickBox){Y.nickBox.remove();Y.nickBox.destroy()}}catch(e){};var t=function(){return"<tr>"+"<td colspan=2 style='padding:1px'>"+"<br><div class='fc_lb_text'><img style='vertical-align:text-bottom;' src='"+eO+"facebook_32.png' border=0>&nbsp;"+co(353,"Or...Use your Facebook account...")+" </div><div id='fc_fb_login'></div>"+"</td>"+"</tr>"};f="<div class='fc_controlbox' style='position:absolute;width: "+(cf?'10':h.width)+"px;height: "+h.height+"px;top:0px;left:0px;display: "+(Q.control_visible?"block":"none")+";"+h.css+";z-index: "+(eK+99)+"'>"+"<IMG SRC='"+X+"' id='fc_logo' border=0 height=16px style='position:absolute;top:"+h.logo.top+"px;left:"+h.logo.left+"px;"+h.logo.css+";height:16px;"+hJ+"'>"+"<div id='fc_topband' style='position:absolute;top:"+h.title_box.top+"px;left:"+h.title_box.left+"px;width:"+h.title_box.width+"px;height:"+h.title_box.height+"px;"+h.title_box.css+"; z-index:"+(eK+100)+";overflow:hidden;'>"+"<div id='fc_topband_inner' style='margin-left: 1px;padding:3px 2px 2px 2px;line-height:160%;"+h.title_box.text.css+"'>"+Q.widget_title+"&nbsp;&nbsp;<img class='fc_status_bullet' align=absmiddle style='padding-bottom:3px;"+h.status.css+"' src='"+eO+"bullet_yellow.png'>"+"</div>"+"</div>"+"<div id='fc_control_buttons' class='fc_d4' style='position:absolute;display: block;text-align:left;top:"+h.buttons.top+"px;left:"+h.buttons.left+"px;width:"+h.buttons.width+"px;height:"+h.buttons.height+"px; z-index:"+(eK+103)+";overflow:hidden;'>"+"<div id='fc_control_buttons_inner' style='margin-left: 1px;padding:3px 2px 2px 2px;line-height:160%'>"+"<span class='fc_ob1' id='fc_ob1a' style='"+h.buttons.full_page_button.css+";z-index: "+(eK+102)+";' >"+"<span class='fc_abbtn' ><a onclick='fc_chat.openPopup();' target=_blank href='"+W+"' >"+eA+"</a></span>"+"</span>"+"<span class='fc_ob' style='"+h.buttons.on_off_button.css+";z-index: "+(eK+102)+";'>"+"<span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+this.obtn+"</a></span>"+"</span>"+"</div>"+"</div>"+"<div id='fc_sChat' class='fc_d4' style='position:absolute;display: block;text-align:left;width: "+k.width+"px;height: "+(k.height+q)+"px; top: "+k.top+"px; left: "+k.left+"px; z-index:"+(eK+103)+";overflow:hidden;'>"+"<div class='fc_t1' id='fc_t1' style='margin-left: 1px;padding:3px 2px 2px 2px;line-height:160%'>"+((!Q.require_login||Y.inSession==1)&&jGo.cookie.getCookie('fc_tglChat')!='0'&&jGo.cookie.getCookie('fc_pauseChat')!='1'?iM('..',1):eU)+"</div>"+"</div>"+"</div>"+"<div class='jGo_app jGo_myapp jGo_dialog' id='fc_chatrooms' style='position:absolute;display: none;visibility: visible;"+Z.chatrooms_box.css+";text-align:left;width: "+Z.chatrooms_box.width+"px;height:"+Z.chatrooms_box.height+"px; top: "+Z.new_messages_box.top+"px; left:"+(Z.new_messages_box.width+Z.new_messages_box.toolbar_offset+7)+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'>"+"<div id='fc_chatrooms_title' style='position:absolute;width:"+Z.chatrooms_box.width+"px;"+Z.chatrooms_box.title_box_css+";overflow:hidden'><div style='padding:4px;'><span style='"+o.title_css+"'>"+co(405,'Chat Rooms')+"</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id='fc_exit_room' style='"+o.link_css+";"+o.disabled_css+"'>"+co(400,'Exit Current Room')+"</span>&nbsp;&nbsp;&nbsp;<a style='"+o.link_css+"' href='javascript:fc_chat.tgl_chatrooms()'>"+co(284,'Close')+"</a></div></div>"+"<div class='fc_d7' id='fc_view_chatrooms' style='position:absolute;width:"+Z.chatrooms_box.width+"px;"+Z.chatrooms_box.list_box_css+";top:40px;left:0px;height:302px;overflow:auto'><div class='fc_roomlist0' id='fc_t6' style='padding:3px;overflow:auto;line-height:120%'>&nbsp;&nbsp;"+co(293,'Please wait')+"</div></div>"+"</div>"+"<div class='jGo_app jGo_myapp' id='fc_onlinelist' style='position:absolute;display: none;visibility: visible;"+Z.online_box.css+";text-align:left;width: "+Z.online_box.width+"px;height:"+Z.online_box.height+"px; top: "+Z.new_messages_box.top+"px; left:"+(Z.new_messages_box.width+Z.new_messages_box.toolbar_offset+7)+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'>"+"<div id='fc_onlinelist_title' style='position:absolute;width:"+Z.online_box.width+"px;"+Z.online_box.title_box_css+";overflow:hidden'><div style='padding:4px;'><span style='"+n.title_css+"'>"+co(294,'Who\'s Online')+"</span>&nbsp;&nbsp;&nbsp;<a style='"+n.link_css+"' href='javascript:fc_chat.tgl_online()'>"+co(284,'Close')+"</a></div></div>"+"<div id='fc_onlinelist_greeting' style='position:absolute;width:"+Z.online_box.width+"px;"+Z.online_box.greeting_box_css+";overflow:hidden'><div style='padding:3px;"+n.css+"'>"+co(275,'You are currently chatting as ')+"<span style='"+n.css+"' class='fc_quick_chat_name'></span>&nbsp;</div></div>"+"<div class='fc_d7' id='fc_view_online' style='position:absolute;width:"+Z.online_box.width+"px;"+Z.online_box.list_box_css+";overflow:auto'><div id='fc_t4' style='padding:3px;overflow:auto;line-height:120%'>&nbsp;"+co(293,'Please wait')+"</div></div>"+"<div id='fc_online_info' style='position:absolute;width:"+Z.online_box.width+"px;"+Z.online_box.info_box_css+";overflow:hidden'><div style='padding:4px'><span id='fc_online_label' style='line-height:120%;"+n.css+"'>"+co(292,'<u>Underlined Users</u> are available for chat.<br>Click +/- to add/remove friends. Click name to chat.')+"</span>"+"</div></div>"+"</div>"+"<div class='jGo_app jGo_myapp' id='fc_quickchat' style='position:absolute;display: none;visibility: visible;"+Z.new_messages_box.css+";text-align:left;width: "+Z.new_messages_box.width+"px;height:"+Z.new_messages_box.height+"px; top: "+Z.new_messages_box.top+"px; left: "+Z.new_messages_box.toolbar_offset+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'>"+"<div id='fc_quickchat_title' style='position:absolute;width:"+Z.new_messages_box.width+"px;"+Z.new_messages_box.title_box_css+";overflow:hidden'><div style='padding:4px;'><span style='"+l.title_css+"'>"+co(272,'New Messages')+"</span>&nbsp;&nbsp;&nbsp;<a style='"+l.link_css+"' href='javascript:fc_chat.clear_nm()'>"+co(273,'Clear')+"</a>&nbsp;&nbsp;<a style='"+l.link_css+"' href='javascript:fc_chat.tgl_messages()'>"+co(274,'Close')+"</a></div></div>"+"<div id='fc_quickchat_greeting' style='position:absolute;width:"+Z.new_messages_box.width+"px;"+Z.new_messages_box.greeting_box_css+";overflow:hidden'><div style='padding:3px;"+l.css+"'>"+co(275,'You are currently chatting as ')+"<span style='"+l.css+"' class='fc_quick_chat_name' ></span>"+(!cf?"&nbsp&nbsp;<a style='"+Z.online_box.text.css+Z.online_box.greeting_box_link+"' class='fc_grpt0 fc_grp"+bk+"' id='fc_open_full_chat' "+(open_chatrooms_in_window?"onclick='fc_chat.openPopup();' target=_blank href='"+W+"'":"href='javascript:void(0)' onclick='fc_chat.tgl_full_chat(this);return false;'")+">"+(eb==1?co(415,'Open Your messages inbox.'):co(416,'Open Full Chat'))+"</a>":"")+"</div></div>"+"<div class='fc_d6' id='fc_view_msgs' style='position:absolute;width:"+Z.new_messages_box.width+"px;"+Z.new_messages_box.view_msg_box_css+"overflow:auto'><div id='fc_t2' style='padding:3px;overflow:auto;line-height:1'>"+co(277,'You have no new messages.')+"</div></div>"+"<div id='fc_send_msgs' style='position:absolute;width:"+Z.new_messages_box.width+"px;"+Z.new_messages_box.send_msg_box_css+";overflow:hidden'><div style='padding:4px'>&nbsp;<span style='"+l.css+"' id='fc_to_label'>"+co(276,'To')+":</span>"+"<div style='height:16px;margin-left:2px;padding:2px'>"+"<a class='fc_share2' id='fc_bld2' href='javascript:void(0)' style='"+s+"'>"+"<img title='"+co(23)+"' style='"+r+"' id='fc_e_bld' src='"+eO+"text_bold.png'>"+"</a>"+"<a class='fc_share2' id='fc_it2' href='javascript:void(0)' style='"+s+"'>"+"<img title='"+co(24)+"' style='"+r+"' id='fc_e_it' src='"+eO+"text_italic.png'>"+"</a>"+"<a class='fc_share2' id='fc_uln2' href='javascript:void(0)' style='"+s+"'>"+"<img title='"+co(25)+"' style='"+r+"' id='fc_e_uln' src='"+eO+"text_underline.png'>"+"</a>"+"<a class='fc_share2' id='fc_img2' href='javascript:void(0)' style='"+s+"'>"+"<img title='"+co(26)+"' id='fc_e_img' src='"+eO+"image_1.png'>"+"</a>"+"<a class='fc_share2 fc_tools_a' id='fc_e_sml2' href='javascript:void(0)' style='"+s+"'>"+"<img id='fc_e_sml2a' src='"+eO+"emoticon_smile.png'>"+"</a>"+"<a class='fc_share2' title='"+co(296,"Send a doodle.")+"' id='fc_unote2' href='javascript:void(0)' style='"+hI+"cursor:default'><img src='"+eO+"pencil.png'></a>"+(Q.transliteration_enabled?"<a class='fc_share2' title='"+co(304,"Type in your language")+"' id='fc_utrlit2' href='javascript:void(0)' style='"+hI+"cursor:default;'><img src='"+eO+"google_transliteration.png'></a>":"")+"<a class='fc_share2' title='"+co(280,"Invite to share a whiteboard.")+"' id='fc_uwhiteboard2' href='javascript:void(0)' style='"+hI+"margin-left:2px;cursor:default'><img src='"+eO+"page_white_paintbrush.png'></a>"+"<a class='fc_share2' title='"+co(311,"Share a document")+"' id='fc_udoc2' href='javascript:void(0)' style='"+hI+"margin-left:1px;cursor:default'><img src='"+eO+"document.png'></a>"+"<a class='fc_share"+(fc_chat.vidAcc%2!=0?'2':'dis')+"' title='"+co(319,"Private Video Chat")+p+"' id='fc_uvid2' href='javascript:void(0)' style='"+hI+"margin-left:1px;cursor:default'><img src='"+eO+"webcam.png'></a>"+(Q.allow_games?"<a class='fc_share2' title='"+co(330,"Invite to play a game.")+"' id='fc_ugame2' href='javascript:void(0)' style='"+hI+"margin-left:1px;cursor:default'><img src='"+eO+"playing_card.png'></a>":"")+"</div>"+" <input id='fc_uChat2' class='fc_input' disabled onKeyPress='"+g+"oKD(event)' onKeyDown='"+g+"oKD2(event)' type=text style='"+Z.new_messages_box.input_css+";width:"+(Z.new_messages_box.width-20)+"px !important'><br>"+"</div></div>"+"</div>"+"<div class='jGo_app jGo_myapp' id='fc_friendslist' style='position:absolute;display: none;visibility: visible;"+Z.friends_box.css+";text-align:left;width: "+Z.friends_box.width+"px;height:"+Z.friends_box.height+"px; top: "+Z.new_messages_box.top+"px; left:"+(Z.new_messages_box.width+Z.new_messages_box.toolbar_offset+7)+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'>"+"<div id='fc_friendslist_title' style='position:absolute;width:"+Z.friends_box.width+"px;"+Z.friends_box.title_box_css+";overflow:hidden'><div style='padding:4px;'><span style='"+m.title_css+"'>"+co(283,'Friends')+"</span>&nbsp;&nbsp;&nbsp;<a style='"+m.link_css+"' href='javascript:fc_chat.tgl_friends()'>"+co(284,'Close')+"</a></div></div>"+"<div class='fc_d7' id='fc_view_friends' style='position:absolute;width:"+Z.friends_box.width+"px;"+Z.friends_box.list_box_css+";overflow:auto'><div id='fc_t3' style='padding:3px;overflow:auto;line-height:120%'></div></div>"+"<div id='fc_friends_info' style='position:absolute;width:"+Z.friends_box.width+"px;"+Z.friends_box.info_box_css+";overflow:hidden'><div style='padding:4px'><span id='fc_friends_label' style='line-height:120%;"+m.css+"'>"+co(285,'<u>Underlined Users</u> are available for chat.<br>Click +/- to add/remove friends. Click name to chat.')+"</span>"+"</div></div>"+"</div>";f+="<div class='jGo_app jGo_myapp' id='fc_alertbox' style='display: none;visibility: visible; position: "+(hj||!Q.pin_windows||!Q.pinned_by_default?"absolute":"fixed")+"; width:"+co(0,0,'alert_dialog_width')+"px; height:100px;border:"+bx.alert_panel.border+"; top: 0px; left: 0px; background-color: "+bx.alert_panel.background_color+";z-index: "+(eK+150)+";overflow:hidden;"+bR+"'>"+"<center><table cellpadding='3' style='padding:5px;margin-top:40px;margin-left:10px'>"+"<tr>"+"<td>"+"<div id='fc_alerttxt' style='"+bx.alert_panel.text_css+"'>"+co(97)+"</div>"+"</td>"+"</tr>"+"</table></center>"+"</div>";if(!bu){$('fastcatchatentry')[eE]=f}else{hc=document.createElement('div');hc.setAttribute('id','jGo_app');hc.className='jGo_myapp';hc.style.display=dZ;hc.style.position='absolute';hc.style.width=(cf?10:h.width)+'px';hc.style.height=h.height+'px';hc.style.top=bv+'px';hc.style.left=bw+'px';hc.style.zIndex=eK+200;hc.style.visibility=(Q.control_visible?"visible":"hidden");hc[eE]=f;document.body.appendChild(hc)}jGo.fcchat_toolbar.friendscenter={};jGo.fcchat_toolbar.friendscenter.style={menu_item:{width:ee.width}};jGo.fcchat_toolbar.friendscenter.create=function(){return"<div class='fc_d5' style='position:absolute;text-align:left;width:"+ee.info_box.width+"px;"+ee.info_box.css+";z-index:"+(eK+103)+";overflow:hidden;'>"+"<div class='fc_t1' id='fc_t1a' style='position:absolute;top:0px;left:0px;width:"+ee.info_box.width+"px;"+ee.info_box.css+";padding-top:"+(ee.info_box.padding_top+q)+"px'>"+((!Q.require_login||Y.inSession==1)&&jGo.cookie.getCookie('fc_tglChat')!='0'&&jGo.cookie.getCookie('fc_pauseChat')!='1'?iM('..'):eU)+"</div>"+"</div>"+"<img class='fc_status_bullet' style='position:absolute;top:"+ee.status.top+"px;left:"+ee.status.left+"px;"+ee.status.css+"' src='"+eO+"bullet_yellow.png'>"+"<img src='"+eO+"trans.gif' style='position:absolute;top:"+ee.divider.top+"px;left:"+ee.divider.left+"px;"+ee.divider.css+"'>"+"<div class='fc_ob1' id='fc_ob1b' style='position: absolute;width:"+(ee.off_button.left-ee.open_chat_button.left)+"px;top: "+(ee.open_chat_button.top+q)+"px; left: "+ee.open_chat_button.left+"px;z-index: "+(eK+102)+";' >"+"<span class='fc_abbtn' ><a onclick='fc_chat.openPopup();' target=_blank href='"+W+"' >"+eA+"</a></span>"+"</div>"+"<div class='fc_ob' style='position: absolute;top: "+(ee.off_button.top+q)+"px; left: "+(ee.off_button.left)+"px;z-index: "+(eK+102)+";'>"+"<span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+fc_chat.obtn+"</a></span>"+"</div>"};jGo.fcchat_toolbar.style.icon_tray.restore.width+=co(0,0,"minimized_text_width_offset");bo=bq.control=Y.createWidget('DefaultToolbar',[jGo.fcchat_toolbar,bs,Q.toolbar_position,co(290,"FriendCenter"),"friendscenter",jGo.toolbar_top,(cf?-2:jGo.toolbar_left),(Q.toolbar_mode==2),(bp==0),null,'fc_',(Q.toolbar_mode!=0&&top==self)]);T('#fc_xxx,#fc_os_min,.fc_ob').css("display","none");T(".fc_ob1").html(fc_chat.toggle_btn(0,0));bo.toggle_dialog=function(a,b,c,d){if(a.css("display")=="none"){fc_chat.close_boxes(null,1)}this.getDefault().toggle_dialog.apply(this,arguments)};bo.hide=function(){fc_chat.close_boxes();this.getDefault().hide.call(this)};bo.toggle=function(){this.getDefault().toggle.call(this);iF((this.minimized?'0':'1'),12)};bo.reposition=function(){if(Y.tPC!=null&&Y.tPC.style.position=='fixed')jz();fc_chat.close_boxes();if(Y.m==0){this.getDefault().reposition.call(this)}};Y.toolbar=bo;if(hj&&Q.toolbar_mode!=0&&!popup&&top==self){setTimeout("fc_chat.toolbar.reposition()",2000)}if(Q.toolbar_mode!=0&&top==self){T(window).scroll(function(){if(gf==1&&Y.m==0&&fc_ex&&fc_ex.toggleOpen){fc_ex.toggleOpen(eG,eF)}})};for(var i=0;i<bs.length;i++){if(bs[i]!="friendscenter"){var u=bq[bs[i]].create_dialogs();bq[bs[i]].append_dialogs(u)}}document.body.appendChild(T("#fc_chatrooms")[0]);document.body.appendChild(T("#fc_onlinelist")[0]);document.body.appendChild(T("#fc_quickchat")[0]);document.body.appendChild(T("#fc_friendslist")[0]);if(Q.prompt_user){var u=bq.prompt.create_dialogs();bq.prompt.append_dialogs(u)}Y.infobox=Y.createWidget('InfoBox',[T(document.body),cS]);Y.nickBox=Y.createWidget('InfoBox',[T(document.body),ie,null,null,0]);if(Q.require_login&&!bZ&&iB(cI)!="0"&&iB(cH)!="1"){if(iB(Q.user_cookie)=="-1"){T(".fc_ob").html(fc_chat.toggle_btn(1,1))}}};function resetVars(){bl=0;bm=0;kv=0;kw=0;kz=0;gp=0;iX=0;gq=0;gr=0;this.transliterator=null;this.transliteration=[0];this.currlang=null;fu=1;fv=false;bldCount=0;itCount=0;uCount=0;i=0;delete a;fU='';fV='0000';fW='';delete fX;fX={};delete fY;fY=null;this.sI=0;if(!cx){gf=0}gg=0;this.cU='0';gh='0';gj='0';gn='0';go=0;gs=0;gt[6]=0;gt[7]=0;gw[6]=0;gw[7]=0;gx[0]='0';gx[1]='0';gx[2]='0';gx[3]='0';gx[4]='0';gx[5]='0';gx[6]='0';for(var i=0;i<50;i++){gy[i]=0}gz[1]=0;gz[2]=0;gz[3]=0;gz[4]=0;gz[5]=0;gz[6]=0;delete gu;gu=[];delete gv;gv=[];fw=false;kN=-1;delete fm;fm=[]};function resetDom(){if(gB!=null){if(!cx){if(eG!=null){eG.cN[0].style.display=ea;eG.frame[0].style.display=ea}clrOverlay()}le();jM(1,6);jM(1,7);$('fc_del')[eE]="<a id='fc_dela' href='javascript:fc_chat.deletePrivateMsgs();' onmouseover='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del2\"' onmouseout='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del\"'><span class='fc_e fc_e_del' id='fc_e_del' title='"+co(21)+"' style='display: block;position:absolute;top:"+(ej)+"px;left:"+(co(0,0,'private_chat_width')+27)+"px;'></span></a>";gS.style.display=ea;ec.style.display=dZ;gT.style.display=ea;gG.style.display=dZ;gU.style.display=ea;T('#fc_top_info_inner').html('')}if(Y.oD!=null){Y.oD.style.display=ea;if(hj){Y.oIF.style.display=ea}}if(Y.tPC!=null){Y.tPC.style.display=ea;if(hj){Y.tPB.style.display=ea}}if(!cx){lf()}kP();fc_chat.send_to(0);T("#fc_t3").html("");if(eb==1){tCL(0)};fc_chat.close_boxes(1,1)};var le=function(){if(gD){gD[eE]='';gG[eE]='';gJ[eE]='';gM[eE]='';gP[eE]='';gS[eE]='';gT[eE]='';gU[eE]=''}};this.opfxLoader=function(){if(iB("fc_tglChat")!="off"&&iB(Q.user_cookie)!="-1"){if((ft==1&&fo==1)||fn==1){clearTimeout(hq);if(top==self){clearTimeout(this.t);clearTimeout(hr);rstCon();resetVars();resetDom();tTC('0');eS();this.loader()}else{fu=1;eU=eW(Q.startText);this.loader()}}else{ft=1}}else{clearTimeout(this.t);clearTimeout(hq);clearTimeout(hr);if($('fc_flaToggle')!=null){$('fc_flaToggle')[eE]=''}resetDom();if(T(".fc_ob1")[0]!=null){if(iB(cI)=="0"){T(".fc_ob").html(fc_chat.toggle_btn(2,1));T("div.fc_t1").html(co(102))}else{if(ft==1){eV(0)}}}ft=1;fo=1}fn=0};this.toggle_btn=function(a,b,n){var c;if(a==0){if(b){c="<span class='fc_abbtn' ><a onclick='fc_chat.openPopup();' target=_blank href='"+W+"' >"+eA+"</a></span>"}else{c="<span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+eA+"</a></span>"}}if(a==1||a==2){var d=(a==1?co(5):co(4));if(b){c="<span class='fc_abbtn' >"+eF+" onClick='fc_chat.toggle_on();return false' >"+d+"</a></span>"}else{c="<span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+d+"</a></span>"}}return c};function show_alertbox(a){fc_chat.close_boxes();v=$('fc_alertbox');$('fc_alerttxt')[eE]=a;document.body.appendChild(v);var b=(cf?cR(T(v)):fc_chat.returnElementCoordinates((Y.m==0?eG.frame[0]:gB)));v.style.display=dZ;v.style.top=(cf?b.y:(b.y+Math.floor((iw(gB.style.height)+45)/2)-Math.floor(100/2)))+'px';v.style.left=(cf?b.x:(b.x+Math.floor((iw(gB.style.width)+10)/2)-Math.floor(co(0,0,'alert_dialog_width')/2)))+'px';v.style.zIndex=eK+1010};var lf=function(){T('#fc_alertbox').css("display",ea);T('#fc_alerttxt').html("")};this.prepare_disabled_mode=function(){fc_chat.closeVid();la();if(Y.m==1){Y.odiv.style.display=ea}if(this.uD!=null){this.uD.style.display=ea;if(hj){this.uIF.style.display=ea}}if(Y.oD!=null){Y.oD.style.display=ea;if(hj){Y.oIF.style.display=ea}}if(Y.tPC!=null){Y.tPC.style.display=ea;if(hj)Y.tPB.style.display=ea}if(gf=='1'){setOverlay(.25)}};this.loader=function(){if(top==self){var x=null;try{x=$('fc_sChat')}catch(err){}if(iB(cI)!="0"&&iB(cH)!="1"&&x!=null){rstCon();getConObj();if(document.getElementById&&document.getElementsByTagName&&document.createElement){l=true;fx='1';a=new userRecord();getPageData();if(Y.inSession==1){if(ge==ea){gb="1"}for(var i=0;i<22;i++){gk[i]='0'}if(fu=='1'){getPageUsers();gk[6]='1'}else{fV='000:'}cX();var b=iE(0);if(b==ea){fj='display:'+ea;fk=0}cG=iB(Q.session_cookie).split('>')[0];if(gb!='0'){if((cG!=null)&&(cG!="")&&(cG!="0")){var c=10+cG.length;Y.uid=Y.uid+'';var d='.:'+Q.chat_id+'000'+c+'1'+Y.uid.length+iv(Y.uid)+cG+String.fromCharCode(10);var e=9+fV.length;var f;f='000'+e;d+=f+'2'+gb+ga+fV;fR=d;fo=1;eS();if((gf=='1'||cf)){show_alertbox(co(100)+eQ)};this.t=setTimeout("fc_chat.begConPre()",1000)}else{eV(-1)}}}}}else{if(x!=null){if(iB(cH)!="1"){T(".fc_ob").html(fc_chat.toggle_btn(2,1));T("div.fc_t1").html(co(102))}else{T("div.fc_t1").html(co(103))}T(".fc_ob1").html(fc_chat.toggle_btn(0,0))}}}else{getPageData()}};this.begConPre=function(){clearTimeout(this.t);if(FCChatConfig.show_country_flags){var a=iE(13).split('/')[0];if(a!=''){fR+=String.fromCharCode(10)+'00004r'+iu(a,3)}}this.t=setTimeout("fc_chat.begCon()",50)};this.toggleHide=function(){if($('fc_m1')!=null){$('fc_m1').checked=true}cV(co(134))};function applySearchResults(a){var v;var b="&nbsp;";var c=0;var d=a[0][0];var e=a;if(bb=='11'){var f=e[1][0].replace(new RegExp("\\n","g"),"<br>");$('configfile').innerHTML="<div style='width:1200px'>"+f+"</div>";return}$('searchoptions').selectedIndex=0;$('searchtext').disabled=false;$('searchtext').focus();if(d.length==2){v="<small><div style='padding:10px;font-weight:bold'>Search Results - page "+bc+"</div></small><table width=100% cellpadding=4 style='padding:10px;margin-top:5px;border:0px solid #aaaaaa;'>";for(var i=1;i<e.length;i++){var g=e[i][0].split('&');var h='';e[i][0]=it(g[0]);if(g.length>1){h=g[1]}c++;v+="<tr bgcolor='eeeeee'><td><small>"+(c+(bc-1)*50)+") <a href='javascript:fc_chat.getUserRec("+e[i][1]+")'>"+e[i][0]+"</a>&nbsp;&nbsp;"+(h==''?"":"("+it(h)+")")+"</small></td></tr>"}}else if(d.length==3){v="<small><div style='padding:10px;font-weight:bold'>Blocked IP's - page "+bc+"</div></small><table width=100% cellpadding=4 style='padding:10px;margin-top:5px;border:0px solid #aaaaaa;'>";for(var i=1;i<e.length;i++){c++;v+="<tr bgcolor='eeeeee'><td><small>"+(c+(bc-1)*50)+") "+e[i][0]+"&nbsp;&nbsp;&nbsp;<div id='fc_ip"+c+"' style='display:inline'><a href='javascript:fc_chat.adminBlockIPByName(\""+e[i][0]+"\",0,0,"+c+")'>Unblock</a></div></small></td></tr>"}}else{var j='Words/Phrases to filter from chat text';var k='M';if(bb=='10'){j='Words/Phrases to filter from screen names';k='`'}v="<small><div style='padding:10px;font-weight:bold'>"+j+" - page "+bc+"</span></small><table width=100% cellpadding=4 style='padding:10px;margin-top:5px;border:0px solid #aaaaaa;'>";for(var i=1;i<e.length;i++){c++;var l=e[i][0];e[i][0]=e[i][0].replace(/\\/g,'\\\\');e[i][0]=e[i][0].replace(/"/g,'\\"');e[i][0]=e[i][0].replace(/'/g,'&#39;');v+="<tr bgcolor='eeeeee'><td><small>"+(c+(bc-1)*50)+") "+myUn(l,1)+"&nbsp;&nbsp;&nbsp;<div id='fc_phrase"+c+"' style='display:inline'><a href='javascript:fc_chat.removeFromWordFilter(\""+e[i][0]+"\","+c+",\""+k+"\")'>Remove</a></div></small></td></tr>"}}if(c==0){b="<small>No Results Found</small>"}else{if(d.charAt(0)=='1'){var m=bc-1;b+="<a href='javascript:fc_chat.search("+bb+","+m+")'><small>&laquo;&laquo; Previous Page</small></a>&nbsp;&nbsp;"}if(d.charAt(1)=='1'){var n=bc+1;b+="<a href='javascript:fc_chat.search("+bb+","+n+")'><small>Next Page &raquo;&raquo;</small></a>&nbsp;&nbsp;"}}v+="<tr bgcolor='eeeeee'><td>"+b+"</td></tr></table>";$('searchframe').innerHTML=v};var lg=function(a,s){var b=a.split(",");s=s+'';for(var i=0;i<b.length;i++){if(b[i]==s){return true}};return false};function applyUserRec(a){var v;var b=0;var c;var d=a;var e=d[2].split('&');var f='';d[2]=it(e[0]);if(e.length>1){f=e[1]}if(d[5]=='0'){c='user'}else if(d[5]=='1'){c='moderator'}else{c='administrator'}var g='Offline';var h=d[4];h=h.replace(/%26/g,'&');h=h.replace(/%25/g,'%');h=h.replace(/'/g,'&#39;');if(d[6]==='1'){g='Online'}var i=[];i[0]=(d[7]=='1'?'checked':'');i[1]=(d[7]=='1'?'':'checked');i[2]=(d[8]=='1'?'checked':'');i[3]=(d[8]=='1'?'':'checked');i[4]=(d[5]=='1'?'checked':'');i[5]=(d[5]!='1'?'checked':'');i[12]=(d[5]=='2'?'checked':'');i[13]=(d[5]!='2'?'checked':'');var j="";var k=d[9];for(var l in fl){if(fl.hasOwnProperty(l)){l=l-0;var m='';var n='';if(lg(k,l)){m='checked'}else{n='checked'}j+="<tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Block chat in "+fl[l].nm+":</small></td><td><small>Y</small><input id='arm"+l+"1' type='radio' name='rm"+l+"' value ='1' onclick='fc_chat.adminBlock("+d[1]+",1,\"H\",\""+l+"\",\""+fl[l].nm+"\")' "+m+"></td><td><nobr><small>N</small><input id='arm"+l+"0' type='radio' name='rm"+l+"' value ='0' onclick='fc_chat.adminBlock("+d[1]+",0,\"H\",\""+l+"\",\""+fl[l].nm+"\")'"+n+"></nobr></td></tr>"}}v="<small>"+"<div style='padding:10px;font-weight:bold'>User Administration</div>"+"</small>"+"<table width=100% cellpadding=4 style='padding:10px;margin-top:5px;border:0px solid #aaaaaa;'>"+"<tr bgcolor='eeeeee'><td colspan=3>"+"<small>User Name: <b>"+d[2]+"</b>&nbsp;"+(f==''?"":"("+it(f)+")")+"&nbsp;&nbsp;Last IP: <b>"+d[3]+"</b></small></td></tr>"+"<tr bgcolor='eeeeee'><td colspan=3><small>Account: <b><div id='accountType' style='display:inline'>"+c+"</div></b></small></td></tr>"+"<tr bgcolor='eeeeee'><td colspan=3><small>Status: (when record Loaded)&nbsp;<b><div id='userStatus' style='display:inline'>"+g+"</div></b></small></td></tr>"+"<tr bgcolor='eeeeee'><td colspan=3><small>Title: </small><input id='ttlTxt' type='text' name='title' value ='"+h+"'>&nbsp; <input type='button' id='ttlbtn' name='title button' value='Save' OnClick='fc_chat.adminSaveTitle("+d[1]+")'><span style='display:none;margin-left:3px;color:green;font-style:italic' id='savingttl'>Saving...</span></td></tr>"+"<tr bgcolor='eeeeee'><td colspan=3><small>New Password: </small><br>"+"<input id='pwrdtxt' type='password' name='password' value =''>&nbsp; <br><small>Confirm Password</small><br>"+"<input id='pwrdtxt2' type='password' name='password' value =''>&nbsp;<input type='button' id='pwrdbtn' name='password button' value='Save' OnClick='fc_chat.adminSavePassword("+d[1]+")'><span style='display:none;margin-left:3px;color:green;font-style:italic' id='savingpwrd'>Saving...</span></td></tr>"+"<tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Block chat in all rooms:</small></td><td><small>Y</small><input id='agbl1' type='radio' name='global' value ='1' onClick='fc_chat.adminBlock("+d[1]+",1,\"F\",\"\",\"\")' "+i[0]+"></td><td><nobr><small>N</small><input id='agbl0' type='radio' name='global' value='0' onClick='fc_chat.adminBlock("+d[1]+",0,\"F\",\"\",\"\")' "+i[1]+"></nobr></td></tr>"+"<tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Block from private chat:</small></td><td><small>Y</small><input id='aprv1' type='radio' name='private' value ='1' onclick='fc_chat.adminBlock("+d[1]+",1,\"G\",\"\",\"\")' "+i[2]+"></td><td><nobr><small>N</small><input id='aprv0' type='radio' name='private' value ='0' onclick='fc_chat.adminBlock("+d[1]+",0,\"G\",\"\",\"\")' "+i[3]+"></nobr></td></tr>";v+=j;v+="<tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Releases Current Auto-Blocks:</small></td><td colspan=2><input type='button' id='autoblock' name='autoblock' value='Release' OnClick='fc_chat.adminReleaseAutoBlock("+d[1]+")'></td></tr><tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Disconnect User:</small></td><td colspan=2><input type='button' id='aboot' name='boot' value ='Boot' OnClick='fc_chat.adminBoot("+d[1]+")'></td></tr><tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Censor all messages: </small></td><td colspan=2><input id='del1' type='button' name='censor' value ='Censor' OnClick='fc_chat.adminDelAll("+d[1]+")'></td></tr><tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Block IP for 30 min: (Admin Only)</small></td><td colspan=2><input type='button' id='tipblk' name='block' value ='Block' OnClick='fc_chat.adminBlockIP("+d[1]+",0)'></td></tr><tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Block IP permanently: (Admin Only)</small></td><td colspan=2><input type='button' id='pipblk' name='block' value ='Block' OnClick='fc_chat.adminBlockIP("+d[1]+",1)'></td></tr>"+"<tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Promote to Administrator: (Admin Only)</small></td><td><small>Y</small><input id='promo1a' type='radio' name='promoa' value ='1' "+i[12]+" Onclick='fc_chat.adminGrantAdmin("+d[1]+",1)'></td><td><nobr><small>N</small><input id='promo2a' type='radio' name='promoa' value ='0'"+i[13]+" Onclick='fc_chat.adminGrantAdmin("+d[1]+",0)'></nobr></td></tr>"+"<tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Promote to Moderator: (Admin Only)</small></td><td><small>Y</small><input id='promo1' type='radio' name='promo' value ='1' "+i[4]+" Onclick='fc_chat.adminGrantMod("+d[1]+",1)'></td><td><nobr><small>N</small><input id='promo2' type='radio' name='promo' value ='0'"+i[5]+" Onclick='fc_chat.adminGrantMod("+d[1]+",0)'></nobr></td></tr>"+"<tr bgcolor='eeeeee'><td colspan=3>&nbsp;</td></tr></table>";if(gc=='2'&&d[5]=='1'){i[6]=(d[13]=='0'?'':'checked');i[7]=(d[13]=='0'?'checked':'');i[8]=(d[14]=='0'?'':'checked');i[9]=(d[14]=='0'?'checked':'');i[10]=(d[15]=='0'?'':'checked');i[11]=(d[15]=='0'?'checked':'');v+="<div id='modprivs' style='display:block'><br><small><div style='padding:10px;font-weight:bold'>Moderator Privileges</div></small><table width=100% style='padding:10px;margin-top:5px;border:0px solid #aaaaaa;'><tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Allow Global Message Blocking:</small></td><td><small>Y</small><input  type='radio' id='allowGlb1' name='AllowGlb' value ='1' "+i[6]+" Onclick='fc_chat.adminModPrivileges("+d[1]+",1,1)'></td><td><nobr><small>N</small><input type='radio' id='allowGlb2' name='AllowGlb' value ='0' "+i[7]+" Onclick='fc_chat.adminModPrivileges("+d[1]+",1,0)'></nobr></td></tr><tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Allow Private Message Blocking:</small></td><td><small>Y</small><input  type='radio' id='allowpriv1' name='AllowPriv' value ='1' "+i[8]+" Onclick='fc_chat.adminModPrivileges("+d[1]+",2,1)'></td><td><nobr><small>N</small><input type='radio' id='allowpriv2' name='AllowPriv' value ='0' "+i[9]+" Onclick='fc_chat.adminModPrivileges("+d[1]+",2,0)'></nobr></td></tr><tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Allow Censor all Messages:</small></td><td><small>Y</small><input  type='radio' id='allowDel1' name='AllowDel' value ='1' "+i[10]+" Onclick='fc_chat.adminModPrivileges("+d[1]+",3,1)'></td><td><nobr><small>N</small><input type='radio' id='allowDel2' name='AllowDel' value ='0' "+i[11]+" Onclick='fc_chat.adminModPrivileges("+d[1]+",3,0)'></nobr></td></tr><tr bgcolor='eeeeee'><td colspan=3>&nbsp;</td></tr></table></div>"}$('userframe').innerHTML=v;if(gc!='2'){$('tipblk').disabled=true;$('pipblk').disabled=true;$('promo1').disabled=true;$('promo2').disabled=true;$('promo1a').disabled=true;$('promo2a').disabled=true;$('ttlTxt').disabled=true;$('ttlbtn').disabled=true;$('pwrdbtn').disabled=true;if(d[5]=='2'){$('agbl1').disabled=true;$('agbl0').disabled=true;$('aprv1').disabled=true;$('aprv0').disabled=true;$('aboot').disabled=true;$('del1').disabled=true;$('autoblock').disabled=true;for(var l in fl){if(fl.hasOwnProperty(l)){l=l-0;$('arm'+l+'1').disabled=true;$('arm'+l+'0').disabled=true}}}}else{if(d[5]=='2'&&d[1]!=Y.uid){if(d[0]!=Y.uid){$('pwrdbtn').disabled=true}}if((d[5]=='2'&&d[0]!=Y.uid)||d[1]==Y.uid){$('promo1a').disabled=true;$('promo2a').disabled=true}if(f==""&&(d[2].substr(0,co(1).length)==co(1)||d[2].indexOf('('+co(1))!=-1)){$('promo1').disabled=true;$('promo2').disabled=true;$('promo1a').disabled=true;$('promo2a').disabled=true}if((d[5]=='2'&&d[0]!=Y.uid)&&d[1]!=Y.uid){$('tipblk').disabled=true;$('pipblk').disabled=true;$('promo1').disabled=true;$('promo2').disabled=true;$('promo1a').disabled=true;$('promo2a').disabled=true;$('ttlTxt').disabled=true;$('ttlbtn').disabled=true;$('pwrdbtn').disabled=true;if(d[5]=='2'){$('agbl1').disabled=true;$('agbl0').disabled=true;$('aprv1').disabled=true;$('aprv0').disabled=true;$('aboot').disabled=true;$('autoblock').disabled=true;$('del1').disabled=true;for(var l in fl){if(fl.hasOwnProperty(l)){l=l-0;$('arm'+l+'1').disabled=true;$('arm'+l+'0').disabled=true}}}}}if(d[0]!=Y.uid){$('promo1a').disabled=true;$('promo2a').disabled=true}if(d[5]=='2'){$('promo1').disabled=true;$('promo2').disabled=true}if(f!=""||(d[2].substr(0,co(1).length)==co(1)||d[2].indexOf('('+co(1))!=-1)){$('pwrdbtn').disabled=true}if(d[10]=='0'){$('agbl1').disabled=true;$('agbl0').disabled=true}if(d[11]=='0'){$('aprv1').disabled=true;$('aprv0').disabled=true}if(d[12]=='0'){$('del1').disabled=true}};this.search=function(a,b){if(!l&&a!=0){if(gc!='0'&&((a!=6&&a!=9&&a!=10)||gc=='2')){l=true;var c;var v;if(a==-1){a=0}bb=a;bc=b;var d=String.fromCharCode((a+59));if(a==10){d=String.fromCharCode(95)}if(a==0&&b==1){v=$('searchtext');c=v.value;ba=c;v.value=''}else{if(a==0){c=ba}else{c='0'}}c=c.replace(/&/g,'&amp;');c=c.replace(/</g,'&amp;lt;');c=c.replace(/>/g,'&amp;gt;');c=c.replace(/\\/g,'\\\\');if(c.length>0){if(c.length<50){fT='000'+(c.length+10);if(b!=1){var e=b.toString();fT+=d+e.length+e;for(var i=0;i<8-e.length;i++){fT+='0'}}else{fT+=d+'110000000'}fT+=c;try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}}else{l=false;cV('Search is too big (50 chars max).');return}}else{l=false;cV('Please enter at least one character!');return}$('searchframe').innerHTML="<center><div style='margin-top:85px'><small><b>Searching...Please Wait.</b></small></div></center>";fc_chat.lockAdmin()}else{l=false;$('searchframe').innerHTML="<div style='margin-top:85px'><small><b>You do not have enough privileges to make this search.</b></small></div>"}}};this.getUserRec=function(a){if(!l&&gc!='0'){l=true;var b=a.toString();fT='00010E'+b.length+b;for(var i=0;i<8-b.length;i++){fT+='0'}try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}$('userframe').innerHTML="<center><div style='margin-top:85px'><small><b>Loading Record...Please Wait.</b></small></div></center>";fc_chat.lockAdmin()}};this.adminSaveTitle=function(a){if(!l&&gc=='2'){l=true;var b=$("ttlTxt").value;if(b==''){var c=a.toString();fT='00010j'+c.length+c;for(var i=0;i<8-c.length;i++){fT+='0'}}else{b=b.replace(/%/g,'%25');b=b.replace(/&/g,'%26amp;');b=b.replace(/</g,'%26lt;');b=b.replace(/>/g,'%26gt;');b=b.replace(/\\/g,'\\\\');if(is(b)<51){fT='000'+(is(b)+10)}else{l=false;cV('Title too big. 50 chars max.');return false}var c=a.toString();fT+='i'+c.length+c;for(var i=0;i<8-c.length;i++){fT+='0'}fT+=b}$('savingttl').style.display="inline";try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}};this.adminBlock=function(a,n,v,b,c){if(!l){if(gc!='0'){l=true;var d=a.toString();if(b!=''){c=c.replace(/%/g,'%25');c=c.replace(/&/g,'%26amp;');c=c.replace(/</g,'%26lt;');c=c.replace(/>/g,'%26gt;');c=c.replace(/\\/g,'\\\\');if(c.length>0&&c.length<300){if((is(c)+17)<100){fT='000'+(is(c)+17)}else{fT='00'+(is(c)+17)}fT+=v+n+iu(b,6)+d.length+d;for(var i=0;i<8-d.length;i++){fT+='0'}fT+=c}else{l=false;return false}}else{fT='00011'+v+n+d.length+d;for(var i=0;i<8-d.length;i++){fT+='0'}}try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}}else{if(n==0){var e=v.charCodeAt(0);switch(e){case 67:$('agbl1').checked=true;break;case 68:$('aprv1').checked=true;break;case 69:var f=b-0;for(var k=0;k<55;k++){if(f==k){$('arm'+k+'1').checked=true}}break;default:break}}if(n==1){var e=v.charCodeAt(0);switch(e){case 67:$('agbl0').checked=true;break;case 68:$('aprv0').checked=true;break;case 69:var f=b-0;for(var k=0;k<55;k++){if(f==k){$('arm'+k+'0').checked=true}}break;default:break}}}};this.adminDelAll=function(a){if(!l&&gc!='0'){l=true;var b=a.toString();if((co(119).length+11)<100){fT='000'+(co(119).length+11)}else{fT='00'+(co(119).length+11)}fT+='I1'+b.length+b;for(var i=0;i<8-b.length;i++){fT+='0'}fT+=co(119);try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){l=false;cV('An Error Occurred. Please Refresh')}$('del1').disabled=true;setTimeout('fc_chat.adminRelease("del1")',1000);fc_chat.lockAdmin()}};this.deleteMsg=function(a,b){if(!l){if(gc!='0'){l=true;if((co(119).length+24)<100){fT='000'+(co(119).length+24)}else{fT='00'+(co(119).length+24)}var c;if(a==gw[6]-1){c=b}else if(a!=0){c=gs-(gz[1]+a*50-b)}else{c=gs-(gz[1]+a*50-(gz[1]-(gx[1]-b)))}var d=c.toString();fT+='J'+iu(bl,6)+d.length+d;for(var i=0;i<8-d.length;i++){fT+='0'}fT+='{{^^!^}}'+co(119);try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}var e=(a==0?'':'p');$(e+'censor'+b).innerHTML="<font style='color:"+by.font.color.censored_color+"'>**Censored**</font> "}}};this.admin_clear_room=function(j){if(!l){if(confirm("Are you sure you want to clear this room?")){if(gc=='2'){l=true;var a=j-0;var b=fl[a].nm;b=b.replace(/%/g,'%25');b=b.replace(/&/g,'%26amp;');b=b.replace(/</g,'%26lt;');b=b.replace(/>/g,'%26gt;');b=b.replace(/\\/g,'\\\\');if(b.length>0&&b.length<300){if((is(b)+7)<10){fT='0000'+(is(b)+7)}else if((is(b)+7)<100){fT='000'+(is(b)+7)}else{fT='00'+(is(b)+7)}}else{l=false;return false}fT+='^'+iu(a,6)+b;try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}}}};this.adminReleaseAutoBlock=function(a){if(!l&&gc!='0'){l=true;var b=a.toString();fT='00010O'+b.length+b;for(var i=0;i<8-b.length;i++){fT+='0'}try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}$('autoblock').disabled=true;setTimeout('fc_chat.adminRelease("autoblock")',1000);fc_chat.lockAdmin()}};this.adminGetConfig=function(){if(!l&&gc=='2'){l=true;bb='11';fT='00001b';$('configfile').innerHTML=" Loading...Please Wait.";try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}};this.adminReboot=function(){if(!l&&gc=='2'){if(confirm("Are you sure you want to reboot the chat server?")){l=true;fT='00001a';try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}}};this.adminBoot=function(a){if(!l&&gc!='0'){l=true;var b=a.toString();fT='00010N'+b.length+b;for(var i=0;i<8-b.length;i++){fT+='0'}try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}$('aboot').disabled=true;setTimeout('fc_chat.adminRelease("aboot")',1000);fc_chat.lockAdmin()}};this.adminBlockIP=function(a,b){if(!l&&gc=='2'){l=true;var c=a.toString();fT='00012K1'+b+c.length+c;for(var i=0;i<8-c.length;i++){fT+='0'}try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}var d=(b==0?'tipblk':'pipblk');$(d).disabled=true;setTimeout('fc_chat.adminRelease("'+d+'")',1000);fc_chat.lockAdmin()}};this.adminBlockIPByName=function(a,b,c,d){if(!l&&gc=='2'){l=true;fT='000'+(a.length+3)+'L'+b+c+a;try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}if(b==0){$('fc_ip'+d).innerHTML="<font color=red>**Unblocked**</font>"}fc_chat.lockAdmin()}};this.addToWordFilter=function(a){if(!l&&gc=='2'){l=true;var b=$(a).value;$(a).value='';b=b.replace(/%/g,'%25');b=b.replace(/&/g,'%26amp;');b=b.replace(/</g,'%26lt;');b=b.replace(/>/g,'%26gt;');b=b.replace(/\\/g,'\\\\');if(b.length==0){l=false;cV('Please enter at least one character.');return false}if(is(b)<51){if((is(b)+2)<10){fT='0000'+(is(b)+2)}else{fT='000'+(is(b)+2)}}else{l=false;cV('Phrase too big. About 50 chars max.');return false}var c='M';if(a=='filteruser'){c='`'}fT+=c+'1'+b;try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}};this.removeFromWordFilter=function(a,b,c){if(!l&&gc=='2'){l=true;$('fc_phrase'+b).innerHTML="<font color=red>**Removed**</red>";a=a.replace(/\\"/g,'"');a=a.replace(/%/g,'%25');a=a.replace(/&lt;/g,'%26lt;');a=a.replace(/&gt;/g,'%26gt;');a=a.replace(/&amp;/g,'%26amp;');a=a.replace(/\\/g,'\\\\');if(is(a)<51){if((is(a)+2)<10){fT='0000'+(is(a)+2)}else{fT='000'+(is(a)+2)}}else{l=false;return false}fT+=c+'0'+a;try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}};this.adminBlockIPButton=function(){if(!l&&gc=='2'){if($('ip1').value==''||$('ip2').value==''||$('ip3').value==''||$('ip4').value==''){cV('Invalid IP');return false}else{var a=$('ip1').value+'.'+$('ip2').value+'.'+$('ip3').value+'.'+$('ip4').value;fc_chat.adminBlockIPByName(a,1,1);$('ip1').value='';$('ip2').value='';$('ip3').value='';$('ip4').value='';$('bip').disabled=true;setTimeout('fc_chat.adminRelease("bip")',1000)}fc_chat.lockAdmin()}return false};this.adminGrantAdmin=function(a,b){setTimeout("fc_chat.adminGrantAdmin2("+a+","+b+")",50)};this.adminGrantAdmin2=function(a,b){if(!l){if(gc=='2'){l=true;var c=a.toString();fT='00011l'+b+c.length+c;for(var i=0;i<8-c.length;i++){fT+='0'}try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}if(b==1){$('accountType').innerHTML="Administrator";$('promo1a').checked=true;$('promo2').checked=true;$('promo1').disabled=true;$('promo2').disabled=true;if($('modprivs')!=null){$('modprivs').style.display='none'}}else{$('accountType').innerHTML="User";$('promo1').disabled=false;$('promo2').disabled=false;if($('modprivs')!=null){$('modprivs').style.display='none'}}fc_chat.lockAdmin()}}else{if(b==1){$('promo2a').checked=true}else{$('promo1a').checked=true}}};this.adminGrantMod=function(a,b){setTimeout("fc_chat.adminGrantMod2("+a+","+b+")",50)};this.adminGrantMod2=function(a,b){if(!l){if(gc=='2'){l=true;var c=a.toString();fT='00011P'+b+c.length+c;for(var i=0;i<8-c.length;i++){fT+='0'}try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}if(b==1){$('accountType').innerHTML="Moderator";if($('modprivs')==null){$('userframe').innerHTML+="<div id='modprivs' style='display:block'><br><small><div style='padding:10px;font-weight:bold'>Moderator Privileges</div></small><table width=100% style='padding:10px;margin-top:5px;border:0px solid #aaaaaa;'><tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Allow Global Message Blocking:</small></td><td><small>Y</small><input  type='radio' id='allowGlb1' name='AllowGlb' value ='1' checked Onclick='fc_chat.adminModPrivileges("+a+",1,1)'></td><td><nobr><small>N</small><input type='radio' id='allowGlb2' name='AllowGlb' value='0' Onclick='fc_chat.adminModPrivileges("+a+",1,0)'></nobr></td></tr><tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Allow Private Message Blocking:</small></td><td><small>Y</small><input  type='radio' id='allowpriv1' name='AllowPriv' value ='1' checked Onclick='fc_chat.adminModPrivileges("+a+",2,1)'></td><td><nobr><small>N</small><input type='radio' id='allowpriv2' name='AllowPriv' value ='0' Onclick='fc_chat.adminModPrivileges("+a+",2,0)'></nobr></td></tr><tr bgcolor='eeeeee'><td bgcolor='eeeeee'><small>Allow Censor all Messages:</small></td><td><small>Y</small><input  type='radio' id='allowDel1' name='AllowDel' value ='1' checked Onclick='fc_chat.adminModPrivileges("+a+",3,1)'></td><td><nobr><small>N</small><input type='radio' id='allowDel2' name='AllowDel' value ='0' Onclick='fc_chat.adminModPrivileges("+a+",3,0)'></nobr></td></tr><tr bgcolor='eeeeee'><td colspan=3>&nbsp;</td></tr></table></div>"}else{$('modprivs').style.display='block';$('allowGlb1').checked=true;$('allowpriv1').checked=true;$('allowDel1').checked=true}$('promo1').checked=true}else{$('accountType').innerHTML="User";$('modprivs').style.display='none'}fc_chat.lockAdmin()}}else{if(b==1){$('promo2').checked=true}else{$('promo1').checked=true}}};this.adminModPrivileges=function(a,b,c){if(!l){if(gc=='2'){l=true;var d=a.toString();fT='00012Q'+c+b+d.length+d;for(var i=0;i<8-d.length;i++){fT+='0'}try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}}else{if(b==1){if(c==1){$('allowGlb2').checked=true}else{$('allowGlb1').checked=true}}else if(b==2){if(c==1){$('allowpriv2').checked=true}else{$('allowpriv1').checked=true}}else{if(c==1){$('allowdel2').checked=true}else{$('allowdel1').checked=true}}}};this.adminSavePassword=function(a){if(!l&&gc=='2'){l=true;var b=$('pwrdtxt').value;var c=$('pwrdtxt2').value;$('pwrdtxt').value='';$('pwrdtxt2').value='';if(b!=c){l=false;cV('Passwords do not match.');return false}var d=false;if(b.length>2&&b.length<16){if(!dX.test(b)){d=true}}if(!d){l=false;cV('Room passwords must be between 3 and 15 characters. Letters, numbers, and underscores only.');return false}var e=a.toString();fT='00042m'+e.length+e;for(var i=0;i<8-e.length;i++){fT+='0'}fT+=jGo.MD5.hex_md5(b);try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}if(a==Y.uid){be=jGo.MD5.hex_md5(b)}$('savingpwrd').style.display="inline";fc_chat.lockAdmin()}};this.adminUpdateConfigField=function(n){if(!l&&gc=='2'){var o="Reminder: If you update 'showTyping' or 'useAvatars' here, you must also update the corresponding variable in the client configuration file: FCChat/config/config.js. Refer to the product manual for more info.";if(n=='3'){o="Warning: You should not change this setting unless you have been explicitly instructed to do so, as it may affect the operation of the chat. Do you want to continue?"};if(n=='2'||n=='4'||n=='5'||confirm(o)){if(n=='2'||n=='1'||n=='0'||n=='5'){l=true;var p=n;var q=iw($('configvalue'+n).selectedIndex)-1;$('configvalue'+n).selectedIndex=0;if(q==-1){l=false;cV('You must specify a value.');return}fT='00003';fT+='c'+p+q;try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}if(n=='3'){l=true;var r='';r=$('configvalue3').value;$('configvalue3').value='';if(r.length>512){l=false;cV('Key is a bit too long. 512 chars max');return}if(r.length<4){l=false;cV('Key is too short. 4 chars min');return}var s=r.length+11;fT='';if(s.length>100){fT+='00'+s}else{fT+='000'+s}var t=r.length;if(r.length<10){t='00'+t}else if(r.length<100){t='0'+t}fT+='c3000000'+t+''+r;try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}if(n=='4'){l=true;var u='';u=$('adminname').value;$('adminname').value='';if(u.length>512){l=false;cV('Name is a bit too long. 512 chars max');return}if(u.length<1){l=false;cV('Please enter the name of the account you wish to use as an administrator.');return}var v=0;var w=['','checkLength(room)','checkLength(room)','PHPbb','SMF','Drupal','joomla','MyBB'];var x=["","../proxies/fcchat_wordpress_proxy.php","../proxies/fcchat_wordpress_proxy2.php","../proxies/fcchat_phpbb3_proxy.php","../proxies/fcchat_smf_proxy.php","../proxies/drupal.php","../proxies/joomla.php","../proxies/mybb.php"];v=iw($('configvalue'+n).selectedIndex);$('configvalue'+n).selectedIndex=0;if(v==0){l=false;cV('You must specify a value for CMS Type.');return}T.post(x[v],{f:0},function(a){var b='';var c=a.split("<fcchatresponse>");if(c.length>1){b=c[1]}if(b==''){l=false;cV("Cannot continue because you are not currently logged in to "+w[v]+". Plese log in to "+w[v]+" with the account you wish to use for fcchat administration.");return}else{var d=b.split('&');var e=d[0];var f=d[1];var g='';b=b.substr(e.length+f.length+2);var h=parseInt(b.substr(0,3),10);var i=b.substr(3,h);if(i.toLowerCase()!=u.toLowerCase()){l=false;cV("The account name you provided does not match the "+w[v]+" account you are currently logged under.");return}var j=is(i);var k=e.length;var m=j+k+11;fT='';if(m.length>1000){fT+='0'+m}else if(m.length>100){fT+='00'+m}else{fT+='000'+m}if(j<10){j='00'+j}else if(j<100){j='0'+j}if(e.length<10){k='0'+k}fT+='c30'+j+''+k+'000'+i+e;try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}},"html").error(function(e){l=false;cV("Cannot continue because you are not currently logged in to "+w[v]+". Plese log in to "+w[v]+" with the account you wish to use for fcchat administration.");return})}}}};this.adminSetConsoleMode=function(){if(!l&&gc=='2'){l=true;var a=$('console_mode').value;var b=$('chat_id').value;if(b==''){b='0000000000000000'};fT='00018d'+a+b;try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){cV('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}};this.admin_delete_room=function(j){if(!l){if(confirm("Are you sure you want to delete this room?")){l=true;fT='00007k'+iu(j,6);try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){gD[eE]=eD}fc_chat.lockAdmin()}}};this.admin_create_edit_room=function(a,j){if(!l){var b=0;if(a==0){for(var c in fl){if(fl.hasOwnProperty(c)){b++}}}else{var d=jA;if(d!=j){while(true){b++;ind=fl[d].next;if(ind==j){break}d=ind}}}var e=bx.edit_room_panel;var f=(a==1?fl[j].nm:'');f=f.replace(/'/g,'&#39;');var g=(a==1?fl[j].dsc:'');g=g.replace(/'/g,"&#39;");var h='checked';var i='';if(a==1&&fl[j].v){i='checked';h=''}if(a!=1){j=0}var k="<div id='fc_passbox'><table cellpadding='3' style='padding:5px;margin-left:10px;margin-right:15px;margin-top:20px'><tr><td ><div><font id='fc_passtxt' style='"+e.font.title_css+"'>"+(a==1?"Edit":"Create")+" Room.</font><br><br></div></td></tr>"+"<tr><td><div><input id='fc_roomname' value='"+f+"' type=text name=name style='width:240px;"+e.textfield_css+"' maxlength='50'>&nbsp;<span style='"+e.font.textfield_description_css+"'>Room Name</span><br><br></div></td></tr>"+"<tr><td><div><input id='fc_roomdesc' value='"+g+"' type=text name=desc style='width:300px;"+e.textfield_css+"' maxlength='300'>&nbsp;<span style='"+e.font.textfield_description_css+"'>Room Description</span><br><br></div></td></tr>"+"<tr><td><div><input id='fc_roompass' type=password name=password style='width:120px;"+e.textfield_css+"' maxlength='15'>&nbsp;<span style='"+e.font.textfield_description_css+"'>Room Password</span><br><font id='fc_pswrdtxt' style='"+e.font.smalltext_css+"'>Leave blank if no password.</font><br><br></div></td></tr>"+(j!=jA?"<tr><td><div><input id='fc_roomindex' onKeyPress='return numbersonly(this, event)' type=text name=index style='width:120px;"+e.textfield_css+"' value='"+b+"' maxlength='2'>&nbsp;<span style='"+e.font.textfield_description_css+"'>Room Index</span><br><font id='fc_pswrdtxt' style='"+e.font.smalltext_css+"'>Position below first room: 1,2,3,etc.</font><br><br></div></td></tr>":"")+"<tr><td><div id='fc_allow_video' style='width:300px;height:20px;"+e.font.textfield_description_css+"'>Allow Video:&nbsp;&nbsp;&nbsp;&nbsp;"+"<INPUT TYPE=radio  id='fc_allowvideo1' name='DTM' "+h+" VALUE='1'>yes&nbsp;&nbsp;"+"<INPUT TYPE=radio  id='fc_allowvideo2' name='DTM' "+i+" VALUE='0'>no"+"</div></td></tr><tr><td>"+"<br><input type=button id='fc_renter' name='Submit' value='"+(a==1?'Edit':'Create')+"' style='font-size:7pt' onclick='fc_chat.admin_validate_room(\""+j+"\")'>&nbsp;<input type=button id='fc_rexit' name='Exit' value='Cancel' onclick='fc_chat.tgl_info_panel()' style='font-size:7pt'></nobr><br><br></div></td></tr></table></div>";gU[eE]=k}};this.admin_validate_room=function(j){if(!l){l=true;$('fc_passtxt')[eE]="Please wait.";$('fc_renter').disabled=true;$('fc_rexit').disabled=true;var a=($('fc_roompass')?$('fc_roompass').value:'');if($('fc_roompass')){$('fc_roompass').value=''}var b=false;if(a==''){b=true}if(a.length>2&&a.length<16){if(!dX.test(a)){b=true}}if(!b){l=false;$('fc_passtxt')[eE]='Room passwords must be between 3 and 15 characters. Letters, numbers, and underscores only.';$('fc_renter').disabled=false;$('fc_rexit').disabled=false;return false}var c=$('fc_roomname').value;$('fc_roomname').value='';if(c.length>0&&c.length<=50){c=c.replace(/%/g,'%25');c=c.replace(/&/g,'%26amp;');c=c.replace(/</g,'%26lt;');c=c.replace(/>/g,'%26gt;');c=c.replace(/\\/g,'\\\\')}else{$('fc_passtxt')[eE]="Room names must be between 1 and 50 chars.";l=false;$('fc_renter').disabled=false;$('fc_rexit').disabled=false;return false}var d=$('fc_roomdesc').value;$('fc_roomdesc').value='';if(d.length<=300){d=d.replace(/%/g,'%25');d=d.replace(/&/g,'%26amp;');d=d.replace(/</g,'%26lt;');d=d.replace(/>/g,'%26gt;');d=d.replace(/\\/g,'\\\\')}else{$('fc_passtxt')[eE]="Room descriptions must be less than 300 chars.";l=false;$('fc_renter').disabled=false;$('fc_rexit').disabled=false;return}var e=($('fc_roomindex')?$('fc_roomindex').value:0);e=Math.min(iw(e),199);var f=($('fc_allowvideo1').checked?'0':'1');var g=21+is(c)+is(d)+is(a);fT='000'+g;if(g>=100){fT='00'+g}if(g>=1000){fT='0'+g}fT+=']'+iu(j,6)+iu(e,6)+f;if(is(c)>=10){fT+=''+is(c)}else{fT+='0'+is(c)}fT+=c;if(is(d)>=100){fT+=''+is(d)}else if(is(d)>=10){fT+='0'+is(d)}else{fT+='00'+is(d)}fT+=d;if(is(a)>=10){fT+=''+is(a)}else{fT+='0'+is(a)}fT+=a;try{fQ.jsSendData(fT);fD=new Date().getTime()}catch(err){gD[eE]=eD}gk[7]='1';fc_chat.lockAdmin()}};this.adminRelease=function(a){$(a).disabled=false};this.lockAdmin=function(){$('leftframecover').style.display="block";$('bip').disabled=true;$('reboot').disabled=true;$('getconfig').disabled=true;$('setconfigvalue0').disabled=true;$('setconfigvalue1').disabled=true;$('setconfigvalue2').disabled=true;$('configvalue3').disabled=true;$('setconfigvalue4').disabled=true;$('setconfigvalue5').disabled=true;$('searchtext').disabled=true;$('searchoptions').disabled=true;$('filterchat').disabled=true;$('filteruser').disabled=true;bf=true};window['jsOnSuccess']=this.jsOnSuccess;window['jsOnFailure']=this.jsOnFailure;window['jsOnClose']=this.jsOnClose;window['jsOnData']=this.jsOnData;window['fcc_createSounds']=this.createSounds};fcchat.prototype=jGo.UI;var fc_chat=new fcchat();fc_chat.init();