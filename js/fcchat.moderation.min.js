function fcchat(){var n=FCChatConfig;n.chat_id=jGo.util.trim(n.chat_id);n.host=jGo.util.trim(n.host);var hU=n.chat_id.split('_');var j=jGo.$;var bl=window['fcchat_domain']=='fullpage';var nG=0;var bv=n.dir;var lz=(window['fcchat_debug_main']?bv+"dev/":bv);var fR=(n.alt_dir!=''?n.alt_dir:bv+'html/');var k=this;var C=n.styles.widget;this.html_dir=fR;var nH=n.prof_subdir;var eu=(n.full_page_url!=""?n.full_page_url:bv+'html/chat/index.html');var hV=(n.small_logo!=''?n.small_logo:bv+"current_skin/"+n.styles.chat_window.frame.logo);if(n.avatars_dir=='')n.avatars_dir=(window["fc_chat_path"]||"/FCChat/")+"html/images/avatars/";if(n.images_dir=='')n.images_dir=(window["fc_chat_path"]||"/FCChat/")+"html/images/";if(n.smileys_dir=='')n.smileys_dir=(window["fc_chat_path"]||"/FCChat/")+"html/images/smileys/";var lA=n.images_dir;var nI;var nJ="";var nK=0;var nL=false;var fi=false;var fj=0;var gS;this.firstUpdateProcessed=false;var dZ;var dC='fc_pauseChat';var fk='fc_tglChat';var ea=0;var dD=1;var bu;var fl=0;var bV=0;this.img6;this.img7;var gT;var dp=0;var eb=1;this.img1C=0;this.img2C=0;var lB;var lC;var jg;var dE=0;var dF='display:inline';var fS=1;var D=[];var cI=[];var gU=0;var fT=0;var t=false;var hW=false;var hX=0;var fm=0;var fU=1;var db=false;var fV=false;var cj='0';this.m=0;var cR=window.top;var cS=window.self;var fn=(cR==cS?this:window.parent.fc_chat);var fW=(cR==cS?'fc_chat.':'window.parent.fc_chat.');var hY=(cR==cS?'document':'window.parent.fc_chat.getIFrameDoc()');var dq="' HREF='javascript:void(0)' onclick='return "+fW;var bc="href='javascript:fc_chat.";var dG='<a href="javascript:fc_chat.';var fX=[];var fo=[];var jh=1;var nM=false;var br=new Date().getTime();var ji=new Date().getTime();var hZ=false;var gV=false;var dr=0;var ds=0;var dt=0;var nN=0;var gW=0;var gX=0;var ev=15;var nO='op2';var nP='2';var S;var ia;var ib=false;var u;var h;var dH='';var gY='0000';var lD='';var ck={};var co=0;var fY=0;var bW={f:null,l:null};var bs={};var cJ={};var ew=(n.chatbox.page_discussion.use_querystring_in_url?window.location.href.match(/^[^\#]+/)[0]:window.location.href.match(/^[^\#\?]+/)[0]);var ic=true;var fp=false;var jj;this.chat_params;var lE=function(a){return a.replace(/[\u201C|\u201D|\u201E]/g,"\"")};var lF=function(){var c=null;j("span.fc_chat_params").each(function(a){var b;if(j(this).html()==''){b={}}else{try{b=j.parseJSON(lE(j(this).html()))}catch(e){alert(e);return}}if(!c||(!c.all&&b.page&&(b.page.toLowerCase()==ew.toLowerCase()||b.page.toLowerCase()=="all"))){c=b;if(b.page&&b.page.toLowerCase()=="all"){c.all=true}}});var g=n.chatbox;var d=false;if(!c){if(g.require_tag&&!(g.sitewide.full_page&&(window['fcchat_domain']=="fullpage"||window['fcchat_domain']=="admin")))d=true;c={}}var f=(c.mode||g.mode);k.chat_params=(f==0?g.sitewide:g.page_discussion);j.extend(true,k.chat_params,c);if(c.id){ew=c.id}else if(f==0){ew="Sitewide Discussion"}ic=c.no_discussion||d;fp=jGo.fcchat_toolbar.config.items.toString().indexOf('chatbox')!=-1&&!ic;if(!fp){ew="0"}else{jGo.fcchat_toolbar.chatbox.style.menu_item.width=k.chat_params.button_width}jj=jGo.MD5.hex_md5(ew)};var ex='1';var X='0';var jk;this.textSetter=function(a,b,c){if(c!=null&&n.txt[c]){return n.txt[c]}else if(n.txt['t'+a]!=null){return n.txt['t'+a]}else{if(b!=null){return b}}return"Undefined"};var i=this.textSetter;n.txt['t1000']="<a "+bc+"share_wb(";n.txt['t1001']=")'>";n.txt['t1002']="</a>.";n.txt['t1003']="<a "+bc+"share_doc(";n.txt['t1004']="<a "+bc+"subscribePriv(";n.txt['t1005']="<a "+bc+"play_game(";if(!n.txt.t260){n.txt.t260="has invited you to share a";n.txt.t261="whiteboard.";n.txt.t262="Click here to accept";n.txt.t263="has been invited to share a whiteboard";n.txt.t268=" is now viewing your whiteboard";n.txt.t270="This user is currently offline."}if(!n.txt.t312){n.txt.t312="document.";n.txt.t313=" is now viewing your document";n.txt.t317="has been invited to share a document"}if(!n.txt.t320){n.txt.t320="has invited you to a 1 on 1 video chat.",n.txt.t321="has been invited to a 1 on 1 video chat.",n.txt.t322="is now viewing your webcam"}if(!n.txt.t333){n.txt.t333="has invited you to play ",n.txt.t334="",n.txt.t335="has been invited to play a game.",n.txt.t336=" has accepted your invitation to play a game.",n.txt.t337="Click here to start the game."}var bb=jGo.mobile;var ey=false;var ec=0;var bg=0;var du=0;var dc=function(){return(bg==ec)};this.nlrm=dc;if(bl&&n.skip_roomlist){du=n.default_room_index+5;ey=true}if(window['fcchat_room_transfer']){du=window['fcchat_room_transfer'];ey=true}var bZ;this.toolbar;var jl=1;var U=jGo.fcchat_toolbar;var dv=U.style;var cw=U.config.items;for(var bh=0;bh<cw.length;bh++){if(cw[bh].indexOf("custombutton:")>=0){var lG=cw[bh].split(":")[1];U['custombutton'+bh]=new U.custombutton(bh,n.custom_buttons[lG]);cw[bh]='custombutton'+bh}}var lH=function(){for(var a=0;a<cw.length;a++){if(cw[a]!="friendscenter"){if(!U[cw[a]]||(ic&&cw[a]=="chatbox")){cw.splice(a,1);a--}}}};var F='block';var y='none';var id=n.absolute_positioning||!n.control_visible;var jm=C.control.top;var ie=C.control.left;var E=n.styles.chat_window.main_panel;var Y=E.chat_panels;var bk=E.side_panels;var ed=jGo.fcchat_toolbar.style.dialog_box;var lI=E.options_panel;var cp=lI.selectors;var dI=E.chatrooms_panel;var ee=C.chatrooms_box;var bw="background-color:transparent;";var ez=' style="'+bw+'display:inline;font-style:italic"';var gZ=' style="display:none;'+bw+'"';var fZ='color:'+Y.font.color.timestamp_color+';';var jn=dv.dialog_box.text.timestamp_css;var f0='padding-top:4px;padding-bottom:0px;border-bottom:';var ha=f0+bk.screen_name_dividers.border+';background-color:';var lJ=f0+bk.room_display_panel.divider_color+';';var ga=bk.private_group_panel.header;var lK=f0+ga.divider_color+';';var lL=bk.room_display_panel.background_color;var ig=bk.room_display_panel.text_css;var lM=bk.screen_name_dividers.border;var ih=bk.background_color;var eA=bk.screen_name_dividers.background_color;var nQ=bk.screen_name_dividers.hover_color;var fq=bk.private_group_panel.selected_user.background_color;var jo=E.text.font.css+"font-family:"+E.text.font.family+";color:"+E.text.font.color+";font-weight:"+E.text.font.weight;var gb=jo+";font-size:"+E.text.font.size+"px";var jp="-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius:5px;";var ii="-moz-border-radius: 2px;-webkit-border-radius: 2px;border-radius:2px;";var lN="-moz-border-radius: .167em;-webkit-border-radius: .167em;border-radius:.167em;";var eB="if (event && event.stopPropagation){event.stopPropagation()}else{event.cancelBubble=true}";var lO='href="javascript:void(0)" onclick="'+eB+'fc_chat.subscribe';var hb=bk.font.style.title_css+";";var gc='ico" style="margin-left:.417em;padding-top:.083em;padding-bottom:.25em">';var nR;this.vidAcc=(n.video_enabled?n.video_access_level:0);var eC=bv+"proxies/";var lP={"wordpress":eC+"fcchat_wordpress_proxy.php","wordpress2":eC+"fcchat_wordpress_proxy2.php","joomla":eC+"joomla.php","phpbb":eC+"fcchat_phpbb3_proxy.php","smf":eC+"fcchat_smf_proxy.php","mybb":eC+"mybb.php","drupal":eC+"drupal.php"};var hc=lP[n.user_integration_bridge]||n.user_integration_bridge;if(hc==''){hc=n.forum_proxy||''}var jq=(hc!='');var lQ={};var ij=lQ[n.import_profiles]||n.import_profiles;var jr=(ij!='');var js=true;var lR=true;var jt=E.user_pop_up_panel.border;var ik=E.options_panel.outer_border;var lS=['6','7','8','9','A','B','C','D','E','F'];var eD=false;var lT=0;var gd=0;var nS=false;var ge=false;var fr=false;var eE=false;var eF={u:"",p:"",fn:0};var nT=null;var eG=false;var hd=0;var nU=false;var nV=0;var gf=0;var il="";var fs=jGo.util.getSWidth;var eH=jGo.util.getSHeight;this.screen_width=fs();var T=n.chatcenter_layout;var dd=(bb?653:Math.max(653,n.window_width));this.d_c_window_width=dd;var gg=571;var nW=238+(i(0,170,'functions_bar_width')-170);var ju=(bl?1050:573);var he=300;var eI=340-E.send_chat_panel.height;var bx=dd-243+(bl?Math.max((this.screen_width-1)-dd,0):0);this.chat_container_width=(Math.max(dd-308,Math.floor(.8*bx)));var gh="display:block;"+bw+"width:"+this.chat_container_width+"px;z-Index:"+(P+202)+";margin-left:5px;";var lU=dd-244+E.send_chat_panel.width_offset+(bl?Math.max((this.screen_width-1)-dd,0):0);var im=137;var jv=60;var lV=20;var jw=(bb?300:350);var lW=425;var lX=535-E.send_chat_panel.height;var jx=400;var lY=36;var de=(n.show_online_panel||T==1);var n0=(de?F:y);var lZ=35;var jy=(bl?(eH()-36>he?eH()-lY:he)-gg:n.window_height_offset);this.window_height_offset=Math.min(ju-gg,Math.max(he-gg,jy));if(bb&&!jGo.fcchat_toolbar.config.tablet&&bl){jy=0;this.window_height_offset=0}this.chat_window_height=gg+k.window_height_offset;var io=(bl?Math.max(this.screen_width-1,dd):dd);this.chat_window_width=io;var ft=n.chat_room_height_offset+Math.max(0,jv-eI-k.window_height_offset);ft=Math.min(im-lV,Math.max(jv-eI-k.window_height_offset,ft));if(bb&&bl){ft=-20}var bN=k.window_height_offset+ft;this.smYOffset=lX+k.window_height_offset-E.tools_panel.smileys.height;this.optionsTop=Math.floor((this.chat_window_height-gg)/2)+20;var jz=364-E.send_chat_panel.height;var jA=400-E.send_chat_panel.height;this.bottom_section=543-E.send_chat_panel.height;var jB=20;this.upd=jB;var cx=eI-jB;this.upl=cx;var ip=221;var ma=(bl?Math.max((this.screen_width-1)-ip,dd-221):dd-221);var bO=211;var iq=175;var mb=206;var jC=(bl?168:108);var mc=155;var md=0;var jD=514;this.border_padding=4;var nX=1;var eJ=0;var dJ=0;var eK;var gi='0';var jE=new RegExp("[^A-Za-z0-9 _]");var me=new RegExp("[^A-Za-z0-9_]");var bD='inline';var bz='display:inline';var eL;var jF;var ca=(T!=1?jGo.fcchat_toolbar.style.toolbar_item.chatcenter_layout:jGo.fcchat_toolbar.style.toolbar_item.msgcenter_layout);var ir=(T==0?F:y);var gj=(T==1?y:F);var gk=(T==2?y:F);var mf=(T!=0?k.bottom_section+k.window_height_offset-22:jz+bN);var fu=(T==1?3:20);var mg=(T!=0?jD+k.window_height_offset+26:jz+bN);var is=(T!=0?18:jA+bN);var gl=im-ft+(T!=0?22+eI+bN:0);var hf=(T==0?eI+bN:gl);var jG=(T==1?38+Math.floor((cx+bN)/2):jA+bN);var it=im-ft+md+(T!=0?35+E.send_chat_panel.height+Math.floor((cx+bN)/2):24+E.send_chat_panel.height);var jH=(de?+(T==0?cx+bN-Math.floor((cx+bN)/2):it):hf+(T==0?0:31));var nY=(T!=0?2:19);var nZ=(T!=0?125:161);var mh=(T!=0?3:20);var jI=(T!=0?141:141);var mi=k.bottom_section+1+k.window_height_offset-(T==0?0:18);var mj=(T==1?19:28);var dw="style='"+(T==1?E.send_private_button.single_button_css:"")+"'";this.pblay=dw;var mk=(T==1?gl:hf);var gm=i(6);var hg=(T==1?y:bD);if(T==1){hd=1}this.obtxt=gm;var dK=i(161);var fv='<b>&nbsp;'+dK+'</b>';var B='innerHTML';var cy="<a href='javascript:void' ";var M;this.ww2;var eM=0;var hh=false;var jJ;var P=n.zindex_base;var ef=0;var jK=false;var jL=document.all;var V=n.dir+"current_skin/";var gn="<p style='color:"+E.options_button.color+";position:absolute;top:1px;left:10px;font:12px arial;font-weight:bold'>&lsaquo;&nbsp;</p><img style='position:absolute;top:2px;left:15px' src='"+V+E.options_button.icon+"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";var bn=0;this.tg_vid=0;var bP=0;var by='0';var cT='0';var bm=[];var cz=[];var bE=[];var eN='0';var cK=0;var bX=0;var eg=0;var eO=0;var cb=0;var Z=[];var cc=[];var cA=[];var cd=[];var G=[];var eh=[];var ba=[];var hi=false;var N;var bG;var bo;var bp;var fw;var bH;var bt;var eP;var df;var cL;var go;var cU;var cM;var gp;var cN;var cB;var gq;var bQ;var bR;var bA;this.sI=0;var dL;var bI;var iu=0;var cC;this.oD;var gr;var ml;this.tPC;var dx;var cq;var oa;var cV;var gs;this.odiv;var cg;var cW;this.tempIFrame;this.IFO;this.oIF;this.tPB;var bU;var Q=false;var iv=false;var fx=false;var cr=false;var eQ=false;var dg;this.tIF;var cX=[];var ob;var hj;var fy;var ei=null;var fz=null;var ej;var gt;var oc=null;var gu;var od;var oe=null;var of=new Array();var og=0;var mm=false;var mn;var dM=[];dM[1]=0;dM[2]=0;dM[3]=0;dM[6]=0;dM[7]=0;Z[6]=0;Z[7]=0;cd[6]=0;cd[7]=0;G[0]='0';G[1]='0';G[2]='0';G[3]='0';G[4]='0';G[5]='0';G[6]='0';var bq=[];var cl=[];cl[0]=0;cl[1]=1;for(var bh=2;bh<32;bh++){cl[bh]=cl[bh-1]*2}this.obtn=i(5);for(var bh=0;bh<n.smileys.length;bh++){fX[n.smileys[bh][1]]=n.smileys[bh][0];fo[n.smileys[bh][1]]=n.smileys[bh][2]}for(var bh=0;bh<n.smiley_list.length;bh++){fX[n.smiley_list[bh][1]]=n.smiley_list[bh][0];fo[n.smiley_list[bh][1]]=n.smiley_list[bh][2]}var oh=E.options_panel.color_selector.color_values;for(var bh=0;bh<50;bh++){eh[bh]=0}ba[1]=0;ba[2]=0;ba[3]=0;ba[4]=0;ba[5]=0;ba[6]=0;var eR="filter:alpha(opacity=60); -moz-opacity:.60; opacity:.60;";var hk="filter:alpha(opacity=60); -moz-opacity:.60; opacity:.60;";var iw="filter:alpha(opacity=80); -moz-opacity:.80; opacity:.80;";var jM=" class='fc_options_a' onClick='fc_chat.tgl_options();return false'>";var jN="'fc_chat.sendChat(true,false,document);return false'>";var oi="<INPUT TYPE=checkbox id='fc_atpg' name='ATPG' VALUE='1' style='height:20px;width:20px;margin-right:0px' onclick=";var mo='<div id="fc_groupType" style="display:block;width:'+bO+'px;z-Index:'+(P+202)+';'+lJ+'background-color:'+lL+'"><span style="'+ig+'">&nbsp;<IMG SRC="'+V+'rmarrow.gif" style="'+bz+';'+hk+'" border=0> ';this.t;this.uid;this.inSession;this.cU='0';var cD=-1;var cm=new Array(10);var cE=n.show_guests;this.broadcastStatus=1;this.cvu_priv=null;var jO;var jP=null;this.uD;this.uDiv1;var eS;this.uDb;this.uIF;this.browser;this.version;this.monitor_state=0;this.page_manager_state=0;this.userlist_state=0;var jQ;var fA;var dN;var oj;var ix='';var hl=false;var iy=false;open_chatrooms_in_window=false;var cY=function(a,b){jGo.cookie.setCookie(a,b,gv(),'/',n.domain)};var cs=function(a){return jGo.cookie.getCookie(a)};var gv=function(){var a=new Date();a.setTime(a.getTime()+(365*24*60*60*1000));return(n.cookie_expires==0?null:a)};var eT=function(a){return cs(n.data_cookie).split('&')[a]};var ct=function(a,b){var c=cs(n.data_cookie).split('&');c[b]=a;var g=c[0];for(var d=1;d<c.length;d++){g+='&'+c[d]}cY(n.data_cookie,g)};this.put_c=ct;var mp=function(){var a=(n.display_timestamp?bD:y);a+=(n.sounds_on?"&1":"&0");a+="&1&1&1&1&&&&";a+=(n.trans_default_on?"&1":"&0");a+="&"+n.trans_default_language_code;a+="&"+n.toolbar_default_display;a+="&";a+="&";a+="&";a+="&";a+="&";a+="&";a+="&";jGo.cookie.setCookie(n.data_cookie,a,gv(),"/",n.domain)};var mq=n.fb_connection_url+'/proxies/facebook/facebook_login.php?url='+encodeURIComponent(document.location.href.split('#')[0])+"&btn="+encodeURIComponent(i(352,'Connect with Facebook'));var jR;var jS=false;this.fb_loaded=function(){var b=j('#fc_fb_frame').css("visibility","visible")[0];j('#fc_fb_load').css("visibility","hidden");jR=b.contentWindow;if(!jS){jGo.postMessage.receive(function(a){if(a.data.indexOf('<fcchatresponse>')!=-1){fc_chat.init_fb_login(a.data)}else if(a.data=='lockauth'){l('fc_logintxt')[B]="<b>"+i(354,'Authorizing')+"...</b><br>";lock_login(true);t=true}else if(a.data=='unlockauth'){l('fc_logintxt')[B]="";lock_login(false);t=false}},n.fb_connection_url);jS=false}};var ok=function(a){jGo.postMessage.post(a,mq,jR)};this.init_fb_login=function(a){auth_login(a,1)};var ol=function(){new_screen_name=screen_name;new_auth_token=auth_token;jK=true;fc_chat.login2(1);jK=false};var dO=function(a,b,c){a=a-0;var g=new Date(a);var d=new Date();var f=d.getTime()-a;var o=iz(f,60000);var m=o;var s='';if(b=='1'||(c&&m>1440)){if(o<60){var r=i(136);var z=i(138);if(o!=1){r=i(137);z=i(139)}if(o>=1){s=" ("+r+o+z+")"}else{s=" ("+i(148)+")"}}else{o=iz(f,3600000);if(o>=1&&o<24){var r=i(140);var z=i(142);if(o!=1){r=i(141);z=i(143)}s=" ("+r+o+z+")"}else{o=iz(f,86400000);var r=i(144);var z=i(146);if(o!=1){r=i(145);z=i(147)}s=" ("+r+o+z+")"}}}if(dF==bz||(c&&m<=1440)){var A=i(149);var q=g.getHours();if(q>11){A=i(150)}if(q>12){q=q-12}if(q==0){q=12}if(g.getMinutes()>=10){return(s+'( '+q+':'+g.getMinutes()+A+')')}else{return(s+' ('+q+':0'+g.getMinutes()+A+')')}}else{return s}};var gw=function(a){var b=[];b[0]=i(37);b[1]=i(38);b[2]=i(39);b[3]=i(477,'=L=');var c=[];c[0]="strong";c[1]="i";c[2]="u";c[3]="span";for(var g=0;g<4;g++){var d=a.split(b[g]);if(d.length>1){a='';var f='<'+c[g]+((g==3)?' style="'+Y.font.censored_css+'"':'')+((g==0)?' style="font-weight:bold;"':'')+'>';for(var o=0;o<d.length-1;o++){a+=d[o]+f;f=(f=='</'+c[g]+'>'?'<'+c[g]+((g==3)?' style="'+Y.font.censored_css+'"':'')+((g==0)?' style="font-weight:bold;"':'')+'>':'</'+c[g]+'>')}a+=d[d.length-1]+(d.length%2==0?f:'')}}return a};var cu=function(a,b,c,g,d,f){if(a.substring(0,2)=='%%'){a=a.substr(2);d=1}var o=(c&&c==9);var m=0;if(a.indexOf('%a')!=-1){a=a.replace(/%a/g,'<a').replace(/%~a/g,'</a>').replace(/%g/g,'>').replace(/%i/g,'<img').replace(/%d/g,'<div').replace(/%~d/g,'</div>');if(a.indexOf('<img')!=-1){m=1}}if(a.indexOf('\\n')!=-1){a=a.replace(/\\n/g,'</br>')}if(a.indexOf('%s')!=-1){a=a.replace(/%s/g,'<>')}a=bS(a);a=gw(a);var s=0;var r=0;var z=0;var A=0;var q=0;var x=0;var H='';var K=bz+';';var L=false;if(b==0){H='width:'+(R(bt.style.width)+11)+'px';K=''}while(true){s=a.indexOf('[[',r);if(s!=-1){r=s+2;s=a.indexOf(']]',r);if(s!=-1){var O=a.substring(r,s);var I=O.replace(/'/g,'\\\'');var bf=O.split('<>');var bi=lA;if(bf.length>1){var be=R(bf[0])/12;I=bf[1].replace(/%/g,'%25');var bJ=(I.length<5?I:I.substr(0,I.length-5));I=jGo.util.trim(I);a=a.replace('[['+O+']]',(be>0?'<div style="'+bz+';'+bw+'height:'+(be/12)+'em;">'+dh(be/12,'em')+'<img border="0" title="'+":"+bJ+'" height="'+(be/12)+'em" style="height:'+(be/12)+'em" src="'+bi+I+'">&nbsp;</div>':':'+bJ));s-=13}else if(fX[I]!=null){a=a.replace('[['+O+']]',(x<5?'<div style="'+bz+';'+bw+'height:'+(fo[I]/12)+'em;">'+dh(fo[I]/12,'em')+'<img border="0" title="'+":"+I+'" height="'+(fo[I]/12)+'em" style="height:'+(fo[I]/12)+'em" src="'+n.smileys_dir+fX[I]+'">&nbsp;</div>':':'+I));x++}else if(q<3){I=O.replace(/%/g,'%25');if(I.indexOf("/")>=0){I=I.substr(I.indexOf('_')+1);if(!n.allow_crossdomain_images){if(jT(I).indexOf('fastcatsoftware.com')<0&&jT(I).indexOf(n.current_domain)<0){I=""}}bi=''}if(!L){a=a.replace('[[','<div style="'+K+bw+'height:3.5em;'+H+'">'+dh(3.5,'em')+'<a href="'+bi+I+'" target="_blank"><img onerror="this.src=\''+bi+'images.png\'" alt="'+i(406,"Image")+'" height="3.333em" style="margin-top:.167em;height:3.333em" src="'+bi);z=a.indexOf(']]');A=a.indexOf('[[');a=a.replace(O+']]',I+'"></a></div>');m=1}bV=1;K=bz+';';H='';q++}r=s}else{break}}else{break}}if(d==1){a=mr(a)}if(dy.on==1&&c){var bK=a;var bB=(c==6?'fc_gm':'fc_pm')+g+'t';if(c==8){bB='fc_tm'+g+'t'};if(c==9){bB='fc_discm'+g+'t'};if(c==10){bB='fc_discmod'+g+'t'};s=0;r=0;while(true){s=bK.indexOf('<');if(s!=-1&&s>=r){r=s;s=bK.indexOf('>');if(s!=-1&&s>=r){bK=bK.substring(0,r)+bK.substr(s+1)}else{break}}else{break}}bK=bK.replace(/&nbsp;/gi,"");a+="<span style='font-style:italic' id='"+bB+"'></span>";ms(bK,bB,c)}if(d==1){a=mt(a)}if(m==1&&f){a='<br>&nbsp;'+a}return a};var mr=function(a){var b;var c=-1;while((c=a.indexOf('{{!*',c+1))!=-1){b=a.indexOf('*!}}',c);if(b!=-1){var g=a.substring(c+4,b).split("::");a=a.substring(0,c)+i(R(g[0]),(g.length>1?g[1]:''))+a.substring(b+4,a.length)}}return a};var mt=function(a){var b;var c=-1;c=a.indexOf('{{');if(c!=-1){b=a.indexOf('}}');if(b>=c){var g=(R(a.substring(c+2,b))!=0?D[R(a.substring(c+2,b))].nm:y);a=a.substring(0,c)+g+a.substring(b+2,a.length)}}return a};var jU=function(){var a;try{a=l("fc_p1")}catch(err){fU=0}if(a==null){fU=0}jk=l("fc_domain")[B];return true};function om(){};function mu(){};this.sendNewPageReq=function(){};var cn={};var iA="http://www.fastcatsoftware.com/plugins/";var eU='toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1';var dP=function(a,b,c,g,d){if(cn[b]&&cn[b].closed){cn[b]=null}if(!cn[b]){cn[b]=window.open(a,b,c+',width = '+(g?g:650)+',height = '+(d?d:470)+',left='+(window.screen.width-582)/2+',top='+(window.screen.height-605)/2);cn[b].focus();return true}else{cn[b].focus();return false}};this.transliterator;this.transliteration=[0];this.currlang;this.trlit=function(){fc_chat.transliteration[0]=1;j.getScript("http://www.google.com/jsapi").done(function(a,b){setTimeout("fc_chat.trload()",20)}).fail(function(a,b,c){console.log("Triggered ajaxError handler."+c)})};this.trload=function(){google.load("elements","1",{packages:"transliteration",callback:this.trld})};this.trld=function(){var a={sourceLanguage:'en',destinationLanguage:fc_chat.currlang||'ar',transliterationEnabled:true,shortcutKey:'ctrl+g'};fc_chat.transliterator=new google.elements.transliteration.TransliterationControl(a)};this.open_trlit=function(a){if(a){gx()}if(!t){dP(bv+"html/transliteration_menu.html",'fc_trlitwin',eU)}};this.makeTransliteratable=function(){var a=["fc_chat"];if(l('fc_chat')){fc_chat.transliterator.makeTransliteratable(["fc_chat"])}if(l('fc_uChat')){fc_chat.transliterator.makeTransliteratable(["fc_uChat"])}if(l('fc_uChat2')){fc_chat.transliterator.makeTransliteratable(["fc_uChat2"])}if(l('fc_sendpagechat')){fc_chat.transliterator.makeTransliteratable(["fc_sendpagechat"])}j("#fc_chat,#fc_uchat,#fc_uchat2,#fc_sendpagechat").css({"font-size":(bb?1.3333:1)+"em","line-height":"1.2em"})};this.setLang=function(){fc_chat.transliterator.enableTransliteration();fc_chat.transliterator.setLanguagePair(google.elements.transliteration.LanguageCode.ENGLISH,fc_chat.currlang)};var jV=function(){if(fc_chat.transliterator&&fc_chat.currlang){fc_chat.makeTransliteratable();setTimeout("fc_chat.setLang()",200)}};this.doc=function(a){var b=k.uid;var c=(!a?k.cU:k.uid);if(a==1){gx()}if(!t&&bY(c)&&h.o[c]=='1'){t=true;var g=jGo.MD5.hex_md5(n.chat_id)+b;jW(b,g,1);if(b!=c){var d=c.toString();u='000'+(43+(b.toString()).length)+'n'+d.length+ce(d)+'4'+g;bd()}else{t=false}}};var jW=function(a,b,c){return dP(bv+"html/document.html?a="+c+"&user_id="+encodeURIComponent(ek(gy(),''))+"&pad_id="+b,'fc_docwin'+a,eU)};this.share_doc=function(a,b){if(!t){if(jW(a,b,0)){clearTimeout(hm);hm=setTimeout("fc_chat.viewing("+a+",'"+'fc_docwin'+a+"','5')",3000)}}};this.note=function(a){var b=(a==2?k.cU:k.uid);if(a==0){gx()}if(!t&&bY(b)&&h.o[b]=='1'){dP(bv+"html/notepad.html?dest="+a+"&uid="+b+"&host="+jGo.MD5.hex_md5(n.chat_id),'fc_notewin'+b,eU)}};this.p_note=function(a,b,c){if(!t){if(a=='2'&&!bY(b)){J(i(265,'Unable to send this message. The user is not available.'))}else if(b==k.uid&&a=='2'||(bg==ec&&a=='0')||(fB!=1&&a=='1')){J(i(341,'Sorry, unable to send this message.'))}else if(a=='2'&&h.o[b]!='1'){J(i(130))}else{var g=(b!=k.uid||a=='2'?b:'').toString();var d=63+c.length;u=bL(d)+'n'+g.length+ce(g)+'3'+a+'[['+iA+'notepad/'+c+']]';bd()}}};this.m_games=function(){var a=k.cU;try{cn['fc_gamewin'].close()}catch(err){}if(!t&&bY(a)&&h.o[a]=='1'){dP(bv+"html/game_menu.html?uid2="+a+"&nm="+encodeURIComponent(h.snm[a]),'fc_gamewin',eU)}};this.inv_game=function(a,b,c){if(!t&&a!=k.uid){if(!bY(a)){J(i(265,'Unable to send this message. The user is not available.'))}else if(h.o[a]!='1'){J(i(130))}else{var g=a.toString();var d=44+c.length+b.length;u=bL(d)+'n'+g.length+ce(g)+'8'+jGo.MD5.hex_md5(n.chat_id)+b+'.'+c;bd()}}};this.play_game=function(a,b,c,g,d,f){if(!t){if(!(h.o[a]=='1'&&bY(a))){J(i(338),"Sorry, this user is not able to play at the moment.")}else{if(dP(bv+"html/games.html?x="+c+"&y="+g+"&id="+b+"&domain="+d+"&typ="+f+"&uid="+k.uid+"&uid2="+a+"&nm="+encodeURIComponent(ek(gy(),'')),'fc_gamewin'+a,eU,c,g)){if(f==0){var o=a.toString();vars=b+','+c+','+g;var m=43+vars.length;u='000'+m+'n'+o.length+ce(o)+'9'+d+vars;bd()}}}}};this.wb=function(a){var b=k.uid;var c=(!a?k.cU:k.uid);if(a){gx()}if(!t&&bY(c)&&h.o[c]=='1'){t=true;var g=encodeURIComponent(gy()+' at '+jGo.MD5.hex_md5(window.location.hostname));var d=jGo.MD5.hex_md5("1");var f="1";var o=jGo.MD5.hex_md5("1");dP(iA+"whiteboard.html?user_id="+g+"&user_key="+d+"&drawing_user_id="+g+"&drawing_user_key="+d+"&drawing_id="+f+"&drawing_key="+o,'fc_whiteboardwin'+b,eU);if(b!=c){var m=c.toString();u='00043n'+m.length+ce(m)+'1'+jGo.MD5.hex_md5(n.chat_id);bd()}else{t=false}}};this.share_wb=function(a,b,c){if(!t){var g=encodeURIComponent(gy()+' at '+jGo.MD5.hex_md5(window.location.hostname));var d=jGo.MD5.hex_md5("1");var f=jGo.MD5.hex_md5("1");var o=c.replace(/%22/g,'"').replace(/%27/g,"'").replace(/%25/g,'%');var m="1";var s=jGo.MD5.hex_md5("1");var r=iA+"whiteboard.html?uid="+b+"&user_id="+g+"&user_key="+d+"&drawing_user_id="+o+"&drawing_user_key="+f+"&drawing_id="+m+"&drawing_key="+s;var z='fc_whiteboardwin'+b;if(dP(r,z,eU)){clearTimeout(hm);hm=setTimeout("fc_chat.viewing("+b+",'"+z+"','2')",3000)}}};this.viewing=function(a,b,c){if(cn[b]&&cn[b].closed){return false}var g=a.toString();u='00011n'+g.length+ce(g)+c;bd()};var dy={on:0,cur_lang:'en',init:0};var ms=function(o,m,s){(function(){var c=m;var g=s;var d=o;var f=document.createElement("script");f.src=n.trans_url+"Detect?oncomplete=fc_detect_"+c+"&appId="+n.trans_appid+"&text="+d;document.getElementsByTagName("head")[0].appendChild(f);window['fc_detect_'+c]=function(a){if(a!=dy.cur_lang){var b=document.createElement("script");b.src=n.trans_url+"Translate?oncomplete=fc_translate_"+c+"&appId="+n.trans_appid+"&from="+encodeURIComponent(a)+"&to="+dy.cur_lang+"&text="+d;document.getElementsByTagName("head")[0].appendChild(b)}};window['fc_translate_'+c]=function(a){if(a!=""){a=a.replace(/</g,'%26lt;').replace(/>/g,'%26gt;');if(bt&&g<8)di(l(c),(g==6?bp:bt),1,"<br>("+a+")");if(g==8&&(bn=='0'||cO)){di(l(c),j('#fc_view_msgs')[0],3,"<br>("+a+")")}if(g==9){di(l(c),j('#fc_page_chat_wrapper')[0],3,"<br>("+a+")")}if(g==10){di(l(c),bA,3,"<br>("+a+")")}}}})()};this.set_translator=function(a){dy.on=(a=='_off'?0:1);ct((a=='_off'?'0':'1'),10);dy.cur_lang=a;ct(a,11)};this.textelem;this.clearText=function(){j(k.textelem).val('')};this.oKD=function(a){var b=window.event;if(b){if(b.keyCode==13){fc_chat.sendMsgOnEnter(b.srcElement)}}else{if(a.which==13){fc_chat.sendMsgOnEnter(a.target)}}};this.oKD2=function(a){if(!t&&!hW&&n.showTyping){u='00001S';bd();hW=true;setTimeout('fc_chat.releaseOKD()',1000)}};this.refocus=function(a,b,c,g){var d=b||'fc_uChat';var f=(a?l('fc_chat'):c.getElementById(d));f.focus()};this.releaseChat=function(a,b){var c=(a?l('fc_sp1'):b.getElementById('fc_usp'));var g=(a?'':'u');if(b==document){c[B]="<div class='fc_"+g+"spbtn' >"+cy+(a?dw:"")+" onClick='fc_chat.sendChat("+a+",false,document);return false'>"+(a?i(11):i(264,'Send Message'))+"</a></div>"}else{c[B]="<div class='fc_"+g+"spbtn' >"+cy+(a?dw:"")+" onClick='window.parent.fc_chat.sendChat("+a+",false,window.parent.fc_chat.getIFrameDoc());return false'>"+(a?i(11):i(264,'Send Message'))+"</a></div>"}};this.releaseChat2=function(){var a=l('fc_sg1');a[B]="<div class='fc_srbtn' >"+cy+dw+" onClick='fc_chat.sendChat(true,true,document);return false'>"+i(10)+"</a></div>"};this.releaseOKD=function(){hW=false};this.sendMsgOnEnter=function(a){if(a.getAttribute('id')=='fc_chat'){if(hd==0){if(l('fc_sg1')[B].indexOf("fc_srbtn_dis")==-1){this.sendChat(true,true,document,a)}}else{if(l('fc_sp1')[B].indexOf("fc_spbtn_dis")==-1){this.sendChat(true,false,document,a)}else{J(i(389,"To send a message, highlight a user first. To add a user to your friends list, click on their screen name, and then select 'add to Friends'."))}}}else{if(a.getAttribute('id')=='fc_uChat2'||a.getAttribute('id')=='fc_sendpagechat'||l('fc_usp')[B].indexOf("fc_uspbtn_dis")==-1){this.sendChat(false,false,document,a)}}};var mv=function(a){var b=' ';if(a.charAt(0)==':'){a=b+a;b=''};var c=a.split(" :");var g=c[0];for(var d=1;d<c.length;d++){if(c[d].length>0&&c[d].charAt(0).search(/^\s/)){var f=c[d].indexOf(" ");var o;o=(f>0)?c[d].substr(0,f):c[d];var m=mw(o);c[d]=(m)?c[d].replace(o,m):":"+c[d]}else{c[d]=":"+c[d]}g+=b+c[d];b=' '}return g};var mw=function(a){if(fX[a]!=null){return"[["+a+"]]"}else{return"[[000%s"+a+"%xxxx]]"}};this.sendChat=function(a,b,c,g){var d;var f;var o=false;if(g){f=g;o=(g.getAttribute('id')=='fc_sendpagechat')}else{f=(a?l('fc_chat'):c.getElementById('fc_uChat'))};if(!t){d=f.value;d=iB(d);var m=0;var s=0;var r=[];var z=0;while(true){m=d.indexOf('[[',s);if(m!=-1){s=m+2;m=d.indexOf(']]',s);if(m!=-1){if(m!=s){r[z]=jGo.util.trim(d.substring(s,m));d=d.substring(0,s)+d.substring(m);z++}else{d=d.substring(0,s-2)+d.substring(m+2)}}else{break}}else{break}}if(n.allow_links){d=mx(d)}for(var z=0;z<r.length;z++){d=d.replace('[[]]','[['+(n.upload_images_enabled?k.uid+'_':'')+r[z]+']]')}d=mv(d);d=d.replace(/^\s+/,'');for(var z=d.length-1;z>=0;z--){if(/\S/.test(d.charAt(z))){d=d.substring(0,z+1);break}}if(!dc()||!b||o){if(d.length>0&&(d.length>1||d.charCodeAt(0)!=10)){if(d.length<n.max_chat_size){if(!((b||o)&&bj(k.uid)&&!n.guests_can_chat)){if(b||o||!bj((a?by:k.cU))||h.o[(a?by:k.cU)]=='1'){if(b||o||bY((a?by:k.cU))){u=bL(bF(d)+11);if(b){u+='80000000000'}else if(o){u+='80000000001'}else{var A=(a?by.toString():k.cU.toString());u+='8'+A.length+ce(A)+'2'}u+=d;bd();if(!g||(g.getAttribute('id')!='fc_uChat2'&&!o)){var q;if(!b){q=(a?l('fc_sp1'):c.getElementById('fc_usp'));var x=(a?'':'u');q[B]="<div class='fc_"+x+"spbtn_dis' ><a class='fc_"+x+"spbtn_disa' "+(a?dw:"")+">"+(a?i(11):i(264,'Send Message'))+"</a></div>";if(c==document){setTimeout('fc_chat.releaseChat('+a+',document)',500)}else{setTimeout('fc_chat.releaseChat('+a+',fc_chat.getIFrameDoc())',500)}}else{q=l('fc_sg1');q[B]="<div class='fc_srbtn_dis' ><a class='fc_srbtn_disa'>"+i(10)+"</a></div>";setTimeout('fc_chat.releaseChat2()',500)}}}else{J(i(265,'Unable to send this message. The user is not available for chat.'))}}else{J(i(130))}}else{if(o){J(i(410,'Please sign in to chat'))}else{iC(i(410,'Please sign in to chat'),{x:40,y:R(bI.style.top)-50})}}}else{J(i(131)+n.max_chat_size+i(132))}}else{J(i(133))}}else{iC(i(411,'Please select a room'),{x:40,y:R(bI.style.top)-50})}f.blur();k.textelem=f;setTimeout('fc_chat.clearText()',20);var H='null';if(g){H=g.getAttribute('id')}if(c==document){setTimeout('fc_chat.refocus('+a+',"'+H+'",document)',50)}else{setTimeout('fc_chat.refocus('+a+',"'+H+'",fc_chat.getIFrameDoc())',50)}}};var cv={on:0,a:[1,1,1,1],init:0};var fC=function(a){if(T==1&&a!=1)return;try{if(cv.on==1&&cv.a[a]==1){j('#fc_sounds').fc_play(a)}}catch(e){}};this.createSounds=function(){setTimeout("fc_chat.mkSounds()",250)};this.mkSounds=function(){j("#fc_sounds").fc_createSound("../html/sounds/chatroommessagealert.mp3");j("#fc_sounds").fc_createSound("../html/sounds/privatemessagealert.mp3");j("#fc_sounds").fc_createSound("../html/sounds/enterroomalert.mp3");j("#fc_sounds").fc_createSound("../html/sounds/leavingroomalert.mp3")};this.setSounds=function(a,b){if(a!=null){cv.a[a]=(cv.a[a]==1?0:1);ct(cv.a[a],a+2)}if(b!=null){cv.on=b;ct(cv.on,1)}};var hn;var jX=function(a){var b=(h.tag[a]!=''?bD:y);j('.fc_'+a+'tag').css("display",b).html('&nbsp;&bull;&nbsp;'+h.tag[a]+'&nbsp;&bull;&nbsp;')};this.setTagline=function(a){if(!t){hn=jGo.util.trim(iB(l('fc_tagline').value.substr(0,50)));u=bL(10+bF(hn));var b=a.toString();u+='u'+b.length+ce(b)+hn;bd(u);l('fc_tagline').value='';l('fc_tagline_set').style.visibility='hidden';l('fc_tagline').disabled=true;setTimeout('fc_chat.unlockTagline('+a+')',250)}};this.unlockTagline=function(a){h.tag[a]=bS(hn);jX(a);l('fc_tagline').disabled=false;l('fc_tagline_set').style.visibility='visible'};var iE=null;var dj;this.tgl_tools=function(a,b,c,g){var d="fc_tools";var f=k.smYOffset+(a==0?0:E.tools_panel.smileys.height-E.tools_panel.icons.height);var o=lZ;var m="#fc_e_sml2a";var s="#fc_quickchat";if(g==4){m="#fc_e_sml3";s="#fc_page_discussion_dialog"}if(g){f=j(m).offset().top-Math.round((E.tools_panel.smileys.height+10)*(jGo._['scalefactor']||1));o=j(m).offset().left-Math.round((E.tools_panel.smileys.width/2-65)*(jGo._['scalefactor']||1))}b/=12;c/=12;var r=(a==0?"auto":"hidden");k.tPC=l(d);if(k.tPC!=null){dj.target.removeEventHandler('mousedown');dj.target.removeEventHandler('touchstart');dj.target=j("a.fc_tools_a");dj.target.onEvent('mousedown',dj,'mouseOn','');dj.target.onEvent('touchstart',dj,'mouseOn','');dj.enableControl();if(k.tPC.style.display==y||(a!=null&&a!=iE)){iE=a;dx.style.width=b+'em';dx.style.height=c+'em';dx.style.overflow=r;dx[B]=fc_chat.fill_tool_panel(a,b,c,g);if(g){k.tPC.style.position=j(s).css("position");document.body.appendChild(k.tPC)}else{k.tPC.style.position="absolute";N.appendChild(k.tPC)}dz(k.tPC,o,f);k.tPC.style.display=F;if(Q){k.tPB.style.width=b+'em';k.tPB.style.height=c+'em';if(g){k.tPB.style.position=j(s).css("position");document.body.appendChild(k.tPB)}else{k.tPB.style.position="absolute";N.appendChild(k.tPB)}dz(k.tPB,o,f);k.tPB.style.display=F}fV=true}else{fV=false;k.tPC.style.display=y;if(Q){k.tPB.style.display=y}}if(!g){return false}else{return}}iE=a;var z=fc_chat.create_tool_panel(d,b,c,r,P,Q);k.tPC=z[0];dx=z[1];dx[B]=fc_chat.fill_tool_panel(a,b,c,g);if(g){k.tPC.style.position=j(s).css("position");document.body.appendChild(k.tPC)}else{k.tPC.style.position="absolute";N.appendChild(k.tPC)}dz(k.tPC,o,f);if(Q){k.tPB=fc_chat.create_tool_panel_backing(P,dx);if(g){k.tPB.style.position=j(s).css("position");document.body.appendChild(k.tPB)}else{k.tPB.style.position="absolute";N.appendChild(k.tPB)}dz(k.tPB,o,f)}if(dj){dj.disableControl()}dj=new jGo.DefaultMenuController('fc_tools','a.fc_tools_a',k.tPC,fc_chat,'tgl_tools');fV=true;setTimeout("fc_chat.change_Border_sD(false)",200);if(!g)return false};this.create_tool_panel=function(a,b,c,g,d,f){var o=this.tool_menu=document.createElement('div');o.setAttribute('id',a);var m=(!f)?'jGo_ydsf':'';var s=(!f)?'jGo_inner':'';o.className='jGo_app jGo_myapp jGo_em '+m;if(f){o.style.position='absolute'}o.style.display=F;o.style.fontSize=Math.round(12*(jGo._['scalefactor']||1))+'px';o.style.zIndex=jGo.config.max_z_index-91;var r=document.createElement('div');r.className=s;r.style.width=b+'em';r.style.height=c+'em';r.style.zIndex=jGo.config.max_z_index-91;r.style.border=E.tools_panel.border;r.style.backgroundColor=E.tools_panel.background_color;r.style.overflow=g;o.appendChild(r);j(r).css({'-moz-overflow-scrolling':'touch','-webkit-overflow-scrolling':'touch','overflow-scrolling':'touch'});return[o,r]};this.fill_tool_panel=function(a,b,c,g){var d='<center><table style="padding:'+((a==0?20:5)/12)+'em;width:'+(b-5/12)+'em;height:'+(c-5/12)+'em;"><tr>';var f=0;if(a==0){for(var o=0;o<n.smiley_list.length;o++){d+='<td>'+dG+'insertTags(\':\',\' \',\''+n.smiley_list[o][1]+'\','+(g?g:'1')+');"><img title=":'+n.smiley_list[o][1]+'" '+(n.smiley_list[o][2]?'height="'+(n.smiley_list[o][2]/12)+'em" style="height:'+(n.smiley_list[o][2]/12)+'em"':'')+' border="0" src="'+n.smileys_dir+n.smiley_list[o][0]+'"></a></td>';f++;if(f==n.smiley_columns&&o<n.smiley_list.length-1){d+='</tr><tr>';f=0}}if(f!=0){d+='<td colspan='+(n.smiley_columns-f)+'>&nbsp;</td>'}d+='</tr></table></center>'}else{var m=eR+";cursor:default";var s=(n.upload_images_enabled?i(27):i(28));var r=i(29);d+="<td><a id='fc_imgu' style='margin-left:1px;"+(n.upload_images_enabled?"":m)+"' href=\"javascript:void\" onclick=\"return fc_chat.imgFWrapper()\"><img title='"+s+"'src='"+V+"upload_image.png'></a>"+(n.change_avatar?"<a id='fc_avu' style='margin-left:2px;' href=\"javascript:void\" onclick=\"return fc_chat.avaFWrapper();\"><img title='"+r+"'src='"+V+"add_avatar.png'></a>":"")+(n.transliteration_enabled?"<a  id='fc_trlit' style='margin-left:2px;' "+bc+"open_trlit(1)'><img title='"+i(304,"Type in your language")+"' src='"+V+"google_transliteration.png'></a>":"")+(T!=1&&!fc_chat.nlrm()?"<a title='"+i(295,"doodlepad")+"' id='fc_note' style='margin-left:2px' "+bc+"note(0)'><img src='"+V+"pencil.png'></a>":"")+"<a title='"+i(311,"Share a document")+"' id='fc_doc' style='margin-left:2px;' "+bc+"doc(1)'><img src='"+V+"document.png'></a></td></tr></table>"}return d};this.create_tool_panel_backing=function(a,b){var c=document.createElement("IFRAME");c.className="jGo_app jGo_myapp";c.style.position='absolute';c.style.scrolling='no';c.style.zIndex=a+1900;c.style.width=b.style.width;c.style.height=b.style.height;c.style.backgroundColor='transparent';c.style.display=F;return c};var gx=function(){k.tPC.style.display=y;if(Q){k.tPB.style.display=y}};this.eval_script=function(a){eval(a)};var iB=function(a){return a.replace(/%/g,'%25').replace(/&/g,'%26amp;').replace(/</g,'%26lt;').replace(/>/g,'%26gt;').replace(/\\/g,'\\\\')};var bS=function(a){return a.replace(/%26/g,'&').replace(/%25/g,'%')};var bF=function(a){var b=encodeURI(a);if(b.indexOf("%")!=-1){var c=b.split("%").length-1;if(c==0){c++}var g=b.length-(c*3);c=c+g}else{c=b.length}return c};var iz=function(a,b){return(Math.round(a/b-a%b/b))};var gz=function(a){var b;try{b=(a!="{}"?j.parseJSON(jY(a,'\\"').replace(/>/g,'"')):null)}catch(e){alert(e)}return b};var bL=function(a,b){if(!b){b=5}return String("0000000000"+a).slice(-b)};var ce=function(a,b){if(!b){b=8}return String(a+"0000000000").slice(0,b)};var jT=function(a){var b=document.createElement('a');b.href=a;return b.hostname};var R=function(a){var b=parseInt(a,10);return(b==null||isNaN(b)?0:b)};var my=18000*(13&65535)+(13>>16);var mz=function(a){var b='';a=36969*(a&65535)+(a>>16);a=Math.abs((a<<16)+my);var c='000000'+a;for(var g=c.length-6;g<c.length;g++){b+=lS[c.substr(g,1)]}return b};function l(a){return document.getElementById(a)};function jZ(a){return cW.getElementById(a)};var ka=function(a,b){var c={};c.y=(a.height()-b.height())/2;c.x=(a.width()-b.width())/2;return c};var kb=function(a){var b={};b.y=(jGo.util.getInnerHeight()-a.height())/2;if(Q){b.y+=j(document).scrollTop()}b.x=(jGo.util.getSWidth()-a.width())/2;return b};var mx=function(o){var m=/(http|ftp|https):\/\/([\w\-_]+(?:(?:\.[\w\-_]+)+))([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/gi;return o.replace(m,function(a){if(!(/[a-z]+:\/\//.test(a))){a="http://"+a}var b=a.replace(/^https?:\/\//,'');var c="youtube.com/watch?v=";var g=a.toLowerCase().indexOf(c);if(g>0){var d=a.substr(g+20).split('%26amp;')[0];var f=60;return'%d style="'+bz+';height: '+f+'px;"%g%i SRC="'+bv+'trans.gif" height="'+f+'px" width="1px" style="height:'+f+'px;width:1px;'+bw+'"%g%~d%a href="http://www.youtube.com/watch?v='+d+'" target=_blank%g%i height="'+f+'px" style="height:'+f+'px" src="http://img.youtube.com/vi/'+d+'/default.jpg" alt="" %g%~a =i=('+i(418,'YouTube video')+')=i='}return'%a target=_blank href="'+a+'"%g'+b+'%~a'})};var kc=/["\\\x00-\x1f\x7f-\x9f]/g;var kd={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','\\':'\\\\'};var jY=function(c,g){kd['"']=g;if(c.match(kc)){return c.replace(kc,function(a){var b=kd[a];if(typeof b==='string'){return b}b=a.charCodeAt();return'\\u00'+Math.floor(b/16).toString(16)+(b%16).toString(16)})}return c};var fD=function(a,b){return jGo.util.returnElementCoordinates(a,(b!=null?b:(j(a).css("position")=="fixed")))};this.c_Vs=function(a){j('a.fc_'+a+'_cam').css('display',ke(a));if(h.wl[a]=='1'&&h.vs[a]!=''&&h.vs[a]!=h.vsw[a]){if(h.vsp[a]==1||h.vcu[a]==k.uid){var b=kf('fc_video');if(b!=null){b.startSubscription("rtmp://"+h.vs[a]+"/FCVideoChat1.2",kg(a),h.snm[a])}}h.wl[a]=='0';h.vsw[a]=''}if(h.wl2[a]=='1'&&h.vs[a]!=''&&h.vs[a]!=h.vsw2[a]){if(h.vsp[a]==1||h.vcu[a]==k.uid){var b=kf('fc_expand');if(b!=null){b.startSubscription("rtmp://"+h.vs[a]+"/FCVideoChat1.2",kg(a),h.snm[a])}}h.wl2[a]=='0';h.vsw2[a]=''}};this.closeVid=function(){try{fc_ex.closeVid()}catch(err){}};var kg=function(a){a=a+'';var b='1';for(var c=0;c<8-a.length;c++){b+='0'}a=b+a;a+=(hU.length>1?hU[0]:hU[0].substr(0,3));return a};var iF=function(a){if(bj(a)&&!n.guests_can_video_chat){J(i(413,"Guests cannot video chat. Please sign in."));return false}return true};this.jsA=function(a){J(a)};this.jsB=function(){fc_ex.jsB(S,dK)};this.jsLV2=function(a){fc_ex.jsLV2(a,M,il,bl)};this.jsR=function(a){fc_ex.jsR(a)};this.jsSt=function(a,b){fc_ex.jsSt(a,b,S,dK)};this.jsStp=function(a){fc_ex.jsStp(a,S,dK)};this.jsV=function(){l('fc_vidchat2').style.display=y};this.jsW=function(a,b,c){fc_ex.jsW(a,b,c)};this.jsW2=function(a,b,c){fc_ex.jsW2(a,b,c)};var kh;this.launchChatWindow=function(a,b,c){if(!t){if(fc_chat.ww2==null){t=true;var g='1px solid #444444';var d=!bl&&!Q&&n.pin_windows;var f=d&&n.pinned_by_default;var o=(k.m==0&&M?R(M.frame[0].style.top)+200:200);var m=j(document).scrollTop();if(M){o+=(M.fixed?m:0)+(f?-m:0)}else{o+=(!f?m:0)}var s="<div style='padding:10px;font-family:arial;font-size:14px;color:black;font-weight:bold'><div style='margin-top:55px;margin-left:100px;'>"+i(329,"Loading...Please Wait")+"</div></div>";fc_chat.ww2=fc_chat.createWidget('DefaultWindow',["<span style='"+n.styles.chat_window.frame.title_css+"'>"+i(152)+"</span>",200,o,368,163,'default',n.styles.chat_window.frame.color,n.styles.chat_window.frame.opacity*100,g,'e3e3e3','','html',s,false,false,hV,i(154),i(155),i(156),i(157),i(315,"pin to screen"),i(316,"unpin"),d,(d?n.pinned_by_default:false)]);fc_chat.tg_vid=1;fc_chat.setPaused();fc_chat.ww2.mH=38;fc_chat.ww2.MH=800;fc_chat.ww2.close=function(){this.getDefault().close.call(this);fc_chat.ww2=null;fc_chat.tg_vid=0;fc_chat.setPaused();invitePriv=false;return true};fc_chat.ww2.maximize=function(){this.lock=false}}if(!fi){if(c){fj=2;kh=a}else{fj=1}ki()}else{fc_ex.initVideoChat(fc_chat.ww2,a,b);t=false}}};this.launchVideoChat=function(a,b,c){if(!iF(k.uid)){return}if(!t&&(!b||((bY(b)||b==k.uid)&&h.o[b]=='1'))){if((!b&&fc_chat.vidAcc>1)||(b&&fc_chat.vidAcc%2!=0)){if(gf>n.max_video_streams){J(i(228));return}if(b&&bj(b)&&!n.guests_can_video_chat){J(i(412,"Video chat is disabled for guest accounts."));return}if(!b&&fc_chat.vidAcc>1&&(n.videoconerence_only_in_designated_rooms&&(!D[bg]||D[bg].v==1))){J(i(225));return}if(fc_chat.ww2&&(fc_chat.cvu_priv||b)&&b!=fc_chat.cvu_priv){fc_chat.ww2.close()}jO=a;if(b){fc_chat.cvu_priv=b}else{fc_chat.cvu_priv=null}clearTimeout(jP);jP=setTimeout('fc_chat.launchChatWindow('+a+','+b+','+c+')',250)}}};this.launchVideoChatCont=function(a){fc_ex.launchVideoChatCont(a,il,S,dK)};this.removeAllStreams=function(){fc_ex.removeAllStreams(S,dK)};function mA(a){fc_ex.returnBroadcastParams(a,k.uid)};this.subscribe=function(a){if(!iF(k.uid)){return}if(a!=k.uid){if(D[h.g[a]]&&((D[h.g[a]].l)==1||(D[h.g[a]].d)==1)&&h.g[a]!=bg){fc_chat.showInfo(i(226)+D[h.g[a]].nm+i(227));return false}if((n.videoconerence_only_in_designated_rooms&&h.g[a]!=bg)){fc_chat.showInfo(i(417,"This user is chating in room: ")+D[h.g[a]].nm+i(227));return false}if(fi){fc_ex.subscribe(a,k.uid,gf,D,bg)}else{fc_chat.launchVideoChat(a)}}};this.subscribePriv=function(a){if(!iF(k.uid)){return}if(!(h.o[a]=='1'&&h.vcu[a]==k.uid&&h.vs[a]!=''&&bY(a))){J(i(323),"Sorry, this user is not available for video chat at the moment.")}else{if(gf<=n.max_video_streams){fc_chat.launchVideoChat(a,a)}else{J(i(228))}}};var W=[];var ch=0;var ci=dv.menus.user_options;var ho=dv.menus.set_availability;var fE=dv.menus.set_signature;var el=dv.menus.mod_menu;var gA=dv.menus.set_nickname;var kj=function(a){return"style='position:relative;left:0px;"+a.menu_item.dim+"'><div style='"+a.menu_item.css};var em=function(a,b){return"<div class = 'fc_menu_item"+(b?b:'')+"' "+kj(a)+"color:"+a.menu_item.link_color+"'>&nbsp;&nbsp;"};this.toggleMenu=function(a,b,c){if(!W[c]||!W[c].isOpen){ch=b,this.createMenu(a,c)}else{W[c].hide()}return false};this.createMenu=function(a,b){var c,g;if(b=='u1'){g=j.extend(true,{},ci);if(ch!=k.uid&&!bb){g.css.height=(R(g.css.height)-5)+'em'}W[b]=mB(this,g,a,ch)}else if(b=='item2'){g=j.extend(true,{},ho);W[b]=this.createWidget('DefaultMenu',[g,(bb?"<div style='position:relative;top:"+(R(ho.css.height)-2)+"em;float:right'><a style='"+ho.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='return fc_chat.toggleMenu(null,null,\"item2\")'>x</a>&nbsp;&nbsp;</div>":"")+"<div style='"+ho.menu_item.css+"'><INPUT TYPE=radio "+(h.bs[ch]=='1'?'':"checked")+" id='fc_avl1' onclick='fc_chat.setBusy(0);' name='fc_avl'>"+i(348,"Available")+"<br><br><INPUT TYPE=radio "+(h.bs[ch]!='1'?'':"checked")+" id='fc_avl2' onclick='fc_chat.setBusy(1);' name='fc_avl'>"+i(349,"Busy")+"</div>",null,j(a),c=(W['u1']&&W['u1'].isOpen?W['u1'].frame:j(k.uD)),false,bb])}else if(b=='item3'){g=j.extend(true,{},fE);W[b]=this.createWidget('DefaultMenu',[g,(bb?"<div style='position:relative;top:"+(R(fE.css.height)-2)+"em;float:right'><a style='"+fE.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='return fc_chat.toggleMenu(null,null,\"item3\")'>x</a>&nbsp;&nbsp;</div>":"")+"<div style='"+fE.menu_item.css+"'>"+i(361,"Signature (50 chars max)")+"&nbsp;<form action='javascript:fc_chat.setTagline("+ch+");'><INPUT TYPE=text value='' maxlength='50' style='margin-top:.833em;width:"+(R(fE.css.width)-2)+"em' id='fc_tagline' name='fc_tagline'></form><div id='fc_tagline_set' style='visibility:hidden;"+fE.menu_item.set_notice.css+"'>"+i(362,'Signature Set')+"</div></div>",null,j(a),c=(W['u1']&&W['u1'].isOpen?W['u1'].frame:j(k.uD)),false,bb])}else if(b=='mod'){g=j.extend(true,{},el);W[b]=this.createWidget('DefaultMenu',[g,(bb?"<div style='position:relative;top:"+(R(el.css.height)-24)+"px;float:right'><a style='"+el.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='return fc_chat.toggleMenu(null,null,\"mod\")'>x</a>&nbsp;&nbsp;</div>":"")+"<div id='fc_kickban'>"+fF(el,(ch!=k.uid&&R(h.ac[ch])<R(h.ac[k.uid])&&h.o[ch]=='1'?1:0),ch,"kick("+ch+")",i(439,"Kick and ban"),'_mod')+"</div><div id='fc_blockip'>"+fF(el,(ch!=k.uid&&h.o[ch]=='1'&&h.ac[k.uid]=='2'?1:0),ch,"blockip("+ch+")",i(440,"Block IP (30 min)"),'_mod')+"</div>",null,j(a),c=(W['u1']&&W['u1'].isOpen?W['u1'].frame:j(k.uD)),false,bb]);kk('fc_menu_item_mod',el)}else if(jGo._['menu.'+b]){var d=U.chatbox.style.infobox_menu;W[b]=jGo._['menu.'+b](this,g,a)}W[b].hide=function(){this.getDefault().hide.call(this);this.getDefault().close.call(this)};W[b].show();return false};var mB=function(a,b,c,g){var d=a.createWidget('DefaultMenu',[b,mC(g),null,j(c),p=j(document.body),(Q||(bb)?0:ef),bb]);kk('fc_menu_item',ci);return d};var mC=function(a){var b="style='"+ci.menu_item.link_css+"' HREF='javascript:void' onclick=";return(bb?"<div style='position:relative;top:"+(R(ci.css.height)-2)+"em;float:right'><a style='"+ci.menu_item.hide_icon.css+"' HREF='javascript:void' onclick='return fc_chat.toggleMenu(null,null,\"u1\")'>x</a>&nbsp;&nbsp;</div>":"")+"<div id='fc_menu_item1'>"+fF(ci,(bY(a)&&a!=k.uid&&(!bj(a)||h.o[a]=='1')?1:0),a,"talk("+a+")",i(351,"Send message)"))+"</div><a "+b+"\"return fc_chat.toggleMenu(this,"+a+",'mod');\">"+em(ci)+i(45)+"</div></div></a>"+(!eD&&a==k.uid?"<a "+b+"\"return fc_chat.toggleMenu(this,"+a+",'item3');\">"+em(ci)+i(363,'Set Signature')+"</div></div></a>":"")+(!bj(a)&&jr?"<a style='"+ci.menu_item.link_css+"' target=_blank href='"+ij+encodeURIComponent(h.nm[a])+"'>"+em(ci)+i(46)+"</div></div></a>":"")+"<a "+b+"'return fc_chat.getMenuStatus("+a+")'>"+em(ci)+i(48)+"</div></div></a>"+(a==k.uid?"<a "+b+"\"return fc_chat.toggleMenu(this,"+a+",'item2');\">"+em(ci)+i(350,'Set Availability')+"</div></div></a>":"<a style='"+ci.menu_item.link_css+"' "+bc+(cJ[a]?"remove_friend":"add_friend")+"("+a+");'>"+em(ci)+(cJ[a]?i(286,"Remove from Friends"):i(281,"Add to Friends"))+"</div></div></a>"+(bs[a]?"<a style='"+ci.menu_item.link_css+"' "+bc+"remove_recent("+a+");'>"+em(ci)+i(432,"Remove from Recents")+"</div></div></a>":''))};var fF=function(a,b,c,g,d,f){return(b?"<a style='"+a.menu_item.link_css+"' "+bc+g+"'>"+em(a,f)+d+"</div></div></a>":"<div class = 'fc_menu_item_dis' "+kj(a)+"color:"+a.menu_item.disabled_link_color+"'>&nbsp;&nbsp;"+d+"</div></div>")};var kk=function(a,b){j('div.'+a).hover(function(){j(this).css("background-color",b.menu_item.hover_color)},function(){j(this).css("background-color",b.css["background-color"])})};this.getMenuStatus=function(a){W['u1'].hide();if(!cO){fc_chat.tgl_messages(ef)}return fc_chat.showStatus(a,document)};var cP={"I":0,"L":0};var mD=0;var fB=0;var gB=-1;var dQ=0;this.discC='..';var kl=function(a,b,c,g){var d=l('fc_page_chat');var f;var o=a.split('>');var m='';var s=gB;var r=0;var z=U.chatbox;if(c=='1'){gB=-1;j("#fc_disc_pg").html((cP.I!='0'?z.set_more_msgs(cP.I):''))}for(var A=o.length-4;A>0;A=A-4){if(b=='0'){if(h.of[o[A]]=='0'){h.o[o[A]]='1';h.s[o[A]][0]='1'}}dA(o,A,1,0);o[A+1]=h.snm[o[A]];f=' <i class="fc_aside" style="'+jn+(c=='1'?bz:dF)+'">'+dO(o[A+2],(c=='1'?1:0))+'</i>';var q=!(dQ!=0&&gB==o[A]);var x=(q?'.083em 0em .25em 3.083em':'0em 0em .167em 3.083em');var H=(q?'-3.083em':'0em');var K='';var L='';var O=mE(g,r);if((h.ac[o[A]]!='2'&&X=='1')||X=='2'){K=' <span id="censor'+O+'"'+gZ+'>'+dG+'adminDeleteMsg(1,'+h.pid[k.uid]+','+km(g,r)+',\''+O+'\')" style="'+z.style.dialog_box.text.secondary_link_css+'">'+i(240)+'</a> </span> ';L='onmouseover="fc_chat.toggleCensor(1,\''+O+'\')" onmouseout="fc_chat.toggleCensor(0,\''+O+'\')"'}gB=o[A];m+='<div class="fc_disc'+o[A]+' fc_disc_cont" id="fc_disc'+dQ+'" '+L+' style="padding:'+x+';text-indent:'+H+';">';var I='<span class="fc_dmu fc_dmu'+o[A]+'" '+(!q?'style="display:none"':'')+'>'+bM(o[A],null,0,1,1)+' <div class="fc_t2'+o[A]+'" style="'+bz+'">'+fG(o[A])+'</div>: </span>';var bf=cF(q)+'<span class="msg'+O+'">'+cu(o[A+3],1,9,dQ,null,q)+'</span>'+f+K+'</div>';m+='&nbsp;'+I+bf;dQ++;r++;if(c=='0'){di(d,j('#fc_page_chat_wrapper')[0],4,m);m='';fC(0)}}if(c=='1'){if(!g){di(d,j('#fc_page_chat_wrapper')[0],4,m);gB=s}else{j('#fc_disc_pghdr').after(m)}}};var mE=function(a,b){return'pg_'+h.pid[k.uid]+'_'+km(a,b)};var km=function(a,b){return(R(cP.I)+(a?b:dQ))};var mF=function(){var a=[];var b=0;cm[5]=0;for(var c in h.pid){if(h.pid.hasOwnProperty(c)){if(h.pid[c]==h.pid[k.uid]&&h.o[c]!='0'){fH(c,a,dk(c,5),5);b++}}}var g=U.chatbox.style.dialog_box.text;l('fc_disc_userlist')[B]="<span style='"+g.info+"'>"+k.chat_params.connected_text+"</span><span id='fc_disc_ucount' style='"+g.info+"'>("+b+")</span>"+(X>0?"<span style='"+g.info+";margin-left:.833em'>"+i(444,'Page ID: ')+h.pid[k.uid]+"</span>":"")+"<span style='margin-left:10xp' class='fc_disc_signin'></span>"+eV(a,5);j("span.fc_disc_signin").html((eD?"<a style='margin-left:.833em;"+g.css+g.secondary_link_css+"' HREF='javascript:void(0)' onclick='return fc_chat.sign_in()'>"+i(342,'Change name')+"</a>":""));disc_user=b};var kn=function(a){disc_user+=a;l('fc_disc_ucount')[B]="("+disc_user+")"};var ko=function(a){k.discC=a;j('span.fc_disc_count').html("("+a+")")};var iG=function(a){if(fB==1){if(h.o[a]=='1'&&h.pid[a]==h.pid[k.uid]){if(!j("#fc_t5"+a)[0]){kn(1);if(!bj(a)){j("#fc_t5"+k.uid).after(dk(a,5))}else{hp("#fc_disc_userlist",dk(a,5),5,1)}}else{if(a!=k.uid){if(h.pt[a]=='0'){if(bj(a)){j("#fc_disc_userlist div.fc_shw_gst").before(j("#fc_t5"+a))}}else{if(!bj(a)){j("#fc_t5"+k.uid).after(j("#fc_t5"+a))}else{hp("#fc_disc_userlist",j("#fc_t5"+a),5,0)}}}mG(a)}}else{if(j("#fc_t5"+a)[0]){kn(-1);if(bj(a)){gC(5,-1)}kp(a,'fc_t5')}}}};this.cDisc=function(){u='00010{7'+bL(cP.I,8);bd();j("#fc_disc_pg").html(i(445,"Loading More Chats..."))};this.tgl_disc=function(){hq();ef=1;setTimeout("fc_chat.scroll_disc()",100)};this.scroll_disc=function(){var a=j('#fc_page_chat_wrapper')[0];a.scrollTop=a.scrollHeight-(cr?a.clientHeight+1:0)};var kq=function(a){if(fB==1){if(!a||a==h.pid[k.uid]){J(i(446,'The Page Discussion has been Cleared'),1);ko(0);j("#fc_disc_pg").html('');cP.I=0;dQ=0;k.clr_disc()}}};this.clr_disc=function(){var a=j("#fc_disc_pghdr").detach();j('#fc_page_chat').html('').append(a);cP.I-=0;cP.I+=dQ;dQ=0;if(cP.I!=0)j("#fc_disc_pg").html(U.chatbox.set_more_msgs(cP.I))};var mG=function(a){j('span.fc_eye_'+a).css('display',(h.pt[a]=='1'?bD:y))};var mH=function(a){return"&nbsp;<span class='fc_eye_"+a+"' style='display:"+(h.pt[a]=='1'?bD:y)+"'><img style='height:1.333em;' title='"+k.chat_params.viewing_text+"' src='"+V+"eye.png'></span>"};var gy=function(){return h.nm[uid]};this.gsn=function(){var a=gy();if(a.length>18){a=a.substr(0,18)+'..'}return a};var kr={css:{"font-size":"12px","-webkit-box-shadow":"0em 0em .167em .167em rgba(0,0,0,0.5)","box-shadow":"0em 0em .167em .167em rgba(0,0,0,0.5)",padding:"1.25em",border:".083em solid black","background-color":"#ddddE1","-moz-border-radius":".167em","-webkit-border-radius":".167em","border-radius":".167em"}};this.infoChatBox;var iC=function(a,b){a=a+"&nbsp;&nbsp;<a href='javascript:void(0)' onclick ='fc_chat.infoChatBox.hide();return false'>"+i(391,"Dismiss")+"</a>";k.infoChatBox.fill(a);var c=(b?b:ka(j(N),k.infoChatBox.frame));k.infoChatBox.show(null,c.y,c.x)};this.nickBox;var mI=function(a,b){msg=(a==k.uid?i(419,"Enter your nickname"):i(420,"Edit nickname"))+": <br><br><form action='javascript:fc_chat.setNickname("+a+");'><INPUT TYPE=text style='"+gA.menu_item.input_css+"' value='' maxlength='50' id='fc_nickname' name='fc_nickname'></form><br> <a style='"+gA.menu_item.link_css+"' href='javascript:void(0)' onclick='fc_chat.nickBox.hide();return fc_chat.sign_in()'>"+i(43)+"</a> &nbsp;&nbsp;<a style='"+gA.menu_item.link_css+"' href='javascript:void(0)' onclick ='fc_chat.nickBox.hide();return false'>"+i(391,"Dismiss")+"</a>&nbsp;&nbsp;<span id='fc_nickname_set' style='visibility:hidden;"+gA.menu_item.set_notice.css+"'>"+i(421,'Nickname Set')+"</span>";var c=j("#fc_onlinelist");var g=j(document.body);if(b){c=g=j(N)}k.nickBox.fill(msg);k.nickBox.frame.css({position:c.css("position")});var d={x:R(c.css("left"))+Math.round(20*(jGo._['scalefactor']||1)),y:R(c.css("top"))+Math.round(130*(jGo._['scalefactor']||1))};if(b){d=ka(j(N),k.nickBox.frame)}k.nickBox.show(g,d.y,d.x)};this.infobox;var J=function(a,b,c){if(!bb&&!Q){a=a+"&nbsp;&nbsp;<a href='javascript:void(0)' onclick ='fc_chat.infobox.hide();return false'>"+i(391,"Dismiss")+"</a>";k.infobox.fill(a,c);var g=kb(k.infobox.frame);k.infobox.show(null,g.y,g.x)}else if(!b){alert(a)}};var mJ=function(a){J(a,null,1)};this.showInfo=J;this.debug=mJ;var eW="<img style='height:16px;width:16px;' src='"+V+"info.png'>&nbsp;";var mK="&nbsp;<img height='24px' onload='this.style.visibility=\"visible\";' style='visibility:hidden;width:24px;height:24px' ALIGN='absmiddle' src='"+V+"ajax-loader.gif'>";var iH="&nbsp;&nbsp;<img height='16px' onload='this.style.visibility=\"visible\";' style='visibility:hidden;width:16px;height:16px'ALIGN='absmiddle' src='"+V+"snakeloader.gif'>";var gD=function(){dR(i(159)+iH)};var dR=function(a){j("#fc_t1").html(a);if(U.config.layout==2){j("#fc_t1a").html("&nbsp;&nbsp;<span id='fc_banner_status_text'>"+a+"</span>");fc_chat.banner_resize()}else{j("#fc_t1a").html(a)}};var gE=function(a,b){return"<div style='margin-left:10px;margin-top:10px;font-size:12pt;'>&nbsp;"+a+(b?iH:"")+"</div>"};var eX=n.txt.t100+iH;var ks=function(a){if(a!=-1)j(".fc_ob").html(fc_chat.toggle_btn(1,a));dR(iI(n.startText))};var iI=function(a){return"<a href='javascript:void(0)' style='text-decoration:none' onclick='return fc_chat.sign_in_start(this)'>"+a+"</a>"};this.sign_in_start=function(a){var b=1;if(j(a).parent().attr('id')=='fc_t1')b=0;fc_chat.toggle_login(b);_change_name=1;return false};var hm;var gF=function(a){j('img.fc_status_bullet').attr({"src":(a==1?V+"bullet_green.png":V+"bullet_yellow.png")})};this.setPaused=function(){if(bn==1||this.tg_vid==1){cY(dC,'1');ea=1}else{cY(dC,'0');ea=0}};var mL=function(){var a=cs(n.data_cookie).split('&');if(cv.init==0){jGo.sound(j);j("#fc_sounds").fc_sound({basedir:bv+"flash/"});cv.on=a[1]-0;cv.a[0]=a[2]-0;cv.a[1]=a[3]-0;cv.a[2]=a[4]-0;cv.a[3]=a[5]-0;cv.init=1;if(jGo.browser.browser=='Opera'){var b=document.body;var c=document.documentElement;var g=(b.scrollHeight>=c.scrollHeight)?b:c;j("#fc_fla").css("top",iJ(g,100))}}if(dy.init==0){if(n.trans_enabled){dy.on=a[10]-0;dy.cur_lang=a[11];dy.init=1}}};this.initialized=false;this.init=function(){fc_chat.inSession=1;fc_chat.uid='-1';if(!n.default_on){if(jGo.cookie.getCookie("fc_tglChat")!='1'){jGo.cookie.setCookie("fc_tglChat",'0',gv(),'/',n.domain)}}if(jGo.cookie.getCookie(n.data_cookie)==null||jGo.cookie.getCookie(n.data_cookie).split('&').length!=20){mp()}if(!bl){jl=eT(12)}bu=(eT(16)==''?Y.font.size:(eT(16)-0));if(jGo.country_code!=''){ct(jGo.country_code,13)}var a=jGo.cookie.getCookie(n.user_cookie);if((a!=null)&&(a!="")&&(a!="0")){fc_chat.uid=a};if(fc_chat.uid=='-1'||fc_chat.uid==-1){fc_chat.inSession=0;if(n.require_login){eX=iI(n.startText)}}jGo.cookie.setCookie(n.user_cookie,fc_chat.uid,gv(),'/',n.domain);j(document).bind('mousemove',fc_chat.mtrack);fc_chat.browser=fc_chat.BrowserDetectBrowser();fc_chat.version=fc_chat.BrowserDetectVersion();if(fc_chat.browser=='Explorer'&&(fc_chat.version=='5'||fc_chat.version=='6')){Q=true;U.config.layout=0}if(fc_chat.browser!='Explorer'&&fc_chat.browser!='Opera'){iv=true}if(fc_chat.browser=='Safari'||fc_chat.browser=='Mozilla'){fx=true}if(fc_chat.browser=='Netscape'){jh=120;ev=35}if(fc_chat.browser=='Opera'){ev=20}if(fc_chat.browser=='Firefox'){ev=25;mM((fc_chat.version-0)>3&&(fc_chat.version-0)<8,fc_chat.version=='3.6')}if(jGo.cookie.getCookie("fc_browser")==null||jGo.cookie.getCookie("fc_browser")==""){jGo.cookie.setCookie("fc_browser",fc_chat.browser,gv(),"/",n.domain)}lF();lH();if(cR==cS){if(jGo.cookie.getCookie('fc_tglChat')=='0'){fc_chat.setTgl(0);fc_chat.obtn=i(4);eX=i(102)}if(jGo.cookie.getCookie('fc_pauseChat')=='1'&&!bl){eX=i(103)}if(bl&&n.require_login)eX=i(393,'Please sign in.');if(id&&!n.noshow){fc_chat.writeBox()}}fc_chat.initialized=true;if(jGo.domIsReady&&!jGo.loadCalled){setTimeout("fc_chat.loader()",250)}};this.getexp6=function(){return Q};this.BrowserDetectInit=function(){jGo.browser.init()};this.BrowserDetectBrowser=function(){return jGo.browser.browser};this.BrowserDetectVersion=function(){return jGo.browser.version};this.sendMsg=function(a,b){u=a;bd(b)};var bd=function(a){try{S.jsSendData(u);br=new Date().getTime()}catch(err){if(!a){J(dK);if(bn==1){eL[B]=fv}}}};var hr=jGo.iphone;var kt=function(a){if(bb){j(a).animate({scrollTop:a.scrollHeight})}};this.hideUBox=function(){gV=false;fc_chat.leavingUser();if(bb){jGo.UI.removeHandler('touchstart','ubox');if(this.uD!=null){if(this.uD.parentNode){this.uD.parentNode.removeChild(this.uD);if(Q){this.uIF.parentNode.removeChild(this.uIF)}}}this.uD=null};return false};this.posWin=function(){var a=document.body;var b=document.documentElement;var c=(a.scrollHeight>=b.scrollHeight)?a:b;if(!M.fixed){fc_ex.posWin(M,iJ(c,k.chat_window_height),ku(c,dd),k.oD,k.optionsTop,N)}};var iK;j(window).resize(function(){if(k.m==1){clearTimeout(iK);iK=setTimeout(mN,50)}});var mN=function(){clearTimeout(iK);j(k.tempIFrame).css({height:eH()});j(k.odiv).css({height:eH()})};this.leavingUser=function(){var a="fc_uD";hZ=false;if(gV==false){if(jGo.browser.browser=='Firefox'){if(gu.disabled!=true){gu.style.visibility='visible';gu.focus()}else{if(bn==1){l('fc_chat').focus()}}}if(k.m==1){k.odiv.style.display=y}if(k.IFO!=null){cC.style.display=y}l(a).style.display=y;if(jGo.browser.browser=='Opera'&&!db){gG(1)}if(Q){this.uIF.style.display=y}}return true};this.changestatus=function(){gV=false;clearTimeout(hj);hj=setTimeout('fc_chat.leavingUser()',jh);return true};this.changebackstatus=function(){gV=true};this.posx2;this.posy2;this.mtrack=function(a){if(a==null)a=window.event;if(iv){dr=a.pageX;ds=a.pageY}else{dr=a.clientX;ds=a.clientY}posx2=a.clientX;posy2=a.clientY;if(cR==cS){if(h!=null&&h.idl[k.uid]==1){fc_chat.chkIdl(dr,ds)}}else{if(window.parent.fc_chat.getIdl()){window.parent.fc_chat.markpos(dr,ds,posx2,posy2);window.parent.fc_chat.chkIdl(dr,ds)}}};this.markpos=function(a,b,c,g){dr=a;ds=b;posx2=c;posy2=g};this.chkIdl=function(a,b){var c=new Date().getTime();if((c-ji)>10000){u='00001R';gW=a;gX=b;try{S.jsSendData(u);br=new Date().getTime();ji=new Date().getTime()}catch(err){this.jsOnClose()}}};this.get=function(a){switch(a){case'l':return t;case'px':return bu;case'clr':return fl;case'current_room':return bg;case'cPU':return by;case'mobile':return bb;case'login_lock':return eE;default:}};this.getPause=function(){return ea};this.setTgl=function(a){dD=a};var mO=function(a){var b=a.substr(15).split('<');var c=parseInt(a.substr(6,8),16);var g=parseInt(a.substr(4,2),16);var d=0;for(var f=1;f<6;f++){cz[f]=((c&cl[f])==cl[f]?'1':'0')}for(var f=9;f<32;f++){if((c&cl[f])==cl[f]){bq[f]='1';bE[f]=d;if(f==23||f==24){d++}d++}else{bq[f]='0'}}for(var f=1;f<5;f++){if((g&cl[f])==cl[f]){bq[f+31]='1';bE[f+31]=d;d++}else{bq[f+31]='0'}}var o=b[b.length-1];var m=gz(o);bP=parseInt(a.charAt(0));X=a.charAt(14);if(bP==parseInt(bm[0])){bm[0]='0'}if(cz[1]==bm[4]){bm[4]='0'}if(cz[3]==bm[6]){bm[6]='0'}var s=[26,27,12,13,14];for(var f=0;f<s.length;f++){if(bq[s[f]]=='1'){if(s[f]==26){fY=1;cJ={}}if(s[f]==27){fY=1;hs()}ht(b[bE[s[f]]],s[f])}}s=[9,10,21,16,19,29,31,25,35];for(var f=0;f<s.length;f++){if(bq[s[f]]=='1'){if(hu==1&&gH==0&&s[f]==21){gI=1;cm[4]=0}ht(b[bE[s[f]]],s[f])}}if(bq[23]=='1'){bm[19]='0';ht(b[bE[23]+1],23)}if(bq[24]=='1'){ht(b[bE[24]+1],24)}if(bq[22]=='1'){mP(b[bE[22]])}if(bq[11]=='1'){if(bm[7]=='1'){bm[7]='0';t=false;fc_chat.tgl_info_panel();t=true}mQ(b[bE[11]],X);l('userframe')[B]=''}if(m){if(m.RM!=null){if(cz[2]==bm[5]&&bm[2]=='0'){bg=R(m.RM);bm[5]='0'}if(R(m.RM)+1==R(bm[2])){eG=true;bm[2]='0'}}if(m.REQ){u=bL(2+ew.length)+'{1'+ew;bd()}if(m.Q!=null){ko(m.Q)}if(m.PI){cP=m.PI}if(m.NPC){bX=1;hv=1;j('#fc_t2').html("<div class='fc_tlk0 fc_tlk_cont' style='margin-bottom:.25em'><b>"+i(404,'You have unread messages in your Messages Box. Click "Open Full Chat" above to view.')+"</b></div>");hh=true}if(m.RUP){if(j("span.fc_nc_count")[0]){mR(m.RUP.N)}if(m.RUP.R){mS(m.RUP.R)}}if(m.RTMP){mA(m.RTMP)}if(m.RF){if(m.RF=='1'){bm[7]='0'}fc_chat.eS2(3)}if(m.RA){if(m.RA=='1'){fc_chat.eS2(2)}else if(m.RA=='2'){setTimeout("fc_chat.c_g2()",50);l('fc_rpass'+dS).disabled=false;clearTimeout(gJ);gJ=setTimeout("fc_chat.clearRoompassTxt('"+dS+"')",7000)}else if(m.RA=='3'){eL[B]=fv}}if(m.LD){if(m.LD=='1'){fc_chat.errString(3)}else if(m.LD=='2'){fc_chat.errString(4)}else if(m.LD=='3'){fc_chat.loginAfterServerValidation()}}if(m.SMS){var r=m.SMS.split('/');for(var f=1;f<r.length-1;f+=3){}}if(m.CMDS){var z=m.CMDS;for(var f=0;f<z.length;f++){if(z[f].TYP=='CLRRM'){kv(R(z[f].ID))}if(z[f].TYP=='CNSRRM'){mT(R(z[f].ID),z[f].IND)}if(z[f].TYP=='CNSRPG'){mU(R(z[f].ID),z[f].IND)}if(z[f].TYP=='CLRALLPG'){kq(z[f].ID);J(i(449,'Pages Cleared'),1);if(k.page_manager_state==3)k.open_page_manager()}if(z[f].TYP=='CLRPG'){kq(z[f].ID);J(i(449,'Page Cleared'),1);if(k.page_manager_state==3)k.open_page_manager()}}}if(m.PROF){fc_ex.clbkUP(eF,m.PROF.U,m.PROF.PR,eb)}if(m.UPROF){fc_ex.clbkUP(eF,m.UPROF,'',eb)}if(m.TS){gf=m.TS}if(m.VI){il=m.VI}if(m.GL){if(m.GL.G=='0'){eD=true}var A=m.GL.N.split('&');screen_name=bS(A[0]);k.uid=m.GL.U;if(dZ!=null){cY(n.user_cookie,k.uid);cY(n.session_cookie,dZ)}}if(m.MOD_DISC){kw=m.MOD_DISC}if(m.MOD_PMAN){mV(m.MOD_PMAN)}if(m.NO){eM=m.NO-0}if(m.USR){mW(m.USR)}if(m.SR){mX(m.SR)}if(m.UR){mY(m.UR)}}mZ(cz[2]);if(bq[15]=='1'){var q=cz[2];if(cz[4]=='1'){G[2]=0;ba[2]=0;delete cA;cA=[];k.img2C=0;for(var x in h.pe){if(h.pe.hasOwnProperty(x)){delete h.pe[x]}}bH[B]='';if(Z[7]!=0){clearTimeout(fz);fz=null;t=false;fc_chat.cP(0,7);t=true}q='1'}if(ba[2]>=n.room_message_limit&&Z[7]==0&&dE!=1){var H=bt.scrollTop;if(bt.scrollHeight-H<bt.clientHeight+50){fc_ex.cropMsgs(bH,'p',7,P,G[2]);ba[2]=n.min_room_messages-0;delete cA;cA=[];cd[7]=en(2)}}var K=1;if(bq[17]=='1'){cK=b[bE[17]];K=0}na(b[bE[15]],bq[16],q,K,cz[1])}else{if(bq[17]=='1'){cK=b[bE[17]]}if(cz[2]=='1'&&cK>0){cd[7]=en(2);if(!n.no_chat_history){bH[B]=hw('p',7)}if(bu){fc_chat.c_px(null,bu)}}if(cz[2]=='1'){if(T==1){var L='';kx(7,L)}gt=setTimeout("fc_chat.showdiv(2)",20)}}if(bm[2]=='0'){if(bq[18]=='1'){if(cz[5]=='1'){G[1]=0;ba[1]=0;delete cc;cc=[];k.img1C=0;for(var x in h.ge){if(h.ge.hasOwnProperty(x)){delete h.ge[x]}}bo[B]='';if(Z[6]!=0){clearTimeout(ei);ei=null;t=false;fc_chat.cP(0,6);t=true}eN='1'}if(ba[1]>=n.room_message_limit&&Z[6]==0){var H=bp.scrollTop;if(bp.scrollHeight-H<bp.clientHeight+50){fc_ex.cropMsgs(bo,'g',6,P,G[1]);ba[1]=n.min_room_messages-0;delete cc;cc=[];cd[6]=en(1)}}var K=1;if(eN=='0'){eN=cz[2]}if(bq[20]=='1'){cb=b[bE[20]];K=0}if(dc()){ky()}else{nb(b[bE[18]],bq[19],eN,K)}}else{if(bq[20]=='1'){cb=b[bE[20]]}if(eG||cz[2]=='1'){var O='';cd[6]=1;if(cb>0){cd[6]=en(1);if(!n.no_chat_history){O=hw('g',6)}}if(!dc()){kx(6,O);ej=setTimeout("fc_chat.showdiv(1)",20)}else{ky()}}}eN='0'}eG=false;if(bq[23]=='1'){if(Z[7]!=0){hx(b[bE[23]],'fc_p',7,bR,bt)}}if(bq[24]=='1'&&bm[20]=='1'){bm[20]='0';if(Z[6]!=0){hx(b[bE[24]],'fc_g',6,bQ,bp)}}if(bq[28]=='1'){kl(b[bE[28]],bq[29],cP.L)}if(bq[30]=='1'){kl(b[bE[30]],bq[31],1,1)}if(cP.L=='1'){if(!fB)mF();j('#fc_page_chat_loading').remove();fB=1;cP.L='0'}if(k.monitor_state==1){if(bq[32]=='1'){hy(b[bE[32]],'0',1)}if(bq[33]=='1'){hy(b[bE[33]],'0')}}if(k.page_manager_state>1){if(k.page_manager_state==2){dl=0;k.clr_man_disc()}if(bq[34]=='1'){hy(b[bE[34]],bq[35],1,1)}if(k.page_manager_state==3&&bq[32]=='1'){hy(b[bE[32]],'0',1)}k.page_manager_state=3}dH="";if(bq[9]=='1'){var I=b[bE[9]].split('>');for(var f=0;f<I.length-1;f=f+2){h.of[I[f]]='0'}}if(hi){nc();hi=false}if(hX==1){kz(eM);if(U.config.layout==2){fc_chat.banner_resize()}if(bX==0){hh=false}gF(1)}hX=0;if(j("span.fc_online_count")[0]){j("span.fc_online_count").html("("+eM+")")}if(bP==3){hz()}nd();if(bX!=0){hA()}if(cz[2]=='1'){hB(1)};if(js){cY(dC,'1');ea=1;fc_chat.open_chat_box();js=false;hl=true}else if(hl){if(eT(14)==''){ne()}l('searchtext').disabled=false;l('searchoptions').disabled=false;l('leftframecover').style.display="none";if(l('savingttl')){l('savingttl').style.display="none"}if(l('savingpwrd')){if(l('savingpwrd').style.display=="inline"&&ix!=''){ix=''}l('savingpwrd').style.display="none"}if(X=='2'){l('bip').disabled=false;l('reboot').disabled=false;l('getconfig').disabled=false;l('setconfigvalue0').disabled=false;l('setconfigvalue1').disabled=false;l('setconfigvalue2').disabled=false;l('configvalue3').disabled=false;l('setconfigvalue4').disabled=false;l('setconfigvalue5').disabled=false;l('filterchat').disabled=false;l('filteruser').disabled=false;l('reboot').disabled=false}iL(true);hl=false}};this.hideChatPanel=function(){N.style.display=y};this.showChatPanel=function(){setTimeout("fc_chat.showChat()",2000)};this.showChat=function(){N.style.display=F};var kA=(U.config.mode==0&&!U.config.noclose?"<a id='fc_close_toolbar' style='"+dv.icon_tray.hide_icon.css+"' "+bc+"hideToolbar();'>X</a>&nbsp;&nbsp;":"");var eY;var kz=function(a){jGo.hooks.doHooks('fcchat_enable_toolbar_fn');var b=C.control.info_box.linebreak;eY=0;j("#fc_t1").html(kB(a,b));eY=(U.config.layout==2)?1:0;j("#fc_t1a").html(kB(a,b,1))};var kB=function(a,b,c){var g=cG(0,1)+"<span class='fc_abbtn'><a "+bc+"tgl_online(";var d=")'>"+eo(1,i(3))+"</a></span>"+cG(1,0)+"<span class='fc_online_count fc_info_text'>"+ep(a,"("+a+")")+"</span>"+cG(3,1);var f="<span class='fc_abbtn'><a "+bc+"tgl_friends(";var o=")'>"+eo(2,i(269,"Friends"))+"</a></span>"+cG(3,1);var m="<span class='fc_abbtn'><a "+bc+"tgl_messages(";var s=")'>"+eo(3,i(266,"Check Messages"))+"</a></span>"+cG(1,0)+"<span class='fc_nm_count fc_info_text'>"+ep(bX,"("+bX+" "+i(267,"new")+")")+"</span>"+cG(3,1);var r="<span style='display:"+hg+"' class='fc_abbtn'><a "+(open_chatrooms_in_window&&n.skip_roomlist?"target=_blank href='"+eu+"?rmid="+(n.default_room_index+5)+"' onclick='fc_chat.openPopup(":bc+"tgl_chatrooms(");var z=")'>"+eo(4,i(405,"Chat Rooms"))+"</a></span>"+cG(3,0);var A="<span style='display:"+hg+"' class='fc_nc_count fc_info_text'>"+ep(eg,i(367,"Chats")+" ("+eg+" "+i(267,"new")+")")+"</span>&nbsp;";if(!c){return g+d+b+f+o+b+m+s+b+r+z+b+A}return kA+g+"1"+d+f+"1"+o+m+"1"+s+r+"1"+z+A};var kC=function(a,b){nf(1,1);var c='';eY=0;if(b){c=C.control.info_box.linebreak}else{eY=(U.config.layout==2)?1:0}var g="<span class='fc_abbtn_dis'><a class='fc_abbtn_disa'";var d=cG(0,1)+g+" href='javascript::void(0";var f=")'>"+eo(1,i(3),1)+"</a></span>"+cG(1,0)+"<span class='fc_online_count fc_info_text'>"+ep(a,"("+a+")")+"</span>"+cG(3,1);var o=g+" href='javascript::void(0";var m=")'>"+eo(2,i(269,"Friends"),1)+"</a></span>"+cG(3,1);var s=g+" href='javascript:void(0";var r=")'>"+eo(3,i(266,"Check Messages"),1)+"</a></span>"+cG(1,0)+"<span class='fc_nm_count fc_info_text'>"+ep(bX,"("+bX+" "+i(267,"new")+")")+"</span>"+cG(3,1);var z=g+" style='display:"+hg+"' href='javascript::void(0";var A=")'>"+eo(4,i(405,"Chat Rooms"),1)+"</a></span>"+cG(3,0);var q="<span style='display:"+hg+"' class='fc_nc_count fc_info_text'>"+ep(eg,i(367,"Chats")+" ("+eg+" "+i(267,"new")+")")+"</span>&nbsp;";return kA+d+f+c+o+m+c+s+r+c+z+A+c+q};var eo=function(a,b,c){c=(c?"fc_abbtn_disa":"");return(eY==1)?"<span class='fc_icon fc_icon-toolbar"+a+" "+c+"' ></span>":b};var ep=function(a,b){return(eY==1)?"("+a+")":b};var cG=function(a,b){var c=(eY==1)?b:a;str="";for(var g=0;g<c;g++){str+="&nbsp;"}return str};var nf=function(a,b){if(a==1)jGo.hooks.doHooks('fcchat_disable_toolbar_fn');if(!b&&U.config.layout==2)fc_chat.banner_resize()};var ht=function(a,b){var c=a.split('>');switch(b){case 14:for(var g=0;g<c.length-1;g=g+3){if(h.nm[c[g]]==null){eZ(c[g])}dA(c,g,1,0);h.b[c[g]]=c[g+2];ck[c[g]]='1';if(h.u[c[g]]=='0'){dH+=c[g]+'&';h.u[c[g]]='1'}}break;case 12:case 13:for(var g=0;g<c.length-1;g=g+2){if(h.nm[c[g]]==null){eZ(c[g])}h.bg[c[g]]=c[g+1];if(h.u[c[g]]=='0'){dH+=c[g]+'&';h.u[c[g]]='1'}}break;case 10:var d=gz(a);for(var g=0;g<d.length;g++){var f=d[g].u;if(h.nm[f[0]]==null){eZ(f[0])}h.o[f[0]]='1';dA(f,0,1,0);h.d[f[0]]=f[2];h.g[f[0]]=R(f[3]);hC(f,0,4,0);kD(f[0],d[g].i);if(h.u[f[0]]=='0'){dH+=f[0]+'&';h.u[f[0]]='1'}}break;case 9:var d=gz(a);for(var g=0;g<d.length;g++){var f=d[g].u;if(h.nm[f[0]]==null){eZ(f[0])}if(f[2]=='1'){h.o[f[0]]='1';eM++}else if(f[2]=='0'){h.o[f[0]]='0';h.d[f[0]]='0';h.g[f[0]]=0;h.t[f[0]]='0';h.pt[f[0]]='0';h.pid[f[0]]='0';eM--}h.of[f[0]]='1';hC(f,0,3,0);dA(f,0,1,0);h.cc[c[g]]=c[g+2];kD(f[0],d[g].i);if(h.u[f[0]]=='0'){dH+=f[0]+'&';h.u[f[0]]='1'}}break;case 21:case 26:case 27:for(var g=0;g<c.length-1;g=g+5){if(h.nm[c[g]]==null){eZ(c[g])}if(b==26){cJ[c[g]]=1}if(b==27){iM([c[g]],1)}dA(c,g,1,0);h.d[c[g]]=ex;h.o[c[g]]=c[g+2].charAt(0);h.g[c[g]]=R(c[g+2].substr(1));hC(c,g,3,0);h.cc[c[g]]=c[g+3].substr(3);kE(c[g],c[g+4]);if(h.u[c[g]]=='0'){dH+=c[g]+'&';h.u[c[g]]='1'}}break;case 16:case 19:case 29:case 31:case 35:case 23:case 24:case 25:for(var g=0;g<c.length-1;g=g+3){if(h.nm[c[g]]==null){eZ(c[g])}hC(c,g,1,0,1);h.cc[c[g]]=c[g+1].substr(3);kE(c[g],c[g+2],1);if(h.u[c[g]]=='0'){dH+=c[g]+'&';h.u[c[g]]='1'}}break;default:J('bad case')}};var kE=function(a,b,c){var g;try{g=(b!="{}"?j.parseJSON(jY(b,'"')):{})}catch(e){}if(g.AV!=null){h.av[a]=g.AV}if(!c){if(g.RTMP){h.vsp[a]=g.RTMP.substr(0,1);h.vcu[a]=g.RTMP.split("_")[1];h.vs[a]=g.RTMP.substr(g.RTMP.indexOf("_",2)+1)}else{h.vs[a]=''}}if(g.TL!=null){h.ttl[a]=bS(g.TL)}if(g.TAG!=null){h.tag[a]=bS(g.TAG)}if(g.NK!=null){h.nk[a]=bS(g.NK)}if(g.PG!=null){h.pid[a]=g.PG;iG(a)}};var kD=function(a,b,c){if(b.a!=null){h.av[a]=b.a}if(!c){if(b.b){h.vsp[a]=b.b.s;h.vcu[a]=(b.b.t?b.b.t:'');h.vs[a]=b.b.r}else{h.vs[a]=''}}if(b.c!=null){h.cc[a]=b.c}if(b.t!=null){h.ttl[a]=bS(b.t)}if(b.tg!=null){h.tag[a]=bS(b.tg)}if(b.n!=null){h.nk[a]=bS(b.n)}if(b.pg!=null){h.pid[a]=b.pg;iG(a)}};var ke=function(a){return(h.vs[a]!=''&&h.vsp[a]==1?'inline':y)};var dA=function(a,b,c,g){var d=a[b+c].substr(g).split('&');var f=bS(d[0]);h.nm[a[b]]=f;if(d.length>1){h.at[a[b]]=d[1]}h.snm[a[b]]=ek(f,h.at[a[b]])};this.sNm=dA;var ek=function(a,b){if(b==''&&a.indexOf('('+i(1))!=-1){a=a.substr(0,a.indexOf('('+i(1))-1)}if(a.length>16){a=a.substr(0,16)+'..'}return a};var hC=function(a,b,c,g,d){var f=parseInt(a[b+c].substr(g,3),16);h.ac[a[b]]=(f&3)+'';if(d)h.o[a[b]]=((f&4)==4?'1':'0');h.t[a[b]]=((f&8)==8?'1':'0');h.ty[a[b]]=((f&16)==16?'1':'0');h.idl[a[b]]=((f&32)==32?'1':'0');h.pr[a[b]]=((f&64)==64?'1':'0');h.bs[a[b]]=((f&128)==128?'1':'0');h.pt[a[b]]=((f&256)==256?'1':'0')};function eZ(a){h.id[a]=a;h.nm[a]='';h.snm[a]='';h.at[a]='';h.o[a]='0';h.ac[a]='0';h.d[a]='0';h.g[a]=0;h.t[a]='0';h.cc[a]='';h.ty[a]='0';h.idl[a]='0';h.pr[a]='0';h.pro[a]='0';h.ttl[a]='';h.ttlo[a]='';h.nk[a]='';h.nko[a]='';h.tag[a]='';h.tago[a]='';h.av[a]='';h.avo[a]='';h.acl[a]=mz(a);h.vsp[a]='1';h.vcu[a]='';h.vs[a]='';h.vso[a]='';h.vsw[a]='';h.wl[a]='0';h.vsw2[a]='';h.wl2[a]='0';h.b[a]='0';h.bg[a]='0';h.bs[a]='0';h.gre[a]='';h.pve[a]='';h.msgC[a]=0;h.msgB[a]=0;h.pge[a]='';h.s[a]='00000000000';h.u[a]='0';h.of[a]='0';h.nw[a]='0';h.pt[a]='0';h.pid[a]='0'};this.toggleAlerts=function(){if(!t){fc_ex.toggleAlerts()}};var hv=0;var kF=function(){if(bP==3||cO==1){hv=0;u='00001p';bd()}else{hv=1}};var hz=function(){if(hv==1)kF()};var dT=0;var iN=-1;var kG=-1;var na=function(a,b,c,g,d){var f;var o;var m;var s='30px';msgto='<span style="font-style:italic" class="fc_msgto_';var r=((c=='1'&&cK>50&&!n.no_chat_history)?'<div id="fc_pPg" style="display:block; width:100%; z-Index:'+(P+202)+';'+bw+'margin-left:5px"><a href="javascript:void" onclick="fc_chat.cP(1,7);return false">&laquo;&laquo; '+i(111)+' 50</a></div>':'');if(c=='1'){r+="<IMG id='fc_img7' SRC='"+bv+"trans.gif' height=1 width="+s+" style='"+bw+"'>"}var z;var A;var q=a.split('>');for(var x=q.length-6;x>0;x=x-6){if(q[x+1]==q[x+2]){q[x]=k.uid}if(b=='0'){if(h.nm[q[x]]==null){eZ(q[x]);h.nw[q[x]]='1'}if(h.of[q[x]]=='0'){h.o[q[x]]='1';h.s[q[x]][0]='1'}}dA(q,x,1,0);q[x+1]=h.snm[q[x]];var H=q[x+2].split('&');var K='';if(H.length>1){K=H[1]}q[x+2]=bS(ek(H[0],K));var L=dE&&dm[0]!=-1;var O=G[2]==0||(L&&q[x]!=dm[0])||(!L&&iN!=q[x]);dm[0]=-1;var I=q[x+1]==q[x+2];iN=(I?-1:q[x]);m=cZ(q[x],1,0);if(c!='1'){L=hD&&dm[1]!=-1;var bf=dT==0||(L&&q[x]!=dm[1])||(!L&&kG!=q[x]);dm[1]=-1;var bi=(bf?'.086em 0em .25em 3.086em':'0em 0em .167em 3.083em');if(I){bi='.083em 0em .25em 0em'}var be=(bf&&!I?'-3.083em':'0em');kG=(I?-1:q[x]);f=l('fc_t2');if(!hh){f[B]=""}A=' <i class="fc_aside" style="'+jn+(d=='1'?bz:dF)+'">'+dO(q[x+4],(d=='1'?1:0))+'</i>';var bJ=1;var bK='';var bB='';var cH='';var dU=Y.private_chat_panel.msg_interrupt;if(!I&&hD&&k.cU!=0&&q[x]!=k.uid&&q[x]!=k.cU){bK=C.new_messages_box.msg_interrupt.css;if(bf){bB='<span class="fc_pmsg_inrpt" style="float:right;margin-right:.833em;"> <a style="'+C.new_messages_box.msg_interrupt.respond_css+'" href="JavaScript:void()" onclick="fc_chat.talk('+q[x]+');return false;">'+i(423,"Respond")+'</a>&nbsp;&nbsp;<a class="fc_close_msg" style="'+C.new_messages_box.msg_interrupt.close_css+'" href="JavaScript:void()" onclick="return fc_chat.remove_msg(this,'+q[x]+')">x</a></span>';cH='<br class="fc_pmsg_brk">'}}var dV='<div class="fc_tlk'+(I?0:q[x])+' fc_tlk_cont" style="'+bK+';padding:'+bi+';text-indent:'+be+';">';var r='';if(I){r=dV+'&nbsp;<div class="fc_t20" style="'+bz+';">'+dh(16)+eW+'</div> '+cF(bf)+cu(q[x+5],1,8,dT,1,bf)+A+'</div>';bX++}else{var cf='<span class="fc_pmu fc_pmu'+q[x+3]+'" '+(!bf?'style="display:none"':'')+'>'+bM(q[x],null,0,1,1)+' <div class="fc_t2'+q[x]+'" style="'+bz+'">'+fG(q[x])+'</div>: </span>';var cQ=cF(bf)+bB+cH+cu(q[x+5],1,8,dT,null,bf)+A+'</div>';if(q[x]==k.uid){bJ=0;r=dV+'&nbsp;'+cf+msgto+q[x+3]+'">('+i(115)+' '+q[x+2]+kH(q[x+3],1)+')</span> '+cQ;iM(q[x+3])}else{r=dV+'&nbsp;'+cf+cQ;bX++;iM(q[x]);iO(q[x],1)}}dT++;di(f,j('#fc_view_msgs')[0],3,r);hh=true;if(d!='1'&&bn=='0'){fC(1);if(bJ){hE=0;fc_chat.fade_new_msgs()}}if(bJ&&U.config.show){if(bZ.minimized){bZ.toggle()}bZ.show()}}if(bP>1&&bm[5]=='0'){A=' <i class="fc_aside" style="'+fZ+(c=='0'?dF:bz)+'">'+dO(q[x+4],c)+'</i>';m=cZ(q[x],1,2);var fI=(q[x+1]==q[x+2]?'0':q[x]);if(O){if(h.pe[fI]!=null){h.pe[fI]+='fc_pm'+G[2]+'&'}else{h.pe[fI]='fc_pm'+G[2]+'&'}}var gK=(40+n.avatar_sz-18);var bi=(O?'1px 0px 3px '+gK+'px':'0px 0px 2px '+gK+'px');if(I){bi='1px 0px 3px 0px'}var be=(O&&!I?'-'+gK+'px':'0px');if(c=='0'&&cj!=2){if(G[2]!='0'){o=l('fc_pmo'+(G[2]-1))}bK='transparent;';bB='';cH='';if(!I&&dE&&dW!=0&&q[x]!=k.uid&&q[x]!=dW){bK=dU.background;if(O){bB='<span class="fc_pmsg_inrpt" style="float:right;margin-right:10px;"> <a style="'+dU.respond_css+'" href="JavaScript:void(0)" onclick="fc_chat.send_to('+q[x]+');return false;">'+i(423,"Respond")+'</a>&nbsp;&nbsp;<a class="fc_close_msg" style="'+dU.close_css+'" href="JavaScript:void(0)" onclick="return fc_chat.remove_msg(this,'+q[x]+')">x</a></span>';cH='<br class="fc_pmsg_brk">'}}f=document.createElement('div');j(f).addClass("fc_"+(I?0:q[x])+" fc_chat_container fc_prmsg").attr('id','fc_pmo'+G[2]).css({display:F,'margin-left':'5px',padding:bi,'text-indent':be,'background-color':bK,align:'top',width:k.chat_container_width+'px','z-index':P+202});if(I){f[B]=' <b><div class="fc_0" id=fc_pm'+G[2]+ez+'>'+dh(16)+eW+'</div></b> '+cF(O)+cu(q[x+5],k.img2C,7,G[2],1,O)+A}else{var cf='<span class="fc_pmu fc_pmu'+q[x+3]+'" '+(!O?'style="display:none"':'')+'>'+bM(q[x],7)+' <div id=fc_pm'+G[2]+ez+'>'+m+'</div>: </span>';var cQ=cF(O)+bB+cH+cu(q[x+5],k.img2C,7,G[2],null,O)+A;if(q[x]==k.uid){f[B]=cf+msgto+q[x+3]+'">('+i(115)+' '+q[x+2]+kH(q[x+3])+')</span> '+cQ}else{f[B]=cf+cQ}}if(k.img2C==0&&bV==1){dp=1}if(bu){f=gL(f,null)}hF(bH,bt,2,f,o,1);if(k.img2C==0&&bV==1){k.img7.style.width=(R(bt.style.width)+11)+'px';k.img2C=1}fC(1);bV=0;dp=0}else{r=r+'<div class="fc_'+(I?0:q[x])+' fc_chat_container fc_prmsg" id="fc_pmo'+G[2]+'" style="padding:'+bi+';text-indent:'+be+';'+gh+'">';var fa=' <b><div ';if(I){r=r+fa+' id=fc_pm'+G[2]+ez+'>'+dh(16)+eW+'</div></b> '+cF(O)+cu(q[x+5],1,null,null,1,O)+A+'</div>'}else{var cf='<span class="fc_pmu fc_pmu'+q[x+3]+'" '+(!O?'style="display:none"':'')+'>'+bM(q[x],7)+' <div id=fc_pm'+G[2]+ez+'>'+m+'</div>: </span>';var cQ=cF(O)+cu(q[x+5],1,null,null,null,O)+A+'</div>';if(q[x]==k.uid){r=r+cf+msgto+q[x+3]+'">('+i(115)+' '+q[x+2]+')</span> '+cQ}else{r=r+cf+cQ}}if(g=='1'){cK++}}G[2]++;ba[2]++}}if(c=='1'){iN=-1;r=(T==1?r+hG():r);cd[7]=en(2);cX[2]=bt.scrollHeight;if(bV==1){k.img2C=1;bV=0;s=(R(bt.style.width)+11)+'px'}if(cr){bH.style.display=y}bH[B]=r;if(bu){fc_chat.c_px(null,bu)}if(fl){}k.img7=l('fc_img7');gt=setTimeout("fc_chat.showdiv(2)",20)}else{if(cj==2&&bP>1){if(k.img2C==0&&bV==1){dp=1}if(bu){r=gL(null,r)}di(bH,bt,2,r);if(k.img2C==0&&bV==1){k.img7.style.width=(R(bt.style.width)+11)+'px';k.img2C=1}bV=0;dp=0}}kF()};var hH=-1;var nb=function(a,b,c,g){var d;var f;var o;var m=' style="'+bz+';'+bw+'"';var s='<div style="'+bz+';padding-left:22px">';var r='30px';var z=((c=='1'&&cb>50&&!n.no_chat_history)?'<div id="fc_gPg" style="display:block; width:100%; z-Index:'+(P+202)+';'+bw+'margin-left:5px"><a href="javascript:void" onclick="fc_chat.cP(1,6);return false">&laquo;&laquo; '+i(111)+' 50</a></div>':'');if(c=='1'){z+="<IMG id='fc_img6' SRC='"+bv+"trans.gif' height='1px' width="+r+" style='"+bw+"'>"}var A;var q=a.split('>');for(var x=q.length-4;x>0;x=x-4){if(b=='0'){if(h.of[q[x]]=='0'){h.o[q[x]]='1';h.s[q[x]][0]='1'}}dA(q,x,1,0);q[x+1]=h.snm[q[x]];o=cZ(q[x],1,1);A=' <i class="fc_aside" style="'+fZ+(c=='0'?dF:bz)+'">'+dO(q[x+2],c)+'</i>';var H=!(G[1]!=0&&hH==q[x]);hH=q[x];if(H){if(h.ge[q[x]]!=null){h.ge[q[x]]+='fc_gm'+G[1]+'&'}else{h.ge[q[x]]='fc_gm'+G[1]+'&'}}var K='';var L='';if((h.ac[q[x]]!='2'&&X=='1')||X=='2'){K=' <span id="censor'+G[1]+'"'+gZ+'>'+dG+'deleteMsg(0,'+G[1]+',\''+D[bg].nm+'\')">'+i(240)+'</a> </span> ';L='onmouseover="fc_chat.toggleCensor(1,'+G[1]+')" onmouseout="fc_chat.toggleCensor(0,'+G[1]+')"'}var O=(40+n.avatar_sz-18);var I=(H?'1px 0px 3px '+O+'px':'0px 0px 2px '+O+'px');var bf=(H?'-'+O+'px':'0px');if(c=='0'&&cj!=2){if(G[1]!='0'){f=l('fc_gmo'+(G[1]-1))}d=document.createElement('div');j(d).addClass("fc_"+q[x]+" fc_chat_container").attr('id','fc_gmo'+G[1]).css({display:F,'margin-left':'5px',padding:I,'text-indent':bf,'background-color':'transparent',align:'top',width:k.chat_container_width+'px','z-index':(P+202)});if(L!='')j(d).onEvent('mouseover',fc_chat,'toggleCensor',1,G[1]).onEvent('mouseout',fc_chat,'toggleCensor',0,G[1]);d[B]=(H?bM(q[x],6)+' <div id=fc_gm'+G[1]+m+'>'+o+'</div>: ':'')+cF(H)+cu(q[x+3],k.img1C,6,G[1],null,H)+A+K;if(k.img1C==0&&bV==1){dp=1}if(bu){d=gL(d,null)}hF(bo,bp,1,d,f,1);if(k.img1C==0&&bV==1){k.img6.style.width=(R(bp.style.width)+11)+'px';k.img1C=1}fC(0);bV=0;dp=0}else{z=z+'<div class="fc_'+q[x]+' fc_chat_container" id="fc_gmo'+G[1]+'" '+L+' style="padding:'+I+';text-indent:'+bf+';'+gh+'">'+(H?bM(q[x],6)+' <div id=fc_gm'+G[1]+m+'>'+o+'</div>: ':'')+cF(H)+cu(q[x+3],1,null,null,null,H)+A+K+'</div>';if(g=='1'){cb++}}G[1]++;ba[1]++}if(c=='1'){hH=-1;z=z+hG();cd[6]=en(1);cX[1]=bp.scrollHeight;if(bV==1){k.img1C=1;bV=0;r=(R(bp.style.width)+11)+'px'}if(cr){bo.style.display=y}bo[B]=z;if(bu){fc_chat.c_px(null,bu)}if(fl){}k.img6=l('fc_img6');ej=setTimeout("fc_chat.showdiv(1)",20)}else{if(cj==2){if(k.img1C==0&&bV==1){dp=1}if(bu){z=gL(null,z)}di(bo,bp,1,z);if(k.img1C==0&&bV==1){k.img6.style.width=(R(bp.style.width)+11)+'px';k.img1C=1}bV=0;dp=0}}};var kI=-1;function hx(a,b,c,g,d){var f=0;var o;var m='';var s='';var r='';var z=4;if(c==6){if(cc[Z[c]]==null){cc[Z[c]]=a}}else{if(cA[Z[c]]==null){cA[Z[c]]=a}z=6}if(Z[c]<(cd[c]-1)){r='<a href="javascript:void" onclick="fc_chat.cP(1,'+c+');return false">&laquo;&laquo; '+i(111)+' 50</a>&nbsp;&nbsp;&nbsp;'}if(Z[c]!=1){s='<a href="javascript:void" onclick="fc_chat.cP(-1,'+c+');return false">'+i(113)+' 50 &raquo;&raquo;</a>&nbsp;&nbsp;&nbsp;'}var A=a.split('>');if(A.length-4>80){m='<div id="'+b+'Pg3" style="display:block; width:'+bx+'px; z-Index:'+(P+202)+';'+bw+'margin-left:5px;font-weight:bold">'+i(116)+' '+Z[c]+'&nbsp;&nbsp;&nbsp;'+r+s+'<a href="javascript:void" onclick="fc_chat.cP(0,'+c+');return false">'+(c==6?i(117):i(271,'New Messages'))+' &raquo;&raquo;&raquo;</a></div><br>'}for(var q=A.length-z;q>0;q=q-z){if(A[q+1]!=A[q+2]){dA(A,q,1,0);o=cZ(A[q],1,c)}A[q+1]=h.snm[A[q]];var x=A[q+2].split('&');var H='';if(x.length>1){H=x[1]}A[q+2]=bS(ek(x[0],H));var K=(c==7&&A[q+1]==A[q+2]);var L=!(f!=0&&kI==A[q]);var O=(40+n.avatar_sz-18);var I=(L?'1px 0px 3px '+O+'px':'0px 0px 2px '+O+'px');if(K){I='1px 0px 3px 0px'}var bf=(L&&!K?'-'+O+'px':'0px');kI=(K?-1:A[q]);var bi='" class="fc_'+(K?0:A[q])+' fc_chat_container '+(c==7?'fc_pgmsg':'')+'" style="padding:'+I+';text-indent:'+bf+';'+gh+'">';var be=' <div ';if(c==6){if(L){if(h.gpe[A[q]]!=null){h.gpe[A[q]]+='fc_gpm'+f+'&'}else{h.gpe[A[q]]='fc_gpm'+f+'&'}}var bJ='';var bK='';if((h.ac[A[q]]!='2'&&X=='1')||X=='2'){bJ=' <span id="pcensor'+f+'"'+gZ+'>'+dG+'deleteMsg('+Z[6]+','+f+',\''+D[bg].nm+'\')">'+i(240)+'</a> </span> ';bK='onmouseover="fc_chat.toggleCensor(1,'+f+',1)" onmouseout="fc_chat.toggleCensor(0,'+f+',1)"'}m=m+'<div '+bK+' id="'+b+'pmo'+f+bi+(L?bM(A[q],c)+be+' id="'+b+'pm'+f+'"'+ez+'>'+o+'</div>: ':'')+cF(L)+cu(A[q+3],1,null,null,null,L)+' <i class="fc_aside" style="'+fZ+bz+'">'+dO(A[q+2],1)+bJ+'</i></div>'}else{if(L){if(h.ppe[A[q]]!=null){h.ppe[A[q]]+='fc_ppm'+f+'&'}else{h.ppe[A[q]]='fc_ppm'+f+'&'}}m=m+'<div id="'+b+'pmo'+f+bi;var bB=' <i class="fc_aside" style="'+fZ+bz+'">'+dO(A[q+4],1)+'</i>';var cH='<span class="fc_pmu fc_pmu'+A[q+3]+'" '+(!L?'style="display:none"':'')+'>'+bM(A[q],c)+be+' id="'+b+'pm'+f+'"'+ez+'>'+o+'</div>: </span>';if(K){m=m+be+' id="'+b+'pm'+f+'"'+ez+'>'+dh(16)+eW+'</div></b> '+cF(L)+cu(A[q+5],1,null,null,1,L)+bB+'</div>'}else if(A[q]==k.uid){m=m+cH+'<span style="font-style:italic" class="fc_msgto_'+A[q+3]+'">('+i(115)+' '+A[q+2]+')</span> '+cF(L)+cu(A[q+5],1,null,null,null,L)+bB+'</div>'}else{m=m+cH+cF(L)+cu(A[q+5],1,null,null,null,L)+bB+'</div>'}}f++}m=m+'<br><div id="'+b+'Pg3" style="display:block; width:'+bx+'px; z-Index:'+(P+202)+';'+bw+'height:27px;margin-left:5px;font-weight:bold">'+i(116)+' '+Z[c]+'&nbsp;&nbsp;&nbsp;'+r+s+'<a href="javascript:void" onclick="fc_chat.cP(0,'+c+');return false">'+(c==6?i(117):i(271,'New Messages'))+' &raquo;&raquo;&raquo;</a></div>';cX[c]=d.scrollHeight;if(cr){g.style.display=y}g[B]=m;if(bu){fc_chat.c_px(null,bu)}if(fl){}if(c==6){ej=setTimeout("fc_chat.showdiv(6)",20)}else{gt=setTimeout("fc_chat.showdiv(7)",20)}};var cF=function(a){return(a?"":"")};this.startblock;var hD=0;var dm=[-1,-1];this.filt=function(c,g){var d=(g?k.cU:by);var f=(g?1:0);fc_chat.startblock=true;dm[f]=0;if(g){hD=(c==1?1:0);j('#fc_conv_selector').html((c==1&&d>0?i(424,"Conversation with ")+h.snm[d]:i(425,"All Conversations"))+":");j('#fc_talk_filter').html("<a style='"+C.new_messages_box.text.link_css+"' "+bc+"filt("+(c?0:1)+",1)'>"+(c?i(426,'Filter On'):i(427,'Filter Off'))+"</a>")}else{if(by=='0'&&dW!='0'&&c!=1){j("div.fc_current_chatee").remove();dW='0'}l('fc_flt')[B]=(c==1?"<a style='position:absolute;display:block;top:0px;left:0px' "+bc+"filt(0);'><span class='fc_e fc_e_flt2'></span></a>":"<a style='position:absolute;display:block;top:0px;left:0px' "+bc+"filt(1);'><span class='fc_e fc_e_flt'></span></a>");dE=(c==1?1:0);j('#fc_msg_selector').html((c==1&&d>0?i(424,"Conversation with ")+h.snm[d]:i(425,"All Conversations"))+":")}if(d<=0){c=0}var o=(Z[7]==0?'fc_prmsg':'fc_pgmsg');j((!g?"div.fc_chat_container."+o:"div.fc_tlk_cont")).each(function(){jGo.$(this).css("display",y);var a=jGo.$(this).attr("class").split(" ")[0].substr((g?6:3));var b=false;if(!c){b=true}else if(a==k.uid){jGo.$(this).find("span.fc_pmu.fc_pmu"+d).each(function(){b=true})}else{if(jGo.$(this).hasClass((!g?"fc_":"fc_tlk")+d)){b=true}}if(b){jGo.$(this).css({display:F,"background-color":"transparent"}).find("span.fc_pmsg_inrpt").remove();jGo.$(this).find("br.fc_pmsg_brk").remove();if(a!=dm[f]){jGo.$(this).css("text-indent",-((40+n.avatar_sz-18)/12)+"em").find("span.fc_pmu").css("display",bD);fc_chat.startblock=false}else{jGo.$(this).css("text-indent","0em").find("span.fc_pmu").css("display",y)}dm[f]=a}})};this.remove_msg=function(a,b,c){j(a).parent().parent().css('display',y).nextUntil(":not(div.fc_"+(c?"":"tlk")+b+")").css('display',y);var g=(c?0:1);dm[g]=0;var d=j((c?"div.fc_chat_container.fc_prmsg":"div.fc_tlk_cont")+":visible").last();if(d[0]){var f=d.attr("class").split(" ")[0].substr((c?3:6));dm[g]=f}return false};var dX;var gL=function(a,b){if(!bb){if(!dX){dX=document.createElement('div');dX.style.display=y;document.body.appendChild(dX);j(dX).addClass('fc_d1')}j(dX).empty();if(a){j(dX).append(a)}else{j(dX).html(b)}fc_chat.c_px(null,bu);if(a){return a}else{return j(dX).html()}}else{return a}};var kH=function(a,b){return(h.o[a]=='1'?"":"<i class='fc_aside' style='"+(b?C.new_messages_box.text.offline_css:Y.font.color.offline_css)+"'>"+i(368,' Offline')+"</i>")};var hG=function(){return"<div class='fc-triangle-right3' style='"+gh+";width:"+(j(bo).width()-90)+"px;padding:10px;border:"+Y.chat_room_panel.infobox.border+";margin:10px 0 15px 22px'>"+(n.autoGreet!=''&&!eG?n.autoGreet:'')+(!eG?kJ()+(eD?(n.guests_can_chat?i(108):i(394,'Guests may observe rooms only. To chat, please sign in.')):''):'')+(T==1?'<br><br>'+i(389,"To send a message, highlight a user first. To add a user to your friends list, click on their screen name, and then select 'add to Friends'."):(dc()?'':i(109)+D[bg].nm+'.'))+"</div>"};var kJ=function(){return i(107)+' <span style="font-weight:bold;font-style:italic;">'+h.snm[k.uid]+'</span>. '};var kx=function(a,b){b+="<IMG id='fc_img"+a+"' SRC='"+bv+"trans.gif' height=1 width=30 style='"+bw+"'>"+hG();eL[B]=b;if(bu){fc_chat.c_px(null,bu)}if(a==6){k.img6=l('fc_img6')}else{k.img7=l('fc_img7')}};var on=function(){if(bj(k.uid))iC(kJ())};function eq(a,b){if(bP==3&&fc_ex.getRmAl()&&a!=k.uid&&!dc()){var c;var g;var d;if(G[1]!='0'){g=l('fc_gmo'+(G[1]-1))}c=document.createElement('div');j(c).addClass("fc_chat_container").css({display:F,'margin-left':'5px',padding:'1px 0px 3px 0px','background-color':'transparent',align:'top',width:k.chat_container_width+'px','z-index':P+202,'font-style':'italic'});if(b==0){c[B]=dh(16)+eW+h.nm[a]+i(127)}else{c[B]=dh(16)+eW+h.nm[a]+i(128)}fC((b==0?3:2));if(bu){c=gL(c,null)}hH=-1;hF(bo,bp,1,c,g,1)}};this.clearMsgs=function(a,b){if(!t){var c='';var g=(a==6?bo:bH);if(cr){g.style.display=y}if(ba[a-5]>0){G[a-5]=0;ba[a-5]=0;var d;if(a==6){for(var f in h.ge){if(h.ge.hasOwnProperty(f)){delete h.ge[f]}}delete cc;cc=[];d='g';k.img1C=0;cd[6]=en(1)}else{for(var f in h.pe){if(h.pe.hasOwnProperty(f)){delete h.pe[f]}}delete cA;cA=[];d='p';k.img2C=0;cd[7]=en(2)}if(!n.no_chat_history&&!b){c=hw(d,a)}}else{if((a==6&&cb*1>0)||(a==7&&cK*1>0)){if(!n.no_chat_history&&!b){c=hw(d,a)}}}g[B]='';if(cr){if(a==6){ej=setTimeout("fc_chat.showdiv(1)",20)}else{gt=setTimeout("fc_chat.showdiv(2)",20)}}else{if(a==6){fc_chat.showdiv(1)}else{fc_chat.showdiv(2)}}c+='<IMG id="fc_img'+a+'" SRC="'+bv+'trans.gif" height=1 width="30px" style="'+bw+'">';g[B]=c;if(a==6){gM(-eO);k.img6=l('fc_img6')}else{this.clear_nm();k.img7=l('fc_img7')}if(bu&&!b){fc_chat.c_px(null,bu)}}};function kv(a){if(a==bg&&bm[2]=='0'&&eG==false){bm[20]='0';clearTimeout(ei);ei=null;if(Z[6]!=0){t=false;fc_chat.cP(0,6);t=true}if(eQ){bo.style.overflow='auto'}if(cr){bo.style.display=y}G[1]=0;ba[1]=0;cb=0;for(var b in h.ge){if(h.ge.hasOwnProperty(b)){delete h.ge[b]}}delete cc;cc=[];k.img1C=0;cd[6]=1;gM(-eO);bo[B]='';if(cr){ej=setTimeout("fc_chat.showdiv(1)",20)}else{fc_chat.showdiv(1)}}};this.deletePrivateMsgs=function(){if(!t&&cK!=0){if(Z[7]!=0){fc_chat.cP(0,7)}fc_chat.clearMsgs(7,1);G[2]=0;ba[2]=0;for(var a in h.ppe){if(h.ppe.hasOwnProperty(a)){delete h.ppe[a]}}delete cA;cA=[];cd[7]=1;var b=Math.ceil(Math.log((cK*1+2))/Math.log(10))+1;u='0000'+b+'e'+cK;bd();cK=0}};function hw(a,b){return'<span id="fc_'+a+'Pg" style="width:100%; z-Index:'+(P+202)+';'+bw+'margin-left:5px"><a href="javascript:void" onclick="fc_chat.cP(1,'+b+');return false">&laquo;&laquo; '+i(112)+'</a></span>'};this.showdiv=function(a){var b=null;if(a==1||a==9){if(T==1)return;if(Z[6]==0){b=bo}gN(a)}else if(a==2){if(T==2)return;if(Z[7]==0){b=bH}gN(2)}else if(a==3){b=df}else if(a==4){b=cU}else if(a==5){b=cN}else if(a==6){if(Z[6]!=0&&k.sI==0){b=bQ;bQ.style.visibility="visible"}gN(6)}else if(a==7){if(Z[7]!=0&&k.sI==0){b=bR;bR.style.visibility="visible"}gN(7)}else{if(k.sI){b=bA;bA.style.visibility="visible"}gN(8)}if(b){b.style.display=F;if(a<3){b.scrollTop=b.scrollHeight-(cr?b.clientHeight+1:0)}}};function gN(a){setTimeout('fc_chat.enableScroll('+a+')',200)};function en(a){var b=(a==1?cb:cK);return Math.floor(((b-ba[a])*1-1)/50)+2};this.cP=function(a,b){if(!t){var c;var g;var d;if(b==6){g=bQ;d=bp;c=bo}else{g=bR;d=bt;c=bH};if(b==7&&dE==1){fc_chat.filt(0)}t=true;if(a==0){Z[b]=0}else{Z[b]+=a}if(Z[b]==0){g.style.display=y;c.style.display=F;fb(1,b);t=false;return false}c.style.display=y;if(eQ){g.style.overflow='hidden'}g.style.display=y;g[B]='<div style="'+bw+'width:'+bx+'px">'+gE(i(121))+'</div>';if(b==6){for(var f in h.gpe){if(h.gpe.hasOwnProperty(f)){delete h.gpe[f]}}clearTimeout(ej);ei=setTimeout("fc_chat.cP2("+a+","+b+")",20)}else{for(var f in h.ppe){if(h.ppe.hasOwnProperty(f)){delete h.ppe[f]}}clearTimeout(gt);fz=setTimeout("fc_chat.cP2("+a+","+b+")",20)}}return false};this.cP2=function(a,b){if(b==6){bQ.style.display=F;ei=setTimeout("fc_chat.cP3("+a+","+b+")",20)}else{bR.style.display=F;fz=setTimeout("fc_chat.cP3("+a+","+b+")",20)}};this.cP3=function(a,b){var c;var g;if(b==6){iD=bQ;g=bp;bV=0;c=bo}else{iD=bR;g=bt;bV=0;c=bH};ei=null;fz=null;if(Z[b]!=0){fb(0,b)}var d;if(b==6){if(cc[Z[b]]!=null){hx(cc[Z[b]],'fc_g',b,iD,g);t=false;return false}bm[20]='1';d=(cb-ba[1])-(Z[b]-1)*50}else{if(cA[Z[b]]!=null){hx(cA[Z[b]],'fc_p',b,iD,g);t=false;return false}bm[19]='1';d=(cK-ba[2])-(Z[b]-1)*50}gO('0');cj='4';var f=bL(d,6);if(b==6){u="0000850"+f}else{u="0000851"+f}bd();return false};this.tgl_info_panel=function(){if(!t){fc_ex.tgl_info_panel.apply(fc_ex,arguments)}return false};this.search_userlist=function(a,b){if(!t){fc_ex.search_userlist(a,b,S,dK)}};var mW=function(a){fc_ex.applyUserListResults(a)};var dk=function(a,b){var c=bj(a)&&a!=k.uid&&b>3;var g=C.friends_box;var d=2;if(b>=4){g=C.online_box;d=1}var f=ed.select_user;return'<div class="fc_usr'+a+' fc_gst'+(c?1:0)+'" id="fc_t'+b+''+a+'" '+ng(a)+' style="padding-top:.25em;'+g.list_divider_css+';display:'+(c&&!cE?'none':'block')+';background-color:'+(a==cD?f.selected_color:f.off_color)+'">'+bM(a,null,0,1,1)+'<div class="fc_t2'+a+'"  style="'+bz+'">&nbsp;'+fG(a)+'</div>'+dn(a,1,1)+fc(a,1)+er(a,d)+(b==5?mH(a):'')+fJ(a)+'<br>'+fd(a,null,dv.dialog_box.text.user_title_css)+fe(a,d)+'</div>'};this.build_userlist=function(a){return'<div id="fc_t5'+a+'" style="padding-top:.25em;margin-left:.833em;'+E.info_panel.list_divider_css+'">'+bM(a,null,0,1)+'&nbsp;<div class="fc_t2'+a+'"  style="'+bz+'">'+fG(a,1)+'</div>'+dn(a,1,1)+fc(a,1)+er(a,3)+fK(a)+'<br>'+fd(a,1,E.info_panel.user_info_css)+fe(a,3)+'<br></div>'};var kp=function(a,b){j("#"+b+a).remove();if(iP==a){j('#fc_view').remove()}};var kK=function(a,b,c,g){if(g==1){g='em';a/=12;b/=12;c/=12}else{g='px'}a+=g;b+=g;c+=g;return[a,b,c]};var dn=function(a,b,c){var g=kK(16,11,5,c);if((h.cc[a]!=''||h.cc[a]==null)&&n.show_country_flags){return'<img unselectable="on" align=absmiddle title="'+h.cc[a].toUpperCase()+'" alt=" " style="width:'+g[0]+';height:'+g[1]+';margin-left:'+g[2]+'" SRC="'+V+'flags/'+h.cc[a]+'.png" border=0>'}else{return''}};var fc=function(a,b){var c=kK(0,18,3,b);return'<a '+lO+'('+a+');return false;" class="fc_'+a+'_cam" style="display:'+ke(a)+';margin-left:'+c[2]+';" title="'+i(33)+'"><img height="'+c[1]+'" style="height:'+c[1]+'" SRC="'+V+'webcam_on.png" border=0></a>'};var fG=function(a,b){var c='class="fc_online"';var g=(b?fc_chat.uolnk(a,1):'onclick=\''+eB+'return fc_chat.toggleMenu(this,'+a+',"u1");\'');var d=kL(a,(b?5:9));if(a==k.uid){d='margin-left:.1em;'+d;c='class="fc_online2"'}return'<span class="fc_usertag"><IMG SRC="'+bv+'trans.gif" style="'+d+';margin-right:.3em;" '+c+'><a style="'+(b?E.info_panel.screen_name_css:dv.dialog_box.text.screen_name_css)+'" title="'+h.nm[a]+': '+i(282,"Click for options")+'" href="javascript:void" '+g+'>'+h.snm[a]+'</a></span>'};var kL=function(a,b){var c=(b>2&&b<6?bk:Y);c=(b==9?ed:c);var g=c.user_icon.offline_css;if(h.o[a]=='1'){g=c.user_icon.online_css;if(h.bg[a]=='1'){g=c.user_icon.blocked_css}else if(h.bs[a]=='1'){g=c.user_icon.busy_css}}return g};var kM=function(a){j("div.fc_t2"+a).html(fG(a));if(gH){if(h.o[a]=='0'){fc_chat.remove_online(a)}else{if(!j("#fc_t4"+a)[0]){fc_chat.add_online(a)}}}if(h.o[a]=='0'||h.s[a].charAt(9)!=h.pt[a]){iG(a)}var b=0;if((!bj(a)||h.o[a]=='1')&&bY(a)&&a!=k.uid){b=1}if(W['u1']&&W['u1'].isOpen&&ch==a){j('#fc_menu_item1').html(fF(ci,b,a,"talk("+a+")",i(351,"Send message)")))}if(a!=k.uid&&W['mod']&&W['mod'].isOpen&&ch==a){j('#fc_kickban').html(fF(el,(h.o[a]=='1'?1:0),a,"kickban("+a+")",i(439,"Kick and ban"),'_mod'));if(h.ac[k.uid]=='2'){j('#fc_blockip').html(fF(el,(h.o[a]=='1'?1:0),a,"blockip("+a+")",i(440,"Block IP (30 min)"),'_mod'))}}if((h.o[a]=='0'||!bY(a))){if(cD==a){iQ()}if(bP>1&&by==a){if(!bY(a)||(bj(a)&&h.o[a]!='1')){hI();J(h.nm[a]+i(428," is no longer available for private chat."))}else{iR(a)}}}if(cD==a&&h.o[a]=='1'){kN(a)}if(by==a&&h.o[a]=='1'){iR(a)}};var er=function(a,b){var c='';var g=bk.font.style.mod_css;if(b==1){g=C.online_box.text.user_info_css}else if(b==2){g=C.friends_box.text.user_info_css}else if(b==3){g=E.info_panel.user_info_css}var d='<span unselectable="on" style="cursor:default;margin-left:0em;'+g+'">&nbsp;&lt;';if(h.ac[a]=='1'){c=d+i(123)+'&gt;</span>'}else if(h.ac[a]=='2'){c=d+i(124)+'&gt;</span>'}return c};var fJ=function(a){var b=(h.msgB[a]!=0?'style="font-weight:bold"':'');var c='&nbsp;<span class="fc_u_msgC fc_u_msgC'+a+'" '+b+'>';var g='</span>';var d='';if(h.msgC[a]!=0){d='(<span class="fc_u_msgC_inner" '+b+'>'+h.msgC[a]+'</span>)'}return c+d+g};var iO=function(a,b,c){var g=(!c?'bold':'normal');if(!c){if(b==0){h.msgC[a]=0;j('span.fc_u_msgC'+a).html('')}else{h.msgC[a]+=b;j('span.fc_u_msgC'+a).html('(<span class="fc_u_msgC_inner">'+h.msgC[a]+'</span>)')}};h.msgB[a]=(c?0:1);j('span.fc_u_msgC'+a+',span.fc_u_msgC'+a+' span').css('font-weight',g)};function mZ(a){var b=[];var c=[];var g=[];var d=dH.split('&');if(a=='1'){cm[6]=0;cm[7]=0}for(var f=0;f<d.length-1;f++){if(a=='1'){if(h.s[d[f]].charAt(0)!=h.o[d[f]]||h.s[d[f]].charAt(4)!=h.b[d[f]]||h.s[d[f]].charAt(5)!=h.bg[d[f]]||h.s[d[f]].charAt(8)!=h.bs[d[f]]||h.s[d[f]].charAt(9)!=h.pt[d[f]]){kM(d[f]);if(h.pge[d[f]]!=''){var o=h.pge[d[f]].split('&');for(var m=0;m<o.length-1;m++){bT(d[f],o[m],2,0)}}if(h.ife[d[f]]!=null){var s=h.ife[d[f]].split('&');for(var m=0;m<s.length-1;m++){bT(d[f],s[m],3,0)}}if(d[f]==k.cU){kO(d[f])}}if(h.o[d[f]]=='1'){if(h.d[d[f]]==ex){var r='';var z=n.avatars_dir+'default.gif';var A=bD;var q=ii;if(h.av[d[f]]!=''&&h.av[d[f]]!='default.gif'){z=h.av[d[f]];z=(z.indexOf('/')==0)?z.substr(1):n.avatars_dir+z}else{q+="background-color:#"+h.acl[d[f]]+";"+iw}var x='<a id="fc_';var H='av" style="display:'+A+';margin-left:15px;" href=\"javascript:void\" ';h.de[d[f]]='fc_dl'+G[3];var K=cZ(d[f],0,3);r='&nbsp;'+bM(d[f],3,0,1);var L=(by==d[f]?fq:eA);var O=bj(d[f])&&d[f]!=k.uid;var I='<div class="fc_'+d[f]+' fc_gst'+(O?1:0)+'" id=fc_dl'+G[3]+' style="display:'+(O&&!cE?'none':'block')+';font-weight:bold;width:'+bO+'px;z-Index:'+(P+202)+';'+ha+L+'" onClick="fc_chat.send_to('+d[f]+')" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)">'+r+K+fK(d[f])+dn(d[f])+fc(d[f])+fJ(d[f])+'<div id="fc_dl'+G[3]+gc+fd(d[f])+er(d[f])+fe(d[f])+gP(d[f])+'</div></div>';fH(d[f],b,I,6);G[3]++;ba[3]++;if(h.g[d[f]]==bg&&!dc()&&h.t[d[f]]=='1'){h.gre[d[f]]='fc_gl'+G[4];K=cZ(d[f],0,4);r='&nbsp;'+bM(d[f],4,0,1);I='<div class="fc_'+d[f]+' fc_gst'+(O?1:0)+'" id=fc_gl'+G[4]+' style="display:'+(O&&!cE?'none':'block')+'; font-weight:bold; width:'+bO+'px; z-Index:'+(P+202)+';'+ha+L+'" onClick="fc_chat.send_to('+d[f]+')" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)">'+r+K+fK(d[f])+dn(d[f])+fc(d[f])+fJ(d[f])+'<div id="fc_gl'+G[4]+gc+fd(d[f])+er(d[f])+fe(d[f])+gP(d[f])+'</div></div>';fH(d[f],c,I,7);G[4]++;ba[4]++}}}}else{if(h.s[d[f]].charAt(0)!=h.o[d[f]]||h.s[d[f]].charAt(4)!=h.b[d[f]]||h.s[d[f]].charAt(5)!=h.bg[d[f]]||h.s[d[f]].charAt(8)!=h.bs[d[f]]||h.s[d[f]].charAt(9)!=h.pt[d[f]]){kM(d[f]);if(h.pge[d[f]]!=''){var o=h.pge[d[f]].split('&');for(var m=0;m<o.length-1;m++){bT(d[f],o[m],2,0)}}if(h.ife[d[f]]!=null){var s=h.ife[d[f]].split('&');for(var m=0;m<s.length-1;m++){bT(d[f],s[m],3,0)}}if(d[f]==k.cU){kO(d[f])}if(bP>1){if(h.pe[d[f]]!=null){var bf=h.pe[d[f]].split('&');for(var m=0;m<bf.length-1;m++){bT(d[f],bf[m],1,2)}}if(Z[7]!=0){if(h.ppe[d[f]]!=null){var bi=h.ppe[d[f]].split('&');for(var m=0;m<bi.length-1;m++){bT(d[f],bi[m],1,7)}}}if(h.ge[d[f]]!=null){var be=h.ge[d[f]].split('&');for(var m=0;m<be.length-1;m++){bT(d[f],be[m],1,1)}}if(Z[6]!=0){if(h.gpe[d[f]]!=null){var bJ=h.gpe[d[f]].split('&');for(var m=0;m<bJ.length-1;m++){bT(d[f],bJ[m],1,6)}}}if(h.o[d[f]]=='1'){if(h.d[d[f]]==ex){if(h.de[d[f]]==null){fL(d[f],3,'fc_dl')}else{bT(d[f],h.de[d[f]],0,3)}if(h.g[d[f]]==bg&&h.t[d[f]]=='1'){if(h.gre[d[f]]==''){fL(d[f],4,'fc_gl');eq(d[f],1)}else{bT(d[f],h.gre[d[f]],0,4)}}else{if(h.gre[d[f]]!=''){da('fc_chatmem',4,h.gre[d[f]],d[f]);eq(d[f],0)}}}else{if(h.de[d[f]]!=null){da('fc_onl',3,h.de[d[f]],d[f]);if(h.gre[d[f]]!=''){da('fc_chatmem',4,h.gre[d[f]],d[f]);eq(d[f],0)}}}}else{if(h.de[d[f]]!=null){da('fc_onl',3,h.de[d[f]],d[f]);if(h.gre[d[f]]!=''){da('fc_chatmem',4,h.gre[d[f]],d[f]);eq(d[f],0)}}}if(h.pve[d[f]]!=''){bT(d[f],h.pve[d[f]],0,5)}}}else{if((h.s[d[f]].charAt(0)!=h.o[d[f]]||h.s[d[f]].charAt(1)!=h.d[d[f]]||R(h.s[d[f]].substr(10))!=h.g[d[f]]||h.s[d[f]].charAt(3)!=h.t[d[f]])&&bP>1){if(h.o[d[f]]=='1'){if(h.d[d[f]]==ex){if(h.de[d[f]]==null){fL(d[f],3,'fc_dl')}if(h.g[d[f]]==bg&&h.t[d[f]]=='1'){if(h.gre[d[f]]==''){fL(d[f],4,'fc_gl');eq(d[f],1)}}else{if(h.gre[d[f]]!=''){da('fc_chatmem',4,h.gre[d[f]],d[f]);eq(d[f],0)}}}else{if(h.de[d[f]]!=null){da('fc_onl',3,h.de[d[f]],d[f]);if(h.gre[d[f]]!=''){da('fc_chatmem',4,h.gre[d[f]],d[f]);eq(d[f],0)}}}}else{if(h.de[d[f]]!=null){da('fc_onl',3,h.de[d[f]],d[f]);if(h.gre[d[f]]!=''){da('fc_chatmem',4,h.gre[d[f]],d[f]);eq(d[f],0)}}}if(h.pve[d[f]]!=''){bT(d[f],h.pve[d[f]],0,5)}}}}if(gI&&h.o[d[f]]=='1'){var I=dk(d[f],4);fH(d[f],g,I,4)}if(h.nw[d[f]]=='1'){if(h.idl[d[f]]!=h.s[d[f]].charAt(7)){iS(d[f],'idl')}if(h.ty[d[f]]!=h.s[d[f]].charAt(6)){iS(d[f],'ty')}if(h.nk[d[f]]!=h.nko[d[f]]){kP(d[f])}if(h.tag[d[f]]!=h.tago[d[f]]){jX(d[f])}if(h.vs[d[f]]!=h.vso[d[f]]){fc_chat.c_Vs(d[f])}}if(a=='0'){if(bP>1){if(h.av[d[f]]!=h.avo[d[f]]){ct(jGo.MD5.hex_md5(h.av[d[f]]),19);fc_ex.c_Av(d[f])}if(h.pr[d[f]]!=h.pro[d[f]]){fc_ex.c_Pr(d[f])}if(h.ttl[d[f]]!=h.ttlo[d[f]]){fc_ex.c_Ttl(d[f])}}}if(bP<2&&h.av[d[f]]!=h.avo[d[f]]){ct(jGo.MD5.hex_md5(h.av[d[f]]),19);j('img.fc_t'+d[f]+'avimg').attr({src:(h.av[d[f]].indexOf('/')==0)?h.av[d[f]].substr(1):n.avatars_dir+h.av[d[f]]})}nh(d[f]);h.nw[d[f]]='1';h.nko[d[f]]=h.nk[d[f]];h.tago[d[f]]=h.tag[d[f]];h.avo[d[f]]=h.av[d[f]];h.pro[d[f]]=h.pr[d[f]];h.ttlo[d[f]]=h.ttl[d[f]];h.vso[d[f]]=h.vs[d[f]];h.s[d[f]]=h.o[d[f]]+h.d[d[f]]+'0'+h.t[d[f]]+h.b[d[f]]+h.bg[d[f]]+h.ty[d[f]]+h.idl[d[f]]+h.bs[d[f]]+h.pt[d[f]]+h.g[d[f]];h.u[d[f]]=0}if(a=='1'){cX[3]=cL.scrollHeight;df[B]=eV(b,6);cX[4]=cM.scrollHeight;kQ(bg,c);if(co==1){iT(cJ)}if(co==0){iT(bs)}}if(gI){l('fc_t4')[B]=eV(g,4);l('fc_t6')[B]=iU(0);hB();gI=0;gH=1}if(fY==1){if(co==1){iV(cJ)}if(co==0){iV(bs)}fY=0}};function fH(a,b,c,g){var d=bj(a);if(g&&d&&a!=k.uid){cm[g]++}var f=(h.idl[a]!='1'?7:6);if(a==k.uid){f=0}else if(h.ac[a]=='2'){f=1}else if(h.ac[a]=='1'){f=2}else if(h.ttl[a]!=''){f=3}else if(!d){f=(f==6?4:5)}if(!b[f]){b[f]=''}b[f]+=c};var gC=function(a,b){cm[a]+=b;j("#fc_shw_gst"+a).css("display",(!cE&&cm[a]?F:y)).html(i(469,'+')+" "+cm[a]+" "+i(470,'more guests.')+" <a href='javascript:fc_chat.tgl_guests(1)' style='"+hJ(a)+"'>"+i(471,'Show')+"</a>.");j("#fc_hd_gst"+a).css("display",(cE&&cm[a]?F:y))};var hp=function(a,b,c,g){gC(c,g);var d=j(a+" div.fc_gst0").last();if(c==7&&!d[0]){j('#fc_groupType').after(b)}else{d.after(b)}};this.tgl_guests=function(a){cE=(a?true:false);for(var b=1;b<10;b++){if(cm[b]){j("#fc_shw_gst"+b).css("display",(cE?y:F));j("#fc_hd_gst"+b).css("display",(cE?F:y))}}j("div.fc_gst1").css("display",(cE?F:y))};function kR(a,b,c){var g=2;if(h.o[a]=='1'&&!(bj(a))){g=1}else if(h.o[a]=='1'){g=0}else if(h.o[a]=='0'&&bj(a)){g=3}if(!b[g]){b[g]=''}b[g]+=c};function eV(a,b){var c='';for(bh=0;bh<8;bh++){if(a[bh]!=null){c+=a[bh]}}c+="<div style='display:"+(b&&cm[b]&&!cE?F:y)+";"+hJ(b,1)+"' class='fc_shw_gst' id='fc_shw_gst"+(b||0)+"'>"+i(469,'+')+" "+cm[b||0]+" "+i(470,'more guests.')+" <a href='javascript:fc_chat.tgl_guests(1)' style='"+hJ(b)+"'>"+i(471,'Show')+"</a>.</div><div style='display:"+(b&&cm[b]&&cE?F:y)+"' id='fc_hd_gst"+(b||0)+"'><a href='javascript:fc_chat.tgl_guests(0)' style='"+hJ(b)+"'> "+i(472,'Hide Guests')+"</a>.</div>";return c};var hJ=function(a,b){var c=bk.font.style;if(a==4){c=C.online_box.text}else if(a==5){c=U.chatbox.style.dialog_box.text}c=(b?c.info:c.secondary_link_css);return c};var iS=function(a,b,c){var g=(((b=='idl'&&h.idl[a]=='1')||(b=='ty'&&h.ty[a]=='1'))?bD:y);if(c){g=c}j('.fc_'+a+b).css("display",g)};var fe=function(a,b){var c=bk.font.style.user_info_css;if(b==1){c=C.online_box.text.user_info_css}else if(b==2){c=C.friends_box.text.user_info_css}else if(b==3){c=E.info_panel.user_info_css}var g=';'+c+';cursor:default;'+bw;var d=y;if(h.idl[a]=='1'){d=bD}var f=y;if(h.ty[a]=='1'){f=bD}var o=y;if(h.tag[a]!=''){o=bD}return'<span class="fc_'+a+'nick" style="'+g+';font-style:italic;">'+(bj(a)?'&nbsp;'+i(1)+(h.nk[a]!=''?'&nbsp;('+h.nk[a]+')':'')+'&nbsp;&nbsp;':'')+'</span><span class="fc_'+a+'idl" style="display:'+d+g+'">&nbsp; '+i(126)+'...</span> <span class="fc_'+a+'ty" style="display:'+f+g+'">&nbsp; '+i(125)+'...</span><span class="fc_'+a+'tag" style="display:'+o+g+'">&nbsp; &bull;&nbsp;'+h.tag[a]+'&nbsp;&bull;&nbsp;</span>'};function nd(){var a=0;for(var b=0;b<22;b++){a+=bm[b]-0}if(a==0){if(!ei&&!fz){t=false};if(cj!='0'){if(cj=='1'){hK((bn=='1'?'0':'1'))}else if(cj=='2'){gO('1')}else if(cj=='3'){ni()}else if(cj=='4'){gO('1')}cj='0'}}};function fL(a,b,c){var g;if(b==3){g=cZ(a,0,b);h.de[a]=c+G[b];hL(df,cL,b,c,a,g,0)}else if(b==4){if(!dc()){g=cZ(a,0,b);h.gre[a]=c+G[b];hL(cU,cM,b,c,a,g,0)}}else if(b==5){g=cZ(a,0,b);h.pve[a]=c+G[b];hL(cN,cB,b,c,a,g,0)}else{ck[a]=c+G[b];hL(cV,cV,b,c,a,h.snm[a],0)}};function hL(a,b,c,g,d,f,o){var m;var s;if(ba[c]!='0'&&o==1){s=l(g+(G[c]-1))}m=document.createElement('div');var r=bj(d)&&d!=k.uid;m.className='fc_'+d+(c==3||c==4?' fc_gst'+(r?1:0):'');m.setAttribute('id',g+G[c]);m.style.display=((c==3||c==4)&&r&&!cE?y:F);if(c>2){m.style.fontWeight='bold'}m.style.align='top';m.style.textAlign='left';m.style.width=bO+'px';m.style.zIndex=P+202;m.style.paddingTop='4px';m.style.paddingBottom='0px';m.style.borderBottom=lM;if(c==5){m.style.backgroundColor=(by==d?fq:eA);m.onmouseover=fc_ex.overSide;m.onmouseout=fc_ex.offSide;j(m).onEvent('click',fc_chat,'send_to',d)}else if(c==6){m.onmouseover=fc_chat.overBlk;m.onmouseout=fc_chat.offBlk;m.onclick=fc_chat.clickBlk;m=fc_ex.mk_bL_div(m);f=' &nbsp;'+f}else{m.style.backgroundColor=(by==d?fq:eA);m.onmouseover=fc_ex.overSide;m.onmouseout=fc_ex.offSide;j(m).onEvent('click',fc_chat,'send_to',d)}if(c>2&&c<6){var z='';z='&nbsp;'+bM(d,c,0,1);m[B]=z+f+fK(d)+dn(d)+fc(d)+fJ(d)+'<div id="'+g+G[c]+gc+fd(d)+er(d)+fe(d,y,y)+gP(d)+'</div>'}else{m[B]=f+dn(d)+er(d)}hF(a,b,c,m,s,o,d);G[c]++;ba[c]++};function cZ(a,b,c){var g;var d='&nbsp;';var f=(c>2&&c<6?'class="fc_onlinesp"':'class="fc_online"');var o=(c<=2||c==6||c==7?'font-weight:bold':'');var m=fc_chat.uolnk(a,c,(c>2&&c<6));var s='fc_u';var r=(b==1?'2':'');var z='javascript:void';if(c==0){r='3'}var A=kL(a,c);if(h.o[a]=='1'){s+='o';if(h.b[a]=='1'){s='fc_ublk'}}else{if(h.b[a]=='1'){s='fc_ublko'}}s+=r;if(b>1||a==k.uid){A='margin-left:.'+(c>2&&c<6?'3':'2')+'em;'+A;f=(c>2&&c<6?'class="fc_onlinesp2"':'class="fc_online2"');d=''}else{s+=(b==1?' fc_a1':' fc_a2')}var q=(a==k.uid&&b<2?'<small>':'');var x=(a==k.uid&&b<2?'</small>':'');g='<span class="fc_usertag">'+d+'<IMG SRC="'+bv+'trans.gif" style="'+A+';margin-right:.3em;" '+f+'>'+q+'<a HREF="'+z+'" '+m+' class="'+s+'" style="'+o+'">'+h.snm[a]+'</a>'+x+'</span>';return g};this.uolnk=function(a,b){var c=eB;return(n.userbox_mode==1?'onMouseOver="clearTimeout(fc_chat.t2);setTimeout(\'fc_chat.show_user_chat(this,400,80,'+a+','+b+')\',2);" onmouseout="setTimeout(\'fc_chat.leavingUser()\',10);"':'onClick="'+c+'clearTimeout(fc_chat.t2);setTimeout(\'fc_chat.show_user_chat(this,400,80,'+a+','+b+')\',2);return false;" ')};function bT(a,b,c,g){var d;var f='';if(c<3){d=l(b)}else{try{d=jZ(b);jZ(b+'img').style.display=y;if(d.className.substr(3)!=a){return true}}catch(err){}}if(g==5&&h.o[a]!='1'){iS(a,'idl',y)}var o=cZ(a,c,g);if(c==2){l(b+'img').style.display=y}try{j(d).find("span.fc_usertag").replaceWith(o)}catch(err){}};function da(a,b,c,g){var d;var f=l(c);d=a.scrollTop;cX[b]=a.scrollHeight;if(a.scrollTop!='0'&&f.style.display==F){f.parentNode.removeChild(f);if(jL){a.scrollTop-=a.scrollHeight-cX[b]}else{a.scrollTop=d-(a.scrollHeight-cX[b])}}else{f.parentNode.removeChild(f)}ba[b]--;if(b==3){if(h.de[g]&&bj(g)){gC(6,-1)}delete h.de[g]}else if(b==4){if(h.gre[g]&&h.gre[g]!=''&&bj(g)&&g!=k.uid){gC(7,-1)}h.gre[g]=''}else if(b==5){h.pve[g]=''}};var kS=function(a,b,c,g){if(c==3||c==4){if(g==k.uid){if(c==3){a.insertBefore(b,a.firstChild)}else{j('#fc_groupType').after(b)}}else{if(bj(g)){hp("#"+j(a).attr("id"),b,c+3,1)}else{var d=(c==3?h.de[k.uid]:h.gre[k.uid]);if(d&&d!=''){j('#'+d).after(b)}else{if(c==3){a.insertBefore(b,a.firstChild)}else{j('#fc_groupType').after(b)}}}}}else if(c==5){j('#fc_contacts_top_main').after(b)}else{a.appendChild(b)}};function hF(a,b,c,g,d,f,o){var m=b.scrollTop;if((f==1&&b.scrollHeight-m<b.clientHeight+50)||(f==0&&m!=0)){kS(a,g,c,o);if(f==1){b.scrollTop=b.scrollHeight-(cr?b.clientHeight+1:0);if(dp){setTimeout("fc_chat.delayScroll("+c+")",50)}kt(b)}}else{kS(a,g,c,o)}if(bu!=Y.font.size){}if(fl!=Y.font.color.default_text_color){}};function di(a,b,c,g){if(b.scrollHeight-b.scrollTop<b.clientHeight+50){a[B]+=g;b.scrollTop=b.scrollHeight-(cr?b.clientHeight+1:0);if(dp){setTimeout("fc_chat.delayScroll("+c+")",50)}kt(b)}else{a[B]+=g}if(bu!=Y.font.size){}if(fl!=Y.font.color.default_text_color){}};this.delayScroll=function(a){if(a==1){bp.scrollTop+=1000}else if(a==2){bt.scrollTop+=1000}else if(a==3){j('#fc_view_msgs')[0].scrollTop+=1000}else if(a==4){j('#fc_page_chat_wrapper')[0].scrollTop+=1000}else{bA.scrollTop+=1000}};this.change_Border_oD=function(a){gr.style.border=ik;gr.style.borderTop='0px';if(!a){gr.style.borderTop=ik}};this.change_Border_sD=function(a){dx.style.border=E.tools_panel.border;dx.style.borderTop='0px';if(!a){dx.style.borderTop=E.tools_panel.border}};function dz(a,b,c){if(a.style.position=='fixed'){c-=j(document).scrollTop()}a.style.left=b+'px';a.style.top=c+'px'};function bC(a,b,c,g,d,f,o,m,s,r,z,A){a.className=r;a.style.display=b;a.style.position=(z?z:'absolute');if(c!=''){a.style.top=c+'px';a.style.left=g+'px'}a.style.width=d+'px';a.style.height=f+'px';if(o){j(a).css(o)}a.style.backgroundColor=m;a.style.fontSize=s;a.style.overflow='auto';if(A){a.style.overflowX='hidden'}};function mU(a,b){j("span.msgpg_"+a+"_"+b).html(' '+gw(i(119))+' ')};function mT(a,b){j("span.msgr_"+a+"_"+b).html(' '+gw(i(119))+' ');if(a==bg){var c;var g;var d;if(b>=cb-ba[1]){c=b-(cb-G[1]);g=l('fc_gmo'+c);d=l('fc_gm'+c)}else if((b>=cb-ba[1]-Z[6]*50)&&(b<cb-ba[1]-Z[6]*50+50)){c=b-(cb-ba[1]-Z[6]*50);if((cb-ba[1]-Z[6]*50)<0){c=b}g=l('fc_gpmo'+c);d=l('fc_gpm'+c);delete cc;cc=[]}else{delete cc;cc=[];return true}if(g){var f=g[B];if(d){var o=f.substring(0,(f.indexOf('>:')+2));var m=f.substring((f.indexOf('<i ')));f=o+' '+gw(i(119))+' '+m;g[B]=f}else{var o=f.substring((f.indexOf('<i ')));f=gw(i(119))+' '+o;g[B]=f}}}};this.imgFWrapper=function(){if(n.upload_images_enabled&&!t){var a=fR+"Upload."+n.script_type+"?id="+k.uid+"&dummy=true";fc_chat.createTopIFrame(a,2,0)}return false};this.avaFWrapper=function(){if(!t){var a=fR+"Avatars."+n.script_type+"?id="+k.uid+"&dummy=true";fc_chat.createTopIFrame(a,3,0)}return false};this.t5=null;this.t6=null;var kT=function(){fc_ex.init(h,N,bG,bp,fw,bt,eP,cL,go,cM,gp,cB,gq,bo,bH,bQ,bR,bA,dL,bI,cC,bU,jJ,Q,fx,M)};this.scriptLoaded=function(){fi=true;kT();if(fj==0){if(ey){ey=false;var a='';var b='07';if(D[du]&&D[du].l!=0){a=jGo.MD5.hex_md5(gi);b='39'}u+=String.fromCharCode(10)+'000'+b+'4'+bL(du,6)+a}bd()}else if(fj==1){t=false;if(fc_chat.ww2){fc_ex.initVideoChat(fc_chat.ww2,jO,fc_chat.cvu_priv)}}else if(fj==2){t=false;if(fc_chat.ww2){fc_ex.subscribe(kh,k.uid,gf,D,bg)}}fj=0};function iJ(a,b){var c;var g;if(a.scrollTop==0&&j(document).scrollTop()&&j(document).scrollTop()>0){g=j(document).scrollTop()}else{g=a.scrollTop}c=(true)?Math.max(50+g,g+Math.round((eH()-b)/2)):Math.max(50+g,mouseY-b+50);if(c<50){c=50}return c};function ku(a,b){var c;var g;if(a.scrollLeft==0&&j(document).scrollLeft()&&j(document).scrollLeft()>0){g=j(document).scrollLeft()}else{g=a.scrollLeft}c=(true)?Math.max(100+g,g+Math.round((fs()-b)/2)):Math.max(100+g,mouseX-b+50);if(c<100){c=100}else if(c>a.scrollWidth-(100+b)){c=a.scrollWidth-(100+b);if(c<100)c=100}return c};var kU=false;this.tgl_chatcenter=function(f,o,m){var s=(fc_chat.vidAcc>1?'':' '+i(32));var r=(n.upload_images_enabled?"return fc_chat.createTopIFrame('"+fR+"Upload."+n.script_type+"?id="+k.uid+"&dummy=true',2,0);":"");var z="return fc_chat.createTopIFrame('"+fR+"Avatars."+n.script_type+"?id="+k.uid+"&dummy=true',3,0);";var A=fs();var q;if(!id&&l('fastcatchatentry')!=null){q=fD(l('fastcatchatentry'));if(((A-q.x)<f)&&((f-l('fastcatchatentry').offsetWidth)<q.x)){dJ=q.x-(f-l('fastcatchatentry').offsetWidth)}else{dJ=q.x}eJ=q.y}else{q=fD(cq);if(((A-q.x)<f)&&((f-cq.offsetWidth)<q.x)){dJ=ie-(f-cq.offsetWidth)}else{dJ=ie}eJ=jm}var x=document.body;var H=document.documentElement;var K=(x.scrollHeight>=H.scrollHeight)?x:H;if(!bl){eJ=iJ(K,o)-40;dJ=ku(K,f)}kz(eM);if(U.config.layout==2){fc_chat.banner_resize()}gF(1);bX=0;hA();if(bn=='0'){fc_chat.close_boxes(1,bn)}if(kU){if((M&&M.frame[0].style.display==y)||ge){if(!ge){hK('0');M.cN[0].style.display=F;M.frame[0].style.display=F;dz(M.frame[0],dJ,eJ);dz(M.cN[0],dJ+5,eJ+40);if(Q){bU.style.display=F}hM(.05)}bm[0]='3';bn='1';fc_chat.setPaused();u="0000231";cj='2'}else{gO('0');M.frame[0].style.display=y;M.cN[0].style.display=y;if(fc_chat.cvu_priv==null){fc_chat.closeVid()}if(Q){bU.style.display=y}bm[0]='2';bn='0';nj();if(ea==1){fc_chat.setPaused()}u="0000230";cj='1'}return false}else{hK('0');bm[5]='1';bm[0]='3';bn='1';fc_chat.setPaused();u="0000231";cj='2'}var L=E.widgets.text_icon_css;var O=hk+";cursor:default";N=document.createElement('div');N.setAttribute('id','fc_bd');N.className="jGo_app jGo_myapp";if(E.background_image!=''){N.style.backgroundImage='url('+V+E.background_image+')'}N.style.display=F;N.style.position='absolute';N.style.overflow='hidden';N.style.textAlign='left';N.style.left=dJ+'px';N.style.top=eJ+'px';N.style.width=f+'px';N.style.height=o+'px';N.style.backgroundColor='transparent';N.style.border=E.border;var I=function(a,b){var c=[];c[0]={id:'dragger5',c:"",d:(bb?y:ir),t:2,l:bx-28,w:30,h:4,x:-142,y:-140,crs:"s-resize",evt:""};c[1]={id:'tab10',c:"",d:(bb&&T!=1?F:y),t:2,l:bx-7,w:15,h:7,x:-99,y:-137,crs:"default",evt:"onmousedown='fc_ex.tab_chat(0,-1)'"};c[2]={id:'tab11',c:"",d:(bb&&T!=1?F:y),t:2,l:bx-35,w:15,h:7,x:-119,y:-137,crs:"default",evt:"onmousedown='fc_ex.tab_chat(1,1)'"};c[3]={id:'dragger3',c:" fc_side_drag",d:(bb||!de?y:F),t:(24+Math.floor((cx+bN)/2)),l:iq,w:30,h:4,x:-142,y:-140,crs:"s-resize",evt:""};c[4]={id:'tab12',c:" fc_side_drag",d:(bb&&de?F:y),t:(24+Math.floor((cx+bN)/2)),l:iq+21,w:15,h:7,x:-99,y:-137,crs:"default",evt:"onmousedown='fc_ex.tab_chat(2,-1)'"};c[5]={id:'tab13',c:" fc_side_drag",d:(bb&&de?F:y),t:(24+Math.floor((cx+bN)/2)),l:iq-7,w:15,h:7,x:-119,y:-137,crs:"default",evt:"onmousedown='fc_ex.tab_chat(3,1)'"};var g="";for(var d=a;d<b;d++){g+="<div id='fc_"+c[d].id+"' class='fc_drag"+c[d].c+"' style='display:"+c[d].d+";position: absolute;top: "+c[d].t+"px;left:"+c[d].l+"px;z-Index:"+(P+600)+"; background-image: url("+V+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: "+c[d].w+"px; height:"+c[d].h+"px; background-position: "+c[d].x+"px "+c[d].y+"px;cursor:"+c[d].crs+";' "+c[d].evt+"></div>"}return g};var bf="<div id='fc_gc' style='position:absolute;top:3px;left:8px;width:200px;height:20px;"+gb+"'>"+i(12)+"</div><div id='fc_cl6'><a id='fc_cli6' "+bc+"clearMsgs(6);' onmouseover='getElementById(\"fc_e_cl6\").className=\"fc_e fc_e_cl2\"' onmouseout='getElementById(\"fc_e_cl6\").className=\"fc_e fc_e_cl\"'><span class='fc_e fc_e_cl' id='fc_e_cl6' title='"+i(18)+"' style='position:absolute;display:block;top:3px;left:"+(i(0,0,'chat_room_width')+14)+"px'></span></a></div><div id='fc_plmn6'><a id='fc_plmni6' "+bc+"toggleAlerts();'><span class='fc_e fc_e_pl' id='fc_e_pl6' title='"+i(19)+"' style='display: block;position:absolute;top:3px;left:"+(i(0,0,'chat_room_width')+29)+"px;'></span></a></div><div id='fc_top_info_outer' style='position:absolute;top:3px;left:"+(i(0,0,'chat_room_width')+50)+"px;width:"+(bx-(i(0,0,'chat_room_width')+50))+"px;height:18px;overflow:hidden'><div id='fc_top_info_inner' style='position:absolute;top:0px;left:0px;width:400px;height:18px;font-weight:bold;font-style:italic;"+gb+"'></div></div>";var bi="<div class='' style='position:absolute;top:"+(fu)+"px;left:8px;width:200px;height:20px;"+gb+"'>"+i(14)+"</div><div id='fc_cl7'><a id='fc_cli7' "+bc+"clearMsgs(7);' onmouseover='getElementById(\"fc_e_cl7\").className=\"fc_e fc_e_cl2b\"' onmouseout='getElementById(\"fc_e_cl7\").className=\"fc_e fc_e_clb\"'><span class='fc_e fc_e_clb' id='fc_e_cl7' title='"+i(18)+"' style='display: block;position:absolute;top:"+(fu)+"px;left:"+(i(0,0,'private_chat_width')+12)+"px;'></span></a></div><div id='fc_flt' class = 'fc_cborder' style='position:absolute;top:"+(fu)+"px;left:"+(i(0,0,'private_chat_width')+42)+"px;'><a style='position:absolute;display:block;top:0px;left:0px' "+bc+"filt(1);'><span title='"+i(22)+"' class='fc_e fc_e_flt'></span></a></div><div id='fc_del'><a id='fc_dela' "+bc+"deletePrivateMsgs();' onmouseover='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del2\"' onmouseout='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del\"'><span class='fc_e fc_e_del' id='fc_e_del' title='"+i(21)+"' style='display: block;position:absolute;top:"+(fu)+"px;left:"+(i(0,0,'private_chat_width')+27)+"px;'></span></a></div><div id='fc_msg_selector_outer' style='position:absolute;top:"+mh+"px;left:"+jI+"px;width:"+(bx-jI)+"px;height:18px;overflow:hidden;'><div id='fc_msg_selector' style='position:absolute;top:0px;left:0px;height:18px;width:400px;"+gb+";font-weight:normal;font-style:italic;'>"+i(425,'All Conversations')+":</div></div>";N[B]="<div id='fc_bDbackup' style='position:relative;top:0px;left:0px;width:100%;height:100%;background-color:"+E.background_color+"'></div><div id='fc_gco' style='position:absolute;top:0px;left:0px;'>"+(T==1?bi:bf)+"</div><div id='fc_bck' style='display:none;position:absolute;top:3px;left:5px;height:20px;'><a style='"+E.links.css+";' "+bc+"rem();'>&laquo;&laquo;"+i(13)+"</a></div><div id='fc_midsection' style='position:absolute;top:"+(mf)+"px;left:0px'><div id='fc_dragger' class='fc_drag' style='display: none; position: absolute;top: 4px;left: 8px;z-Index:"+(P+600)+"; background-image: url("+V+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: 16px; height:13px; background-position: -143px -88px;cursor:e-resize;'></div>"+I(0,3)+"<div id='fc_gco' style='display:"+ir+";position:absolute;top:0px;left:0px;'>"+(T==1?bf:bi)+"</div><div id='fc_bottom_info_outer' style='position:absolute;top:2px;left:"+(bx-33-i(0,320,'admin_functions_bar_width'))+"px;width:"+i(0,320,'admin_functions_bar_width')+"px;height:18px;overflow:hidden'><div id='fc_bottom_info_inner' style='position:absolute;top:0px;left:0px;width:370px;height:18px;'>"+(n.chatbox.enabled?"<span unselectable='on' id='fc_page_manager' style='display:inline'><a unselectable='on' style='"+E.other_buttons.states.link_css+"' href='javascript:void(0);' onclick='return fc_chat.tgl_info_panel(\"page_manager\")' target=_blank>"+i(450,'Page Manager')+"</a>&nbsp;&nbsp;</span>":"")+"<span unselectable='on' id='fc_monitor' style='display:inline'><a unselectable='on' style='"+E.other_buttons.states.link_css+"' href='javascript:void(0);' onclick='return fc_chat.tgl_info_panel(\"message_monitor\")' target=_blank>"+i(451,'Message Monitor')+"</a>&nbsp;&nbsp;</span><span unselectable='on' id='fc_sign_in_out' style='"+E.other_buttons.states.link_css+"'>&bull; </span><span unselectable='on' id='fc_usrlist' style='display:"+(n.show_user_list?bD:y)+";'><a unselectable='on' style='"+E.other_buttons.states.link_css+"' href='javascript:void(0);' onclick='return fc_chat.tgl_info_panel(\"userlist\")' target=_blank>"+i(373,'User List')+"</a>&nbsp;&nbsp;</span><span unselectable='on' id='fc_exit_room2' style='display:"+(T==1?y:bD)+';'+E.other_buttons.states.link_css+";"+E.chatrooms_panel.exit_room_link_disabled_css+"'>"+i(395,'Exit Room')+"</span></div></div></div><div  id='fc_widgets' style='position:absolute;top:"+(fc_chat.bottom_section+k.window_height_offset)+"px;left:8px;height:16px;'><a id='fc_bld' style='margin-left:1px' href=\"javascript:fc_chat.insertTags(\'"+i(37)+"\',\'"+i(37)+"\',\' "+i(23)+" \',1);\" border=0><img title='"+i(23)+"' style='"+L+"' id='fc_e_bld' src='"+V+"text_bold.png'></a><a id='fc_it' style='margin-left:1px' href=\"javascript:fc_chat.insertTags(\'"+i(38)+"\',\'"+i(38)+"\',\' "+i(24)+" \',1);\" border=0><img title='"+i(24)+"' style='"+L+"' id='fc_e_it' src='"+V+"text_italic.png'></a><a id='fc_uln' style='margin-left:1px' href=\"javascript:fc_chat.insertTags(\'"+i(39)+"\',\'"+i(39)+"\',\' "+i(25)+" \',1);\" border=0><img title='"+i(25)+"' style='"+L+"' id='fc_e_uln' src='"+V+"text_underline.png'></a><a id='fc_img' style='margin-left:2px' href=\"javascript:fc_chat.insertTags(\'[[\',\']]\',\'"+i(36)+"\',1);\" border=0><img title='"+i(26)+"' id='fc_e_img' src='"+V+"image_1.png'></a><a class='fc_tools_a' style='margin-left:2px' href=\"javascript:void\" onclick=\"return fc_chat.tgl_tools(0,"+E.tools_panel.smileys.width+","+E.tools_panel.smileys.height+")\"><img id='fc_e_sml' src='"+V+"emoticon_smile.png'></a><a id='fc_vid' style='margin-left:1px"+(fc_chat.vidAcc>1?"":O)+"' "+bc+"launchVideoChat(0)'><img title='"+i(31)+s+"' id='fc_e_vid' src='"+V+"webcam.png'></a><div style='position:absolute;top:0px;left:107px;'><a title='"+i(303,"more")+"' style='"+E.widgets.more_icon_css+"' class='fc_tools_a' href=\"javascript:void\" onclick=\"return fc_chat.tgl_tools(1,"+E.tools_panel.icons.width+","+E.tools_panel.icons.height+")\">&raquo;&raquo</a></div><div id='fc_msg_to_outer' style='position:absolute;top:1px;left:125px;width:"+(bx-165)+"px;height:18px;overflow:hidden'><div id='fc_msg_to' style='position:absolute;top:0px;left:0px;width:400px;height:18px;'></div></div></div><div id='fc_dragger4' class='fc_drag' style='display:"+(bb?y:F)+"; position: absolute;top: "+mi+"px;left: "+(bx-27)+"px;z-Index:"+(P+600)+"; background-image: url("+V+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: 30px; height:4px; background-position: -142px -140px;cursor:s-resize;'></div><br><br>";var be=jo+";font-size:"+E.text.font.size+"px";bG=document.createElement('div');bG.setAttribute('id','fc_bD0');bG.style.display=F;bG.style.position='absolute';bG.style.width=ip+'px';bG.style.height=k.chat_window_height+'px';bG.style.zIndex=P+200;bG.style.top='0px';bG.style.left=ma+'px';bG.style.backgroundColor='transparent';bG.style.borderLeft=bk.divider_border;bG[B]=""+(de?"<div style='position:absolute;top:3px;left:3px;width:"+bO+"px;height:12px;'><span style='"+be+"'>"+i(15)+"</span></div>":"")+"<div id='fc_ce_g' style='position:absolute;top:"+(de?(23+Math.floor((cx+bN)/2)):3)+"px;left:3px;width:"+bO+"px;height:12px;'><span style='"+be+"'>"+i((T==1?17:16))+"</span></div><div id='fc_ce_go' style='position:absolute;top:"+(de?(24+Math.floor((cx+bN)/2)):4)+"px;left:3px;width:"+bO+"px;height:18px;'></div>"+I(3,6)+"<div id='fc_midsection2' style='position:absolute;top:"+mg+"px;left:0px'><div style='display:"+ir+";position:absolute;top:21px;left:3px;width:"+bO+"px;height:12px;'><span style='"+be+"'>"+i(17)+"</span></div><div id='fc_op1' style='position: absolute;top: 1px; left: "+(jC+i(0,0,'close_offset'))+"px'><div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+gn+"</a></div></div><div id='fc_tgl1' style='"+(bl?"display:none;":"")+"position: absolute; top:1px; left: "+(mc+i(0,0,'close_offset'))+"px;'><div class='fc_obtn_dis'><a class='fc_obtn_disa'>"+i(8)+"</a></div></div></div><div id='fc_bottomsection' style='position:absolute;top:"+(jD+k.window_height_offset)+"px;left:0px;width:"+ip+"px'><div id='fc_sg1' style='display:none;position: absolute;top: 4px; left: 8px;'></div><div id='fc_sp1' style='display:"+(T==1?y:y)+";position: absolute;top: "+mj+"px; left: 8px;'><div class='fc_spbtn_dis' ><a class='fc_spbtn_disa' "+dw+">"+i(11)+"</a></div></div><div id='fc_dragger2' class='fc_drag' style='display: none; position: absolute;top: 42px;left: "+mb+"px;z-Index:"+(P+600)+"; background-image: url("+V+"chatelems1.gif); background-repeat: no-repeat; FONT-SIZE: 1pt; width: 16px; height: 16px; background-position: -143px -102px;'></div></div><br><br>";bp=document.createElement('div');bC(bp,gj,'18','8',bx,hf,Y.chat_room_panel.border_css,'transparent',Y.font.size,'fc_d1');if(eQ){bp.style.overflow='hidden'}if(fx){bo=document.createElement('div');bC(bo,gj,'0','0',bx,'',null,'transparent',Y.font.size,'fc_d1');bo.style.overflow='hidden'}else{bo=bp}fw=document.createElement('div');bC(fw,gj,'18','8',bx,hf,Y.chat_room_panel.border_css,Y.chat_room_panel.background_color,Y.font.size,'fc_d1');if(Y.chat_room_panel.background_image!=""){fw.style.background="url("+V+Y.chat_room_panel.background_image+")"}cC=document.createElement('div');cC.setAttribute('id','fc_it1');cC.style.display=y;cC.style.position='absolute';cC.style.width=bx+'px';cC.style.height=(eI+bN)+'px';cC.style.zIndex=P+503;cC.style.top='18px';cC.style.left='8px';bt=document.createElement('div');bC(bt,gk,is,'8',bx,gl,Y.private_chat_panel.border_css,'transparent',Y.font.size,'fc_d1');if(eQ){bt.style.overflow='hidden'}if(fx){bH=document.createElement('div');bC(bH,gk,'0','0','','',null,'transparent',Y.font.size,'fc_d1');bH.style.overflow='hidden'}else{bH=bt}eP=document.createElement('div');bC(eP,gk,is,'8',bx,gl,Y.private_chat_panel.border_css,Y.private_chat_panel.background_color,Y.font.size,'fc_d1');if(T==0){if(Y.private_chat_panel.background_image!=""){eP.style.background="url("+V+Y.private_chat_panel.background_image+")"}}else{if(Y.private_chat_panel.msgcenter_background_image!=""){eP.style.background="url("+V+Y.private_chat_panel.msgcenter_background_image+")"}}bH[B]="<IMG id='fc_img7' SRC='"+bv+"trans.gif' height=1 width=30 style='"+bw+"'>";jF=(T==1?bt:bp);eL=(T==1?bH:bo);eL[B]='<div style="'+bw+'width:'+bx+'px">'+gE(i(120),1)+'</div>';cL=document.createElement('div');cL.setAttribute('id','fc_onl');bC(cL,n0,'18','0',bO,Math.floor((cx+bN)/2),bk.border_css,'transparent',bk.font.size,'fc_d2',null,1);cL[B]="";go=document.createElement('div');bC(go,n0,'18','0',bO,Math.floor((cx+bN)/2),bk.border_css,ih,bk.font.size,'fc_d2',null,1);cM=document.createElement('div');cM.setAttribute('id','fc_chatmem');bC(cM,gj,(de?38+Math.floor((cx+bN)/2):'18'),'0',bO,jH,bk.border_css,'transparent',bk.font.size,'fc_d2',null,1);cM[B]="";gp=document.createElement('div');bC(gp,gj,(de?38+Math.floor((cx+bN)/2):'18'),'0',bO,jH,bk.border_css,ih,bk.font.size,'fc_d2',null,1);cB=document.createElement('div');cB.setAttribute('id','fc_priv');bC(cB,gk,jG,'0',bO,it,bk.private_group_panel.border_css,'transparent',bk.font.size,'fc_d2',null,1);cB[B]="";gq=document.createElement('div');bC(gq,gk,jG,'0',bO,it,bk.private_group_panel.border_css,ih,bk.font.size,'fc_d2',null,1);bQ=document.createElement('div');bQ.setAttribute('id','fc_chat_arc');bQ[B]="";bQ.style.zIndex=P+201;bR=document.createElement('div');bR.setAttribute('id','fc_priv_arc');bR.style.zIndex=P+201;bR[B]="";bA=document.createElement('div');bA.setAttribute('id','fc_userlist');bA[B]="";bA.style.zIndex=P+201;dL=document.createElement('div');dL.setAttribute('id','i8');bC(dL,F,'0','0','423',o,null,'black',Y.font.size,'fc_d1');dL.style.zIndex=P+700;dL[B]="";if(fx){df=document.createElement('div');df.setAttribute('id','fc_onl_in');bC(df,n0,'0','0',bO,'',null,'transparent',bk.font.size,'fc_d2');df[B]="";df.style.overflow='hidden';cU=document.createElement('div');cU.setAttribute('id','fc_chatmem_in');bC(cU,F,'0','0',bO,'',null,'transparent',bk.font.size,'fc_d2');cU[B]="";cU.style.overflow='hidden';cN=document.createElement('div');cN.setAttribute('id','fc_priv_in');bC(cN,F,'0','0',bO,'',null,'transparent',bk.font.size,'fc_d2');cN[B]="";cN.style.overflow='hidden';bC(bQ,y,'0','0','','',null,'transparent',Y.font.size,'fc_d1');bQ.style.overflow='hidden';bC(bR,y,'0','0','','',null,'transparent',Y.font.size,'fc_d1');bR.style.overflow='hidden';bC(bA,y,'0','0',bx-20,'',null,E.info_panel.background_color,Y.font.size,'fc_d6');bA.style.overflow='hidden'}else{df=cL;cU=cM;cN=cB;bC(bQ,y,'18','8',bx,eI+bN,Y.chat_room_panel.border_css,'transparent',Y.font.size,'fc_d1');bC(bR,y,is,'8',bx,gl,Y.private_chat_panel.border_css,'transparent',Y.font.size,'fc_d1');bC(bA,y,'18','8',bx,mk,Y.chat_room_panel.border_css,E.info_panel.background_color,Y.font.size,'fc_d6')}k.infoChatBox=k.createWidget('InfoBox',[j(N),kr,false]);bI=document.createElement('textarea');bI.className='fc_txt fc_input';bI.setAttribute('id','fc_chat');bI.style.display=F;bI.style.position='absolute';bI.style.top=(fc_chat.bottom_section+18+k.window_height_offset)+'px';bI.style.left='8px';bI.style.width=lU+'px';bI.style.height=(E.send_chat_panel.height+E.send_chat_panel.height_offset)+'px';bI.onkeypress=fc_chat.oKD2;bI.onkeydown=fc_chat.oKD;bI.onfocus=fc_chat.oF;j(bI).css('font','14px fc_icons');if(bb)j(bI).css('font-size','16px');if(fx){bp.appendChild(bo);bp.appendChild(bQ);bt.appendChild(bH);bt.appendChild(bR);cL.appendChild(df);var bJ=(T==1?bt:bp);bJ.appendChild(bA);cM.appendChild(cU);cB.appendChild(cN)}else{N.appendChild(bQ);N.appendChild(bR);N.appendChild(bA)}bG.appendChild(go);bG.appendChild(cL);bG.appendChild(gp);bG.appendChild(cM);bG.appendChild(gq);bG.appendChild(cB);N.appendChild(fw);N.appendChild(bp);N.appendChild(cC);N.appendChild(eP);N.appendChild(bt);N.appendChild(dL);N.appendChild(bI);N.appendChild(bG);N.style.left='0px';N.style.top='0px';N.style.borderLeft='0px';N.style.borderTop='0px';var bK='1px solid #444444';var bB=n.styles.chat_window.frame;var cH=!bl&&!Q&&n.pin_windows;var dU=cH&&n.pinned_by_default;M=this.createWidget('DefaultWindow',["<span style='"+bB.title_css+"'>"+(T==1?i(388,'MsgCenter'):i(151))+"</span>",dJ,eJ-(dU?j(document).scrollTop():0),f,o,'default',bB.color,(bB.opacity*100),bK,'e3e3e3','','element',N,false,(bl?false:true),hV,i(154),i(155),i(156),i(157),i(315,"pin to screen"),i(316,"unpin"),cH,dU]);M.mH=he+45;M.MH=ju+45;M.MW=10000;M.shieldOnDrag=true;if(jGo.browser.browser=='Firefox'){M.maxOpacity=.9999;M.cA.css({opacity:.9999})}if(bl){M.eventsEnabled=false};M.onMouseDown=function(a){if(!t&&!eE){if(jGo.scripts.loadState('jGo.DefaultWindow.ext.min.js')=='loaded'){this.getDefault().onMouseDown.call(this,a)}}};M.raiseDragShield=function(){if(!t){this.getDefault().raiseDragShield.call(this);if(db){k.oD.style.display=y;if(Q){k.oIF.style.display=y}}db=false;if(Q){bU.style.display=y}}};M.lowerDragShield=function(){if(!t){this.getDefault().lowerDragShield.call(this);if(Q){bU.style.display=F}}};M.onMinimize=function(){if(!t&&!eE){this.getDefault().onMinimize.call(this);var a=M.getBorderElements();var b=l("jGo_dragbm"+M.id);j(b).css("cursor","default");b.setAttribute("id","jGo_fixbm"+M.id);if(db){k.oD.style.display=y;if(Q){k.oIF.style.display=y}}db=false;if(Q){bU.style.display=y}}};M.restore=function(){if(!t){this.getDefault().restore.call(this);var a=l("jGo_fixbm"+M.id);j(a).css("cursor","");a.setAttribute("id","jGo_dragbm"+M.id);if(Q){bU.style.display=F}}};M.moveWindow=function(){if(!t){this.getDefault().moveWindow.call(this,arguments[0],arguments[1])}};M.onMouseMoveResizeR=function(a){};M.onMouseMoveResizeB=function(a){};M.onMouseMoveResizeBR=function(a){};M.maximize=function(){if(!t){fc_chat.toggleHide();M.lock=false}};M.togglePin=function(){var a=j('#fc_alertbox');var b=(M.fixed?"absolute":"fixed");var c=(!M.fixed?-jGo.$(document).scrollTop():0);if(k.oD!=null){j(k.oD).css({"position":b,"top":j(k.oD).offset().top+c-9+'px'})}if(a[0]!=null){a.css({"position":b,"top":a.offset().top+c+'px'})}this.getDefault().togglePin.call(this)};M.close=function(){fc_chat.open_chat_box();return false};M.destroy=function(){return false};M.cN.css({'background-color':'transparent'});var dV='jGo_fix';var cf=M.getBorderElements();cf[3].setAttribute("id",dV+"rl"+M.id);cf[5].setAttribute("id",dV+"bl"+M.id);j(cf[3]).css("cursor","default");j(cf[5]).css("cursor","default");M.resizable=false;j('#fc_bDbackup').css('opacity',E.opacity);j(fw).css(Y.chat_room_panel.css);j(eP).css(Y.private_chat_panel.css);j(gp).css('opacity',bk.opacity);j(go).css('opacity',bk.opacity);j(gq).css('opacity',bk.opacity);hM(.05);jV();bI.value=String.fromCharCode(0xe603);iu=1;k.img7=l('fc_img7');jJ=l('fc_ce_g');if(Q){bU=document.createElement("IFRAME");bU.className="jGo_app jGo_myapp";bU.frameBorder="0";bU.style.position='absolute';bU.style.scrolling='no';bU.style.zIndex=P+99;bU.style.width=N.style.width;bU.style.height=N.style.height;bU.style.backgroundColor='transparent';bU.style.display=F;bU.style.top='40px';bU.style.left='5px';M.cA[0].appendChild(bU)}cX[1]=bp.scrollHeight;kU=true;return false};function iW(){j(dL).css({display:y,"background-color":"transparent"})};function hM(a){j(dL).css({display:F,"border-radius":"0px",width:N.style.width,height:N.style.height,"background-color":"black",opacity:a})};var o0;this.omc;this.tgl_options=function(a){if(!a)a=0;var b=(k.m==0&&!bl);var c=0;var g=k.optionsTop;c=j(bG).offset().left-jw+(-10+jC+i(0,0,'close_offset'));g+=j(bG).offset().top+45;var d="fc_oD";var f=(k.m==0?'checked':'');var o=(k.m==1?'checked':'');var m=(fS==1?'checked':'');var s=(fS==0?'checked':'');k.oD=l(d);var r='';if(k.tPC!=null){k.tPC.style.display=y;if(Q){k.tPB.style.display=y}}fV=false;if(k.oD!=null){if(k.oD.style.display==y){o0.target.removeEventHandler('mousedown');o0.target.removeEventHandler('touchstart');o0.target=j('*.fc_options_a');o0.target.onEvent('mousedown',o0,'mouseOn','');o0.target.onEvent('touchstart',o0,'mouseOn','');if(jGo.browser.browser=='Opera'){gG(0)}dz(k.oD,c,g);j(k.oD).fadeIn(a);if(Q){dz(k.oIF,c,g);k.oIF.style.display=F}ba[6]=0;for(var z in ck){if(ck.hasOwnProperty(z)){r+='<div class="fc_'+z+'" id=fc_bl'+G[6]+' style="display:block; text-align:left;width:250px; z-Index:'+(P+202)+';padding-top:2px;padding-bottom:2px;border-bottom:'+cp.separator+';background-color:'+cp.background_color+';'+cp.font_css+'" onMouseOver="this.style.backgroundColor=\''+cp.hover_color+'\';" onMouseOut="fc_chat.offBlk2(this)" onCLick="fc_chat.clickBlk2(this)"> &nbsp;'+h.snm[z]+'</div>';ck[z]='fc_bl'+G[6];G[6]++;ba[6]++}}cX[6]=cV.scrollHeight;cV[B]=r;db=true;if(jGo.browser.browser=='Explorer'){setTimeout("fc_chat.change_Border_oD(false)",200)}}else{if(jGo.browser.browser=='Opera'){gG(1)}db=false;if(cT!='0'){var A=l('fc_r');A[B]="<div class='fc_opbtn_dis' ><a class='fc_opbtn_disa'>"+i(135)+"</a></div>"}cT='0';j(k.oD).fadeOut(a);if(Q){k.oIF.style.display=y}}j("#fc_op_nm").html(h.snm[k.uid]);return false}var q=fc_ex.oD(d,jw,lW,P,ik,f,o,m,s,cv,dy,Q);k.oD=q[0];gr=q[1];ml=q[2];document.body.appendChild(k.oD);j(k.oD).fadeIn(a);dz(k.oD,c,g);if(Q){k.oIF=fc_ex.oIF(P,gr);document.body.appendChild(k.oIF);dz(k.oIF,c,g)}var x=cp.background_color;var H=cp.border;gs=document.createElement('div');bC(gs,F,'','','45','60',H,x,'7pt','fc_d3','');l('fc_opcnt1').appendChild(gs);gs[B]=fc_ex.i4o(bu,P);cV=document.createElement('div');bC(cV,F,'','','130','85',H,x,'7pt','fc_d3','');cV[B]="";l('fc_opcnt3a').appendChild(cV);j([cV,gs]).css({'overflowX':'hidden','-moz-border-radius':'5px','-webkit-border-radius':'5px','border-radius':'5px'});ba[6]=0;for(var z in ck){if(ck.hasOwnProperty(z)){r+='<div class="fc_'+z+'" id=fc_bl'+G[6]+' style="display:block; text-align:left; width:250px; z-Index:'+(P+202)+';padding-top:2px;padding-bottom:2px;border-bottom:'+cp.separator+';background-color:'+cp.background_color+';'+cp.font_css+'" onMouseOver="this.style.backgroundColor=\''+cp.hover_color+'\';" onMouseOut="fc_chat.offBlk2(this)" onCLick="fc_chat.clickBlk2(this)"> &nbsp;'+h.snm[z]+'</div>';ck[z]='fc_bl'+G[6];G[6]++;ba[6]++}}cX[6]=cV.scrollHeight;cV[B]=r;if(o0){o0.disableControl()}o0=new jGo.DefaultMenuController('fc_opt_cont','*.fc_options_a',k.oD,fc_chat,'tgl_options');this.omc=o0;db=true;j("#fc_op_nm").html(h.snm[k.uid]);setTimeout("fc_chat.change_Border_oD(false)",200);if(jGo.browser.browser=='Opera'){gG(0)}return false};var ff;var mP=function(a){var b=gz(bS(a));ff=R(b[0].id);for(var c=0;c<b.length;c++){var g=R(b[c].id);D[g]={};D[g].next=(c+1<b.length?R(b[c+1].id):null);kV(c,g,b)}};var mQ=function(a,b){if(!D)return;var c=gz(bS(a));for(var g=0;g<c.length;g++){var d=0;var f=0;var o=R(c[g].id);if(!D[o]){d=1;f=1;D[o]={}}else{var m=parseInt(c[g].fl,16);if(!((m&cl[1])==cl[1])){f=2}}if(f!=2){kV(g,o,c,f)}var s=R(c[g].pos);var r=ff;if(s!=0&&f!=1){var z=1;while(true){var A=D[r].next;if(A==o){break}z++;r=A}if(z!=s||f==2){d=1;D[r].next=D[o].next}}if(d==1&&f!=2){r=ff;for(var q=0;q<s-1;q++){A=D[r].next;if(A==null){break}r=A}D[o].next=D[r].next;D[r].next=o}var x;var H;if(f==1){x=j(document.createElement('div'));x.attr('id','fc_grpo1'+o);H=j(document.createElement('div'));H.attr('id','fc_grpo0'+o)}else{x=j('#fc_grpo1'+o);H=j('#fc_grpo0'+o)}if(f!=2){x.html(iX(o,1));H.html(iX(o,0));if(D[o].next!=null){j('#fc_grpo1'+D[o].next).before(x);j('#fc_grpo0'+D[o].next).before(H)}else{j('div.fc_roomlist1').append(x);j('#fc_t6').append(H)}}else{x.remove();H.remove()}if(f==2){delete D[o]}if(bg==o){if(f==0){j('span.fc_room_name').html(D[o].nm)}else if(f==2){fc_chat.closeRoom()}}if(b=='2'){kW()}}};var kV=function(a,b,c,g){D[b].nm=c[a].nm;D[b].dsc=(c[a].desc?c[a].desc:'');D[b].lg=(c[a].lg?c[a].lg:'');if(g!=0){D[b].lastMsg={id:(c[a].lmsg?c[a].lmsg[0]:""),username:(c[a].lmsg?c[a].lmsg[1]:""),datetime:(c[a].lmsg?c[a].lmsg[2]:""),message:(c[a].lmsg?c[a].lmsg[3]:"")};var d=(g==1?0:c[a].msgC);D[b].baseMsgCount=d;D[b].lastMsgCount=d;D[b].msgCount=d}var f=parseInt(c[a].fl,16);D[b].l=((f&cl[3])==cl[3]?1:0);D[b].v=((f&cl[4])==cl[4]?1:0);D[b].d=0};var iX=function(a,b){var c=(b?dI:ee);var g=c.selected_color;var d="";var f="";var o=c.room_name_font_css;var m=a;if(m!=bg||bn=='0'){g=c.background_color}if(D[a].l==1){d="<img src='"+V+"lock.png' height='1em' style='height: 1em; width: 1em;' align=absmiddle>&nbsp;"}if(D[a].v==0&&fc_chat.vidAcc>1&&n.show_a_v_icon){f='<span>'+i(85)+'</span>&nbsp;'}if(D[a].d==1){o=c.disabled_room_name_font_css}var s='';for(var r in h.g){if(h.g.hasOwnProperty(r)){if(h.g[r]==m&&h.o[r]=='1'&&h.t[r]=='1'){s+=gQ(r,b,m)}}}var z=y;var A='';if(D[a].msgCount!='0'){z=bD;A=dO(D[a].lastMsg.datetime,0,1)}var q=D[a].msgCount-D[a].baseMsgCount;if(cI[a]){if(cI[a]>D[a].msgCount){cI[a]=D[a].msgCount}q+=cI[a]}var x=c.room_passwords;var H=(b?60:50);var K='style="display:none;'+o+'">&nbsp;<a href="javascript:void" onclick="'+eB;return'<div  class="fc_grpt'+b+' fc_grp'+m+'" id="fc_grp'+b+m+'" style="border-bottom:'+c.separator+';z-Index:'+(P+202)+';background-color:'+g+'" onMouseOver="fc_chat.overGrp(this);" onMouseOut="fc_chat.offGrp(this);" '+(open_chatrooms_in_window?'':'onClick="fc_chat.c_g(this);"')+'><div style="padding-top:.833em;padding-bottom:.033em;margin-left:.25em;text-align:left;">'+(open_chatrooms_in_window?'<a style="cursor:default;text-decoration:none" onclick="fc_chat.openPopup();" target=_blank href="'+eu+'?rmid='+m+'" >':'')+'<div style="cursor:default;">'+(D[a].lg!=''?'<img src="'+D[a].lg+'" style="height:5.333em;float:left;padding:.333em .417em .417em .333em">':'')+d+'<span style="cursor:default;'+o+'">'+D[a].nm+'</span><span class="fc_rms'+a+'" style="cursor:default;'+c.count_font_css+'">&nbsp;('+eh[a-0]+')</span>&nbsp;'+(D[a].dsc!=''?'<span style="cursor:default;'+c.font_css+'">'+D[a].dsc+'</span>':'')+'<br>'+(D[a].l==1?'<div class="fc_locked_room" id="fc_locked_room'+b+m+'" style="display:none"><input onclick="'+eB+'" id="fc_rpass'+b+m+'" onkeypress="fc_chat.sendOnEnter(this,\'c_gL\',event,'+b+','+m+')" type=password name=password style="margin:.833em .417em .417em 0em;width:10em;height:1.5em;'+x.textfield_css+'" maxlength="15">&nbsp;<span style="'+x.font.textfield_description_css+'">'+i(90)+'</span>&nbsp;&nbsp;&nbsp;<span id="fc_passtxt'+b+m+'"></span></div>':'')+f+(!n.no_chat_history?'<span style="cursor:default;'+c.font_css+'" class="fc_msg_count'+m+'">'+i(396,'Msgs: ')+D[a].msgCount+'&nbsp;</span>':'')+'<span style="cursor:default;'+c.font_css+'" class="fc_new_msg_count'+m+'">'+i(397,'New: ')+(q)+'</span><br>'+(!n.no_chat_history?'<span style="cursor:default;'+c.font_css+';display:'+z+'" class="fc_last_msg'+m+'">'+i(398,'Last update ')+A+i(399,' by ')+ek(bS(D[a].lastMsg.username.split('&')[0]),'')+'</span>':'')+'</div>'+(open_chatrooms_in_window?'</a>':'')+'<span class="fc_edit_room'+b+'" '+K+'fc_chat.tgl_info_panel(\'createedit\',1,\''+a+'\');return false">'+i(86)+'</a></span>'+(a==ff?'':'<span class="fc_delete_room'+b+'" '+K+'fc_chat.admin_delete_room(\''+a+'\');return false">'+i(87)+'</a></span>')+'<span class="fc_clear_room'+b+'" '+K+'fc_chat.admin_clear_room(\''+a+'\');return false">'+i(88)+'</a></span><div style="margin-top:.167em;clear:left;" class="fc_room_members'+b+m+'" >'+s+'</div></div></div>'};var gQ=function(a,b,c){var g=(b?fc_chat.uolnk(a,1,1):'onclick=\''+eB+'return fc_chat.toggleMenu(this,'+a+',"u1");\'');return'<span class="fc_rmid'+a+''+c+'" style="">'+bM(a,null,0,1,2,null,15)+'&nbsp;<a style="text-decoration:none" title="'+h.snm[a]+': '+i(282,"Click for options")+'" href="javascript:void" '+g+'>'+h.snm[a]+'</a>&nbsp;</span>'};var iU=function(a){var b=(a?dI:ee);var c='';var g=ff;while(true){var d=g;c+='<div id="fc_grpo'+a+d+'" '+(T==1?'style="display:none"':'')+'>'+iX(g,a)+'</div>';g=D[g].next;if(!g){break}}return(T==1?"<div style='padding:.833em;"+b.room_name_font_css+"'>"+i(390,"Not In Use")+"</div>"+c:c)};var kW=function(){if(X=='2'&&T!=1){j("span.fc_create_room1").css({display:bD});j("span.fc_edit_room1").css({display:bD});j("span.fc_delete_room1").css({display:bD});j("span.fc_clear_room1").css({display:bD})}};this.overGrp=function(a){var b=(j(a).hasClass('fc_grpt1')?dI:ee);a.style.backgroundColor=b.hover_color};this.offGrp=function(a){var b=(j(a).hasClass('fc_grpt1')?dI:ee);a.style.backgroundColor=((j(a).hasClass('fc_grp'+fc_chat.get('current_room'))&&bn=='1')?b.selected_color:b.background_color)};var nj=function(){hN(0);j('#fc_grp0'+bg).css('backgroundColor',ee.background_color)};var nk=function(a,b){j('#fc_grp0'+a).css('backgroundColor',ee.background_color);j('#fc_grp1'+a).css('backgroundColor',dI.background_color);j('#fc_grp0'+b).css('backgroundColor',ee.selected_color);j('#fc_grp1'+b).css('backgroundColor',dI.selected_color)};function nh(a){var b=h.g[a];var c=R(h.s[a].substr(10));if(h.t[a]==h.s[a].charAt(3)){if(b!=c&&h.t[a]=='1'){eh[b]++;j('div.fc_room_members1'+b).prepend(gQ(a,1,b));j('div.fc_room_members0'+b).prepend(gQ(a,0,b));eh[c]--;j('span.fc_rmid'+a+''+c).remove();hi=true}}else{if(h.t[a]=='1'){eh[b]++;j('div.fc_room_members1'+b).prepend(gQ(a,1,b));j('div.fc_room_members0'+b).prepend(gQ(a,0,b))}else{eh[c]--;j('span.fc_rmid'+a+''+c).remove()}hi=true}};function nc(){for(var a in D){if(D.hasOwnProperty(a)){j('span.fc_rms'+a).html("&nbsp;("+eh[a-0]+")")}}};var mS=function(a){if(bP==0){for(var b=0;b<a.length-1;b+=2){var c=a[b]-0;if(!cI[c]){cI[c]=0}cI[c]+=a[b+1]-0}}else{for(var b=0;b<a.length-1;b+=4){var c=a[b]-0;if(D[c]){D[c].msgCount=a[b+2];j('span.fc_msg_count'+a[b]).html(i(396,'Msgs: ')+D[c].msgCount+'');if(D[c].msgCount<D[c].baseMsgCount){D[c].baseMsgCount=D[c].msgCount}var g=D[c].msgCount-D[c].baseMsgCount;if(cI[c]){if(cI[c]>D[c].msgCount){cI[c]=D[c].msgCount}g+=cI[c]}var d=D[c].msgCount-D[c].lastMsgCount;if(bg==c&&d>0){gM(d)}D[c].lastMsgCount=D[c].msgCount;j('span.fc_new_msg_count'+a[b]).html('&nbsp;'+i(397,'New: ')+g+'');var f=y;var o='';if(D[c].msgCount!='0'){f=bD;var m=a[b+3];D[c].lastMsg={id:m[0],username:m[1],datetime:m[2],message:m[3]};o=dO(D[c].lastMsg.datetime,0,1)};j('span.fc_last_msg'+a[b]).html(i(398,'Last update ')+o+i(399,' by ')+ek(bS(D[c].lastMsg.username.split('&')[0]),'')).css("display",f)}}}};var hN=function(a){j('#fc_exit_room').html((a?"<a class='fc_grpt0 fc_ext"+ec+"' style='"+C.chatrooms_box.text.link_css+"' href='javascript:void(0)' onclick='fc_chat.c_g(this);return false;'>"+i(400,'Exit Current Room')+"</a>":i(400,'Exit Current Room')));j('#fc_exit_room2').html((a?"<a class='fc_grpt1 fc_ext"+ec+"' style='"+E.other_buttons.states.link_css+"' href='javascript:void(0)' unselectable='on' onclick='fc_chat.c_g(this);return false;'>"+i(395,'Exit Room')+"</a>":i(395,'Exit Room')))};var fb=function(a,b){var c=i(0,0,'chat_room_width')+14;var g='3';var d='';if(b==7){c=i(0,0,'private_chat_width')+12;g=fu;d='b'}if(a){j('#fc_cl'+b).html("<a id='fc_cli"+b+"' "+bc+"clearMsgs("+b+");' onmouseover='getElementById(\"fc_e_cl"+b+"\").className=\"fc_e fc_e_cl2"+d+"\"' onmouseout='getElementById(\"fc_e_cl"+b+"\").className=\"fc_e fc_e_cl"+d+"\"'><span class='fc_e fc_e_cl"+d+"' id='fc_e_cl"+b+"' title='"+i(18)+"' style='display:block;position:absolute;top:"+g+"px;left:"+c+"px;'></span></a>")}else{j('#fc_cl'+b).html("<span style='position:absolute;"+hk+"top:"+g+"px;left:"+c+"px;' class='fc_e fc_e_cl'></span>")}};this.tgl_full_chat=function(a){if(!t&&bn=='0'){fc_chat.c_g(a)}};this.c_g=function(a){if(!t){eK={typ:(j(a).hasClass('fc_grpt1')?1:0),index:R(a.className.substr(15)),id:j(a).attr('id'),elem:a};var b=R(a.className.substr(15));if(b!=bg||bn=='0'){if(b==ec){fc_chat.c_g2('0')}else{if(D[b]){if(D[b].d==1){J(i(129))}else{if(D[b].l==0){fc_chat.c_g2('0')}else{var c=eK.typ;if(j('#fc_locked_room'+c+''+b).css('display')==F){j('#fc_locked_room'+c+''+b).css('display',y)}else{j('div.fc_locked_room').css('display',y);j('#fc_locked_room'+c+''+b).css('display',F)}}}}}}}};this.c_g2=function(a){var b=eK.typ;var c=(b?dI:ee);var g=eK.index;gM(-eO);if(bn==0){if(bP<2&&g!=bg){bg=g;du=g;ey=true}fc_chat.open_chat_box();if(bP<2||g==bg){if(dc()&&eK.id!='fc_open_full_chat')j(eK.elem).css("backgroundColor",c.selected_color);if(!dc()){hN(1)}return false}}else if(g!=bg){cj='3'}if(g!=bg){kX();t=true;bp.scrollLeft=1;nk(bg,g);j('#fc_op1').html("<div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+gn+"</a></div>");j('#fc_co').html("<span class='fc_e fc_e_co3'></span>");fb(1,6);j('#fc_groupType').html("");clearTimeout(ej);kv(bg);if(eQ){bp.style.overflow='hidden'}var d=[];for(var f in h.ge){if(h.ge.hasOwnProperty(f)){delete h.ge[f]}}cm[7]=0;for(var f in h.de){if(h.de.hasOwnProperty(f)){if(h.g[f]==bg){h.gre[f]=''}if(g!=ec){if(h.g[f]==g&&h.o[f]=='1'&&h.t[f]=='1'){var o=cZ(f,0,4);var m='';m='&nbsp;&nbsp;'+bM(f,4,0,1);h.gre[f]='fc_gl'+G[4];var s=(by==f?fq:eA);var r=bj(f)&&f!=k.uid;var z='<div class="fc_'+f+' fc_gst'+(r?1:0)+'" id=fc_gl'+G[4]+' style="display:'+(r&&!cE?'none':'block')+'; font-weight:bold;width:'+bO+'px;z-Index:'+(P+202)+';'+ha+s+'" onClick="fc_chat.send_to('+f+')" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)">'+m+o+fK(f)+dn(f)+fc(f)+fJ(f)+'<div id="fc_gl'+G[4]+gc+fd(f)+er(f)+fe(f)+gP(f)+'</div></div>';fH(f,d,z,7);G[4]++;ba[4]++}}}}if(fc_chat.cvu_priv==null&&n.videoconerence_only_in_designated_rooms){fc_chat.closeVid()}bg=g;j('div.fc_locked_room').css('display',y);kQ(g,d);k.img1C=0;Z[6]=0;cd[6]=1;eN='1';bm[2]=g+1;u='000394'+bL(g,6)+jGo.MD5.hex_md5(gi);bd()}};var kQ=function(a,b){var c='<div style="'+bw+'width:'+(bx-30)+'px">';var g=mo+'<span class="fc_room_name" style="'+ig+'">';if(dc()){bo[B]=c+gE(i(401,'Loading Room List...Please wait...'))+'</div>';cU[B]=g+i(402,'No Room Selected')+'<br><br>&nbsp;'+(!de?bM(k.uid,4)+' <a href="javascript:void(0)" '+fc_chat.uolnk(k.uid,4,true)+' style="text-decoration:none;color;'+ig+'">'+i(473,'My Account Settings')+'</a><span></span></div>':'');j('#fc_top_info_inner').html('');fb(0,6);hN(0)}else{bo[B]=c+gE(i(122))+'</div>';cU[B]=g+D[a].nm+'</span></span></div>'+eV(b,7);j('#fc_top_info_inner').html("<a class='fc_grpt0 fc_grp"+ec+"' style='"+E.other_buttons.states.link_css+";text-decoration:none' href='javascript:void(0)' onclick='fc_chat.c_g(this);'>&laquo;&laquo;</a> "+i(40,"Room")+": <span class='fc_room_name' style='font-weight:bold;font-style:italic;"+gb+"'>"+D[a].nm+"</span>");fb(1,6);hN(1)}};var ky=function(){var a=dI.count_font_css;bo[B]="<div class='fc_roomlist1' style='padding:3px;width:100%;overflow:auto;line-height:120%'>&nbsp;"+(!eG?hG():'')+"<div style='"+dI.horizontal_rule+"'>"+i(403,"Select a Room")+"&nbsp;&nbsp;&nbsp;<span class='fc_create_room1' style='display:none;'><a style='text-decoration:none;"+a+"' href='javascript:void();' onclick='fc_chat.tgl_info_panel(\"createedit\",0,\"\");return false'>"+i(66)+"</a></span></div>"+iU(1)+"</div>";ej=setTimeout("fc_chat.showdiv(9)",20);kW()};var dS;this.c_gL=function(a,b,c,g,d){if(!t){dS=g+''+d;t=true;clearTimeout(gJ);l('fc_passtxt'+dS)[B]=i(158);v=l('fc_rpass'+dS);var f=v.value;v.value='';l('fc_rpass'+dS).disabled=true;if(nl(f)){u='00039\\'+bL(d,6)+jGo.MD5.hex_md5(gi);bd()}}};function nl(a){if(a.length>2&&a.length<16){if(!me.test(a)){gi=a;return true}}fc_chat.eS2(1);t=false;return false};var gJ;this.eS2=function(a){var b;if(a==1){b=i(93)}if(a==2){b=i(94)}if(a==3){b=i(95)}clearTimeout(gJ);l('fc_passtxt'+dS)[B]='<br>'+b;l('fc_rpass'+dS).disabled=false;gJ=setTimeout("fc_chat.clearRoompassTxt('"+dS+"')",7000)};this.clearRoompassTxt=function(a){l('fc_passtxt'+a)[B]=''};var fM=navigator.userAgent.toLowerCase();var nm=((fM.indexOf('gecko')!=-1)&&(fM.indexOf('spoofer')==-1)&&(fM.indexOf('khtml')==-1)&&(fM.indexOf('netscape/7.0')==-1));var nn=((fM.indexOf('AppleWebKit')!=-1)&&(fM.indexOf('spoofer')==-1));this.insertTags=function(a,b,c,g){var d;if(g==1){d=document.getElementById('fc_chat');fc_chat.oF()}else if(g==3){d=document.getElementById('fc_uChat2')}else if(g==4){d=document.getElementById('fc_sendpagechat')}else{d=document.getElementById('fc_uChat')}if(document.selection&&!nm){var f=document.selection.createRange().text;if(!f){f=c}d.focus();if(f.charAt(f.length-1)==" "){f=f.substring(0,f.length-1);document.selection.createRange().text=a+f+b+" "}else{document.selection.createRange().text=a+f+b}}else if(d.selectionStart||d.selectionStart=='0'){var o=d.selectionStart,m=d.selectionEnd,s=d.scrollTop,r=(d.value).substring(o,m);if(!r){r=c}if(r.charAt(r.length-1)==" "){subst=a+r.substring(0,(r.length-1))+b+" "}else{subst=a+r+b}d.value=d.value.substring(0,o)+subst+d.value.substring(m,d.value.length);d.focus();var z=o+(a.length+r.length+b.length);d.selectionStart=z;d.selectionEnd=z;d.scrollTop=s}else{var A=mn,q=new RegExp("\\$1","g"),x=new RegExp("\\$2","g");A=A.replace(q,c);A=A.replace(x,a+c+b);var H;if(c){H=prompt(A)}else{H=""}if(!H){H=c}H=a+H+b;document.infoform.infobox.value=H;if(!nn){d.focus()}mm=true}if(d.createTextRange)d.caretPos=document.selection.createRange().duplicate()};this.getPve=function(a){return h.pve[a]};this.getB=function(a){return h.b[a]};var bY=function(a){return(h.bg[a]&&h.bg[a]!='1'&&h.bs[a]!='1')};this.getO=function(a){return h.o[a]};this.getNm=function(a){return h.nm[a]};this.getAc=function(a){return h.ac[a]};this.getIdl=function(){if(h!=null&&h.idl[k.uid]==1){return true}return false};this.show_user_chat=function(a,b,c,g,d){var f="fc_uD";var o="fc_uD2";var m='';var s=false;var r=false;var z='0';var A=false;var q;var x="visible";var H=1;var K='';var L='';var O='';var I=E.user_pop_up_panel.font.links_css;var bf=(!Q)?'jGo_ydsf':'';var bi=(!Q)?'jGo_inner':'';this.uD=l(f);this.uDiv1=l(o);ev=18;fn.cU=g;var be=false;if(!bY(g)){K=i(52);A=true;be=true}if(g==k.uid){x="hidden";H=0;K=i(51);A=true;be=true}if(cJ[g]==1){s=true}if(fn.getB(g)=='1'){r=true}if(fn.getO(g)=='0'){K=i(53)+K;A=true;if(bj(g)){be=true}}if(be){q="<div class='fc_uspbtn_dis' ><a class='fc_uspbtn_disa'>"+i(264,'Send Message')+"</a></div>"}else{q="<div class='fc_uspbtn' >"+cy+" onClick='"+fW+"sendChat(false,false,"+hY+");return false'>"+i(264,'Send Message')+"</a></div>"}if(cR!=cS){z=window.parent.fc_chat.getAc(k.uid)}else{z=h.ac[k.uid]}if(cR!=cS){if(window.parent.fc_chat.uD!=null){window.parent.fc_chat.uD.style.display=y;if(Q){window.parent.fc_chat.uIF.style.display=y}}}else if(k.m==1){k.odiv.style.display=F}if(R(z)>0){modStr="<a style='"+I+dq+"toggleMenu(this,"+g+",\"mod\")'>"+i(45)+"</a>&nbsp;&nbsp;"}var bJ=(jr?"' target=_blank href='"+ij+encodeURIComponent(h.nm[g])+"'>":dq+"showUP("+g+")'>");var bK="<a style='"+I+dq+"send_to("+g+")'>"+i(2,"Chat")+"</a>&nbsp;&nbsp;";var bB="<a style='"+I+bJ+i(46)+"</a>&nbsp;&nbsp;";var cH=(n.change_avatar?"<a style='"+I+dq+"avaFWrapper()'>"+i(47)+"</a>&nbsp;&nbsp;":"");var dU="<a style='"+I+dq+"toggleMenu(this,"+g+",\"item2\")'>"+i(350,'Set Availability')+"</a>&nbsp;&nbsp;";var dV="<a style='"+I+dq+"remove_recent("+g+")'>"+i(432,'Remove from Recents')+"</a>&nbsp;&nbsp;";var cf="<a style='"+I+dq+"toggleMenu(this,"+g+",\"item3\")'>"+i(363,'Set Signature')+"</a>&nbsp;&nbsp;";var cQ="<a style='"+I+dq+"showStatus("+g+","+hY+")'>"+i(48)+"</a>&nbsp;&nbsp;";var fI="<a style='"+I+dq+"tglNick(2,"+g+")'>"+i(422,'Set Nickname')+"</a>&nbsp;&nbsp;";var gK=(bb?"<a style='"+I+dq+"hideUBox()'>"+i(54)+"</a>":"");var fa='&nbsp;&nbsp;';var hO='<span style="visibility:hidden">S</span><br>'+fa;if(bb){if(this.uD!=null){fc_chat.hideUBox()}}if(this.uD!=null){hZ=true;l('fc_uName')[B]=bM(g,null,1,1)+' '+fn.getNm(g)+dn(g,1);l('fc_uName2')[B]=bM(g,null,1,1)+' '+fn.getNm(g)+dn(g,1);if(g==k.uid){l('fc_profile')[B]=fa+modStr+cH+dU+hO+bB+cQ+cf}else{l('fc_profile')[B]=fa+modStr+(bs[g]?dV:'')+hO+bK+bB+cQ+(X=='2'?(!bj(g)?cf:fI):'')}l('fc_usp')[B]=q;l('fc_btm')[B]=K;l('fc_status').style.visibility='hidden';j("#fc_uvid").attr({"href":"javascript:fc_chat.launchVideoChat(0"+(g==k.uid?"":","+g)+")"});this.uD.style.top='-200px';this.uD.style.display=F;if(Q){this.uIF.style.width=this.uDiv1.offsetWidth;this.uIF.style.height=this.uDiv1.offsetHeight;this.uIF.style.display=F}}else{if(jGo.browser.browser!='Explorer'){m=';width:290px'}if(g==k.uid){L=fa+modStr+cH+dU+hO+bB+cQ+cf}else{L=fa+modStr+(bs[g]?dV:'')+hO+bK+bB+cQ+(X=='2'?(!bj(g)?cf:fI):'')}this.uD=document.createElement('div');this.uD.setAttribute('id',f);this.uD.style.position='absolute';this.uD.style.left='0px';this.uD.style.top='-200px';this.uD.style.display=F;this.uD.style.zIndex=jGo.config.max_z_index-90;var kY=" style='"+E.user_pop_up_panel.font.screen_name_css+"'>"+bM(g,null,1,1)+" "+fn.getNm(g)+dn(g,1)+"</span>&nbsp;"+gK+"</b></td>"+fc_ex.fill_uD(L,I,fW,g,k.uid,hY,q,K)+"</table></td></tr></table></td></tr></table>";var no="<table border=0 class='"+bi+" fc_table'  id='fc_table2' style='width:"+i(0,0,'user_dialog_width')+"px;padding:6px;vertical-align:middle;background-color:"+E.user_pop_up_panel.background_color+";border:"+jt+"'><tr><td><table class='fc_hidden_table' style='visibility: "+(hr?"visible":"hidden")+"'><tr><td colspan=2>&nbsp;&nbsp;<b><span id='fc_uName2'"+kY;var np="<table border=0 class='"+bi+" fc_table'  id='fc_table' style='width:"+i(0,0,'user_dialog_width')+"px;padding:6px;vertical-align:middle;"+bw+"border:"+jt+"'><tr><td><table><tr><td colspan=2>&nbsp;&nbsp;<b><span id='fc_uName'"+kY;eS=document.createElement('div');this.uDiv1=document.createElement('div');eS.className='jGo_app jGo_myapp '+bf+' fc_'+g;this.uDiv1.className='jGo_app jGo_myapp '+bf+' fc_'+g;this.uDiv1.setAttribute('id',o);eS.style.position='absolute';this.uDiv1.style.position='absolute';eS.style.top='0px';eS.style.left='0px';this.uDiv1.style.top='0px';this.uDiv1.style.left='0px';eS[B]=no;this.uDiv1[B]=np;this.uD.appendChild(eS);document.body.appendChild(this.uD);j('#fc_table2').css({opacity:E.user_pop_up_panel.opacity});j('#fc_table2').contents().each(fc_chat.changeGhostIds);this.uD.appendChild(this.uDiv1);j(this.uD).hover(fc_chat.changebackstatus,fc_chat.changestatus);j(this.uD).onEvent('touchstart',fc_chat,'on_ubox','');if(Q){this.uIF=fc_ex.createIF(2,P,this.uDiv1,null,bb);document.body.appendChild(this.uIF)}setTimeout('fc_chat.bckUsr()',40);hZ=true;gu=l('fc_blk')}l('fc_atpg').checked=s;l('fc_blk').checked=r;j('#fc_atxt').css({"opacity":(g!=k.uid?1:.6)});j('#fc_atpg').css({"visibility":(g!=k.uid?"visible":"hidden")});kZ(g,A);j('#fc_btxt').css({"opacity":(H?1:.6)});gu.style.visibility=x;jV();jGo.UI.EventHandler('touchstart','ubox',jGo.UI,fc_chat,'off_ubox');hP=false;dt=dr-9;uPosY=ds-9;gT=0;var nq=fs();if(((nq-dt)<this.uDiv1.offsetWidth+30&&dt>this.uDiv1.offsetWidth)||k.m==1){gT=1}var la=(jGo.browser.browser!='Explorer'?j(window).scrollTop():0)+eH();var lb=this.uDiv1.offsetHeight+uPosY;if(la-45<lb){uPosY-=(lb-la+45);if(bb&&uPosY<35)uPosY=35};if(!iv){dt+=j(window).scrollLeft();uPosY+=j(window).scrollTop()}if(jGo.browser.browser!='Explorer'){if(gT==0){this.uD.style.left=dt+'px'}else{this.uD.style.left='auto';if(k.IFO!=null){cC.style.width=k.tIF.style.width;cC.style.display=F}this.uD.style.left=(dt+ev-R(this.uDiv1.offsetWidth))+'px'}this.uD.style.top=uPosY+'px';if(jGo.browser.browser=='Opera'){if(d>0){gG(0)}}}else{if(gT==0){this.uD.style.pixelLeft=dt;if(Q){this.uIF.style.pixelLeft=dt}}else{this.uD.style.pixelLeft=dt+ev-this.uDiv1.offsetWidth;if(Q){this.uIF.style.pixelLeft=dt+ev-this.uDiv1.offsetWidth}}this.uD.style.pixelTop=uPosY;if(Q){this.uIF.style.pixelTop=uPosY}}if(Q){this.uIF.style.width=this.uDiv1.offsetWidth;this.uIF.style.height=this.uDiv1.offsetHeight}return false};var hP=false;this.on_ubox=function(a){hP=true};this.off_ubox=function(a){if(!hP)k.hideUBox();hP=false};this.changeGhostIds=function(a){if(this.getAttribute&&this.getAttribute('id')!=null&&this.getAttribute('id')!='fc_uName2'){j(this).removeAttr('id')}j(this).contents().each(fc_chat.changeGhostIds)};this.enableScroll=function(a){var b;if(a==1||a==9){b=bp}if(a==2){b=bt}if(a==6){b=bQ}if(a==7){b=bR}if(a==8){b=bA}if(eQ){b.style.overflow='auto'}if(a<3){b.scrollTop=b.scrollHeight-(cr?b.clientHeight+1:0)}};function gG(a){es(bp,a);es(bt,a);es(cL,a);es(cM,a);es(cB,a);es(bQ,a);es(bR,a);es(bA,a)};function es(a,b){a.style.overflowX=(b==1?'auto':'hidden')};this.bckUsr=function(){if(Q){this.uIF.style.width=this.uDiv1.offsetWidth;this.uIF.style.height=this.uDiv1.offsetHeight;this.uIF.style.display=F}};var kZ=function(a,b){var c=(a==k.uid&&fc_chat.vidAcc>1)||(a!=k.uid&&fc_chat.vidAcc%2!=0);var g=((!b||k.uid==a)&&c);var d=(c?'':' '+i(32));j('#fc_uvid').css({"opacity":(g?1:.6),"cursor":(g?"pointer":"default")});j('#fc_e_uvid').attr({"title":(a==k.uid?i(31)+d:i(319,"Private Video Chat")+d)});j('#fc_uwhiteboard').attr({"title":(a==k.uid?i(288,"Open whiteboard"):i(289,"Invite to share a whiteboard"))});j('#fc_unote').attr({"title":(a==k.uid?i(295,"doodlepad"):i(296,"Send a doodle."))});j('a.fc_share').css({"cursor":(!b||k.uid==a?"pointer":"default")});if(!Q)j('a.fc_share').css({"opacity":(!b||k.uid==a?1:.6)});j('a.fc_userme').css({"display":(k.uid==a?bD:y)});j('a.fc_usernotme').css({"display":(k.uid==a?y:bD),"opacity":(!b?1:.6),"cursor":(!b?"pointer":"default")})};function kO(a){var b="fc_uD";var c=false;var g=false;var d=false;var f;var o='';var m=l(b);if(m!=null){if(cJ[a]==1){c=true}if(!bY(a)){o=i(52);g=true;d=true}if(h.o[a]=='0'){o=i(53)+o;g=true;if(bj(a)){d=true}}if(d){f="<div class='fc_uspbtn_dis' ><a class='fc_uspbtn_disa'>"+i(264,'Send Message')+"</a></div>"}else{f="<div class='fc_uspbtn' >"+cy+"' onClick='fc_chat.sendChat(false,false,document);return false'>"+i(264,'Send Message')+"</a></div>"}l('fc_usp')[B]=f;l('fc_btm')[B]=o;l('fc_atpg').checked=c;j('#fc_atxt').css({"opacity":(a!=k.uid?1:.6)});j('#fc_atpg').css({"visibility":(a!=k.uid?"visible":"hidden")});kZ(a,g)}return false};this.a_r_pr=function(a){var b=a.getElementById('fc_atpg');if(!t){j(a.getElementById('fc_atxt')).css({opacity:.6});if(b.checked){fc_chat.add_friend(k.cU)}else{fc_chat.remove_friend(k.cU)}b.disabled=true;if(dE==1){this.filt(1)}if(a==document){setTimeout('fc_chat.releaseATPG(document)',500)}else{setTimeout('fc_chat.releaseATPG(fc_chat.getIFrameDoc())',500)}}else{b.checked=(b.checked==true?false:true)}return false};this.blk_ublk=function(a,b){var c;var g;var d;var f;var o=b.getElementById('fc_blk');if(!t){if(a){j(b.getElementById('fc_btxt')).css({opacity:.6});g=k.cU.toString();d=k.cU;o.disabled=true;if(b==document){setTimeout('fc_chat.releaseBLK(document)',500)}else{setTimeout('fc_chat.releaseBLK(fc_chat.getIFrameDoc())',500)}f=o.checked}else{g=cT.toString();d=cT}if(a&&f){u="0001171"+g.length;h.b[d]='1';h.s[d][3]='1';ck[d]='1';if(db){fL(d,6,'fc_bl')}}else{u="0001170"+g.length;h.b[d]='0';h.s[d][3]='0';if(db){da(cV,6,ck[d],d);cT='0';var m=l('fc_r');m[B]="<div class='fc_opbtn_dis' ><a class='fc_opbtn_disa'>"+i(135)+"</a></div>"}if(ck[d]!=null){delete ck[d]}}u+=ce(g);bd();if(h.ge[d]!=null){c=h.ge[d].split('&');for(var s=0;s<c.length-1;s++){bT(d,c[s],1,1)}}if(Z[6]!=0){if(h.gpe[d]!=null){c=h.gpe[d].split('&');for(var s=0;s<c.length-1;s++){bT(d,c[s],1,6)}}}if(h.pe[d]!=null){c=h.pe[d].split('&');for(var s=0;s<c.length-1;s++){bT(d,c[s],1,2)}}if(Z[7]!=0){if(h.ppe[d]!=null){c=h.ppe[d].split('&');for(var s=0;s<c.length-1;s++){bT(d,c[s],1,7)}}}if(h.de[d]!=null){bT(d,h.de[d],0,3)}if(h.gre[d]!=''){bT(d,h.gre[d],0,4)}if(h.pve[d]!=''){bT(d,h.pve[d],0,5)}if(h.pge[d]!=''){c=h.pge[d].split('&');for(var s=0;s<c.length-1;s++){bT(d,c[s],2,0)}}if(h.ife[d]!=null){c=h.ife[d].split('&');for(var s=0;s<c.length-1;s++){bT(d,c[s],3,0)}}}else{if(a){o.checked=(o.checked==true?false:true)}}return false};this.releaseATPG=function(a){j(a.getElementById('fc_atxt')).css({opacity:1});a.getElementById('fc_atpg').disabled=false};this.releaseBLK=function(a){j(a.getElementById('fc_btxt')).css({opacity:1});a.getElementById('fc_blk').disabled=false};this.tgl_ops=function(a){var b=l('fc_opcnt'+a);b.style.display=(b.style.display==F?y:F);l('fc_opimg'+a)[B]=(b.style.display==F?"<img height='12px' width='12px' class='fc_er fc_e_up' src='"+V+"trans.gif' border=0>":"<img height='12px' width='12px' class='fc_er fc_e_dwn' src='"+V+"trans.gif' border=0>");return false};this.c_px=function(a,b){if(!(b==bu&&b==Y.font.size&&!bb)){bu=fc_ex.c_px(a,b,bu);ct(bu,16)}};this.toggleCensor=function(a,b,c){if(a.data){b=a.data[3];a=a.data[2];c=null}j("#"+(c?"p":"")+"censor"+b)[0].style.display=(a?"inline":"none")};this.offBlk=function(){this.style.backgroundColor=(this.className.substr(3)==cT?cp.selected_color:cp.background_color)};this.offBlk2=function(a){a.style.backgroundColor=(a.className.substr(3)==cT?cp.selected_color:cp.background_color)};this.overBlk=function(){this.style.backgroundColor=cp.hover_color};this.clickBlk=function(){cT=fc_ex.clickBlk(this,cT,ck)};this.clickBlk2=function(a){cT=fc_ex.clickBlk(a,cT,ck)};this.toggle=function(a,b,c){if(!t){if(l('fc_'+b+c).style.border=='red 1px solid'){if(dM[a]!=2){l('fc_'+b+c)[B]="<span class='fc_e fc_e_it2'></span>";dM[a]=1}}}};this.toggle2=function(a,b,c){if(!t){if(l('fc_'+b+c).style.border=='#aaaaaa 1px solid'){if(dM[a]!=2){l('fc_'+b+c)[B]="<span class='fc_e fc_e_"+b+"'></span>";dM[a]=0}}}};function ni(){j('#fc_op1').html("<div class='fc_obtn' >"+cy+jM+gn+"</a></div>");j('#fc_co').html("<span class='fc_e fc_e_co'></span>")};function hK(a){var b=j(".fc_ob");if(a=='1'){b.html(fc_chat.toggle_btn(1,1))}else{b.html(fc_chat.toggle_btn(1,0))}};function gO(a){var b=l('fc_op1');if(a=='1'){iW();lc();b[B]="<div class='fc_obtn' >"+cy+jM+gn+"</a></div>";b=l('fc_tgl1');b[B]="<div class='fc_obtn' >"+cy+" onClick='fc_chat.open_chat_box(this);return false'>"+i(8)+"</a></div>";if(by=='0'){b=l('fc_sg1');b[B]="<div class='fc_srbtn' >"+cy+" onClick='fc_chat.sendChat(true,true,document);return false'>"+i(10)+"</a></div>"}else{b=l('fc_sp1');b[B]="<div class='fc_spbtn'>"+cy+dw+" onClick="+jN+i(11)+"</a></div>"}}else{if(b){b[B]="<div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+gn+"</a></div>";b=l('fc_tgl1');b[B]="<div class='fc_obtn_dis' ><a class='fc_obtn_disa'>"+i(8)+"</a></div>";b=l('fc_sg1');b[B]="<div class='fc_srbtn_dis' ><a class='fc_srbtn_disa'>"+i(10)+"</a></div>";b=l('fc_sp1');b[B]="<div class='fc_spbtn_dis'><a class='fc_spbtn_disa' "+dw+">"+i(11)+"</a></div>"}}};this.open_chat_box=function(a,b,c){if(!t){if(k.m==1&&!ge){return this.toggleHide()}else{if(k.oD!=null){k.oD.style.display=y;if(Q){k.oIF.style.display=y}}}if(k.tPC!=null){k.tPC.style.display=y;if(Q){k.tPB.style.display=y}}if(fi=='0'){this.tgl_chatcenter(io,k.chat_window_height,b);ki();t=true}else{this.tgl_chatcenter(io,k.chat_window_height,b);if(bP<2){kT()}t=true;if(ey){bm[5]='1';ey=false;var g='';var d='07';if(D[du]&&D[du].l!=0){g=jGo.MD5.hex_md5(gi);d='39'}u+=String.fromCharCode(10)+'000'+d+'4'+bL(du,6)+g}bd(1)}}return false};var ki=function(){jGo.scripts.importClass('jGo.DefaultWindow.ext.min.js','dynamic',this,null);var a=document.getElementsByTagName("head")[0];gS=document.createElement('script');gS.type='text/javascript';gS.src=lz+'js/fcchat.ext.min.js';a.appendChild(gS)};var hQ;this.setNickname=function(a){if(!t){hQ=jGo.util.trim(iB(l('fc_nickname').value.substr(0,50)));u=bL(10+bF(hQ));var b=a.toString();u+='x'+b.length+ce(b)+hQ;bd(u);l('fc_nickname').value='';l('fc_nickname_set').style.visibility='hidden';l('fc_nickname').disabled=true;setTimeout('fc_chat.unlockNickname('+a+')',250)}};this.unlockNickname=function(a){h.nk[a]=bS(hQ);kP(a);l('fc_nickname').disabled=false;l('fc_nickname_set').style.visibility='visible'};var kP=function(a){j('.fc_'+a+'nick').html('&nbsp;'+i(1)+(h.nk[a]!=''?'&nbsp;('+h.nk[a]+')':'')+'&nbsp;&nbsp;')};var ld;var hR=0;var hB=function(a){clearTimeout(ld);if(n.prompt_nickname&&(!hR||(a&&hR<2))&&bj(k.uid)&&h.nk[k.uid]==''&&(a||j("#fc_onlinelist").css("display")==F)){ld=setTimeout("fc_chat.tgl_nick("+(a?a:"")+")",500)}};this.tglNick=function(a,b){if(a==1){W['u1'].hide();if(!fN){hR=1;fc_chat.tgl_online(ef)}fc_chat.tgl_nick()}else{fc_chat.hideUBox();fc_chat.tgl_nick(1,b)}return false};this.tgl_nick=function(a,b){if(a||j("#fc_onlinelist").css("display")==F){mI((b?b:k.uid),a);hR=(a?2:1)}};var le=-1;this.setBusy=function(a){if(!t){if(a!=le){var b=(a==1?'t':'s');u='00001'+b;bd(u)}a==le}else{if(a==0){l('fc_avl1').checked=true}else{l('fc_avl2').checked=true}}};this.showStatus=function(a,b){if(!t){t=true;var c=a.toString();u='000119'+c.length+c;for(var g=0;g<8-c.length;g++){u+='0'}u+='2';bd(u);var d=b.getElementById('fc_status');if(d){d.style.visibility="visible";if(b==document){setTimeout('fc_chat.releaseStatus("fc_status",document)',1000)}else{setTimeout('fc_chat.releaseStatus("fc_status",fc_chat.getIFrameDoc())',1000)}}}return false};this.releaseStatus=function(a,b){var c=b.getElementById(a);c.style.visibility='hidden'};var nr=function(a){if(eT(14)=='3'&&a=='default.gif'){ct('',18);return a}else{ct('1',18);return a}};this.launch_avatar=function(){if(!t){dP(bv+"html/Avatars."+n.script_type+"?id="+k.uid+"&ref=1&dummy=true",'fc_avwin','toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1',400,600)}};this.launch_uploads=function(){if(!t){dP(bv+"html/Upload."+n.script_type+"?id="+k.uid+"&ref=1&dummy=true",'fc_upwin','toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1',400,400)}};var lf=function(){if(cn['fc_avwin']){cn['fc_avwin'].close()}if(cn['fc_upwin']){cn['fc_upwin'].close()}};this.newAvatar=function(g,d,f,o,m,s){jg=o;lB=m;lC=s;if(!t){if(d==3&&jq){j.post(ns(hc),{f:1},function(a){var b='';var c=a.split("<fcchatresponse>");if(c.length>1){b=c[1]}fc_chat.newAvatarcont(b,d,f)},"html")}else{fc_chat.newAvatarcont(g,d,f)}}};var ns=function(a){var b="http://www.";var c="https://www.";var g=window.location.href;if(g.indexOf(b)==-1&&g.indexOf(c)==-1){if(a.indexOf(c)==0){a=a.replace(c,"https://")}if(a.indexOf(b)==0){a=a.replace(b,"http://")}}return a};this.newAvatarcont=function(a,b,c){var g;if(c=='0'){lg();g=dg}else{g=cn['fc_avwin'].document}if(!t){a=a.replace(/%/g,'%25');a=nr(a);u=bL(a.length+1)+'T'+a;try{bd(u);if(b==1){g.getElementById('wait1').style.display=y;g.getElementById('content1').style.display=F}else{setTimeout('fc_chat.avatarSuccess('+b+',1,'+c+')',500)}}catch(err){J(dK)}}};this.avatarSuccess=function(a,b,c){var g;if(c=='0'){lg();g=dg}else{g=cn['fc_avwin'].document}try{var d=g.getElementById('content1');var f=g.getElementById('wait1');if(a!=1){d.style.display=y;f.style.display=F;setTimeout('fc_chat.avatarSuccess(1,'+a+','+c+')',500)}else{var o=(b==2?i(204):i(205));if(b==4){o=i(206)};f.style.display=y;d[B]='<br><font face="Arial">'+i(203)+' '+o+'</b></font><br><br><br><a href="javascript:this.location.replace('+(c=='0'?'window.parent':'window.opener')+'.fc_chat.html_dir+\'Avatars.'+jg+'?ref='+c+'&id='+k.uid+'\')">'+i(181)+'</a>&nbsp;<a href="javascript:'+(c=='0'?'window.parent':'window.opener')+'.fc_chat.rem('+c+')">'+i(182)+'</a><br><br><div></div>';d.style.display=F}}catch(e){}};var bM=function(a,b,c,g,d,f,o){var m="";if(n.show_avatar_in_chats||g){o=o||n.avatar_sz;var s=ii;var r='px';if(d){o/=12;s=lN;r='em'}var z=n.avatars_dir+'default.gif';if(h.av[a]!=''&&h.av[a]!='default.gif'){z=h.av[a];z=(z.indexOf('/')==0)?z.substr(1):n.avatars_dir+z}else{s+="background-color:#"+h.acl[a]+";"+iw}var A="";var q="";var x="";var H="";if(!f){var K="";A='<a href=\"javascript:void\" ';K=(!d?fc_chat.uolnk(a,b):'onclick=\''+(d==2?eB:'')+'return fc_chat.toggleMenu(this,'+a+',"u1");\'');if(a==k.uid&&c&&n.change_avatar){K='title="'+i(34)+'" onclick="return fc_chat.avaFWrapper();"'}if(!c){K+=' onmouseover="fc_chat.view_over(this,'+a+')" onmouseout="fc_chat.view_out()"'}A=A+K+'>';q='</a>';x='width='+(o*10/9)+r;H='width:'+(o*10/9)+r}m=dh(o,r)+A+'<img class="fc_t'+a+'avimg" src="'+z+'" border="0" '+x+' height="'+(o)+r+'" style="height:'+(o)+r+';'+H+';'+s+'">'+q}return m};this.oF=function(a){if(iu==1){j(bI).css('font','');if(bb)j(bI).css({'font-size':'16px',padding:'3px 3px'});bI.value='';iu=0}};var lh=false;var mR=function(a){eg+=(a-0);j("span.fc_nc_count").html(ep(eg,i(367,"Chats")+" ("+eg+" "+i(267,"new")+")"))};var gM=function(a){if(a!=null){eO+=a}if(bX+eO>0)lh=true;if((bl||n.set_tab)&&lh){document.title=i(407,"Room")+"("+eO+") "+i(408,"Msgs")+"("+bX+")"}};var hA=function(){j("span.fc_nm_count").html(ep(bX,"("+bX+" "+i(267,"new")+")"));gM()};var fg=function(){bZ.close_dialogs()};var dY=!((U.config.layout==2||(U.config.small_screen&&!U.config.tablet))&&bb);var gR=function(a){fc_chat.rescale();if(jGo.browser.webkit){var b='';if(cO==1){b=':not(#fc_quickchat)'}j("div.fc_tldialog"+b+",#fc_loginbox,#fc_chatrooms").css("visibility","hidden");setTimeout("fc_chat.position_elements("+a+")",5)}else{k.position_elements(a)}};this.position_elements=function(a){if(jGo.browser.webkit){j("div.fc_tldialog,#fc_loginbox,#fc_chatrooms").css("visibility","visible")}var b=j("#fc_toolbar_inner");var c=Q||bb||U.config.fixed==0;var g=(c?"absolute":"fixed");if(a){var d=fD(l("fc_friendscenter_toolbar_item"),!(c)).x;if(bb&&bl){}var f=fD(b[0],!(c)).y;var o=fD(b[0],!(c)).x;var m=-j('#fc_toolbar').height()-4;var s=(U.config.layout==0?8:10);var r=s+C.online_box.height*(jGo._['scalefactor']||1)-dv.border_height;j("#fc_chatrooms").css({position:g,top:(f-(U.config.position.substr(0,1)=='t'?m:r))+'px',left:(d+C.online_box.toolbar_offset)+'px'});j("#fc_onlinelist").css({position:g,top:(f-(U.config.position.substr(0,1)=='t'?m:r))+'px',left:(d+C.online_box.toolbar_offset)+'px'});j("#fc_quickchat").css({position:g,top:(f-(U.config.position.substr(0,1)=='t'?m:r))+'px',left:(d+(dY?C.online_box.width+7:0)+C.online_box.toolbar_offset)+'px'});j("#fc_friendslist").css({position:g,top:(f-(U.config.position.substr(0,1)=='t'?m:r))+'px',left:(d+C.friends_box.toolbar_offset)+'px'})}else{var z=nt();j("#fc_chatrooms").css({position:"absolute",top:(j("div.fc_controlbox").offset().top+C.chatrooms_box.top)+'px',left:(Math.max(5,j("div.fc_controlbox").offset().left+C.chatrooms_box.left+z.pos2))+'px'});j("#fc_onlinelist").css({position:"absolute",top:(j("div.fc_controlbox").offset().top+C.online_box.top)+'px',left:(Math.max(5,j("div.fc_controlbox").offset().left+C.online_box.left+z.pos))+'px'});j("#fc_quickchat").css({position:"absolute",top:(j("div.fc_controlbox").offset().top+(C.new_messages_box.top||C.online_box.top))+'px',left:((dY?R(j("#fc_onlinelist").css("left"))+(z.left?(-C.new_messages_box.width-7):(C.online_box.width+7)):Math.max(5,j("div.fc_controlbox").offset().left+C.new_messages_box.left+z.pos4)))+'px'});j("#fc_friendslist").css({position:"absolute",top:(j("div.fc_controlbox").offset().top+C.friends_box.top)+'px',left:(Math.max(5,j("div.fc_controlbox").offset().left+C.friends_box.left+z.pos))+'px'})}ef=a};var nt=function(){var a={left:false,pos:0,pos2:0,pos3:0,pos4:0};if(C.control.align_dialogs){a.left=(n.alignment=='left'?true:false);if(n.alignment=='auto'){a.left=j("div.fc_controlbox").offset().left>(fs()/2)}a.pos=(!a.left?j("div.fc_controlbox").width()+7:-j("#fc_onlinelist").width()-7);a.pos2=(!a.left?j("div.fc_controlbox").width()+7:-j("#fc_chatrooms").width()-7);a.pos3=(!a.left?j("div.fc_controlbox").width()+7:-j("#fc_loginbox").width()-7);a.pos4=(!a.left?j("div.fc_controlbox").width()+7:-j("#fc_quickchat").width()-7)}return a};var fN=0;var fO=0;var cO=0;var hu=0;var gH=0;var oo=0;var op=0;var gI=0;this.tgl_chatrooms=function(a){if(!eE){var b=(l('fc_chatrooms').style.display==y);fg();if(b){fh();et();fP();if(!t){gR(a)}nu()}}};this.tgl_online=function(a){if(!eE){fg();if(fN){fP();et()}else{fh();if(!dY)et();if(!t){gR(a)}nv()}}};this.tgl_friends=function(a){if(!eE){fg();if(fO){fh();et()}else{fP();if(!dY)et();if(!t){gR(a)}if(dY&&!cO){li()}lj()}}};this.tgl_messages=function(a){if(!eE){fg();if(cO){et();if(dY){fh()}}else{if(!dY){fh();fP()}if(!t){gR(a)}if(dY&&!fN){lj()}li()}}};this.close_boxes=function(a,b){fg();for(var c in W){if(W.hasOwnProperty(c)&&W[c].isOpen){W[c].hide()}}fh();et();fP();lf()};var dh=function(a,b){width=(b?1/12:1);b=(b?b:'px');a+=b;width+=b;return"<div style='"+bz+";height: "+a+";'><IMG SRC='"+bv+"trans.gif' height='"+a+"' width='"+width+"' style='height:"+a+";width:"+width+";"+bw+"'></div>"};var oq="<div class='fc_chat_container' id='fc_aG' style='font-style:italic;"+gh+";font-weight:bold;'>"+dh(16)+eW+" "+i(118)+"</div>";var nu=function(){if(!t){j("#fc_chatrooms").css("display",F);hq()}};var fP=function(){j("#fc_onlinelist").css("display",y);fN=0};var nv=function(){if(l("fc_onlinelist").style.display==F){fP()}else{if(!t){j("#fc_onlinelist").css("display",F);lk();hq();fN=1}}};var hq=function(){if(!hu){hu=1;j("#fc_t4").html(i(293,'Please wait'));j("#fc_t6").html(i(293,'Please wait'));if(bP<2){u='00001q';bd()}else{var a=[];cm[4]=0;for(var b in h.de){if(h.de.hasOwnProperty(b)){fH(b,a,dk(b,4),4)}}l('fc_t4')[B]=eV(a,4);gH=1;l('fc_t6')[B]=iU(0);hB()}}else{hB()}};this.add_online=function(a){if(l("fc_t4"+a)==null){if(!bj(a)){j("#fc_t4"+k.uid).after(dk(a,4))}else{hp("#fc_t4",dk(a,4),4,1)}}};this.view_out=function(){j('div.fc_view').remove()};var iP=0;this.view_over=function(a,b){iP=b;if(h.av[b]!='default.gif'&&h.av[b]!=''&&!j('#fc_view')[0]){j(document.body).append(j(document.createElement('div')).addClass('fc_view').css({'position':'absolute',top:(j(a).offset().top+15)+'px',left:(j(a).offset().left+15)+'px','height':'35px','background-color':'#eeeeee',height:'80px','border':'1px solid silver','z-index':jGo.config.max_z_index}).html(bM(b,null,0,1,null,1,80)))}};var or=function(a){return dk(a,4)};this.remove_online=function(a){if(bj(a)&&l("fc_t4"+a)!=null){gC(4,-1)}kp(a,"fc_t4")};var fh=function(){j("#fc_friendslist").css("display",y);fO=0};var lj=function(){if(l("fc_friendslist").style.display==F){fh()}else{if(!t){j("#fc_friendslist").css("display",F);hq();fO=1}}};this.add_friend=function(a){if(W['u1']&&W['u1'].isOpen){W['u1'].hide()}if(bn=='0')fg();cJ[a]=1;if(co==0){fc_chat.switch_contact_panel(1)}if(l("fc_t3"+a)==null){ll(true,a)}if(!fO&&!t&&bn=='0'){j("#fc_friendslist").css("display",F);fO=1;j("#fc_quickchat").css("display",F);cO=1;hz();j("#fc_onlinelist").css("display",y);fN=0}};this.remove_friend=function(a){if(W['u1']&&W['u1'].isOpen){W['u1'].hide()}delete cJ[a];if(iP==a){j('#fc_view').remove()}ll(false,a)};var ll=function(a,b){if(a){iY(b);u='00011o1'}else{if(co==1)lm(b);u='00011o0'}var c=b.toString();u+=c.length+ce(c);bd()};var iY=function(a){var b=j("#fc_t3").html();j("#fc_t3").html(dk(a,3)+b);if(bP>1){fL(a,5,'fc_pl')}};var lm=function(a){j("#fc_t3"+a).remove();if(bP>1){da(cB,5,h.pve[a],a)}};this.switch_contact_panel=function(a){co=a;j('span.fc_contacts_links').html(hS());j('#fc_contact_selector').html(iZ());var b=(a?cJ:bs);iV(b);if(bP>1){iT(b)}};var iV=function(a){var b=[];j("#fc_t3").html('');if(co==1){for(var c in a){if(a.hasOwnProperty(c)){kR(c,b,dk(c,3))}}l('fc_t3')[B]=eV(b)}else{if(bW.l){var g=bW.l;var d='';do{d+=dk(g,3);g=a[g].p}while(g);l('fc_t3')[B]=d}}};var iT=function(a){G[5]=0;ba[5]=0;for(var b in h.pve){if(h.pve.hasOwnProperty(b)){h.pve[b]=''}}cN[B]='';var c=[];if(co==1){for(var b in a){if(a.hasOwnProperty(b)){var g=ln(b);kR(b,c,g)}}}else{if(bW.l){var d=bW.l;c[0]='';do{c[0]+=ln(d);d=a[d].p}while(d)}}cX[5]=cB.scrollHeight;cN[B]=lo()+eV(c)};var lo=function(){return'<div id="fc_contacts_top_main" style="width:'+bO+'px;z-Index:'+(P+202)+';'+lK+'background-color:'+ga.background_color+'"><span id="fc_contacts_links_main" style="'+ga.css+'">&nbsp;'+hS(1)+'</span></div>'};var hS=function(a){var b=(a?ga.css:C.friends_box.text.css);var c='<span style="'+b;var g='&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;';var d=b+(a?ga.link_css:C.friends_box.greeting_box_link);if(co==0){return c+';font-weight:bold;" >'+i(433,'Recents')+'</span>'+g+dG+'switch_contact_panel(1)" style="'+d+'" >'+i(434,'Friends List')+'</a>'+(a?'<div id="fc_clp">'+dG+'remove_recent(0);" onmouseover="getElementById(\'fc_e_clp\').className=\'fc_e fc_e_cl2b\'" onmouseout="getElementById(\'fc_e_clp\').className=\'fc_e fc_e_clb\'"><span class="fc_e fc_e_clb" id="fc_e_clp" title="Clear All" style="display: block;position:absolute;top:4px;left:'+(bO+i(0,0,'clear_recents_offset')-35)+'px;"></span></a></div>':'')}else{return dG+'switch_contact_panel(0)" style="'+d+'" >'+i(433,'Recents')+'</a>'+g+c+';font-weight:bold;" >'+i(434,'Friends List')+'</span>'}};var iZ=function(){if(co==0){return i(435,'Recent Contacts')+'&nbsp;&nbsp;'+dG+'remove_recent(0)" style="'+C.friends_box.text.css+C.friends_box.greeting_box_link+'" >'+i(273,'Clear')+'</a>'}else{return i(434,'Friends List')}};var ln=function(a){var b='';var c=n.avatars_dir+'default.gif';var g=bD;var d=ii;if(h.av[a]!=''&&h.av[a]!='default.gif'){c=h.av[a];c=(c.indexOf('/')==0)?c.substr(1):n.avatars_dir+c}else{d+="background-color:#"+h.acl[a]+";"+iw}var f='<a id="fc_';var o='av" style="display:'+g+';margin-left:15px;" href=\"javascript:void\" ';h.pve[a]='fc_pl'+G[5];var m=cZ(a,0,5);var s=(by==a?fq:eA);b='&nbsp;'+bM(a,5,0,1);var r='<div class="fc_'+a+'" id=fc_pl'+G[5]+' style="font-weight:bold;width:'+bO+'px;z-Index:'+(P+202)+';'+ha+s+'" onMouseOver="fc_ex.overSide2(this)" onMouseOut="fc_ex.offSide2(this)" onclick="fc_chat.send_to('+a+');">'+b+m+fK(a)+dn(a,null,1)+fc(a,1)+fJ(a)+'<div id="fc_pl'+G[5]+gc+fd(a)+er(a)+fe(a)+gP(a)+'</div></div>';G[5]++;ba[5]++;return r};this.remove_recent=function(a){if(bW.f){if(W['u1']&&W['u1'].isOpen){W['u1'].hide()}if(this.uD!=null){this.uD.style.display=y;if(Q){this.uIF.style.display=y}}if(a==0){hs();j("#fc_t3").html('');j(cN).html(lo());for(var b in h.pve){if(h.pve.hasOwnProperty(b)){h.pve[b]=''}}}else{lp(a)}u='00011y0';var c=a.toString();u+=c.length+ce(c);bd()}};var hs=function(){bW.f=null;bW.l=null;delete bs;bs={}};var iM=function(a,b){if(bs[a]){if(bW.l!=a){lp(a,b);bs[bW.l].n=a;bs[a]={p:bW.l,n:null};if(co==0&&!b){iY(a)}}}else{bs[a]={p:bW.l,n:null};if(bW.l){bs[bW.l].n=a}if(!bW.f){bW.f=a}if(co==0&&!b){iY(a)}}bW.l=a};var lp=function(a,b){if(bs[a]){if(bW.l!=a){if(bs[a].p){bs[bs[a].p].n=bs[a].n;bs[bs[a].n].p=bs[a].p}else{bs[bs[a].n].p=null;bW.f=bs[a].n}}else{if(bs[a].p){bs[bs[a].p].n=null;bW.l=bs[a].p}else{hs()}}bs[a]=null;if(co==0&&!b){lm(a)}}};this.clear_nm=function(){j("#fc_t2").html("");bX=0;dT=0;hA()};var et=function(a){j("#fc_quickchat").css("display",y);cO=0};var li=function(){if(l("fc_quickchat").style.display==F){et()}else{if(!t){k.cU=cD;lk();j("#fc_quickchat").css("display",F);cO=1;hz();setTimeout("fc_chat.scroll_nm()",100)}}};this.scroll_nm=function(){var a=j('#fc_view_msgs')[0];a.scrollTop=a.scrollHeight-(cr?a.clientHeight+1:0)};var dW='0';this.send_to=function(a){if(a.data){a=a.data[2]}if(!t&&a!=k.uid||a==0){var b=[cL,cM,cB];if(this.uD!=null){this.uD.style.display=y;if(Q){this.uIF.style.display=y}}if(a!=0){iO(a,0,1)}if(a!=dW&&a!=0){if(!bY(a)||(bj(a)&&h.o[a]!='1')){if(dE==1){hI(a);j(b).find("div.fc_"+a).append("<div class='fc_current_chatee' unselectable='on' style='cursor:default;margin-left:3px;font-style:italic;"+hb+"'>"+i(429,"Conversation selected")+"</div>");dW=a}J(i(409,"Sorry, this user is not available for private chat."))}else{if(by!='0'){j(b).find("div.fc_"+by).css("background-color",eA)}j("div.fc_current_chatee").remove();by=dW=a;j(b).find("div.fc_"+by).css("background-color",fq);j(b).find("div.fc_"+by).append("<div class='fc_current_chatee' unselectable='on' style='cursor:default;margin-left:3px;font-style:italic;"+hb+"'>"+i(430,"Selected for chat")+"</div>");j('#fc_sp1').html("<div class='fc_spbtn' >"+cy+dw+" onClick="+jN+i(11)+"</a></div>");j('#fc_sg1').html("<div class='fc_srbtn_dis' ><a class='fc_srbtn_disa'>"+i(10)+"</a></div>");iR(a);if(dE==1){fc_chat.filt(1)}hd=1;fc_chat.talk(a,null,1)}}else{hI()}}};var iR=function(a){var b="<div style='position:absolute;top:0px;left:0px;height:30px;"+E.send_to_panel.css+E.send_to_panel.text_css+jp+"'>&nbsp;<span style='font-weight:bold;font-style:italic;"+E.send_to_panel.text_css+"'>"+i(276,'To')+":</span> "+h.snm[a]+(h.o[a]=='1'?'':'<i style="'+C.new_messages_box.text.offline_css+'">'+i(368,'Offline')+'</i>')+" <a style='"+E.send_to_panel.remove_button_css+"' "+bc+"send_to(0)'>X</a>&nbsp;</div>";j("#fc_msg_to").html(b)};var hI=function(a){var b=[cL,cM,cB];j(b).find("div.fc_"+by).css("background-color",eA);j("div.fc_current_chatee").remove();j('#fc_sg1').html("<div class='fc_srbtn' >"+cy+" onClick='fc_chat.sendChat(true,true,document);return false'>"+i(10)+"</a></div>");j('#fc_sp1').html("<div class='fc_spbtn_dis'><a class='fc_spbtn_disa'"+dw+">"+i(11)+"</a></div>");j("#fc_msg_to").html("");by=(a?a:'0');if(dE==1){fc_chat.filt(1)}by=dW='0';hd=(T==1?1:0)};var ng=function(a){return'onmouseover="fc_chat.overUser(this)" onmouseout="fc_chat.offUser(this)" onclick="fc_chat.talk('+a+',1)"'};this.overUser=function(a){a.style.backgroundColor=ed.select_user.over_color};this.offUser=function(a){if(a.className.split(" ")[0].substr(6)==cD){a.style.backgroundColor=ed.select_user.selected_color}else{a.style.backgroundColor=ed.select_user.off_color}};this.talk=function(a,b,c){if(!t&&a!=k.uid){var g=[l("fc_t5"),l("fc_t4"),l("fc_t3")];iO(a,0,1);if(a!=cD){if(k.cU!='0'){j(g).find("div.fc_usr"+k.cU).css("background-color",ed.select_user.off_color)}j(g).find("div.fc_usr"+a).css("background-color",ed.select_user.selected_color);kN(a);cD=a;k.cU=a;lq(c)}else if(b){j(g).find("div.fc_usr"+k.cU).css("background-color",ed.select_user.off_color);iQ(1)}else{lq(c)}if(hD==1){this.filt(1,1)}}};var lq=function(a){if(W['u1'])W['u1'].hide();if(!cO&&!a){gR(ef);if(j("#fc_chatrooms").css("display")==F||j("#fc_page_discussion_dialog").css("display")==F){fg();j("#fc_friendslist").css("display",F);fO=1}if(!dY)fc_chat.close_boxes();j("#fc_quickchat").css("display",F);cO=1;hz()}if(!a){l('fc_uChat2').focus()}};var kN=function(a){j('a.fc_share2').css({"opacity":.4,"cursor":"default"}).attr({"href":"javascript:void(0)"});if((h.o[a]!='1'&&bj(a))||!bY(a)){j("#fc_to_label").html(i(276,'To')+": "+h.snm[a]+' <i style="'+C.new_messages_box.text.offline_css+'">'+i(431,'Not Available')+'</i>');j('#fc_uChat2').html("")[0].disabled=true}else{if(h.o[a]=='1'){j("#fc_to_label").html(i(276,'To')+": "+h.snm[a]);j('#fc_uwhiteboard2').attr({"href":"javascript:fc_chat.wb()"});if(n.allow_games){j('#fc_ugame2').attr({"href":"javascript:fc_chat.m_games()"})}j('#fc_unote2').attr({"href":"javascript:fc_chat.note(2)"});j('#fc_utrlit2').attr({"href":"javascript:fc_chat.open_trlit()"});j('#fc_udoc2').attr({"href":"javascript:fc_chat.doc()"});if(fc_chat.vidAcc%2!=0){j('#fc_uvid2').attr({"href":"javascript:fc_chat.launchVideoChat(0,"+a+")"})}j('a.fc_share2').css({"opacity":1,"cursor":"pointer"})}else{if(jGo.browser.browser=="Explorer"){setTimeout("fc_chat.ie9idiotbrowserfixtolabel("+a+")",200)}else{j("#fc_to_label").html(i(276,'To')+": "+h.snm[a]+' <i style="'+C.new_messages_box.text.offline_css+'">'+i(368,'Offline')+'</i>')}}j('#fc_bld2').attr({"href":"javascript:fc_chat.insertTags(\'"+i(37)+"\',\'"+i(37)+"\',\' "+i(23)+" \',3);"}).css({"opacity":1,"cursor":"pointer"});j('#fc_it2').attr({"href":"javascript:fc_chat.insertTags(\'"+i(38)+"\',\'"+i(38)+"\',\' "+i(24)+" \',3);"}).css({"opacity":1,"cursor":"pointer"});j('#fc_uln2').attr({"href":"javascript:fc_chat.insertTags(\'"+i(39)+"\',\'"+i(39)+"\',\' "+i(25)+" \',3);"}).css({"opacity":1,"cursor":"pointer"});j('#fc_img2').attr({"href":"javascript:fc_chat.insertTags(\'[[\',\']]\',\'"+i(36)+"\',3);"}).css({"opacity":1,"cursor":"pointer"});j('#fc_e_sml2').attr({"href":"javascript:fc_chat.tgl_tools(0,"+E.tools_panel.smileys.width+","+E.tools_panel.smileys.height+",3)"}).css({"opacity":1,"cursor":"pointer"});l('fc_uChat2').disabled=false}};this.ie9idiotbrowserfixtolabel=function(a){j("#fc_to_label").html(i(276,'To')+": "+h.snm[a]+' <i style="'+C.new_messages_box.text.offline_css+'">'+i(368,'Offline')+'</i>')};var iQ=function(a){var b='';if(a){cD=-1;k.cU=-1;j("#fc_to_label").html(i(276,'To')+": ");j('#fc_uChat2').html("")[0].disabled=true}else if(bj(cD)||!bY(cD)){j("#fc_to_label").html(i(276,'To')+": "+h.snm[cD]+' <i style="'+C.new_messages_box.text.offline_css+'">'+i(431,'Not Available')+'</i>');j('#fc_uChat2').html("")[0].disabled=true}else if(h.o[cD]!='1'){b=':not(a.fc_sh3)';j("#fc_to_label").html(i(276,'To')+": "+h.snm[cD]+' <i style="'+C.new_messages_box.text.offline_css+'">'+i(368,'Offline')+'</i>')}j('a.fc_share2'+b).css({"opacity":.4,"cursor":"default"}).attr({"href":"javascript:void(0)"})};this.clr_tlk=function(){j("div.fc_tlk_cont:visible").each(function(){var a=jGo.$(this).attr("class").split(" ")[0].substr(6);if(a!=k.uid){bX--}jGo.$(this).remove();dT--});dT=Math.max(0,dT);bX=Math.max(0,bX);hA()};var lk=function(){var a=i(29);val=(n.change_avatar?"<a id='fc_avu' style='margin-left:.167em;' "+bc+"launch_avatar()'><img style='height:1.333em;' title='"+a+"'src='"+V+"add_avatar.png'></a>":"");j("span.fc_quick_chat_name").html("<b>"+ek((screen_name?screen_name:cs(n.session_cookie).split('>')[1]),'')+"</b>.&nbsp;"+(eD?"&nbsp;<a style='"+C.online_box.text.css+C.online_box.greeting_box_link+"' HREF='javascript:void(0)' onclick='return fc_chat.sign_in()'>"+i(342,'Change name')+"</a>":val));j("span.fc_quick_chat_signin").html((eD?"&nbsp;<a style='"+C.online_box.text.css+C.online_box.greeting_box_link+"' HREF='javascript:void(0)' onclick='return fc_chat.sign_in()'>"+i(342,'Change name')+"</a>":val))};this.setPng=function(){br=new Date().getTime()};this.setL=function(a){t=a};function nw(){this.id=[];this.nm=[];this.snm=[];this.at=[];this.o=[];this.ac=[];this.d=[];this.g=[];this.t=[];this.cc=[];this.ty=[];this.idl=[];this.pr=[];this.pro=[];this.ttl=[];this.ttlo=[];this.nk=[];this.nko=[];this.tag=[];this.tago=[];this.av=[];this.avo=[];this.acl=[];this.vsp=[];this.vcu=[];this.vs=[];this.vso=[];this.vsw=[];this.wl=[];this.vsw2=[];this.wl2=[];this.b=[];this.bg=[];this.bs=[];this.ge=[];this.gpe=[];this.pe=[];this.ppe=[];this.de=[];this.gre=[];this.pve=[];this.msgC=[];this.msgB=[];this.pge=[];this.ife=[];this.s=[];this.u=[];this.of=[];this.nw=[];this.pt=[];this.pid=[]};this.try_connection=function(){return S.jsGetConnect()};this.jsTestConnection=function(){try{if(S.jsGetConnect()=='1'){var a=new Date().getTime();if((a-br)>30000){if(gW==dr&&gX==ds){u='000016'}else{u='00001R'}gW=dr;gX=ds;try{S.jsSendData(u);br=new Date().getTime()}catch(err){this.jsOnClose()}}fy=setTimeout('fc_chat.jsTestConnection()',3000)}else{ja()}}catch(err){dR(i(104));gF(0);gU=1;this.opfxLoader()}};this.jsOnSuccess=function(){hX=1;fy=setTimeout('fc_chat.jsTestConnection()',3000)};this.jsOnFailure=function(){ja()};this.jsOnClose=function(){if(!fc_chat.firstUpdateProcessed){iy=true;if(iy){J(i(347,"Could not log you in. Please exit the adminstration panel and sign in to the chat again."))}}ja()};var lr;this.stop=function(){clearTimeout(lr);fc_chat.connectionLost(i(96))};function ja(){t=true;clearTimeout(fy);var a=(fQ==-1&&!iy);var b=(a?i(414,"Connection lost... Trying again in 5 secs. <a "+bc+"stop()'>Stop</a>"):i(96));if(fQ==1)b=i(441,"Sorry, you have been booted.");if(fQ==2)b=i(442,"Sorry, you have been banned for 30 min.");fc_chat.connectionLost(b,a||fQ>0);if(a){lr=setTimeout('fc_chat.reqRecon()',5000)}fQ=-1};var nx=function(a){fQ=a;u='00001[';bd(1)};this.closeRoom=function(){if(bn=='1'){fc_chat.closeVid();J(i(98));eK={typ:1,index:0,id:null,elem:null};fc_chat.c_g2('0')}else{bg=0}};this.connectionLost=function(a,b){var c=i(104);dR((b?a:c));fc_chat.close_boxes(1);fc_chat.lockAdmin();fc_chat.closeVid();gF(0);if(bn==1){fc_chat.prepare_disabled_mode();bo[B]='';cY(dC,'0');ls(a);ea=0}jGo.hooks.doHooks('fcchat_disable_toolbar_fn')};var fQ=-1;this.jsOnData=function(a){t=true;if(a.charAt(0)=='Q'){var b=a.substr(1);nx(b)}else{if(gW==dr&&gX==ds){br=new Date().getTime()}mO(a);fc_chat.firstUpdateProcessed=true;if(fr){fT=1;if(bn==1){ge=true;iW();fc_chat.open_chat_box();ge=false}fr=false}}};var ne=function(){var a=1;if(!eD){a=2};if(lT){a=3};ct(a,14)};function lt(){if(n.flashEnabled){if(navigator.appName.indexOf("Microsoft")>-1){S=window['fc_movie']}else{S=document['fc_movie']}if(S&&S.length){S=S[0]}}else if(n.websocketEnabled){S=jGo.fcchat_webSocket}else{ib=true}};function kf(a){if(navigator.appName.indexOf("Microsoft")>-1){return window[a+'Object']}else if(document.getElementById){var b=a+'Embed';return document.getElementById(b)}else{return null}};function hT(){if(n.flashEnabled){l('fc_flaToggle')[B]='';l('fc_flaToggle')[B]=fc_tag.toString()}else{if(S&&S.socket){S.jsCloseConnection();S.socket=null}}};this.begCon=function(){lR=false;try{if(!S.beginConnect||ib){fc_chat.rtryCon();return false}S.beginConnect(ia,n.host,n.port,n.policy_port,1);if(gd>0){gd=0;gD()}}catch(err){fc_chat.rtryCon()}};this.rtryCon=function(){if(gd<=n.retry[0]&&!ib){gd++;if(n.retry[2])dR('<b>&nbsp;'+i(105)+' '+gd+'</b>');hT();lt();if(l('fc_opimg')){l('fc_opimg')[B]='<img src="javascript:location.href=\'javascript:fc_chat.opfxLoader();\';" style="position:absolute;left:-100px">'}setTimeout('fc_chat.begCon()',n.retry[1])}else{connnectionAttempt=0;fc_chat.connectionLost('<b>&nbsp;'+i(106)+'</b>',1)}};this.riniCon=function(){hT();if(fT==1||cs(n.user_cookie)=="-1"){fm=1;this.opfxLoader()}else{this.loader()}gD();j(".fc_ob").html(fc_chat.toggle_btn(1,0))};this.reqRecon=function(){cY(dC,'0');cY(fk,'1');ea=0;dD=1;fc_chat.firstUpdateProcessed=false;if(bn==0){fc_chat.riniCon()}else{fc_chat.reconnect()}};this.reconnect=function(){hM(.25);fr=true;fm=1;gU=1;if(cr&&bn==1){bo.style.display=y;bH.style.display=y;bQ.style.display=y;bR.style.display=y;bA.style.display=y}fc_chat.opfxLoader();eL[B]='<div style="'+bw+'width:'+bx+'px">'+gE(i(120),1)+'</div>';gD()};this.closeChat=function(){if(k.m==1){t=false;setTimeout("fc_chat.open_chat_box()",1500)}else{jb();bn=0}};this.unPause=function(){cY(dC,'0');ea=0;dD=(dD==1?0:1);fc_chat.toggle_on()};this.toggle_on=function(){if(dD==1){dD=0;fc_chat.lockAdmin();l('searchframe').innerHTML="";l('userframe').innerHTML="";clearTimeout(fy);try{S.jsCloseConnection()}catch(e){}j(".fc_ob1").html(fc_chat.toggle_btn(0,0));j(".fc_ob").html(fc_chat.toggle_btn(1,0))}else{dD=1;j(".fc_ob").html(fc_chat.toggle_btn(2,0))}var a=bv+'ToggleChat.asp';setTimeout("fc_chat.toggle_delay()",500)};this.toggle_delay=function(){if(dD==1){cY(fk,"1");fc_chat.riniCon()}else if(dD==0){cY(fk,"0");t=true;j(".fc_ob").html(fc_chat.toggle_btn(2,1));dR(i(102));gF(0);fc_chat.close_boxes(1)}};this.showUP=function(a){if(!t){if(bn=='1'||k.m==1){if(eb!=4||eF.u!=a){eb=1;if(!bj(a)){fc_ex.showUP(eF,a,S,fv)}eF.u=a}this.createTopIFrame(bv+"html/Profile.html?u="+ny(a)+'&dummy=true',4,0);return false}else{return true}}return false};this.createUP=function(a,b){return fc_ex.createUP(eF,a,b,S,fv)};this.loadUP=function(a,b){return fc_ex.loadUP(eF,a,b)};var fK=function(a){var b="display:none'>";if(h.pr[a]=='1'){b=bz+"'><span style='"+bk.profile_star.css+"'>&#42;</span>"}return"<span unselectable='on' class='fc_prast"+a+"' style='cursor:default;"+b+"</span>"};var fd=function(a,b,c){var g="display:none;'></span>";if(h.ttl[a]!=''){g=(c||hb)+";margin-left:"+(b?"0em;margin-right:1.25em;":"0em;")+"margin-top:.167em;cursor:default;font-style:italic;font-weight:bold' >"+h.ttl[a]+"</span>"}return"<span unselectable='on' class='fc_ttl"+a+"' style='"+g};var gP=function(a){return(by==a?"<div class='fc_current_chatee' unselectable='on' style='cursor:default;margin-left:3px;font-style:italic;"+hb+"'>"+i(430,"Selected for chat")+"</div>":"")};function ny(a){var b=n.avatars_dir+'default.gif';var c=0;var g=0;if(h.av[a]!=''){b=h.av[a];b=(b.indexOf('/')==0)?b.substr(1):n.avatars_dir+b}b=(b.indexOf('./')==0)?'./../../'+b.substr(2):b;if(bj(a)){c=1}if(X!='0'&&c==0){g=1}return a+'&nm='+encodeURIComponent(h.nm[a])+'&g='+c+'&own='+g+'&loc='+encodeURIComponent(b.replace(/http/g,'||protocol||').replace(/\./g,'||period||'))};var bj=function(a){return(h.at[a]==''&&(h.nm[a].substr(0,i(1).length)==i(1)||h.nm[a].indexOf('('+i(1))!=-1))};this.toggleDTM=function(a){if(!t){if(a==0){ct(y,0);fS=0;dF='display:'+y}else{ct(bD,0);fS=1;dF='display:inline'}}};this.createTopIFrame=function(a,b,c){if(!fi||!document.createElement){return false};if(b==eb){eb=1;this.rem();return false}eb=b;if(k.m==1&&c==0){a+='&target=1'}if(!k.IFO&&document.createElement){k.tIF=fc_ex.createIF(0,P,jF,c,hr);k.IFO=(hr?document.body.appendChild(k.tIF):N.appendChild(k.tIF));if(document.frames){k.IFO=document.frames['fc_UPIFrame']}}else{if(c==0){k.tIF.style.display=F}}if(hr){fc_ex.i_tIF(k.tIF,N)}if(navigator.userAgent.indexOf('Gecko')!=-1&&!k.IFO.contentDocument){setTimeout('fc_chat.createTopIFrame('+a+','+b+','+c+')',10);return false}if(k.IFO.contentDocument){dg=k.IFO.contentDocument}else if(k.IFO.contentWindow){dg=k.IFO.contentWindow.document}else if(k.IFO.document){dg=k.IFO.document}else{return false}dg.location.replace(a);if(c==0){jc(y,F)}return false};this.createMainIFrame=function(a){if(!fi||!document.createElement){return false};var b=window.location.href;if(b.indexOf('?')>=1){b+=''}else{b+='?d=true'}var c=eH()+'px';var g=R(N.style.height);if(!cg&&document.createElement){k.tempIFrame=fc_ex.createIF(1,P,null,null,bb);k.tempIFrame.style.width=a+'px';k.tempIFrame.style.height=c;cg=document.body.appendChild(k.tempIFrame);k.odiv=document.createElement('div');k.odiv.className="jGo_app jGo_myapp";k.odiv.style.width=a+'px';k.odiv.style.height=c;k.odiv.style.position='absolute';k.odiv.style.top='0px';k.odiv.style.left='0px';k.odiv.style.zIndex=P+600;k.odiv.style.display=y;document.body.appendChild(k.odiv);if(document.frames){cg=document.frames['fc_RSIFrame']}}else{k.tempIFrame.style.width=a+'px';k.odiv.style.width=a+'px';k.tempIFrame.style.height=c;k.odiv.style.height=c}k.tempIFrame.style.display=F;if(navigator.userAgent.indexOf('Gecko')!=-1&&!cg.contentDocument){setTimeout('fc_chat.createMainIFrame('+a+')',10);return false}if(cg.contentDocument){cW=cg.contentDocument}else if(cg.contentWindow){cW=cg.contentWindow.document}else if(cg.document){cW=cg.document}else{return false}cW.location.replace(b);return false};this.getIFrameDoc=function(){return cW};function lg(){try{if(k.IFO.contentDocument){dg=k.IFO.contentDocument}else if(k.IFO.contentWindow){dg=k.IFO.contentWindow.document}else if(k.IFO.document){dg=k.IFO.document}else{dg=null;return false}}catch(err){dg=null;return false}return false};function nz(){try{if(cg.contentDocument){cW=cg.contentDocument}else if(cg.contentWindow){cW=cg.contentWindow.document}else if(cg.document){cW=cg.document}else{cW=null;return false}}catch(err){cW=null;return false}return false};this.breakOut=function(){if(!t){for(var a in h.ife){if(h.ife.hasOwnProperty(a)){delete h.ife[a]}}nz();var b=bv+"html/BreakOut.html";cW.location.replace(b)}return false};this.home=function(){if(!t){var a=l('fc_RSIFrame');a.parentNode.removeChild(a);cg=null;var b=fs();this.createMainIFrame(R(N.style.left)-1)}return false};this.rem=function(a){if(!t){if(a==1){lf()}else{if(k.IFO==null){fc_chat.tgl_info_panel()}else{var b=l('fc_UPIFrame');eb=1;if(k.sI==0)jc(F,y);k.IFO=null;b.parentNode.removeChild(b);if(jL){}}}}};var kX=function(){var a=t;t=false;if(k.IFO!=null){k.rem()}if(k.sI==1){k.rem()}t=a};var jc=function(a,b){j('#fc_gco').css("display",a);j('#fc_bck').css("display",b)};this.btr=jc;this.getTagString=function(){return fc_tag.toString()};this.getMode=function(){return k.m};this.get_ie_offset=function(){var a=0;if(jGo.browser.browser=="Explorer"){a=1}if(jGo.browser.browser=="Safari"){a=-1}return a};var mM=function(a,b){if(a){cr=true}if(b){eQ=true}};var hE=0;this.fade_new_msgs=function(){if(hE<11){hE++;j("span.fc_nm_count").fadeTo('fast',(hE%2==0?.10:1),fc_chat.fade_new_msgs)}};this.sendOnEnter=function(a,b,c){var g;if(window.event)g=window.event.keyCode;else if(c)g=c.which;else return true;if(g==13){fc_chat[b].apply(this,arguments);return false}else return true};var lu=1;var lv=false;var lw=0;var jd=function(){clearTimeout(lw);lw=setTimeout(function(){fc_chat.banner_resize()},300)};var je=function(){var a=document.createElement("div");a.style.cssText="position: fixed;top: 0;left: 0;bottom: 0;right: 0;";document.documentElement.insertBefore(a,document.documentElement.firstChild);var b={width:a.offsetWidth,height:a.offsetHeight};document.documentElement.removeChild(a);return b};this.banner_resize=function(){var a=window.orientation;var b=je().width;var c=1;if(a){if(Math.abs(a)==90){b=je().height*.8;c=1/.8}}lu=.9375*je().width/300;width=b*n.mobile_banner_scale_factor;j('.jGo_app.jGo_myapp .fc_d5 *').css('font-size',Math.round(width*c/14)+'px');j('.jGo_app.jGo_myapp .fc_d5 span.fc_info_text').css('font-size',Math.round(width*c/30)+'px');j('#fc_t1a,#fc_topbanner').css({'height':Math.round(width*c/6)+'px','line-height':Math.round(width*c/6)+'px'});j('#fc_banner,#fc_toolbar').css('height',Math.round(width*c/6)+'px');j('#fc_banner_status_text, #fc_banner_status_text b, #fc_banner_status_text a, #fc_banner_status_text span,#fc_banner_status_text font,#fc_banner_status_text i').css('font-size',Math.round(width*c/30)+'px');if(!lv)j('#fc_banner,#fc_toolbar').css('display',F)};this.banner_hide=function(){j('#fc_banner,#fc_toolbar').css('display',y)};this.tgl_banner_events=function(b){j(window)[b]('resize',jd);j("body")[b]("touchend",jd);j("body")[b]("gestureend",jd);j("body")[b]("gesturestart",fc_chat.banner_hide);j(document).on('focus','input.fc_input',function(a){fc_chat.banner_hide()}).on('blur','input.fc_input',function(a){jGo.$(this).attr('disabled',true);fc_chat.banner_resize();setTimeout('fc_chat.enable_input("'+jGo.$(this).attr('id')+'")',300)})};this.enable_input=function(a){jGo.$('#'+a).attr('disabled',false)};this.rescale=function(){if(U.config.layout==2){var a=Math.round(lu*12);jGo._['scalefactor']=a/12;jGo.$('.jGo_app.jGo_myapp.jGo_em').css({'font-size':a+'px'})}};this.writeBox=function(){var d='';var f=C.control;var o=C.control.buttons;var m=C.control.info_box;var s=C.new_messages_box.text;var r=C.friends_box.text;var z=C.online_box.text;var A=C.chatrooms_box.text;var q=(fc_chat.vidAcc%2!=0?'':' '+i(32));var x=fc_chat.get_ie_offset();var H="width:1.333em;height:1.333em;";var K=E.widgets.text_icon_css;var L=eR+"cursor:default;margin-right:.167em";var O="float:right;margin-right:7px;"+A.link_css+";text-decoration:none;font-weight:bold;font-stretch:wider;";try{j('#fc_alertbox').remove();j('#fc_chatrooms').remove();j('#fc_onlinelist').remove();j('#fc_quickchat').remove();j('#fc_friendslist').remove();j('#fc_toolbar').remove();j('div.jGo_dialog').remove();if(k.infobox){k.infobox.remove();k.infobox.destroy()};if(k.nickBox){k.nickBox.remove();k.nickBox.destroy()}}catch(e){};var I=function(){return"<tr><td width="+jx+" style='width:"+(jx/12)+"em;padding:.083em'><br><div class='fc_lb_text' style='font-weight:bold'><img style='height:2.667em;vertical-align: middle; margin-bottom: .25em' src='"+V+"facebook_32.png' border=0>&nbsp;&nbsp;"+i(353,"Or...Use your Facebook account...")+" </div><div id='fc_fb_login'></div></td></tr>"};d="<div class='fc_controlbox' style='position:absolute;width: "+(bl?'10':f.width)+"px;height: "+f.height+"px;top:0px;left:0px;display: "+(n.control_visible?F:y)+";"+f.css+";z-index: "+(n.is_drupal?0:(P+99))+"'><IMG SRC='"+hV+"' id='fc_logo' border=0 height=16px style='position:absolute;top:"+f.logo.top+"px;left:"+f.logo.left+"px;"+f.logo.css+";height:16px;"+hk+"'><div id='fc_topband' style='position:absolute;top:"+f.title_box.top+"px;left:"+f.title_box.left+"px;width:"+f.title_box.width+"px;height:"+f.title_box.height+"px;"+f.title_box.css+"; z-index:"+(P+100)+";overflow:hidden;'><div id='fc_topband_inner' style='margin-left: 1px;padding:3px 2px 2px 2px;line-height:160%;"+f.title_box.text.css+"'>"+n.widget_title+"&nbsp;&nbsp;<img class='fc_status_bullet' align=absmiddle style='padding-bottom:3px;"+f.status.css+"' src='"+V+"bullet_yellow.png'></div></div><div id='fc_control_buttons' class='fc_d4' style='position:absolute;display: block;text-align:left;top:"+f.buttons.top+"px;left:"+f.buttons.left+"px;width:"+f.buttons.width+"px;height:"+f.buttons.height+"px;z-index:"+(P+103)+";overflow:hidden;'><div id='fc_control_buttons_inner' style='margin-left: 1px;padding:3px 2px 2px 2px;line-height:160%'><span class='fc_ob1' id='fc_ob1a' style='"+f.buttons.full_page_button.css+";z-index: "+(P+102)+";' ><span class='fc_abbtn' ><a onclick='fc_chat.openPopup();' target=_blank href='"+eu+"' >"+gm+"</a></span></span><span class='fc_ob' style='"+f.buttons.on_off_button.css+";z-index: "+(P+102)+";'><span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+this.obtn+"</a></span></span></div></div><div id='fc_sChat' class='fc_d4' style='position:absolute;display: block;text-align:left;width: "+m.width+"px;height: "+(m.height+x)+"px; top: "+m.top+"px; left: "+m.left+"px;"+f.info_box.css+"; z-index:"+(P+103)+";overflow:hidden;'><div class='fc_t1' id='fc_t1' style='margin-left: 1px;padding:3px 2px 2px 2px;line-height:160%'>"+((!n.require_login||k.inSession==1)&&jGo.cookie.getCookie('fc_tglChat')!='0'&&jGo.cookie.getCookie('fc_pauseChat')!='1'?kC('..',1):eX)+"</div></div></div><div class='jGo_app jGo_myapp jGo_em jGo_dialog' id='fc_chatrooms' style='position:absolute;display: none;visibility: visible;"+C.chatrooms_box.css+";text-align:left;width: "+(C.chatrooms_box.width/12)+"em;height:"+(C.chatrooms_box.height/12)+"em; top: "+C.new_messages_box.top+"em; left:"+(C.new_messages_box.width+C.new_messages_box.toolbar_offset+7)+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'><div id='fc_chatrooms_title' style='position:absolute;width:"+(C.chatrooms_box.width/12)+"em;"+C.chatrooms_box.title_box_css+";overflow:hidden'><div style='padding:.583em;'><a style='"+O+"' "+bc+"tgl_chatrooms()'>x</a><span style='"+A.title_css+"'>"+i(405,'Chat Rooms')+"</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span id='fc_exit_room' style='"+A.link_css+";"+A.disabled_css+"'>"+i(400,'Exit Current Room')+"</span></div></div><div class='fc_d7' id='fc_view_chatrooms' style='position:absolute;width:"+(C.chatrooms_box.width/12)+"em;"+C.chatrooms_box.list_box_css+";overflow:auto'><div class='fc_roomlist0' id='fc_t6' style='padding:.25em;overflow:auto;line-height:120%'>&nbsp;&nbsp;"+i(293,'Please wait')+"</div></div></div><div class='jGo_app jGo_myapp jGo_em fc_tldialog' id='fc_onlinelist' style='position:absolute;display: none;visibility: visible;"+C.online_box.css+";text-align:left;width: "+(C.online_box.width/12)+"em;height:"+(C.online_box.height/12)+"em; top: "+C.new_messages_box.top+"px; left:"+(C.new_messages_box.width+C.new_messages_box.toolbar_offset+7)+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'><div id='fc_onlinelist_title' style='position:absolute;width:"+(C.online_box.width/12)+"em;"+C.online_box.title_box_css+";overflow:hidden'><div style='padding:.583em;'><a style='"+O+"' "+bc+"tgl_online()'>x</a><span style='"+z.title_css+"'>"+i(294,'Who\'s Online')+"</span></div></div><div id='fc_onlinelist_greeting' style='position:absolute;width:"+(C.online_box.width/12)+"em;"+C.online_box.greeting_box_css+";overflow:hidden'><div style='padding:.25em;"+z.css+z.info+"'>"+i(275,'You are currently chatting as ')+"<span style='"+z.css+"' class='fc_quick_chat_name'></span>&nbsp;</div></div><div class='fc_d7' id='fc_view_online' style='position:absolute;width:"+(C.online_box.width/12)+"em;"+C.online_box.list_box_css+";overflow:auto'><div id='fc_t4' style='padding:.25em;overflow:auto;line-height:120%'>&nbsp;"+i(293,'Please wait')+"</div></div><div id='fc_online_info' style='position:absolute;width:"+(C.online_box.width/12)+"em;"+C.online_box.info_box_css+";overflow:hidden'><div style='padding:.333em'><span id='fc_online_label' style='line-height:120%;"+z.css+z.info+"'>"+i(292,'<u>Underlined Users</u> are available for chat.<br>Click +/- to add/remove friends. Click name to chat.')+"</span></div></div></div><div class='jGo_app jGo_myapp jGo_em fc_tldialog' id='fc_quickchat' style='position:absolute;display: none;visibility: visible;"+C.new_messages_box.css+";text-align:left;width: "+(C.new_messages_box.width/12)+"em;height:"+(C.new_messages_box.height/12)+"em; top: "+C.new_messages_box.top+"px; left: "+C.new_messages_box.toolbar_offset+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'><div id='fc_quickchat_title' style='position:absolute;width:"+(C.new_messages_box.width/12)+"em;"+C.new_messages_box.title_box_css+";overflow:hidden'><div style='padding:.583em;'><a style='"+O+"' "+bc+"tgl_messages()'>x</a><span style='"+s.title_css+"'>"+i(272,'New Messages')+"</span>&nbsp;&nbsp;&nbsp;<span id='fc_talk_filter'><a style='"+s.link_css+"' "+bc+"filt(1,1)'>"+i(427,'Filter Off')+"</a></span>&nbsp;&nbsp;<a style='"+s.link_css+"' "+bc+"clr_tlk()'>"+i(273,'Clear')+"</a></div></div><div id='fc_quickchat_greeting' style='position:absolute;width:"+(C.new_messages_box.width/12)+"em;"+C.new_messages_box.greeting_box_css+";overflow:hidden'><div style='padding:.25em;"+s.css+"'><span style='"+C.online_box.text.css+"' class='fc_quick_chat_signin'></span>"+(!bl?"&nbsp;&nbsp;<a style='"+C.online_box.text.css+C.online_box.greeting_box_link+"' class='fc_grpt0 fc_grp"+ec+"' id='fc_open_full_chat' "+(open_chatrooms_in_window?"onclick='fc_chat.openPopup();' target=_blank href='"+eu+"'":"href='javascript:void(0)' onclick='fc_chat.tgl_full_chat(this);return false;'")+">"+(T==1?i(415,'Open Your messages inbox.'):i(416,'Open Full Chat'))+"</a>":"")+"<img style='visibility:hidden;height:1em;width:.083em' src='"+V+"trans.gif'><div id='fc_conv_selector' style='padding-top:.167em;"+s.css+s.info+"'>"+i(425,'All Conversations')+":</div></div></div><div class='fc_d6' id='fc_view_msgs' style='position:absolute;width:"+(C.new_messages_box.width/12)+"em;"+C.new_messages_box.view_msg_box_css+"overflow:auto'><div id='fc_t2' style='padding:.25em;overflow:auto;line-height:1'><div class='fc_tlk0 fc_tlk_cont' style='"+s.info+"'>"+i(277,'You have no new messages.')+"</div></div></div><div id='fc_send_msgs' style='position:absolute;width:"+(C.new_messages_box.width/12)+"em;"+C.new_messages_box.send_msg_box_css+";overflow:hidden'><div style='padding:.333em'>&nbsp;<span style='"+s.css+"' id='fc_to_label'>"+i(276,'To')+":</span><div style='height:1.333em;margin-left:.167em;padding:.167em'><a class='fc_share2 fc_sh3' id='fc_bld2' href='javascript:void(0)' style='"+L+"'><img title='"+i(23)+"' style='"+H+K+"' id='fc_e_bld' src='"+V+"text_bold.png'></a><a class='fc_share2  fc_sh3' id='fc_it2' href='javascript:void(0)' style='"+L+"'><img title='"+i(24)+"' style='"+H+K+"' id='fc_e_it' src='"+V+"text_italic.png'></a><a class='fc_share2  fc_sh3' id='fc_uln2' href='javascript:void(0)' style='"+L+"'><img title='"+i(25)+"' style='"+H+K+"' id='fc_e_uln' src='"+V+"text_underline.png'></a><a class='fc_share2  fc_sh3' id='fc_img2' href='javascript:void(0)' style='"+L+"'><img style='"+H+"' title='"+i(26)+"' id='fc_e_img' src='"+V+"image_1.png'></a><a class='fc_share2 fc_sh3 fc_tools_a' id='fc_e_sml2' href='javascript:void(0)' style='"+L+"'><img style='"+H+"' id='fc_e_sml2a' src='"+V+"emoticon_smile.png'></a><a class='fc_share2' title='"+i(296,"Send a doodle.")+"' id='fc_unote2' href='javascript:void(0)' style='"+eR+"cursor:default'><img style='"+H+"' src='"+V+"pencil.png'></a>"+(n.transliteration_enabled?"<a class='fc_share2' title='"+i(304,"Type in your language")+"' id='fc_utrlit2' href='javascript:void(0)' style='"+eR+"cursor:default;'><img style='"+H+"' src='"+V+"google_transliteration.png'></a>":"")+"<a class='fc_share2' title='"+i(311,"Share a document")+"' id='fc_udoc2' href='javascript:void(0)' style='"+eR+"margin-left:.083em;cursor:default'><img style='"+H+"' src='"+V+"document.png'></a><a class='fc_share"+(fc_chat.vidAcc%2!=0?'2':'dis')+"' title='"+i(319,"Private Video Chat")+q+"' id='fc_uvid2' href='javascript:void(0)' style='"+eR+"margin-left:.083em;cursor:default'><img style='"+H+"' src='"+V+"webcam.png'></a>"+(n.allow_games?"<a class='fc_share2' title='"+i(330,"Invite to play a game.")+"' id='fc_ugame2' href='javascript:void(0)' style='"+eR+"margin-left:.083em;cursor:default'><img style='"+H+"' src='"+V+"playing_card.png'></a>":"")+"</div> <input id='fc_uChat2' class='fc_input' disabled onKeyPress='"+fW+"oKD(event)' onKeyDown='"+fW+"oKD2(event)' type=text style='"+C.new_messages_box.input_css+"width:"+((C.new_messages_box.width-(bb?30:20))/(bb?16:12))+"em !important'><br></div></div></div><div class='jGo_app jGo_myapp jGo_em fc_tldialog' id='fc_friendslist' style='position:absolute;display: none;visibility: visible;"+C.friends_box.css+";text-align:left;width: "+(C.friends_box.width/12)+"em;height:"+(C.friends_box.height/12)+"em; top: "+C.new_messages_box.top+"px; left:"+(C.new_messages_box.width+C.new_messages_box.toolbar_offset+7)+"px; z-index:"+(jGo.config.max_z_index-100)+";overflow:hidden;'><div id='fc_friendslist_title' style='position:absolute;width:"+(C.friends_box.width/12)+"em;"+C.friends_box.title_box_css+";overflow:hidden'><div style='padding:.583em;'><a style='"+O+"' "+bc+"tgl_friends()'>x</a><span style='"+r.title_css+"'>"+i(283,'Friends')+"</span></div></div><div id='fc_friends_greeting' style='position:absolute;width:"+(C.friends_box.width/12)+"em;"+C.friends_box.greeting_box_css+";overflow:hidden'><div style='padding:.25em;'><span style='"+r.css+"' class='fc_contacts_links'>"+hS()+"</span><img style='height:1.333em;visibility:hidden' src='"+V+"add_avatar.png'><div id='fc_contact_selector' style='padding-top:.167em;"+r.css+r.info+"'>"+iZ()+"</div></div></div><div class='fc_d7' id='fc_view_friends' style='position:absolute;width:"+(C.friends_box.width/12)+"em;"+C.friends_box.list_box_css+";overflow:auto'><div id='fc_t3' style='padding:.25em;overflow:auto;line-height:120%'></div></div><div id='fc_friends_info' style='position:absolute;width:"+(C.friends_box.width/12)+"em;"+C.friends_box.info_box_css+";overflow:hidden'><div style='padding:.333em'><span id='fc_friends_label' style='line-height:120%;"+r.css+r.info+"'>"+i(285,'<u>Underlined Users</u> are available for chat.<br>Click +/- to add/remove friends. Click name to chat.')+"</span></div></div></div>";d+="<div class='jGo_app jGo_myapp' id='fc_alertbox' style='display: none;visibility: visible; position: "+(Q||!n.pin_windows||!n.pinned_by_default?"absolute":"fixed")+"; width:"+i(0,0,'alert_dialog_width')+"px; height:100px;border:"+E.alert_panel.border+"; top: 0px; left: 0px; background-color: "+E.alert_panel.background_color+";z-index: "+(P+150)+";overflow:hidden;"+jp+"'><center><table cellpadding='3' style='padding:5px;margin-top:40px;margin-left:10px'><tr><td><div id='fc_alerttxt' style='"+E.alert_panel.text_css+"'>"+i(97)+"</div></td></tr></table></center></div>";if(!id){l('fastcatchatentry')[B]=d;}else{cq=document.createElement('div');cq.setAttribute('id','jGo_app');cq.className='jGo_myapp';cq.style.position='absolute';cq.style.width=(bl?10:f.width)+'px';cq.style.height=f.height+'px';cq.style.top=jm+'px';cq.style.left=ie+'px';cq.style.zIndex=P+200;cq.style.display=(n.control_visible?F:y);cq[B]=d;document.body.appendChild(cq);}jGo.fcchat_toolbar.friendscenter={};jGo.fcchat_toolbar.friendscenter.style={menu_item:{width:ca.width}};var bf=function(a,b,c){return"<div id='fc_toolbar_inner'><div id = 'fc_friendscenter_toolbar_item'><div class='fc_d5 "+(a||b?"fc_toolbar":"")+"' id='fc_facade'"+(a?"":"style='position:absolute;width:"+(ca.info_box.width+(b&&fp?k.chat_params.button_width:10))+"px;"+ca.info_box.css)+";text-align:left;z-index:"+(P+103)+";overflow:hidden;'>"+(a?"<div id='fc_topbanner' style='position:relative;float:right;'>"+(fp?"<span class='fc_disc_button'>"+U.chatbox.create_mobile_layout(bZ.id)+"</span>":"")+"&nbsp;<a style='text-decoration:none;' target=_blank href='"+eu+"?rmid="+(n.default_room_index+5)+"' onclick='fc_chat.openPopup()'><span class='fc_icon fc_icon-fullscreen'></span></a>&nbsp;<a class = 'fc_topbannerlink' id='fc_bannerlink2' style='text-decoration:none;' "+bc+"hideToolbar();'><span class='fc_icon fc_icon-close'></span></a>&nbsp;</div>":"")+(c?c:"")+"<div class='fc_t1' id='fc_t1a' style='"+(a?"height:"+jGo.fcchat_toolbar.style.height+"px;":"position:absolute;"+ca.info_box.css+";top:0px;left:"+(b&&fp?k.chat_params.button_width:10)+"px;width:"+ca.info_box.width+"px;padding-top:"+(ca.info_box.padding_top+x)+"px")+"'>"+((!n.require_login||k.inSession==1)&&jGo.cookie.getCookie('fc_tglChat')!='0'&&jGo.cookie.getCookie('fc_pauseChat')!='1'?kC('..'):"&nbsp;<span id='fc_banner_status_text'>"+eX+"</span>")+"</div></div></div></div>";};jGo.fcchat_toolbar.friendscenter.create=function(){return bf()+"<img class='fc_status_bullet' style='position:absolute;top:"+ca.status.top+"px;left:"+ca.status.left+"px;"+ca.status.css+"' src='"+V+"bullet_yellow.png'><img src='"+V+"trans.gif' style='position:absolute;top:"+ca.divider.top+"px;left:"+ca.divider.left+"px;"+ca.divider.css+"'><div class='fc_ob1' id='fc_ob1b' style='position: absolute;width:"+(ca.off_button.left-ca.open_chat_button.left)+"px;top: "+(ca.open_chat_button.top+x)+"px; left: "+ca.open_chat_button.left+"px;z-index: "+(P+102)+";' ><span class='fc_abbtn' ><a onclick='fc_chat.openPopup();' target=_blank href='"+eu+"' >"+gm+"</a></span></div><div class='fc_ob' style='position: absolute;top: "+(ca.off_button.top+x)+"px; left: "+(ca.off_button.left)+"px;z-index: "+(P+102)+";'><span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+fc_chat.obtn+"</a></span></div>";};jGo.fcchat_toolbar.style.icon_tray.restore.width+=i(0,0,"minimized_text_width_offset");bZ=U.control=k.createWidget('DefaultToolbar',[jGo.fcchat_toolbar,cw,U.config.position,i(290,"FriendCenter"),"friendscenter",(bl?0:jGo.toolbar_top),(bl?-2:jGo.toolbar_left),U.config.show,(U.config.layout==0&&jl==0),null,'fc_',(U.config.show&&cR==cS),U.config]);if(U.config.layout==2){bZ.frame.html(bf(1));fc_chat.banner_resize();}else if(U.config.mode==0){var bi='';if(fp)bi="<div class='"+bZ.app_prefix+"toolbar_item' id='"+bZ.app_prefix+"chatbox_toolbar_item' style='position:absolute;top:0px;left:0px'>"+U.chatbox.create('default_toolbar'+bZ.id)+"</div>";bZ.frame.html(bf(0,1,bi));}bZ.toggle_dialog=function(a,b,c,g){if(a.css("display")==y){fc_chat.close_boxes(null,1);}return this.getDefault().toggle_dialog.apply(this,arguments);};bZ.hide=function(){lv=true;fc_chat.close_boxes();this.getDefault().hide.call(this);};bZ.toggle=function(){this.getDefault().toggle.call(this);ct((this.minimized?'0':'1'),12);};bZ.reposition=function(){if(bb&&U.config.fixed==0){this.frame.css('width',jGo.$(document).width());}if(U.config.show&&!bb){if(k.tPC!=null&&k.tPC.style.position=='fixed')gx();if(!Q)fc_chat.close_boxes();if(k.m==0){this.getDefault().reposition.call(this);}}};k.toolbar=bZ;if(Q&&U.config.show&&cR==cS){setTimeout("fc_chat.toolbar.reposition()",2000);}if(bb)bZ.reposition();if(U.config.show&&!bl&&cR==cS){j(window).scroll(function(){if(bn==1&&k.m==0&&fc_ex&&fc_ex.toggleOpen){fc_ex.toggleOpen(M,cy);}});};for(var be=0;be<cw.length;be++){if(cw[be]!="friendscenter"){var bJ=U[cw[be]].create_dialogs();U[cw[be]].append_dialogs(bJ);}}if(U.config.layout==2){fc_chat.tgl_banner_events('on');}if(bb)j('input.fc_input').css({'font-size':'1.333em',height:'1.125em'});document.body.appendChild(j("#fc_chatrooms")[0]);document.body.appendChild(j("#fc_onlinelist")[0]);document.body.appendChild(j("#fc_quickchat")[0]);document.body.appendChild(j("#fc_friendslist")[0]);if(n.prompt_user){var bJ=U.prompt.create_dialogs();U.prompt.append_dialogs(bJ);}k.infobox=k.createWidget('InfoBox',[j(document.body),kr]);k.nickBox=k.createWidget('InfoBox',[j(document.body),gA,null,null,0]);if(n.require_login&&!jq&&cs(fk)!="0"&&cs(dC)!="1"){if(cs(n.user_cookie)=="-1"){j(".fc_ob").html(fc_chat.toggle_btn(1,1));}}};this.hideToolbar=function(){bZ.hide();};function nA(){eM=0;bg=0;du=0;hu=0;gH=0;gI=0;jf=0;this.monitor_state=0;this.page_manager_state=0;this.userlist_state=0;bX=0;dT=0;fB=0;mD=0;dQ=0;this.discC='..';eg=0;eO=0;this.transliterator=null;this.transliteration=[0];this.currlang=null;fU=1;db=false;bldCount=0;itCount=0;uCount=0;a=0;delete h;dH='';gY='0000';lD='';delete ck;ck={};co=0;fY=0;hs();delete cJ;cJ={};this.sI=0;if(!fr){bn=0;}bP=0;this.cU='0';by='0';cT='0';eN='0';cK=0;cb=0;Z[6]=0;Z[7]=0;cd[6]=0;cd[7]=0;G[0]='0';G[1]='0';G[2]='0';G[3]='0';G[4]='0';G[5]='0';G[6]='0';for(var a=0;a<50;a++){eh[a]=0}ba[1]=0;ba[2]=0;ba[3]=0;ba[4]=0;ba[5]=0;ba[6]=0;delete cc;cc=[];delete cA;cA=[];fV=false;delete cI;cI=[];cm=new Array(10);cE=n.show_guests;};function jb(){if(N!=null){if(!fr){if(M!=null){M.cN[0].style.display=y;M.frame[0].style.display=y;}iW();}nB();fb(1,6);fb(1,7);l('fc_del')[B]="<a id='fc_dela' "+bc+"deletePrivateMsgs();' onmouseover='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del2\"' onmouseout='getElementById(\"fc_e_del\").className=\"fc_e fc_e_del\"'><span class='fc_e fc_e_del' id='fc_e_del' title='"+i(21)+"' style='display: block;position:absolute;top:"+(fu)+"px;left:"+(i(0,0,'private_chat_width')+27)+"px;'></span></a>";bQ.style.display=y;eL.style.display=F;bR.style.display=y;bH.style.display=F;bA.style.display=y;j('#fc_top_info_inner').html('');}if(k.oD!=null){k.oD.style.display=y;if(Q){k.oIF.style.display=y;}}if(k.tPC!=null){k.tPC.style.display=y;if(Q){k.tPB.style.display=y;}}if(!fr){lc();}if(cD!=-1){iQ(1);}if(dW!=0){hI(0);}j('#fc_msg_selector,#fc_conv_selector').html(i(425,"All Conversations")+":");j('#fc_t2').html("<div class='fc_tlk0 fc_tlk_cont' style='"+C.new_messages_box.text.info+"'>"+i(277,'You have no new messages.')+"</div>");j("#fc_t3").html("");j('span.fc_contacts_links').html(hS());j('#fc_contact_selector').html(iZ());if(T==1){gO(0);};fc_chat.close_boxes(1,1);jGo.hooks.doHooks('fcchat_reset_vars');};var nB=function(){if(bo){bo[B]='';bH[B]='';df[B]='';cU[B]='';cN[B]='';bQ[B]='';bR[B]='';bA[B]='';}};this.opfxLoader=function(){if(cs("fc_tglChat")!="off"&&cs(n.user_cookie)!="-1"){if((fm==1&&fT==1)||gU==1){clearTimeout(hj);if(cR==cS){clearTimeout(this.t);clearTimeout(fy);hT();nA();jb();hK('0');gD();this.loader();}else{fU=1;eX=iI(n.startText);this.loader();}}else{fm=1;}}else{clearTimeout(this.t);clearTimeout(hj);clearTimeout(fy);if(l('fc_flaToggle')!=null){l('fc_flaToggle')[B]=''}jb();if(j(".fc_ob1")[0]!=null){if(cs(fk)=="0"){j(".fc_ob").html(fc_chat.toggle_btn(2,1));dR(i(102));}else{if(fm==1){ks(0);}}}fm=1;fT=1;}gU=0;};this.toggle_btn=function(a,b,c){var g;if(a==0){if(b){g="<span class='fc_abbtn' ><a onclick='fc_chat.openPopup();' target=_blank href='"+eu+"' >"+gm+"</a></span>";}else{g="<span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+gm+"</a></span>";}}if(a==1||a==2){var d=(a==1?i(5):i(4));if(b){g="<span class='fc_abbtn' >"+cy+" onClick='fc_chat.toggle_on();return false' >"+d+"</a></span>";}else{g="<span class='fc_abbtn_dis' ><a class='fc_abbtn_disa' >"+d+"</a></span>";}iL(b);}return g;};var iL=function(a){if(a){j('#open_win').html('<a style="font-family:arial;color:#528DC4;text-decoration:none;"  id="open_win_inner" href="javascript:void(0)" onclick="fc_chat.tgl_full_chat(this);return false;">Open ChatCenter Administration Window</a>');}else{j('#open_win').html('Open ChatCenter Administration Window');}};function ls(a){fc_chat.close_boxes();v=l('fc_alertbox');l('fc_alerttxt')[B]=a;document.body.appendChild(v);var b=(bl?kb(j(v)):fD((k.m==0?M.frame[0]:N)));v.style.display=F;v.style.top=(bl?b.y:(b.y+Math.floor((R(N.style.height)+45)/2)-Math.floor(100/2)))+'px';v.style.left=(bl?b.x:(b.x+Math.floor((R(N.style.width)+10)/2)-Math.floor(i(0,0,'alert_dialog_width')/2)))+'px';v.style.zIndex=P+1010;};var lc=function(){j('#fc_alertbox').css("display",y);j('#fc_alerttxt').html("");};this.prepare_disabled_mode=function(){fc_chat.closeVid();kX();if(k.m==1){k.odiv.style.display=y;}if(this.uD!=null){this.uD.style.display=y;if(Q){this.uIF.style.display=y;}}if(k.oD!=null){k.oD.style.display=y;if(Q){k.oIF.style.display=y;}}if(k.tPC!=null){k.tPC.style.display=y;if(Q)k.tPB.style.display=y;}if(bn=='1'){hM(.25);}};this.loader=function(){if(cR==cS){var a=null;try{a=l('fc_sChat');}catch(err){}if(cs(fk)!="0"&&cs(dC)!="1"&&a!=null){hT();lt();if(document.getElementById&&document.getElementsByTagName&&document.createElement){t=true;cj='1';h=new nw();jU();if(k.inSession==1){if(jk==y){ex="1"}for(var b=0;b<22;b++){bm[b]='0';}if(fU=='1'){mu();bm[6]='1';}else{gY='000>';}mL();var c=eT(0);if(c==y){dF='display:'+y;fS=0;}dZ=cs(n.session_cookie).split('>')[0];if(ex!='0'){if((dZ!=null)&&(dZ!="")&&(dZ!="0")){var g=10+dZ.length;k.uid=k.uid+'';var d='.>'+n.chat_id+'000'+g+'1'+k.uid.length+ce(k.uid)+dZ+String.fromCharCode(10);var f=34+gY.length;var o;o='000'+f;d+=o+'2'+ex+jj+gY;ia=d;fT=1;gD();if((bn=='1'||bl)){ls(i(100)+mK)};this.t=setTimeout("fc_chat.begConPre()",1000);}else{ks(-1);}}}}}else{if(a!=null){if(cs(dC)!="1"){j(".fc_ob").html(fc_chat.toggle_btn(2,1));dR(i(102));}else{dR(i(103));}j(".fc_ob1").html(fc_chat.toggle_btn(0,0));}}}else{jU();}};this.begConPre=function(){clearTimeout(this.t);if(FCChatConfig.show_country_flags){var a=eT(13).split('/')[0];if(a!=''){ia+=String.fromCharCode(10)+'00004r'+bL(a,3);}}this.t=setTimeout("fc_chat.begCon()",50);};this.toggleHide=function(){if(l('fc_m1')!=null){l('fc_m1').checked=true;}J(i(134))};var jf=0;this.open_msg_monitor=function(){if(jf==0){u='00002{2';bd();jf=1;}j(bA).html("<div style='margin-top:5px;margin-left:5px;margin-bottom:10px;"+E.info_panel.user_info_css+"'><b>"+i(451,'Message Monitor')+"&nbsp;</b> "+i(452,'All incoming chats (excluding private messages) are funnelled here.')+"</div>"+lx()+"<div id='fc_msg_monitor'></div>");j('#fc_monitor_pg').html('<a style="margin-left:0px;font-weight:bold;'+E.info_panel.link_css+';text-decoration:none" href="javascript:void(0)" onclick="fc_chat.clr_mon()">'+i(273,'Clear')+'</a>');dl=0;this.monitor_state=1;};var kw;var dB={"I":0,"L":0};this.open_page_manager=function(){u='00010{400000000';bd();j(bA).html("<div style='margin-top:5px;margin-left:5px;margin-bottom:10px;"+E.info_panel.user_info_css+"'><b>"+i(453,'Page Discussion Manager')+"</b><form style='margin-left:10px;display:inline' action='./' onsubmit='javascript:fc_chat.clearDisc();return false' id='fc_clearpage' method='get' role='clear'><input id='fc_pageidtext' name='s' onfocus='if(this.value==\""+i(454,'Clear Page (ID goes here)')+"\") this.value=\"\";' onblur='if(this.value==\"\") this.value=\""+i(454,'Clear Page (ID goes here)')+"\";' value='"+i(454,'Clear Page (ID goes here)')+"' style='width: 200px; height: 25px;' type='text'></form><a style='margin-left:10px;font-weight:bold;"+E.info_panel.link_css+";text-decoration:none'href='javascript:void(0)' onclick='fc_chat.clearDisc(1);return false'>"+i(455,'Clear all pages')+"</a></div>"+lx()+"<div id='fc_msg_monitor'></div>");dl=0;k.page_manager_state=1;};var lx=function(){return"<div style='"+E.info_panel.list_divider_css+";margin-bottom:2px' id='fc_monitor_pghdr'><span style='margin-left:5px;"+E.info_panel.user_info_css+"' id='fc_monitor_pg'>"+i(120,'Loading Chat...Please Wait...')+"</span></div>";};var ly=function(a){return(a>0?'<a style="font-weight:bold;'+E.info_panel.link_css+';text-decoration:none"href="javascript:void(0)" onclick="fc_chat.cDisc();return false">&laquo;&laquo; '+i(456,"More")+'</a>&nbsp;<span style="'+E.info_panel.user_info_css+'">('+a+')</span>':'')+'<a style="margin-left:'+(a>0?'10':'0')+'px;font-weight:bold;'+E.info_panel.link_css+';text-decoration:none" href="javascript:void(0)" onclick="fc_chat.clr_man_disc()">'+i(273,'Clear')+'</a><span id="fc_pchat_count" style="margin-left:10px">'+(dB.I-0+dl)+' '+i(457,'Chats')+'</span>';};this.cDisc=function(){u='00010{4'+bL(dB.I,8);bd();j("#fc_monitor_pg").html(i(445,"Loading More Chats..."));};this.clr_mon=function(){j('#fc_msg_monitor').html('');dl=0;};this.clr_man_disc=function(){j('#fc_msg_monitor').html('');dB.I-=0;dB.I+=dl;dl=0;j("#fc_monitor_pg").html(ly(dB.I));return false;};this.clearDisc=function(a){if(!t){if(X!='2'){J(i(458,'Requires administrative privileges'));return false;}var b=l('fc_pageidtext');var c=b.value;var g=i(459,"Are you sure you want to clear this page?");if(!a){b.value='';}else{g=i(460,"Are you sure you want to clear all pages?")}if(a||(c.match(/^\d+$/)&&c-0<99999999)){if(confirm(g)){if(a){u='00002{6';j("#fc_monitor_pg").html(i(461,"Clearing Page(s)..."));}else{u='00010{5'+bL(c,8);j("#fc_monitor_pg").html(i(461,"Clearing Page(s)..."));}bd();j('#fc_msg_monitor').html('');}}else{J(i(462,'Invalid Entry'));}}};var dl=0;var hy=function(a,b,c,g){var d;var f=a.split('>');var o='';if(g&&k.page_manager_state!=2){j("#fc_monitor_pg").html(ly(dB.I));}for(var m=f.length-6;m>0;m=m-6){if(b=='0'){if(h.of[f[m]]=='0'){h.o[f[m]]='1';h.s[f[m]][0]='1';}}dA(f,m,1,0);f[m+1]=h.snm[f[m]];d=' <i class="fc_aside" style="'+fZ+(!g?dF:bz)+'">'+dO(f[m+2],g)+'</i>';var s=true;var r=(s?'1px 0px 3px 37px':'0px 0px 2px 37px');var z=(s?'-37px':'0px');var A='';var q='';var x=nC(f,m,c);if((h.ac[f[m]]!='2'&&X=='1')||X=='2'){A=' <span id="censor'+x+'"'+gZ+'>'+dG+'adminDeleteMsg('+(c?1:0)+','+f[m+4]+','+f[m+5]+',\''+x+'\')" style="'+E.info_panel.link_css+'">'+i(240)+'</a> </span> ';q='onmouseover="fc_chat.toggleCensor(1,\''+x+'\')" onmouseout="fc_chat.toggleCensor(0,\''+x+'\')"';}o+='<div class="fc_monitor'+f[m]+' fc_monitor_cont" id="fc_monitor'+dl+'" '+q+' style="padding:'+r+';text-indent:'+z+';">';var H='<span class="fc_dmu fc_dmu'+f[m]+'" '+(!s?'style="display:none"':'')+'>'+bM(f[m],null,0,1)+' <div class="fc_t2'+f[m]+'" style="'+bz+'">'+fG(f[m],1)+'</div>: </span>';var K=cF(s)+'<span class="msg'+x+'">'+cu(f[m+3],1,10,dl,null,s)+'</span>'+d+A+'<br><span style="'+E.info_panel.info_css+'">'+nD(c,f,m)+'</span></div>';o+='&nbsp;'+H+K;dl++;if(!g){di(l('fc_msg_monitor'),bA,5,o);o='';fC(0);}}if(g==1){if(dB.L!='0'){di(l('fc_msg_monitor'),bA,5,o);}else{j('#fc_msg_monitor').prepend(o);}}j('#fc_pchat_count').html((dB.I-0+dl)+' '+i(457,'Chats'))};var nC=function(a,b,c){return(c?'pg':'r')+'_'+a[b+4]+'_'+a[b+5];};var nD=function(a,b,c){if(a){return" &nbsp;Page id&nbsp; "+b[c+4]+"&nbsp;&nbsp; Page&nbsp; "+nE(kw["P"+b[c+4]][1])+"";}else{return" &nbsp;Room&nbsp; "+D[b[c+4]].nm+"";}};var nE=function(a){var b=(a.length>60?a.substring(0,60)+'...':a);return"<a style='"+E.info_panel.url_css+"' href='"+a+"' target=_blank>"+b+"</a>";};var mV=function(a){dB=a;if(k.page_manager_state>0&&dB.L=='1'){k.page_manager_state=2;}};function mX(a){var b;var c="&nbsp;";var g=0;var d=a[0][0];var f=a;if(fA=='11'){var o=f[1][0].replace(new RegExp("\\n","g"),"<br>");l('configfile').innerHTML="<div style='width:1200px'>"+o+"</div>";return;}l('searchoptions').selectedIndex=0;l('searchtext').disabled=false;l('searchtext').focus();if(d.length==2){b="<small><div style='padding:10px;font-weight:bold'>Search Results - page "+dN+"</div></small><table width=100% cellpadding=6 style='padding:10px;margin-top:5px;border:0px solid #aaaaaa;'>";for(var m=1;m<f.length;m++){var s=f[m][0].split('&');var r='';f[m][0]=bS(s[0]);if(s.length>1){r=s[1];}g++;b+="<tr bgcolor='#f3f3f3''><td><small>"+(g+(dN-1)*50)+") &nbsp;<a style='text-decoration:none' "+bc+"getUserRec("+f[m][1]+")'>"+f[m][0]+"</a>&nbsp;&nbsp;"+(r==''?"":"("+bS(r)+")")+"</small></td></tr>";}}else if(d.length==3){b="<small><div style='padding:10px;'>Blocked IP's - page "+dN+"</div></small><table width=100% cellpadding=6 style='padding:10px;margin-top:5px;border:0px solid #aaaaaa;'>";for(var m=1;m<f.length;m++){g++;b+="<tr bgcolor='#f3f3f3''><td><small>"+(g+(dN-1)*50)+") "+f[m][0]+"&nbsp;&nbsp;&nbsp;<div id='fc_ip"+g+"' style='display:inline'><a style='text-decoration:none' "+bc+"adminBlockIPByName(\""+f[m][0]+"\",0,0,"+g+")'>Unblock</a></div></small></td></tr>";}}else{var z='Words/Phrases to filter from chat text';var A='M';if(fA=='10'){z='Words/Phrases to filter from screen names';A='`';}b="<small><div style='padding:10px;'>"+z+" - page "+dN+"</span></small><table width=100% cellpadding=6 style='padding:10px;margin-top:5px;border:0px solid #aaaaaa;'>";for(var m=1;m<f.length;m++){g++;var q=f[m][0];f[m][0]=f[m][0].replace(/\\/g,'\\\\');f[m][0]=f[m][0].replace(/"/g,'\\"');f[m][0]=f[m][0].replace(/'/g,'&#39;');b+="<tr bgcolor='#f3f3f3''><td><small>"+(g+(dN-1)*50)+") &nbsp;"+cu(q,1)+"&nbsp;&nbsp;&nbsp;<div id='fc_phrase"+g+"' style='display:inline'><a style='text-decoration:none' "+bc+"removeFromWordFilter(\""+f[m][0]+"\","+g+",\""+A+"\")'>Remove</a></div></small></td></tr>"}}if(g==0){c="<small>No Results Found</small>"}else{if(d.charAt(0)=='1'){var x=dN-1;c+="<a href='javascript:fc_chat.search("+fA+","+x+")'><small>&laquo;&laquo; Previous Page</small></a>&nbsp;&nbsp;"}if(d.charAt(1)=='1'){var H=dN+1;c+="<a href='javascript:fc_chat.search("+fA+","+H+")'><small>Next Page &raquo;&raquo;</small></a>&nbsp;&nbsp;"}}b+="<tr bgcolor='#f3f3f3''><td>"+c+"</td></tr></table>";l('searchframe').innerHTML=b};var nF=function(a,b){var c=a.split(",");b=b+'';for(var g=0;g<c.length;g++){if(c[g]==b){return true}};return false};function mY(a){var b;var c=0;var g;var d=a;var f=d[2].split('&');var o='';d[2]=bS(f[0]);if(f.length>1){o=f[1]}if(d[5]=='0'){g='user'}else if(d[5]=='1'){g='moderator'}else{g='administrator'}var m='Offline';var s=d[4];s=s.replace(/%26/g,'&');s=s.replace(/%25/g,'%');s=s.replace(/'/g,'&#39;');if(d[6]==='1'){m='Online'}var r=[];r[0]=(d[7]=='1'?'checked':'');r[1]=(d[7]=='1'?'':'checked');r[2]=(d[8]=='1'?'checked':'');r[3]=(d[8]=='1'?'':'checked');r[4]=(d[5]=='1'?'checked':'');r[5]=(d[5]!='1'?'checked':'');r[12]=(d[5]=='2'?'checked':'');r[13]=(d[5]!='2'?'checked':'');var z="";var A=d[9];for(var q in D){if(D.hasOwnProperty(q)){q=q-0;var x='';var H='';if(nF(A,q)){x='checked'}else{H='checked'}z+="<tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Block chat in "+D[q].nm+":</small></td><td><small>Y</small><input id='arm"+q+"1' type='radio' name='rm"+q+"' value ='1' onclick='fc_chat.adminBlock("+d[1]+",1,\"H\",\""+q+"\",\""+D[q].nm+"\")' "+x+"></td><td><nobr><small>N</small><input id='arm"+q+"0' type='radio' name='rm"+q+"' value ='0' onclick='fc_chat.adminBlock("+d[1]+",0,\"H\",\""+q+"\",\""+D[q].nm+"\")'"+H+"></nobr></td></tr>"}}b="<small><div style='padding:10px;font-weight:bold'>User Administration</div></small><table width=100% cellpadding=6 style='padding:10px;margin-top:5px;border:0px solid #aaaaaa;'><tr bgcolor='#f3f3f3''><td colspan=3><small>User Name: <b>"+d[2]+"</b>&nbsp;"+(o==''?"":"("+bS(o)+")")+"&nbsp;&nbsp;Last IP: <b>"+d[3]+"</b></small></td></tr><tr bgcolor='#f3f3f3''><td colspan=3><small>Account: <b><div id='accountType' style='display:inline'>"+g+"</div></b></small></td></tr><tr bgcolor='#f3f3f3''><td colspan=3><small>Status: (when record Loaded)&nbsp;<b><div id='userStatus' style='display:inline'>"+m+"</div></b></small></td></tr><tr bgcolor='#f3f3f3''><td colspan=3><small>Title: </small><input id='ttlTxt' type='text' name='title' value ='"+s+"'>&nbsp; <input type='button' id='ttlbtn' name='title button' value='Save' OnClick='fc_chat.adminSaveTitle("+d[1]+")'><span style='display:none;margin-left:3px;color:green;font-style:italic' id='savingttl'>Saving...</span></td></tr><tr bgcolor='#f3f3f3''><td colspan=3><small>New Password: </small><br><input id='pwrdtxt' type='password' name='password' value =''>&nbsp; <br><small>Confirm Password</small><br><input id='pwrdtxt2' type='password' name='password' value =''>&nbsp;<input type='button' id='pwrdbtn' name='password button' value='Save' OnClick='fc_chat.adminSavePassword("+d[1]+")'><span style='display:none;margin-left:3px;color:green;font-style:italic' id='savingpwrd'>Saving...</span></td></tr><tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Block chat in all rooms:</small></td><td><small>Y</small><input id='agbl1' type='radio' name='global' value ='1' onClick='fc_chat.adminBlock("+d[1]+",1,\"F\",\"\",\"\")' "+r[0]+"></td><td><nobr><small>N</small><input id='agbl0' type='radio' name='global' value='0' onClick='fc_chat.adminBlock("+d[1]+",0,\"F\",\"\",\"\")' "+r[1]+"></nobr></td></tr><tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Block from private chat:</small></td><td><small>Y</small><input id='aprv1' type='radio' name='private' value ='1' onclick='fc_chat.adminBlock("+d[1]+",1,\"G\",\"\",\"\")' "+r[2]+"></td><td><nobr><small>N</small><input id='aprv0' type='radio' name='private' value ='0' onclick='fc_chat.adminBlock("+d[1]+",0,\"G\",\"\",\"\")' "+r[3]+"></nobr></td></tr>";b+=z;b+="<tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Releases Current Auto-Blocks:</small></td><td colspan=2><input type='button' id='autoblock' name='autoblock' value='Release' OnClick='fc_chat.adminReleaseAutoBlock("+d[1]+")'></td></tr><tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Censor all messages: </small></td><td colspan=2><input id='del1' type='button' name='censor' value ='Censor' OnClick='fc_chat.adminDelAll("+d[1]+")'></td></tr><tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Kick and ban (30 min):</small></td><td colspan=2><input type='button' id='aboot' name='boot' value ='Boot' OnClick='fc_chat.adminBoot("+d[1]+")'></td></tr><tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Block IP for 30 min: (Admin Only)</small></td><td colspan=2><input type='button' id='tipblk' name='block' value ='Block' OnClick='fc_chat.adminBlockIP("+d[1]+",0)'></td></tr><tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Block IP permanently: (Admin Only)</small></td><td colspan=2><input type='button' id='pipblk' name='block' value ='Block' OnClick='fc_chat.adminBlockIP("+d[1]+",1)'></td></tr><tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Promote to Administrator: (Admin Only)</small></td><td><small>Y</small><input id='promo1a' type='radio' name='promoa' value ='1' "+r[12]+" Onclick='fc_chat.adminGrantAdmin("+d[1]+",1)'></td><td><nobr><small>N</small><input id='promo2a' type='radio' name='promoa' value ='0'"+r[13]+" Onclick='fc_chat.adminGrantAdmin("+d[1]+",0)'></nobr></td></tr><tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Promote to Moderator: (Admin Only)</small></td><td><small>Y</small><input id='promo1' type='radio' name='promo' value ='1' "+r[4]+" Onclick='fc_chat.adminGrantMod("+d[1]+",1)'></td><td><nobr><small>N</small><input id='promo2' type='radio' name='promo' value ='0'"+r[5]+" Onclick='fc_chat.adminGrantMod("+d[1]+",0)'></nobr></td></tr><tr bgcolor='#f3f3f3''><td colspan=3>&nbsp;</td></tr></table>";if(X=='2'&&d[5]=='1'){r[6]=(d[13]=='0'?'':'checked');r[7]=(d[13]=='0'?'checked':'');r[8]=(d[14]=='0'?'':'checked');r[9]=(d[14]=='0'?'checked':'');r[10]=(d[15]=='0'?'':'checked');r[11]=(d[15]=='0'?'checked':'');b+="<div id='modprivs' style='display:block'><br><small><div cellpadding=6 style='padding:10px;font-weight:bold'>Moderator Privileges</div></small><table width=100% style='padding:10px;margin-top:5px;border:0px solid #aaaaaa;'><tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Allow Global Message Blocking:</small></td><td><small>Y</small><input  type='radio' id='allowGlb1' name='AllowGlb' value ='1' "+r[6]+" Onclick='fc_chat.adminModPrivileges("+d[1]+",1,1)'></td><td><nobr><small>N</small><input type='radio' id='allowGlb2' name='AllowGlb' value ='0' "+r[7]+" Onclick='fc_chat.adminModPrivileges("+d[1]+",1,0)'></nobr></td></tr><tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Allow Private Message Blocking:</small></td><td><small>Y</small><input  type='radio' id='allowpriv1' name='AllowPriv' value ='1' "+r[8]+" Onclick='fc_chat.adminModPrivileges("+d[1]+",2,1)'></td><td><nobr><small>N</small><input type='radio' id='allowpriv2' name='AllowPriv' value ='0' "+r[9]+" Onclick='fc_chat.adminModPrivileges("+d[1]+",2,0)'></nobr></td></tr><tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Allow Censor all Messages:</small></td><td><small>Y</small><input  type='radio' id='allowDel1' name='AllowDel' value ='1' "+r[10]+" Onclick='fc_chat.adminModPrivileges("+d[1]+",3,1)'></td><td><nobr><small>N</small><input type='radio' id='allowDel2' name='AllowDel' value ='0' "+r[11]+" Onclick='fc_chat.adminModPrivileges("+d[1]+",3,0)'></nobr></td></tr><tr bgcolor='#f3f3f3''><td colspan=3>&nbsp;</td></tr></table></div>"}l('userframe').innerHTML=b;if(X!='2'){l('tipblk').disabled=true;l('pipblk').disabled=true;l('promo1').disabled=true;l('promo2').disabled=true;l('promo1a').disabled=true;l('promo2a').disabled=true;l('ttlTxt').disabled=true;l('ttlbtn').disabled=true;l('pwrdbtn').disabled=true;if(d[5]=='2'){l('agbl1').disabled=true;l('agbl0').disabled=true;l('aprv1').disabled=true;l('aprv0').disabled=true;l('aboot').disabled=true;l('del1').disabled=true;l('autoblock').disabled=true;for(var q in D){if(D.hasOwnProperty(q)){q=q-0;l('arm'+q+'1').disabled=true;l('arm'+q+'0').disabled=true}}}}else{if(d[5]=='2'&&d[1]!=k.uid){if(d[0]!=k.uid){l('pwrdbtn').disabled=true}}if((d[5]=='2'&&d[0]!=k.uid)||d[1]==k.uid){l('promo1a').disabled=true;l('promo2a').disabled=true}if(o==""&&(d[2].substr(0,i(1).length)==i(1)||d[2].indexOf('('+i(1))!=-1)){l('promo1').disabled=true;l('promo2').disabled=true;l('promo1a').disabled=true;l('promo2a').disabled=true}if((d[5]=='2'&&d[0]!=k.uid)&&d[1]!=k.uid){l('tipblk').disabled=true;l('pipblk').disabled=true;l('promo1').disabled=true;l('promo2').disabled=true;l('promo1a').disabled=true;l('promo2a').disabled=true;l('ttlTxt').disabled=true;l('ttlbtn').disabled=true;l('pwrdbtn').disabled=true;if(d[5]=='2'){l('agbl1').disabled=true;l('agbl0').disabled=true;l('aprv1').disabled=true;l('aprv0').disabled=true;l('aboot').disabled=true;l('autoblock').disabled=true;l('del1').disabled=true;for(var q in D){if(D.hasOwnProperty(q)){q=q-0;l('arm'+q+'1').disabled=true;l('arm'+q+'0').disabled=true}}}}}if(d[0]!=k.uid){l('promo1a').disabled=true;l('promo2a').disabled=true}if(d[5]=='2'){l('promo1').disabled=true;l('promo2').disabled=true}if(o!=""||(d[2].substr(0,i(1).length)==i(1)||d[2].indexOf('('+i(1))!=-1)){l('pwrdbtn').disabled=true}if(d[10]=='0'){l('agbl1').disabled=true;l('agbl0').disabled=true}if(d[11]=='0'){l('aprv1').disabled=true;l('aprv0').disabled=true}if(d[12]=='0'){l('del1').disabled=true}};this.search=function(a,b){if(!t&&a!=0){if(X!='0'&&((a!=6&&a!=9&&a!=10)||X=='2')){t=true;var c;var g;if(a==-1){a=0}fA=a;dN=b;var d=String.fromCharCode((a+59));if(a==10){d=String.fromCharCode(95)}if(a==0&&b==1){g=l('searchtext');c=g.value;jQ=c;g.value=''}else{if(a==0){c=jQ}else{c='0'}}c=c.replace(/&/g,'&amp;');c=c.replace(/</g,'&amp;lt;');c=c.replace(/>/g,'&amp;gt;');c=c.replace(/\\/g,'\\\\');if(c.length>0){if(c.length<50){u='000'+(c.length+10);if(b!=1){var f=b.toString();u+=d+f.length+f;for(var o=0;o<8-f.length;o++){u+='0'}}else{u+=d+'110000000'}u+=c;try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}}else{t=false;J('Search is too big (50 chars max).');return}}else{t=false;J('Please enter at least one character!');return}l('searchframe').innerHTML="<center><div style='margin-top:85px'><small><b>Searching...Please Wait.</b></small></div></center>";fc_chat.lockAdmin()}else{t=false;l('searchframe').innerHTML="<div style='margin-top:85px'><small><b>You do not have enough privileges to make this search.</b></small></div>"}}};this.getUserRec=function(a){if(!t&&X!='0'){t=true;var b=a.toString();u='00010E'+b.length+b;for(var c=0;c<8-b.length;c++){u+='0'}try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}l('userframe').innerHTML="<center><div style='margin-top:85px'><small><b>Loading Record...Please Wait.</b></small></div></center>";fc_chat.lockAdmin()}};this.adminSaveTitle=function(a){if(!t&&X=='2'){t=true;var b=l("ttlTxt").value;if(b==''){var c=a.toString();u='00010j'+c.length+c;for(var g=0;g<8-c.length;g++){u+='0'}}else{b=b.replace(/%/g,'%25');b=b.replace(/&/g,'%26amp;');b=b.replace(/</g,'%26lt;');b=b.replace(/>/g,'%26gt;');b=b.replace(/\\/g,'\\\\');if(bF(b)<51){u='000'+(bF(b)+10)}else{t=false;J('Title too big. 50 chars max.');return false}var c=a.toString();u+='i'+c.length+c;for(var g=0;g<8-c.length;g++){u+='0'}u+=b}l('savingttl').style.display="inline";try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}};this.adminBlock=function(a,b,c,g,d){if(!t){if(X!='0'){t=true;var f=a.toString();if(g!=''){d=d.replace(/%/g,'%25');d=d.replace(/&/g,'%26amp;');d=d.replace(/</g,'%26lt;');d=d.replace(/>/g,'%26gt;');d=d.replace(/\\/g,'\\\\');if(d.length>0&&d.length<300){if((bF(d)+17)<100){u='000'+(bF(d)+17)}else{u='00'+(bF(d)+17)}u+=c+b+bL(g,6)+f.length+f;for(var o=0;o<8-f.length;o++){u+='0'}u+=d}else{t=false;return false}}else{u='00011'+c+b+f.length+f;for(var o=0;o<8-f.length;o++){u+='0'}}try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}}else{if(b==0){var m=c.charCodeAt(0);switch(m){case 67:l('agbl1').checked=true;break;case 68:l('aprv1').checked=true;break;case 69:var s=g-0;for(var r=0;r<55;r++){if(s==r){l('arm'+r+'1').checked=true}}break;default:break}}if(b==1){var m=c.charCodeAt(0);switch(m){case 67:l('agbl0').checked=true;break;case 68:l('aprv0').checked=true;break;case 69:var s=g-0;for(var r=0;r<55;r++){if(s==r){l('arm'+r+'0').checked=true}}break;default:break}}}};this.adminDelAll=function(a){if(!t&&X!='0'){t=true;var b=a.toString();if((i(119).length+11)<100){u='000'+(i(119).length+11)}else{u='00'+(i(119).length+11)}u+='I1'+b.length+b;for(var c=0;c<8-b.length;c++){u+='0'}u+=i(119);try{S.jsSendData(u);br=new Date().getTime()}catch(err){t=false;J('An Error Occurred. Please Refresh')}l('del1').disabled=true;setTimeout('fc_chat.adminRelease("del1")',1000);fc_chat.lockAdmin()}};this.admin_clear_room=function(a){if(!t){if(confirm("Are you sure you want to clear this room?")){if(X=='2'){t=true;var b=a-0;var c=D[b].nm;c=c.replace(/%/g,'%25');c=c.replace(/&/g,'%26amp;');c=c.replace(/</g,'%26lt;');c=c.replace(/>/g,'%26gt;');c=c.replace(/\\/g,'\\\\');if(c.length>0&&c.length<300){if((bF(c)+7)<10){u='0000'+(bF(c)+7)}else if((bF(c)+7)<100){u='000'+(bF(c)+7)}else{u='00'+(bF(c)+7)}}else{t=false;return false}u+='^'+bL(b,6)+c;try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}}}};this.adminReleaseAutoBlock=function(a){if(!t&&X!='0'){t=true;var b=a.toString();u='00010O'+b.length+b;for(var c=0;c<8-b.length;c++){u+='0'}try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}l('autoblock').disabled=true;setTimeout('fc_chat.adminRelease("autoblock")',1000);fc_chat.lockAdmin()}};this.adminGetConfig=function(){if(!t&&X=='2'){t=true;fA='11';u='00001b';l('configfile').innerHTML=" Loading...Please Wait.";try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}};this.adminReboot=function(){if(!t&&X=='2'){if(confirm("Are you sure you want to reboot the chat server?")){t=true;u='00001a';try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}}};this.adminBoot=function(a){if(!t&&X!='0'){t=true;var b=a.toString();var c=b.length+ce(b);u='00010N'+c;bd();u='00012K12'+c;bd();u='00010N'+b.length+b;l('aboot').disabled=true;setTimeout('fc_chat.adminRelease("aboot")',1000);fc_chat.lockAdmin()}};this.adminBlockIP=function(a,b){if(!t&&X=='2'){t=true;var c=a.toString();u='00012K1'+b+c.length+c;for(var g=0;g<8-c.length;g++){u+='0'}try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}var d=(b==0?'tipblk':'pipblk');l(d).disabled=true;setTimeout('fc_chat.adminRelease("'+d+'")',1000);fc_chat.lockAdmin()}};this.adminBlockIPByName=function(a,b,c,g){if(!t&&X=='2'){t=true;u='000'+(a.length+3)+'L'+b+c+a;try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}if(b==0){l('fc_ip'+g).innerHTML="<font color=red>**Unblocked**</font>"}fc_chat.lockAdmin()}};this.addToWordFilter=function(a){if(!t&&X=='2'){t=true;var b=l(a).value;l(a).value='';b=b.replace(/%/g,'%25');b=b.replace(/&/g,'%26amp;');b=b.replace(/</g,'%26lt;');b=b.replace(/>/g,'%26gt;');b=b.replace(/\\/g,'\\\\');if(b.length==0){t=false;J('Please enter at least one character.');return false}if(bF(b)<51){if((bF(b)+2)<10){u='0000'+(bF(b)+2)}else{u='000'+(bF(b)+2)}}else{t=false;J('Phrase too big. About 50 chars max.');return false}var c='M';if(a=='filteruser'){c='`'}u+=c+'1'+b;try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}};this.removeFromWordFilter=function(a,b,c){if(!t&&X=='2'){t=true;l('fc_phrase'+b).innerHTML="<font color=red>**Removed**</red>";a=a.replace(/\\"/g,'"');a=a.replace(/%/g,'%25');a=a.replace(/&lt;/g,'%26lt;');a=a.replace(/&gt;/g,'%26gt;');a=a.replace(/&amp;/g,'%26amp;');a=a.replace(/\\/g,'\\\\');if(bF(a)<51){if((bF(a)+2)<10){u='0000'+(bF(a)+2)}else{u='000'+(bF(a)+2)}}else{t=false;return false}u+=c+'0'+a;try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}};this.adminBlockIPButton=function(){if(!t&&X=='2'){if(l('ip1').value==''||l('ip2').value==''||l('ip3').value==''||l('ip4').value==''){J('Invalid IP');return false}else{var a=l('ip1').value+'.'+l('ip2').value+'.'+l('ip3').value+'.'+l('ip4').value;fc_chat.adminBlockIPByName(a,1,1);l('ip1').value='';l('ip2').value='';l('ip3').value='';l('ip4').value='';l('bip').disabled=true;setTimeout('fc_chat.adminRelease("bip")',1000)}fc_chat.lockAdmin()}return false};this.adminGrantAdmin=function(a,b){setTimeout("fc_chat.adminGrantAdmin2("+a+","+b+")",50)};this.adminGrantAdmin2=function(a,b){if(!t){if(X=='2'){t=true;var c=a.toString();u='00011l'+b+c.length+c;for(var g=0;g<8-c.length;g++){u+='0'}try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}if(b==1){l('accountType').innerHTML="Administrator";l('promo1a').checked=true;l('promo2').checked=true;l('promo1').disabled=true;l('promo2').disabled=true;if(l('modprivs')!=null){l('modprivs').style.display='none'}}else{l('accountType').innerHTML="User";l('promo1').disabled=false;l('promo2').disabled=false;if(l('modprivs')!=null){l('modprivs').style.display='none'}}fc_chat.lockAdmin()}}else{if(b==1){l('promo2a').checked=true}else{l('promo1a').checked=true}}};this.adminGrantMod=function(a,b){setTimeout("fc_chat.adminGrantMod2("+a+","+b+")",50)};this.adminGrantMod2=function(a,b){if(!t){if(X=='2'){t=true;var c=a.toString();u='00011P'+b+c.length+c;for(var g=0;g<8-c.length;g++){u+='0'}try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}if(b==1){l('accountType').innerHTML="Moderator";if(l('modprivs')==null){l('userframe').innerHTML+="<div id='modprivs' style='display:block'><br><small><div style='padding:10px;font-weight:bold'>Moderator Privileges</div></small><table width=100% style='padding:10px;margin-top:5px;border:0px solid #aaaaaa;'><tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Allow Global Message Blocking:</small></td><td><small>Y</small><input  type='radio' id='allowGlb1' name='AllowGlb' value ='1' checked Onclick='fc_chat.adminModPrivileges("+a+",1,1)'></td><td><nobr><small>N</small><input type='radio' id='allowGlb2' name='AllowGlb' value='0' Onclick='fc_chat.adminModPrivileges("+a+",1,0)'></nobr></td></tr><tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Allow Private Message Blocking:</small></td><td><small>Y</small><input  type='radio' id='allowpriv1' name='AllowPriv' value ='1' checked Onclick='fc_chat.adminModPrivileges("+a+",2,1)'></td><td><nobr><small>N</small><input type='radio' id='allowpriv2' name='AllowPriv' value ='0' Onclick='fc_chat.adminModPrivileges("+a+",2,0)'></nobr></td></tr><tr bgcolor='#f3f3f3''><td bgcolor='#f3f3f3''><small>Allow Censor all Messages:</small></td><td><small>Y</small><input  type='radio' id='allowDel1' name='AllowDel' value ='1' checked Onclick='fc_chat.adminModPrivileges("+a+",3,1)'></td><td><nobr><small>N</small><input type='radio' id='allowDel2' name='AllowDel' value ='0' Onclick='fc_chat.adminModPrivileges("+a+",3,0)'></nobr></td></tr><tr bgcolor='#f3f3f3''><td colspan=3>&nbsp;</td></tr></table></div>"}else{l('modprivs').style.display='block';l('allowGlb1').checked=true;l('allowpriv1').checked=true;l('allowDel1').checked=true}l('promo1').checked=true}else{l('accountType').innerHTML="User";l('modprivs').style.display='none'}fc_chat.lockAdmin()}}else{if(b==1){l('promo2').checked=true}else{l('promo1').checked=true}}};this.adminModPrivileges=function(a,b,c){if(!t){if(X=='2'){t=true;var g=a.toString();u='00012Q'+c+b+g.length+g;for(var d=0;d<8-g.length;d++){u+='0'}try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}}else{if(b==1){if(c==1){l('allowGlb2').checked=true}else{l('allowGlb1').checked=true}}else if(b==2){if(c==1){l('allowpriv2').checked=true}else{l('allowpriv1').checked=true}}else{if(c==1){l('allowdel2').checked=true}else{l('allowdel1').checked=true}}}};this.adminSavePassword=function(a){if(!t&&X=='2'){t=true;var b=l('pwrdtxt').value;var c=l('pwrdtxt2').value;l('pwrdtxt').value='';l('pwrdtxt2').value='';if(b!=c){t=false;J('Passwords do not match.');return false}var g=false;if(b.length>2&&b.length<16){if(!jE.test(b)){g=true}}if(!g){t=false;J('Room passwords must be between 3 and 15 characters. Letters, numbers, and underscores only.');return false}var d=a.toString();u='00042m'+d.length+d;for(var f=0;f<8-d.length;f++){u+='0'}u+=jGo.MD5.hex_md5(b);try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}if(a==k.uid){ix=jGo.MD5.hex_md5(b)}l('savingpwrd').style.display="inline";fc_chat.lockAdmin()}};this.adminUpdateConfigField=function(q){if(!t&&X=='2'){var x="Reminder: If you update 'showTyping' or 'useAvatars' here, you must also update the corresponding variable in the client configuration file: FCChat/config/config.js. Refer to the product manual for more info.";if(q=='3'){x="Warning: You should not change this setting unless you have been explicitly instructed to do so, as it may affect the operation of the chat. Do you want to continue?"};if(q=='2'||q=='4'||q=='5'||confirm(x)){if(q=='2'||q=='1'||q=='0'||q=='5'){t=true;var H=q;var K=R(l('configvalue'+q).selectedIndex)-1;l('configvalue'+q).selectedIndex=0;if(K==-1){t=false;J('You must specify a value.');return}u='00003';u+='c'+H+K;try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}if(q=='3'){t=true;var L='';L=l('configvalue3').value;l('configvalue3').value='';if(L.length>512){t=false;J('Key is a bit too long. 512 chars max');return}if(L.length<4){t=false;J('Key is too short. 4 chars min');return}var O=L.length+11;u='';if(O.length>100){u+='00'+O}else{u+='000'+O}var I=L.length;if(L.length<10){I='00'+I}else if(L.length<100){I='0'+I}u+='c3000000'+I+''+L;try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}if(q=='4'){t=true;var bf='';bf=l('adminname').value;l('adminname').value='';if(bf.length>512){t=false;J('Name is a bit too long. 512 chars max');return}if(bf.length<1){t=false;J('Please enter the name of the account you wish to use as an administrator.');return}var bi=0;var be=['','checkLength(room)','checkLength(room)','PHPbb','SMF','Drupal','joomla','MyBB'];var bJ=["","../proxies/fcchat_wordpress_proxy.php","../proxies/fcchat_wordpress_proxy2.php","../proxies/fcchat_phpbb3_proxy.php","../proxies/fcchat_smf_proxy.php","../proxies/drupal.php","../proxies/joomla.php","../proxies/mybb.php"];bi=R(l('configvalue'+q).selectedIndex);l('configvalue'+q).selectedIndex=0;if(bi==0){t=false;J('You must specify a value for CMS Type.');return}j.post(bJ[bi],{f:0},function(a){var b='';var c=a.split("<fcchatresponse>");if(c.length>1){b=c[1]}if(b==''){t=false;J("Cannot continue because you are not currently logged in to "+be[bi]+". Plese log in to "+be[bi]+" with the account you wish to use for fcchat administration.");return}else{var g=b.split('&');var d=g[0];var f=g[1];var o='';b=b.substr(d.length+f.length+2);var m=parseInt(b.substr(0,3),10);var s=b.substr(3,m);if(s.toLowerCase()!=bf.toLowerCase()){t=false;J("The account name you provided does not match the "+be[bi]+" account you are currently logged under.");return}var r=bF(s);var z=d.length;var A=r+z+11;u='';if(A.length>1000){u+='0'+A}else if(A.length>100){u+='00'+A}else{u+='000'+A}if(r<10){r='00'+r}else if(r<100){r='0'+r}if(d.length<10){z='0'+z}u+='c30'+r+''+z+'000'+s+d;try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}},"html").error(function(a){t=false;J("Cannot continue because you are not currently logged in to "+be[bi]+". Plese log in to "+be[bi]+" with the account you wish to use for fcchat administration.");return})}}}};this.adminSetConsoleMode=function(){if(!t&&X=='2'){t=true;var a=l('console_mode').value;var b=l('chat_id').value;if(b==''){b='0000000000000000'};u='00018d'+a+b;try{S.jsSendData(u);br=new Date().getTime()}catch(err){J('An Error Occurred. Please Refresh')}fc_chat.lockAdmin()}};this.admin_delete_room=function(a){if(!t){if(confirm("Are you sure you want to delete this room?")){t=true;u='00007k'+bL(a,6);try{S.jsSendData(u);br=new Date().getTime()}catch(err){bo[B]=fv}fc_chat.lockAdmin()}}};this.admin_create_edit_room=function(a,b){if(!t){var c=0;if(a==0){for(var g in D){if(D.hasOwnProperty(g)){c++}}}else{var d=ff;if(d!=b){while(true){c++;ind=D[d].next;if(ind==b){break}d=ind}}}var f=E.edit_room_panel;var o=(a==1?D[b].nm:'');o=o.replace(/'/g,'&#39;');var m=(a==1?D[b].dsc:'');m=m.replace(/'/g,"&#39;");var s=(a==1?D[b].lg:'');s=s.replace(/'/g,"&#39;");var r='checked';var z='';if(a==1&&D[b].v){z='checked';r=''}if(a!=1){b=0}var A="<div id='fc_passbox'><table cellpadding='3' style='padding:5px;margin-left:10px;margin-right:15px;margin-top:20px'><tr><td ><div><font id='fc_passtxt' style='"+f.font.title_css+"'>"+(a==1?"Edit":"Create")+" Room.</font><br><br></div></td></tr><tr><td><div><input id='fc_roomname' value='"+o+"' type=text name=name style='width:240px;"+f.textfield_css+"' maxlength='50'>&nbsp;<span style='"+f.font.textfield_description_css+"'>Room Name</span><br><br></div></td></tr><tr><td><div><input id='fc_roomdesc' value='"+m+"' type=text name=desc style='width:300px;"+f.textfield_css+"' maxlength='300'>&nbsp;<span style='"+f.font.textfield_description_css+"'>Room Description</span><br><br></div></td></tr><tr><td><div><input id='fc_roomlogo' value='"+s+"' type=text name=logo style='width:300px;"+f.textfield_css+"' maxlength='300'>&nbsp;<span style='"+f.font.textfield_description_css+"'>Room Logo (Enter full url)</span><br><br></div></td></tr><tr><td><div><input id='fc_roompass' type=password name=password style='width:120px;"+f.textfield_css+"' maxlength='15'>&nbsp;<span style='"+f.font.textfield_description_css+"'>Room Password</span><br><font id='fc_pswrdtxt' style='"+f.font.smalltext_css+"'>Leave blank if no password.</font><br><br></div></td></tr>"+(b!=ff?"<tr><td><div><input id='fc_roomindex' onKeyPress='return numbersonly(this, event)' type=text name=index style='width:120px;"+f.textfield_css+"' value='"+c+"' maxlength='2'>&nbsp;<span style='"+f.font.textfield_description_css+"'>Room Index</span><br><font id='fc_pswrdtxt' style='"+f.font.smalltext_css+"'>Position below first room: 1,2,3,etc.</font><br><br></div></td></tr>":"")+"<tr><td><div id='fc_allow_video' style='width:300px;height:20px;"+f.font.textfield_description_css+"'>Allow Video:&nbsp;&nbsp;&nbsp;&nbsp;<INPUT TYPE=radio  id='fc_allowvideo1' name='DTM' "+r+" VALUE='1'>yes&nbsp;&nbsp;<INPUT TYPE=radio  id='fc_allowvideo2' name='DTM' "+z+" VALUE='0'>no</div></td></tr><tr><td><br><input type=button id='fc_renter' name='Submit' value='"+(a==1?'Edit':'Create')+"' style='font-size:7pt' onclick='fc_chat.admin_validate_room(\""+b+"\")'>&nbsp;<input type=button id='fc_rexit' name='Exit' value='Cancel' onclick='fc_chat.tgl_info_panel()' style='font-size:7pt'></nobr><br><br></div></td></tr></table></div>";bA[B]=A}};this.admin_validate_room=function(a){if(!t){t=true;l('fc_passtxt')[B]="Please wait.";l('fc_renter').disabled=true;l('fc_rexit').disabled=true;var b=(l('fc_roompass')?l('fc_roompass').value:'');if(l('fc_roompass')){l('fc_roompass').value=''}var c=false;if(b==''){c=true}if(b.length>2&&b.length<16){if(!jE.test(b)){c=true}}if(!c){t=false;l('fc_passtxt')[B]='Room passwords must be between 3 and 15 characters. Letters, numbers, and underscores only.';l('fc_renter').disabled=false;l('fc_rexit').disabled=false;return false}var g=l('fc_roomname').value;l('fc_roomname').value='';if(g.length>0&&g.length<=50){g=g.replace(/%/g,'%25');g=g.replace(/&/g,'%26amp;');g=g.replace(/</g,'%26lt;');g=g.replace(/>/g,'%26gt;');g=g.replace(/\\/g,'\\\\');g=g.replace(/"/g,'\"')}else{l('fc_passtxt')[B]="Room names must be between 1 and 50 chars.";t=false;l('fc_renter').disabled=false;l('fc_rexit').disabled=false;return false}var d=l('fc_roomdesc').value;l('fc_roomdesc').value='';if(d.length<=300){d=d.replace(/%/g,'%25');d=d.replace(/&/g,'%26amp;');d=d.replace(/</g,'%26lt;');d=d.replace(/>/g,'%26gt;');d=d.replace(/\\/g,'\\\\');d=d.replace(/"/g,'\\"')}else{l('fc_passtxt')[B]="Room descriptions must be less than 300 chars.";t=false;l('fc_renter').disabled=false;l('fc_rexit').disabled=false;return}var f=l('fc_roomlogo').value;l('fc_roomlogo').value='';if(f.length<=300){f=f.replace(/%/g,'%25');f=f.replace(/&/g,'%26amp;');f=f.replace(/</g,'%26lt;');f=f.replace(/>/g,'%26gt;');f=f.replace(/\\/g,'\\\\');f=f.replace(/"/g,'\\"')}else{l('fc_passtxt')[B]="Room logo urls must be less than 300 chars.";t=false;l('fc_renter').disabled=false;l('fc_rexit').disabled=false;return}var o=(l('fc_roomindex')?l('fc_roomindex').value:0);var m=(a==0?"true":"false");o=Math.min(R(o),199);var s=(l('fc_allowvideo1').checked?'false':'true');var r='{"create":'+m+',"id":'+a+',"pos":'+o+',"video_disabled":'+s+',"nm":"'+g+'","desc":"'+d+'","logo":"'+f+'","pwd":"'+b+'"}';var z=bF(r)+1;u=bL(z)+']'+r;try{S.jsSendData(u);br=new Date().getTime()}catch(err){bo[B]=fv}bm[7]='1';fc_chat.lockAdmin()}};this.adminRelease=function(a){l(a).disabled=false};this.lockAdmin=function(){l('leftframecover').style.display="block";l('bip').disabled=true;l('reboot').disabled=true;l('getconfig').disabled=true;l('setconfigvalue0').disabled=true;l('setconfigvalue1').disabled=true;l('setconfigvalue2').disabled=true;l('configvalue3').disabled=true;l('setconfigvalue4').disabled=true;l('setconfigvalue5').disabled=true;l('searchtext').disabled=true;l('searchoptions').disabled=true;l('filterchat').disabled=true;l('filteruser').disabled=true;iL();hl=true};this.deleteMsg=function(a,b){var c;if(a==cd[6]-1){c=b}else if(a!=0){c=cb-(ba[1]+a*50-b)}else{c=cb-(G[1]-b)}adminDeleteRoomMsg(a,c,b,bg)};this.adminDeleteMsg=function(a,b,c,g){if(a){adminDeletePageMsg(c,g,b)}else{adminDeleteRoomMsg(0,c,g,b)}};adminDeleteRoomMsg=function(a,b,c,g){if(!t){if(X!='0'){t=true;if((i(119).length+24)<100){u='000'+(i(119).length+24)}else{u='00'+(i(119).length+24)}var d=b.toString();u+='J'+bL(g,6)+d.length+ce(d);u+='{{^^!^}}'+i(119);bd();var f=(a==0?'':'p');l(f+'censor'+c).innerHTML="<font style='color:"+Y.font.color.censored_color+"'>"+i(437,"Censored")+"</font> "}}};adminDeletePageMsg=function(a,b,c){if(!t){if(X!='0'){t=true;if((i(119).length+27)<100){u='000'+(i(119).length+27)}else{u='00'+(i(119).length+27)}var g=a.toString();u+='{3'+bL(c,8)+g.length+ce(g);u+='{{^^!^}}'+i(119);bd();var d='';l(d+'censor'+b).innerHTML="<font style='color:"+Y.font.color.censored_color+"'>"+i(437,"Censored")+"</font> "}}};this.kick=function(a){if(!t&&X!='0'){if(W['u1'])W['u1'].hide();W['mod'].hide();if(bn==0&&!cO){fc_chat.tgl_messages(ef)}t=true;var b=a.toString();var c=b.length+ce(b);u='00010N'+c;bd();u='00012K12'+c;bd()}};this.blockip=function(a){if(!t&&X=='2'){if(W['u1'])W['u1'].hide();W['mod'].hide();if(bn==0&&!cO){fc_chat.tgl_messages(ef)}t=true;var b=a.toString();var c=b.length+ce(b);u='00010N'+c;bd();u='00012K10'+c;bd()}};window['jsOnSuccess']=this.jsOnSuccess;window['jsOnFailure']=this.jsOnFailure;window['jsOnClose']=this.jsOnClose;window['jsOnData']=this.jsOnData;window['fcc_createSounds']=this.createSounds};fcchat.prototype=jGo.UI;var fc_chat=new fcchat();fc_chat.init();